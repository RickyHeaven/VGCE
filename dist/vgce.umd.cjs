(function(i,r){typeof exports=="object"&&typeof module<"u"?r(exports,require("vue"),require("element-plus"),require("animate.css"),require("vue-echarts"),require("pinia"),require("lodash-es"),require("ace-builds")):typeof define=="function"&&define.amd?define(["exports","vue","element-plus","animate.css","vue-echarts","pinia","lodash-es","ace-builds"],r):(i=typeof globalThis<"u"?globalThis:i||self,r(i.VGCE={},i.Vue,i.elementPlus,null,i.VChart,i.Pinia,i.lodashEs,i.ace))})(this,function(exports,vue,elementPlus,animate_css,VChart,pinia$1,lodashEs,ace){"use strict";const windi="";if(typeof window<"u"){let i=function(){var r=document.body,n=document.getElementById("__svg__icons__dom__");n||(n=document.createElementNS("http://www.w3.org/2000/svg","svg"),n.style.position="absolute",n.style.width="0",n.style.height="0",n.id="__svg__icons__dom__",n.setAttribute("xmlns","http://www.w3.org/2000/svg"),n.setAttribute("xmlns:link","http://www.w3.org/1999/xlink")),n.innerHTML=`<symbol class="icon" viewBox="0 0 1024 1024"   id="svg-alert-light">\r
    <path d="M779.7248 452.1984c0-123.904-103.8848-224.3584-232.0384-224.3584S315.648 328.2944 315.648 452.1984c0 89.3952 54.1184 166.5536 132.4032 202.6496 0.3072 0.1536 0.6144 0.3072 0.9728 0.4096v63.488h197.376v-63.5392c78.7456-35.7888 133.3248-113.2032 133.3248-203.008z" p-id="1733" />\r
    <path d="M535.5008 234.7008s147.3536 98.7648 144.7424 233.984c0 72.9088-84.2752 145.4592-108.4416 157.184 0 52.9408 0.512 90.2144 0.512 90.2144l27.4432 2.7136 5.6832-63.5392 79.616-55.9616 53.7088-113.5616-11.776-104.1408-36.9152-73.3184-79.7696-56.832-74.8032-16.7424z" fill="#888" fill-opacity=".2" p-id="1734" />\r
    <path d="M605.3888 729.0368H408.0128c-5.632 0-10.24-4.608-10.24-10.24v-57.0368c-76.9024-37.5296-127.6416-111.7696-132.864-195.0208-0.3584-5.632 3.9424-10.496 9.5744-10.8544 5.6832-0.3072 10.496 3.9424 10.8544 9.5744 4.9152 77.5168 53.1968 146.5344 126.0032 180.0704l0.9216 0.4096c3.6352 1.6896 5.9392 5.3248 5.9392 9.3184v53.2992h176.896v-53.2992c0-3.9936 2.3552-7.68 5.9904-9.3184 77.3632-35.2256 127.3344-111.2576 127.3344-193.7408 0-118.0672-99.4816-214.1184-221.7984-214.1184-64.6656 0-125.952 27.1872-168.192 74.5472-3.7888 4.1984-10.24 4.608-14.4384 0.8192-4.1984-3.7888-4.608-10.24-0.8192-14.4384 46.08-51.712 112.9984-81.408 183.5008-81.408 133.5808 0 242.2784 105.216 242.2784 234.5984 0 88.32-52.1216 169.8816-133.3248 209.5616v57.0368c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#010101" fill-opacity="1" p-id="1735" />\r
    <path d="M277.4528 427.8784c-0.5632 0-1.0752-0.0512-1.6384-0.1536a10.25024 10.25024 0 0 1-8.4992-11.7248c3.4816-21.8624 10.1888-43.0592 19.8144-63.0784 2.4576-5.12 8.6016-7.2192 13.6704-4.7616 5.0688 2.4576 7.2192 8.6016 4.7616 13.6704-8.8064 18.176-14.848 37.5296-18.0224 57.3952-0.8192 5.0688-5.1712 8.6528-10.0864 8.6528z" fill="#010101" fill-opacity="1" p-id="1736" />\r
    <path d="M606.4128 954.5728H478.3104c-39.5264 0-71.5776-32.0512-71.5776-71.5776v-164.1984h271.2576v164.1984c0 39.5776-32.0512 71.5776-71.5776 71.5776z" fill="#58DDDA" fill-opacity="1" p-id="1737" />\r
    <path d="M573.7472 724.9408v178.432s3.9424 38.7072-31.3856 51.2512c51.968 0 99.328-3.1744 99.328-86.528v-143.1552h-67.9424z" fill="#3BCCC8" fill-opacity="1" p-id="1738" />\r
    <path d="M570.1632 964.8128H442.0608c-45.1072 0-81.8176-36.7104-81.8176-81.8176v-164.1984c0-5.632 4.608-10.24 10.24-10.24h271.2576c5.632 0 10.24 4.608 10.24 10.24v164.1984c0 45.1584-36.7104 81.8176-81.8176 81.8176z m-189.44-235.776v153.9584c0 33.792 27.4944 61.3376 61.3376 61.3376h128.1024c33.792 0 61.3376-27.4944 61.3376-61.3376v-153.9584H380.7232z" fill="#010101" fill-opacity="1" p-id="1739" />\r
    <path d="M525.2608 175.0528c-16.9472 0-30.72-13.7728-30.72-30.72V92.5696c0-16.9472 13.7728-30.72 30.72-30.72s30.72 13.7728 30.72 30.72v51.7632c0 16.9472-13.7216 30.72-30.72 30.72zM361.4208 215.5008c-10.752 0-21.1968-5.632-26.8288-15.6672l-25.344-45.1072c-8.2944-14.7968-3.072-33.536 11.7248-41.8304s33.4848-3.072 41.8304 11.7248l25.344 45.1072c8.2944 14.7968 3.072 33.536-11.7248 41.8304-4.7104 2.6624-9.8816 3.9424-15.0016 3.9424zM246.3744 337.2032c-5.3248 0-10.7008-1.3824-15.5648-4.2496l-44.544-26.3168c-14.592-8.6016-19.456-27.4432-10.8544-42.0864 8.6016-14.592 27.4944-19.456 42.0864-10.8544l44.544 26.3168c14.592 8.6016 19.456 27.4432 10.8544 42.0864a30.91968 30.91968 0 0 1-26.5216 15.104zM199.2704 499.5584h-0.2048l-51.7632-0.3072a30.71488 30.71488 0 0 1-30.5152-30.9248c0.1024-16.896 13.824-30.5152 30.72-30.5152h0.2048l51.7632 0.3072c16.9472 0.1024 30.6176 13.9264 30.5152 30.9248-0.1024 16.896-13.824 30.5152-30.72 30.5152zM198.3488 687.2064a30.69952 30.69952 0 0 1-15.7184-57.088l44.4928-26.4704c14.592-8.704 33.4336-3.8912 42.0864 10.7008 8.6528 14.592 3.8912 33.4336-10.7008 42.0864l-44.4928 26.4704c-4.9152 2.9184-10.3424 4.3008-15.6672 4.3008zM688.0256 215.5008c-5.12 0-10.24-1.28-15.0016-3.9424a30.67904 30.67904 0 0 1-11.7248-41.8304l25.344-45.1072c8.2944-14.7968 27.0336-20.0192 41.8304-11.7248a30.67904 30.67904 0 0 1 11.7248 41.8304l-25.344 45.1072a30.7712 30.7712 0 0 1-26.8288 15.6672zM803.072 337.2032c-10.496 0-20.736-5.376-26.4704-15.104-8.6528-14.592-3.7888-33.4336 10.8032-42.0864l44.544-26.3168a30.76096 30.76096 0 0 1 42.0864 10.8032c8.6528 14.592 3.7888 33.4336-10.8032 42.0864l-44.544 26.3168c-4.9152 2.9184-10.2912 4.3008-15.616 4.3008zM850.176 499.5584c-16.896 0-30.6176-13.6192-30.72-30.5152-0.1024-16.9472 13.568-30.8224 30.5152-30.9248l51.7632-0.3072h0.2048c16.896 0 30.6176 13.6192 30.72 30.5152 0.1024 16.9472-13.568 30.8224-30.5152 30.9248l-51.7632 0.3072h-0.2048zM851.0976 687.2064c-5.3248 0-10.752-1.3824-15.6672-4.3008l-44.4928-26.4704c-14.592-8.6528-19.3536-27.5456-10.7008-42.0864a30.65344 30.65344 0 0 1 42.0864-10.7008l44.4928 26.4704a30.69952 30.69952 0 1 1-15.7184 57.088z" p-id="1740" />\r
    <path d="M504.7808 185.2928c-22.5792 0-40.96-18.3808-40.96-40.96V92.5696c0-22.5792 18.3808-40.96 40.96-40.96s40.96 18.3808 40.96 40.96v51.7632c0 22.5792-18.3808 40.96-40.96 40.96z m0-113.2032c-11.3152 0-20.48 9.1648-20.48 20.48v51.7632c0 11.3152 9.1648 20.48 20.48 20.48s20.48-9.1648 20.48-20.48V92.5696c0-11.264-9.1648-20.48-20.48-20.48zM340.9408 225.7408c-14.7968 0-28.5184-7.9872-35.7376-20.8896l-25.344-45.1072a40.77568 40.77568 0 0 1-3.7376-31.1296 40.4992 40.4992 0 0 1 19.4048-24.6272c19.712-11.0592 44.6976-4.0448 55.7568 15.6672l25.344 45.1072c5.376 9.5232 6.656 20.5824 3.7376 31.1296a40.4992 40.4992 0 0 1-19.4048 24.6272 41.3952 41.3952 0 0 1-20.0192 5.2224z m-25.3952-106.5472c-3.3792 0-6.8096 0.8192-9.984 2.6112-4.7616 2.6624-8.192 7.0656-9.6768 12.3392a20.3776 20.3776 0 0 0 1.8432 15.5648l25.344 45.1072a20.55168 20.55168 0 0 0 17.8688 10.4448c3.4816 0 6.9632-0.9216 9.984-2.6112 4.7616-2.6624 8.192-7.0656 9.6768-12.3392a20.3776 20.3776 0 0 0-1.8432-15.5648l-25.344-45.1072a20.39296 20.39296 0 0 0-17.8688-10.4448zM225.8944 347.4432a40.8064 40.8064 0 0 1-20.7872-5.6832l-44.544-26.3168a40.64256 40.64256 0 0 1-18.8416-25.0368c-2.7136-10.5984-1.1776-21.6064 4.4032-31.0272a40.64256 40.64256 0 0 1 25.0368-18.8416c10.5984-2.7136 21.6064-1.1776 31.0272 4.4032l44.544 26.3168a40.64256 40.64256 0 0 1 18.8416 25.0368c2.7136 10.5984 1.1776 21.6064-4.4032 31.0272a41.15456 41.15456 0 0 1-35.2768 20.1216z m-44.4928-87.7568c-1.6896 0-3.4304 0.2048-5.12 0.6656-5.3248 1.3824-9.728 4.7104-12.544 9.4208-2.7648 4.7104-3.584 10.24-2.2016 15.5136 1.3824 5.2736 4.7104 9.728 9.4208 12.544l44.544 26.3168c3.1744 1.8432 6.7584 2.8672 10.3936 2.8672 7.2192 0 13.9776-3.84 17.664-10.0864 2.7648-4.7104 3.584-10.24 2.2016-15.5136-1.3824-5.2736-4.7104-9.728-9.4208-12.544l-44.544-26.3168c-3.2256-1.9456-6.7584-2.8672-10.3936-2.8672zM178.7904 509.7984h-0.2048l-51.8144-0.3072c-22.5792-0.1536-40.8576-18.6368-40.704-41.216 0.1536-22.4256 18.5344-40.704 40.96-40.704l52.0192 0.3072c22.5792 0.1536 40.8576 18.6368 40.704 41.216-0.1024 22.4768-18.4832 40.704-40.96 40.704zM127.1808 448.0512a20.47488 20.47488 0 1 0-0.2048 40.96l51.7632 0.3072 0.1536 10.24v-10.24a20.47488 20.47488 0 1 0 0.1024-40.96l-51.8144-0.3072zM177.8688 697.4464c-14.3872 0-27.904-7.68-35.2256-20.0192a41.01632 41.01632 0 0 1 14.2336-56.1664l44.4928-26.4704a40.9088 40.9088 0 0 1 31.0272-4.5056c10.5984 2.7136 19.5072 9.3696 25.088 18.7392a41.01632 41.01632 0 0 1-14.2336 56.1664l-44.4928 26.4704a40.77568 40.77568 0 0 1-20.8896 5.7856z m44.3904-87.9104c-3.6352 0-7.2192 0.9728-10.4448 2.8672l-44.4928 26.4704c-4.7104 2.816-8.0384 7.2704-9.3696 12.544a20.3264 20.3264 0 0 0 2.2528 15.5136 20.4288 20.4288 0 0 0 17.6128 10.0352c3.6352 0 7.2704-0.9728 10.4448-2.8672l44.4928-26.4704c4.7104-2.816 8.0384-7.2704 9.3696-12.544 1.3312-5.3248 0.5632-10.8032-2.2528-15.5136s-7.2704-8.0384-12.544-9.3696a19.1488 19.1488 0 0 0-5.0688-0.6656z" fill="#010101" p-id="1741" />\r
    <path d="M667.5456 225.7408c-6.9632 0-13.9264-1.792-20.0192-5.2736a40.96 40.96 0 0 1-19.4048-24.6272 40.5504 40.5504 0 0 1 3.7376-31.1296l25.344-45.1072c11.0592-19.712 36.096-26.7264 55.7568-15.6672a40.96 40.96 0 0 1 19.4048 24.6272 40.5504 40.5504 0 0 1-3.7376 31.1296L703.2832 204.8a41.088 41.088 0 0 1-35.7376 20.9408z m25.3952-106.5472c-7.168 0-14.1312 3.7888-17.92 10.4448l-25.344 45.1072a20.3776 20.3776 0 0 0-1.8432 15.5648c1.4848 5.2736 4.9152 9.6256 9.6768 12.3392 3.072 1.7408 6.5024 2.6112 9.984 2.6112 7.424 0 14.2848-3.9936 17.8688-10.4448l25.344-45.1072c2.6624-4.7616 3.328-10.2912 1.8432-15.5648a20.49024 20.49024 0 0 0-9.6768-12.3392c-3.1232-1.792-6.5536-2.6112-9.9328-2.6112z" fill="#010101" p-id="1742" />\r
    <path d="M782.592 347.4432c-14.4384 0-27.9552-7.7312-35.2768-20.1216a41.0368 41.0368 0 0 1 14.4384-56.1152l44.544-26.3168c19.456-11.4688 44.6464-5.0176 56.1152 14.4384s5.0176 44.5952-14.4384 56.1152l-44.544 26.3168a41.64608 41.64608 0 0 1-20.8384 5.6832z m44.4928-87.7568c-3.5328 0-7.1168 0.9216-10.3936 2.8672l-44.544 26.3168a20.51584 20.51584 0 0 0-7.2192 28.0576 20.67456 20.67456 0 0 0 17.664 10.0864c3.6352 0 7.2192-0.9728 10.3936-2.8672l44.544-26.3168a20.51584 20.51584 0 0 0 7.2192-28.0576 20.44928 20.44928 0 0 0-17.664-10.0864z" fill="#010101" p-id="1743" />\r
    <path d="M829.696 509.7984c-22.4256 0-40.8064-18.2784-40.96-40.704-0.1536-22.5792 18.1248-41.0624 40.704-41.216l51.7632-0.3072c22.6816 0 41.0624 18.2784 41.216 40.704 0.1536 22.5792-18.1248 41.0624-40.704 41.216l-51.7632 0.3072h-0.256z m51.712-61.7472l-51.8656 0.3072a20.5056 20.5056 0 0 0-20.3776 20.5824 20.55168 20.55168 0 0 0 20.48 20.3776h0.2048l51.6608-0.3072a20.5056 20.5056 0 0 0 20.3776-20.5824 20.52096 20.52096 0 0 0-20.48-20.3776z" fill="#010101" p-id="1744" />\r
    <path d="M830.6176 697.4464c-7.3216 0-14.592-1.9968-20.8896-5.7856l-44.4928-26.4704a40.37632 40.37632 0 0 1-18.7392-25.1392c-2.7136-10.5984-1.0752-21.6064 4.5056-31.0272a40.66816 40.66816 0 0 1 25.088-18.7904 40.9088 40.9088 0 0 1 31.0272 4.5056l44.4416 26.4704c19.4048 11.5712 25.8048 36.7104 14.2848 56.1152a41.02144 41.02144 0 0 1-35.2256 20.1216z m-44.3904-87.9104c-1.6896 0-3.3792 0.2048-5.0688 0.6144a20.0704 20.0704 0 0 0-12.544 9.3696c-2.816 4.7104-3.584 10.24-2.2528 15.5136a20.0704 20.0704 0 0 0 9.3696 12.544l44.4928 26.4704c3.1744 1.8944 6.8096 2.8672 10.4448 2.8672 7.3216 0 13.8752-3.7376 17.6128-10.0352 2.816-4.7104 3.584-10.1888 2.2528-15.5136a20.0704 20.0704 0 0 0-9.3696-12.544l-44.4928-26.4704c-3.2256-1.8432-6.8096-2.816-10.4448-2.816z" fill="#010101" p-id="1745" />\r
    <path d="M547.584 729.0368c-5.632 0-10.24-4.608-10.24-10.24V511.8976H470.9376v206.9504c0 5.632-4.608 10.24-10.24 10.24s-10.24-4.608-10.24-10.24V511.8976h-33.024c-15.0016 0-28.0064-9.1136-33.1264-23.2448s-0.9216-29.44 10.5984-39.0656l18.2784-15.2064a35.00032 35.00032 0 0 1 37.4784-4.8128c12.4928 5.888 20.2752 18.0736 20.2752 31.8976v29.952h66.4576v-29.7472c0-13.824 7.7824-26.0608 20.3264-31.8976 12.544-5.8368 26.88-3.9936 37.5296 4.9152l17.9712 15.0016c11.52 9.6256 15.616 24.9344 10.496 39.0656-5.12 14.08-18.1248 23.1936-33.1264 23.1936h-32.7168v206.9504c-0.0512 5.5808-4.608 10.1376-10.2912 10.1376z m10.24-237.6192h32.7168c9.5744 0 13.056-7.424 13.8752-9.728 0.8192-2.304 2.9696-10.1888-4.4032-16.3328l-17.9712-15.0016c-4.5056-3.7888-10.3936-4.5568-15.7184-2.048s-8.4992 7.4752-8.4992 13.3632v29.7472z m-122.2144-44.8a14.336 14.336 0 0 0-9.3184 3.4816l-18.2784 15.2064c-7.3728 6.144-5.2736 14.08-4.4544 16.3328 0.8192 2.304 4.2496 9.728 13.8752 9.728h33.024v-29.952c0-5.888-3.1744-10.8544-8.4992-13.3632a15.872 15.872 0 0 0-6.3488-1.4336z" fill="#010101" fill-opacity="1" p-id="1746" />\r
    <path d="M339.2 449.4336c-0.6144 0-1.2288-0.0512-1.8944-0.1536-5.5808-1.024-9.216-6.3488-8.192-11.9296a256.8704 256.8704 0 0 1 9.9328-37.6832 10.30144 10.30144 0 0 1 13.056-6.2976c5.3248 1.8944 8.1408 7.7312 6.2976 13.056a236.6976 236.6976 0 0 0-9.1136 34.6624c-0.9216 4.9152-5.2224 8.3456-10.0864 8.3456z" fill="#FFFFFF" fill-opacity="1" p-id="1747" />\r
    <path d="M364.4928 378.6752c-1.7408 0-3.4816-0.4608-5.12-1.3824a10.22464 10.22464 0 0 1-3.7376-13.9776C407.552 273.5104 503.1424 266.496 507.1872 266.24c5.6832-0.3584 10.496 3.9424 10.8544 9.5744s-3.9424 10.496-9.5744 10.8544c-0.9728 0.0512-88.8832 6.8608-135.168 86.8864-1.8432 3.2768-5.2736 5.12-8.8064 5.12z" fill="#FFFFFF" fill-opacity="1" p-id="1748" />\r
    <path d="M437.4528 900.1984c-5.632 0-10.24-4.608-10.24-10.24v-108.8c0-5.632 4.608-10.24 10.24-10.24s10.24 4.608 10.24 10.24v108.8c0 5.6832-4.5568 10.24-10.24 10.24z" fill="#FFFFFF" fill-opacity="1" p-id="1749" />\r
</symbol><symbol viewBox="0 0 1029 1261"   id="svg-bot-2"><defs node-id="91"><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-1" node-id="5" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-2" node-id="8" spreadMethod="pad" x1="0.0161995" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#a5a5a5" /><stop offset="1" stop-color="#7b7a7a" /></linearGradient><linearGradient gradientUnits="objectBoundingBox" id="svg-bot-2_linearGradient-3" node-id="11" spreadMethod="pad" x1="0" x2="1" y1="0.5" y2="0.5"><stop offset="0" stop-color="#252424" /><stop offset="1" stop-color="#181818" /></linearGradient></defs><g node-id="110"><g node-id="111"><g node-id="112"><g node-id="121"><g node-id="129"><path d="M 371.40 1196.35 L 455.97 1198.74 L 455.97 1241.75 L 456.24 1243.70 L 455.97 1245.65 L 455.97 1250.28 L 453.11 1250.19 L 450.84 1252.11 L 447.87 1253.96 L 444.09 1255.75 L 440.17 1257.19 L 435.68 1258.44 L 430.57 1259.51 L 425.42 1260.25 L 419.89 1260.71 L 413.96 1260.89 L 407.32 1260.67 L 401.21 1260.09 L 395.57 1259.18 L 390.00 1257.86 L 385.26 1256.32 L 381.26 1254.59 L 378.32 1252.96 L 376.02 1251.30 L 374.26 1249.62 L 372.96 1247.92 L 371.40 1247.88 L 371.40 1196.35 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="20" stroke="currentColor" target-height="64.54004" target-width="84.84" target-x="371.4" target-y="1196.35" /><path d="M 456.24 1201.15 L 456.02 1202.85 L 455.43 1204.51 L 454.42 1206.16 L 452.92 1207.84 L 450.61 1209.72 L 447.63 1211.54 L 443.85 1213.30 L 439.94 1214.71 L 435.48 1215.94 L 430.41 1216.99 L 425.30 1217.71 L 419.83 1218.17 L 413.96 1218.34 L 408.08 1218.17 L 402.61 1217.71 L 397.50 1216.99 L 392.43 1215.94 L 387.97 1214.71 L 384.06 1213.30 L 380.28 1211.54 L 377.30 1209.72 L 375.00 1207.84 L 373.49 1206.16 L 372.48 1204.51 L 371.89 1202.85 L 371.67 1201.15 L 371.89 1199.44 L 372.48 1197.78 L 373.49 1196.13 L 375.00 1194.45 L 377.30 1192.57 L 380.28 1190.75 L 384.06 1188.99 L 387.97 1187.58 L 392.43 1186.35 L 397.50 1185.31 L 402.61 1184.58 L 408.08 1184.12 L 413.96 1183.96 L 419.83 1184.12 L 425.30 1184.58 L 430.41 1185.31 L 435.48 1186.35 L 439.94 1187.58 L 443.85 1188.99 L 447.63 1190.75 L 450.61 1192.57 L 452.92 1194.45 L 454.42 1196.13 L 455.43 1197.78 L 456.02 1199.44 L 456.24 1201.15 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,12,20" id="svg-bot-2_形状结合" node-id="21" stroke="none" target-height="34.380005" target-width="84.56998" target-x="371.67" target-y="1183.96" /></g><g node-id="130"><path d="M 401.18 1166.27 L 429.37 1168.00 L 429.37 1205.18 L 428.61 1205.13 L 427.51 1206.04 L 425.87 1206.90 L 423.55 1207.70 L 419.83 1208.43 L 415.27 1208.71 L 411.44 1208.51 L 408.16 1207.99 L 405.18 1207.11 L 403.10 1206.09 L 401.98 1205.18 L 401.38 1204.30 L 401.18 1203.41 L 401.18 1203.45 L 401.18 1166.27 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份" node-id="23" stroke="none" target-height="42.43994" target-width="28.190002" target-x="401.18" target-y="1166.27" /><path d="M 429.37 1164.59 L 429.16 1165.50 L 428.56 1166.40 L 427.44 1167.31 L 425.36 1168.36 L 422.39 1169.25 L 419.11 1169.78 L 415.27 1169.98 L 411.44 1169.78 L 408.16 1169.25 L 405.18 1168.36 L 403.10 1167.31 L 401.99 1166.40 L 401.39 1165.50 L 401.18 1164.59 L 401.39 1163.68 L 401.99 1162.78 L 403.10 1161.87 L 405.18 1160.83 L 408.16 1159.94 L 411.44 1159.40 L 415.27 1159.20 L 419.11 1159.40 L 422.39 1159.94 L 425.36 1160.83 L 427.44 1161.87 L 428.56 1162.78 L 429.16 1163.68 L 429.37 1164.59 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,12,21" id="svg-bot-2_形状结合备份-2" node-id="24" stroke="none" target-height="10.780029" target-width="28.190002" target-x="401.18" target-y="1159.2" /></g></g><g node-id="122"><g node-id="131"><path d="M 26.26 1034.56 L 110.83 1036.96 L 110.83 1079.96 L 111.10 1081.91 L 110.83 1083.86 L 110.83 1088.49 L 107.97 1088.41 L 105.70 1090.32 L 102.73 1092.18 L 98.95 1093.97 L 95.03 1095.40 L 90.54 1096.66 L 85.43 1097.72 L 80.28 1098.46 L 74.75 1098.93 L 68.81 1099.10 L 62.18 1098.89 L 56.07 1098.31 L 50.43 1097.40 L 44.86 1096.08 L 40.12 1094.54 L 36.11 1092.81 L 33.18 1091.17 L 30.88 1089.51 L 29.12 1087.84 L 27.82 1086.14 L 26.26 1086.09 L 26.26 1034.56 Z" fill="url(#svg-bot-2_linearGradient-1)" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="27" stroke="none" target-height="64.53992" target-width="84.84" target-x="26.26" target-y="1034.56" /><path d="M 111.10 1039.36 L 110.88 1041.06 L 110.29 1042.72 L 109.28 1044.38 L 107.77 1046.05 L 105.47 1047.93 L 102.49 1049.76 L 98.71 1051.52 L 94.80 1052.92 L 90.34 1054.16 L 85.27 1055.20 L 80.16 1055.93 L 74.69 1056.38 L 68.81 1056.55 L 62.94 1056.38 L 57.47 1055.93 L 52.36 1055.20 L 47.29 1054.16 L 42.83 1052.92 L 38.92 1051.52 L 35.14 1049.76 L 32.16 1047.93 L 29.85 1046.05 L 28.35 1044.38 L 27.34 1042.72 L 26.75 1041.06 L 26.53 1039.36 L 26.75 1037.66 L 27.34 1036.00 L 28.35 1034.34 L 29.85 1032.67 L 32.16 1030.79 L 35.14 1028.96 L 38.92 1027.21 L 42.83 1025.80 L 47.29 1024.56 L 52.36 1023.52 L 57.47 1022.79 L 62.94 1022.34 L 68.81 1022.17 L 74.69 1022.34 L 80.16 1022.79 L 85.27 1023.52 L 90.34 1024.56 L 94.80 1025.80 L 98.71 1027.21 L 102.49 1028.96 L 105.47 1030.79 L 107.77 1032.67 L 109.28 1034.34 L 110.29 1036.00 L 110.88 1037.66 L 111.10 1039.36 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,13,22" id="svg-bot-2_形状结合" node-id="28" stroke="none" target-height="34.380066" target-width="84.57" target-x="26.53" target-y="1022.17" /></g><g node-id="132"><path d="M 56.04 1004.49 L 84.23 1006.22 L 84.23 1043.39 L 83.47 1043.34 L 82.37 1044.25 L 80.73 1045.12 L 78.41 1045.92 L 74.69 1046.64 L 70.13 1046.93 L 66.30 1046.73 L 63.02 1046.20 L 60.04 1045.33 L 57.96 1044.30 L 56.84 1043.40 L 56.24 1042.52 L 56.04 1041.62 L 56.04 1041.66 L 56.04 1004.49 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份" node-id="30" stroke="none" target-height="42.440063" target-width="28.190002" target-x="56.04" target-y="1004.49" /><path d="M 84.23 1002.81 L 84.02 1003.72 L 83.42 1004.61 L 82.30 1005.53 L 80.22 1006.57 L 77.25 1007.46 L 73.97 1008.00 L 70.13 1008.20 L 66.30 1008.00 L 63.02 1007.46 L 60.04 1006.57 L 57.96 1005.53 L 56.84 1004.61 L 56.24 1003.72 L 56.04 1002.81 L 56.24 1001.90 L 56.84 1001.00 L 57.96 1000.09 L 60.04 999.04 L 63.02 998.15 L 66.30 997.62 L 70.13 997.41 L 73.97 997.62 L 77.25 998.15 L 80.22 999.04 L 82.30 1000.09 L 83.42 1001.00 L 84.02 1001.90 L 84.23 1002.81 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,13,23" id="svg-bot-2_形状结合备份-2" node-id="31" stroke="none" target-height="10.790039" target-width="28.190002" target-x="56.04" target-y="997.41" /></g></g><g node-id="123"><path d="M 790.71 921.36 L 875.28 926.08 L 875.28 1018.93 L 875.55 1020.88 L 875.28 1022.83 L 875.28 1027.46 L 872.50 1027.31 L 870.23 1029.23 L 867.27 1031.10 L 863.49 1032.90 L 859.56 1034.35 L 855.07 1035.61 L 849.94 1036.69 L 844.77 1037.43 L 839.22 1037.90 L 833.26 1038.07 L 827.79 1037.93 L 822.66 1037.53 L 817.83 1036.89 L 813.05 1035.98 L 808.77 1034.90 L 804.95 1033.65 L 801.24 1032.11 L 798.19 1030.48 L 795.72 1028.80 L 793.54 1026.79 L 792.08 1024.79 L 791.23 1022.78 L 790.71 1022.75 L 790.71 921.36 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="33" stroke="none" target-height="116.70996" target-width="84.839966" target-x="790.71" target-y="921.36" /><path d="M 875.55 924.41 L 875.33 926.11 L 874.74 927.77 L 873.72 929.42 L 872.22 931.10 L 869.92 932.98 L 866.94 934.80 L 863.16 936.56 L 859.25 937.97 L 854.79 939.20 L 849.72 940.25 L 844.61 940.97 L 839.13 941.43 L 833.26 941.60 L 827.39 941.43 L 821.92 940.97 L 816.81 940.25 L 811.74 939.20 L 807.27 937.97 L 803.36 936.56 L 799.59 934.80 L 796.61 932.98 L 794.30 931.10 L 792.80 929.42 L 791.79 927.77 L 791.19 926.11 L 790.98 924.41 L 791.19 922.71 L 791.79 921.04 L 792.80 919.39 L 794.30 917.72 L 796.61 915.83 L 799.59 914.01 L 803.36 912.25 L 807.27 910.84 L 811.74 909.61 L 816.81 908.57 L 821.92 907.84 L 827.39 907.38 L 833.26 907.22 L 839.13 907.38 L 844.61 907.84 L 849.72 908.57 L 854.79 909.61 L 859.25 910.84 L 863.16 912.25 L 866.94 914.01 L 869.92 915.83 L 872.22 917.72 L 873.72 919.39 L 874.74 921.04 L 875.33 922.71 L 875.55 924.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,14" id="svg-bot-2_形状结合" node-id="34" stroke="none" target-height="34.380005" target-width="84.57001" target-x="790.98" target-y="907.22" /></g><g node-id="124"><g node-id="133"><path d="M 470.06 779.90 L 554.63 784.61 L 554.63 877.47 L 554.90 879.42 L 554.63 881.37 L 554.63 886.00 L 551.85 885.84 L 549.58 887.76 L 546.63 889.63 L 542.84 891.44 L 538.92 892.88 L 534.42 894.15 L 529.29 895.22 L 524.12 895.96 L 518.57 896.43 L 512.62 896.61 L 507.15 896.46 L 502.01 896.06 L 497.19 895.43 L 492.40 894.52 L 488.12 893.43 L 484.30 892.18 L 480.59 890.64 L 477.54 889.02 L 475.07 887.33 L 472.89 885.32 L 471.44 883.32 L 470.59 881.31 L 470.06 881.28 L 470.06 779.90 Z" fill="url(#svg-bot-2_linearGradient-3)" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="37" stroke="none" target-height="116.70996" target-width="84.84003" target-x="470.06" target-y="779.9" /><path d="M 554.90 782.94 L 554.69 784.64 L 554.09 786.30 L 553.08 787.96 L 551.58 789.63 L 549.27 791.51 L 546.29 793.34 L 542.51 795.09 L 538.60 796.50 L 534.14 797.74 L 529.07 798.78 L 523.96 799.51 L 518.49 799.96 L 512.62 800.13 L 506.75 799.96 L 501.27 799.51 L 496.16 798.78 L 491.09 797.74 L 486.63 796.50 L 482.72 795.09 L 478.94 793.34 L 475.96 791.51 L 473.66 789.63 L 472.16 787.96 L 471.14 786.30 L 470.55 784.64 L 470.33 782.94 L 470.55 781.24 L 471.14 779.58 L 472.16 777.92 L 473.66 776.25 L 475.96 774.37 L 478.94 772.54 L 482.72 770.78 L 486.63 769.38 L 491.09 768.14 L 496.16 767.10 L 501.27 766.37 L 506.75 765.92 L 512.62 765.75 L 518.49 765.92 L 523.96 766.37 L 529.07 767.10 L 534.14 768.14 L 538.60 769.38 L 542.51 770.78 L 546.29 772.54 L 549.27 774.37 L 551.58 776.25 L 553.08 777.92 L 554.09 779.58 L 554.69 781.24 L 554.90 782.94 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,3,15,24" id="svg-bot-2_形状结合" node-id="38" stroke="none" target-height="34.380005" target-width="84.57004" target-x="470.33" target-y="765.75" /></g><g node-id="134"><path d="M 499.84 748.07 L 528.03 749.79 L 528.03 786.97 L 527.27 786.92 L 526.17 787.83 L 524.54 788.70 L 522.21 789.50 L 518.49 790.22 L 513.93 790.51 L 510.10 790.31 L 506.82 789.78 L 503.84 788.90 L 501.76 787.88 L 500.64 786.98 L 500.05 786.10 L 499.84 785.20 L 499.84 785.24 L 499.84 748.07 Z" fill="url(#svg-bot-2_linearGradient-2)" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份" node-id="40" stroke="none" target-height="42.440002" target-width="28.190033" target-x="499.84" target-y="748.07" /><path d="M 528.03 746.38 L 527.82 747.30 L 527.22 748.19 L 526.10 749.11 L 524.02 750.15 L 521.05 751.04 L 517.77 751.58 L 513.93 751.78 L 510.10 751.58 L 506.82 751.04 L 503.84 750.15 L 501.76 749.11 L 500.65 748.19 L 500.05 747.30 L 499.84 746.38 L 500.05 745.47 L 500.65 744.58 L 501.76 743.66 L 503.84 742.62 L 506.82 741.73 L 510.10 741.19 L 513.93 740.99 L 517.77 741.19 L 521.05 741.73 L 524.02 742.62 L 526.10 743.66 L 527.22 744.58 L 527.82 745.47 L 528.03 746.38 Z" fill="#585858" fill-rule="evenodd" group-id="1,2,3,15,25" id="svg-bot-2_形状结合备份-2" node-id="41" stroke="none" target-height="10.790039" target-width="28.190033" target-x="499.84" target-y="740.99" /></g></g><g node-id="125"><path d="M 457.95 764.75 L 889.37 966.63 L 438.35 1214.19 L 0.50 1013.50 Z" fill="#c0c0c0" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_矩形备份-52" node-id="43" stroke="none" target-height="449.43994" target-width="888.87" target-x="0.5" target-y="764.75" /><path d="M 889.37 554.43 L 889.37 966.63 L 438.35 1214.19 L 436.37 807.89 L 889.37 554.43 Z M 843.51 614.67 L 482.24 816.81 L 483.81 1089.24 L 843.51 891.80 L 843.51 614.67 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="44" stroke="none" target-height="659.75995" target-width="453" target-x="436.37" target-y="554.43" /><path d="M 2.65 603.14 L 441.77 807.89 L 440.11 1215.96 L 1.00 1013.00 L 2.65 603.14 Z M 77.41 738.72 L 44.34 760.22 L 43.24 989.00 L 68.96 1027.86 L 375.06 1170.15 L 407.65 1149.79 L 408.72 929.24 L 377.59 879.51 L 77.41 738.72 Z" fill="#e8e6e6" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_形状结合" node-id="45" stroke="none" target-height="612.81995" target-width="440.77" target-x="1" target-y="603.14" /><path d="M 4.56 607.46 L 445.29 349.30 L 888.50 555.50 L 437.96 814.33 Z" fill="#f7f7f7" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="46" stroke="none" target-height="465.03003" target-width="883.94" target-x="4.56" target-y="349.3" /><path d="M 3.56 595.67 L 68.66 553.43 L 510.87 763.75 L 436.96 802.55 Z" fill="#2a7b5a" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="47" stroke="none" target-height="249.12" target-width="507.31" target-x="3.56" target-y="553.43" /><path d="M 3.56 595.67 L 3.95 607.35 L 435.37 812.28 L 436.96 802.55 Z" fill="#286f52" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="48" stroke="none" target-height="216.61005" target-width="433.4" target-x="3.56" target-y="595.67" /><path d="M 435.37 812.28 L 510.87 774.53 L 510.87 763.75 L 435.37 801.50 Z" fill="#1d5940" fill-rule="evenodd" group-id="1,2,3,16" id="svg-bot-2_路径-16备份-2" node-id="49" stroke="none" target-height="48.53003" target-width="75.5" target-x="435.37" target-y="763.75" /></g></g><g node-id="113"><g node-id="126"><g node-id="135"><path d="M 866.81 262.39 L 854.29 268.65 L 854.29 563.61 L 866.81 557.36 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,17,26" id="svg-bot-2_矩形" node-id="52" stroke="none" target-height="301.21997" target-width="12.52002" target-x="854.29" target-y="262.39" /></g><path d="M 854.29 268.65 L 840.99 261.61 L 840.99 556.57 L 854.29 563.61 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,17,27" id="svg-bot-2_矩形备份-17" node-id="53" stroke="none" target-height="302" target-width="13.299988" target-x="840.99" target-y="261.61" /></g><g node-id="127"><g node-id="137"><path d="M 456.96 79.04 L 444.44 85.29 L 444.44 380.25 L 456.96 374.00 Z" fill="#dbdbdb" fill-rule="evenodd" group-id="1,2,4,18,28" id="svg-bot-2_矩形" node-id="55" stroke="none" target-height="301.21" target-width="12.519989" target-x="444.44" target-y="79.04" /></g><path d="M 444.44 85.29 L 431.13 78.25 L 431.13 373.22 L 444.44 380.25 Z" fill="#bab9b9" fill-rule="evenodd" group-id="1,2,4,18,29" id="svg-bot-2_矩形备份-17" node-id="56" stroke="none" target-height="302" target-width="13.309998" target-x="431.13" target-y="78.25" /></g><g node-id="128"><path d="M 242.23 158.40 L 803.09 422.65 L 803.09 435.78 L 242.23 171.53 Z" fill="#ccc6c6" fill-rule="evenodd" group-id="1,2,4,19" id="svg-bot-2_矩形备份-22" node-id="58" stroke="none" target-height="277.38" target-width="560.86005" target-x="242.23" target-y="158.4" /><g node-id="139"><path d="M 441.77 47.50 L 1002.62 311.75 L 802.76 422.54 L 238.90 159.11 Z" fill="#ffffff" fill-rule="evenodd" group-id="1,2,4,19,30" id="svg-bot-2_矩形" node-id="59" stroke="none" target-height="375.04" target-width="763.72" target-x="238.9" target-y="47.5" /></g><path d="M 1002.29 309.30 L 1002.62 322.53 L 803.09 435.78 L 803.09 419.60 Z" fill="#d8d8d8" fill-rule="evenodd" group-id="1,2,4,19,31" id="svg-bot-2_矩形备份-51" node-id="60" stroke="none" target-height="126.48001" target-width="199.52997" target-x="803.09" target-y="309.3" /></g></g><g node-id="114"><path d="M 69.66 683.85 L 69.46 686.78 L 68.93 689.30 L 68.05 691.55 L 66.99 693.17 L 66.11 694.00 L 65.21 694.47 L 64.27 694.64 L 63.33 694.47 L 62.43 694.00 L 61.55 693.17 L 60.49 691.55 L 59.61 689.30 L 59.08 686.78 L 58.88 683.85 L 59.08 680.93 L 59.61 678.41 L 60.49 676.15 L 61.55 674.54 L 62.43 673.71 L 63.33 673.24 L 64.27 673.07 L 65.21 673.24 L 66.11 673.71 L 66.99 674.54 L 68.05 676.15 L 68.93 678.41 L 69.46 680.93 L 69.66 683.85 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形" node-id="62" stroke="none" target-height="21.570007" target-width="10.780003" target-x="58.88" target-y="673.07" /><path d="M 75.06 689.25 L 76.00 689.08 L 76.89 688.61 L 77.78 687.77 L 78.83 686.16 L 79.71 683.90 L 80.25 681.39 L 80.45 678.46 L 80.25 675.53 L 79.71 673.02 L 78.83 670.76 L 77.78 669.15 L 76.89 668.31 L 76.00 667.84 L 75.06 667.67 L 74.11 667.84 L 73.22 668.31 L 72.33 669.15 L 71.28 670.76 L 70.40 673.02 L 69.86 675.53 L 69.66 678.46 L 69.86 681.39 L 70.40 683.90 L 71.28 686.16 L 72.33 687.77 L 73.22 688.61 L 74.11 689.08 L 75.06 689.25 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_椭圆形备份-7" node-id="63" stroke="none" target-height="21.580017" target-width="10.789993" target-x="69.66" target-y="667.67" /><path d="M 64.27 673.07 L 75.06 667.67 L 75.06 689.25 L 64.27 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,5" id="svg-bot-2_矩形" node-id="64" stroke="none" target-height="26.970032" target-width="10.790001" target-x="64.27" target-y="667.67" /></g><g node-id="115"><path d="M 91.23 694.64 L 91.03 697.57 L 90.50 700.08 L 89.62 702.34 L 88.56 703.95 L 87.68 704.78 L 86.78 705.26 L 85.84 705.42 L 84.90 705.26 L 84.00 704.78 L 83.12 703.95 L 82.07 702.34 L 81.18 700.08 L 80.65 697.57 L 80.45 694.64 L 80.65 691.71 L 81.18 689.19 L 82.07 686.94 L 83.12 685.33 L 84.00 684.49 L 84.90 684.02 L 85.84 683.85 L 86.78 684.02 L 87.68 684.49 L 88.56 685.33 L 89.62 686.94 L 90.50 689.19 L 91.03 691.71 L 91.23 694.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形" node-id="66" stroke="none" target-height="21.570007" target-width="10.780006" target-x="80.45" target-y="683.85" /><path d="M 96.63 700.03 L 97.57 699.86 L 98.47 699.39 L 99.35 698.56 L 100.40 696.95 L 101.28 694.69 L 101.82 692.17 L 102.02 689.25 L 101.82 686.32 L 101.28 683.80 L 100.40 681.54 L 99.35 679.93 L 98.47 679.10 L 97.57 678.63 L 96.63 678.46 L 95.69 678.63 L 94.79 679.10 L 93.90 679.93 L 92.85 681.54 L 91.97 683.80 L 91.43 686.32 L 91.23 689.25 L 91.43 692.17 L 91.97 694.69 L 92.85 696.95 L 93.90 698.56 L 94.79 699.39 L 95.69 699.86 L 96.63 700.03 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_椭圆形备份-7" node-id="67" stroke="none" target-height="21.570007" target-width="10.789993" target-x="91.23" target-y="678.46" /><path d="M 85.84 683.85 L 96.63 678.46 L 96.63 700.03 L 85.84 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,6" id="svg-bot-2_矩形" node-id="68" stroke="none" target-height="26.95996" target-width="10.790001" target-x="85.84" target-y="678.46" /></g><g node-id="116"><path d="M 134.38 716.21 L 134.18 719.14 L 133.64 721.65 L 132.76 723.91 L 131.71 725.52 L 130.82 726.36 L 129.92 726.83 L 128.98 727.00 L 128.04 726.83 L 127.15 726.36 L 126.26 725.52 L 125.21 723.91 L 124.33 721.65 L 123.79 719.14 L 123.59 716.21 L 123.79 713.28 L 124.33 710.77 L 125.21 708.51 L 126.26 706.90 L 127.15 706.06 L 128.04 705.59 L 128.98 705.42 L 129.92 705.59 L 130.82 706.06 L 131.71 706.90 L 132.76 708.51 L 133.64 710.77 L 134.18 713.28 L 134.38 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形" node-id="70" stroke="none" target-height="21.580017" target-width="10.790009" target-x="123.59" target-y="705.42" /><path d="M 139.77 721.60 L 140.71 721.43 L 141.61 720.96 L 142.49 720.13 L 143.54 718.52 L 144.43 716.26 L 144.96 713.74 L 145.16 710.82 L 144.96 707.89 L 144.43 705.37 L 143.54 703.12 L 142.49 701.50 L 141.61 700.67 L 140.71 700.20 L 139.77 700.03 L 138.83 700.20 L 137.93 700.67 L 137.05 701.50 L 135.99 703.12 L 135.11 705.37 L 134.58 707.89 L 134.38 710.82 L 134.58 713.74 L 135.11 716.26 L 135.99 718.52 L 137.05 720.13 L 137.93 720.96 L 138.83 721.43 L 139.77 721.60 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_椭圆形备份-7" node-id="71" stroke="none" target-height="21.569946" target-width="10.779999" target-x="134.38" target-y="700.03" /><path d="M 128.98 705.42 L 139.77 700.03 L 139.77 721.60 L 128.98 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,7" id="svg-bot-2_矩形" node-id="72" stroke="none" target-height="26.96997" target-width="10.790009" target-x="128.98" target-y="700.03" /></g><g node-id="117"><path d="M 112.81 705.42 L 112.60 708.35 L 112.07 710.87 L 111.19 713.13 L 110.13 714.74 L 109.25 715.57 L 108.35 716.04 L 107.41 716.21 L 106.47 716.04 L 105.57 715.57 L 104.69 714.74 L 103.64 713.13 L 102.76 710.87 L 102.22 708.35 L 102.02 705.42 L 102.22 702.50 L 102.76 699.98 L 103.64 697.72 L 104.69 696.11 L 105.57 695.28 L 106.47 694.81 L 107.41 694.64 L 108.35 694.81 L 109.25 695.28 L 110.13 696.11 L 111.19 697.72 L 112.07 699.98 L 112.60 702.50 L 112.81 705.42 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形" node-id="74" stroke="none" target-height="21.570007" target-width="10.790001" target-x="102.02" target-y="694.64" /><path d="M 118.20 710.82 L 119.14 710.65 L 120.04 710.18 L 120.92 709.34 L 121.97 707.73 L 122.85 705.48 L 123.39 702.96 L 123.59 700.03 L 123.39 697.10 L 122.85 694.59 L 121.97 692.33 L 120.92 690.72 L 120.04 689.89 L 119.14 689.41 L 118.20 689.25 L 117.26 689.41 L 116.36 689.89 L 115.48 690.72 L 114.42 692.33 L 113.54 694.59 L 113.01 697.10 L 112.81 700.03 L 113.01 702.96 L 113.54 705.48 L 114.42 707.73 L 115.48 709.34 L 116.36 710.18 L 117.26 710.65 L 118.20 710.82 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_椭圆形备份-7" node-id="75" stroke="none" target-height="21.570007" target-width="10.779999" target-x="112.81" target-y="689.25" /><path d="M 107.41 694.64 L 118.20 689.25 L 118.20 710.82 L 107.41 716.21 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,8" id="svg-bot-2_矩形" node-id="76" stroke="none" target-height="26.960022" target-width="10.789993" target-x="107.41" target-y="689.25" /></g><g node-id="118"><path d="M 155.95 727.00 L 155.75 729.92 L 155.21 732.44 L 154.33 734.70 L 153.28 736.31 L 152.39 737.14 L 151.50 737.61 L 150.55 737.78 L 149.61 737.61 L 148.72 737.14 L 147.83 736.31 L 146.78 734.70 L 145.90 732.44 L 145.36 729.92 L 145.16 727.00 L 145.36 724.07 L 145.90 721.55 L 146.78 719.29 L 147.83 717.68 L 148.72 716.85 L 149.61 716.38 L 150.55 716.21 L 151.50 716.38 L 152.39 716.85 L 153.28 717.68 L 154.33 719.29 L 155.21 721.55 L 155.75 724.07 L 155.95 727.00 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形" node-id="78" stroke="none" target-height="21.570007" target-width="10.789993" target-x="145.16" target-y="716.21" /><path d="M 161.34 732.39 L 162.28 732.22 L 163.18 731.75 L 164.06 730.92 L 165.12 729.30 L 166.00 727.05 L 166.53 724.53 L 166.73 721.60 L 166.53 718.68 L 166.00 716.16 L 165.12 713.90 L 164.06 712.29 L 163.18 711.46 L 162.28 710.99 L 161.34 710.82 L 160.40 710.99 L 159.50 711.46 L 158.62 712.29 L 157.56 713.90 L 156.68 716.16 L 156.15 718.68 L 155.95 721.60 L 156.15 724.53 L 156.68 727.05 L 157.56 729.30 L 158.62 730.92 L 159.50 731.75 L 160.40 732.22 L 161.34 732.39 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_椭圆形备份-7" node-id="79" stroke="none" target-height="21.570007" target-width="10.779999" target-x="155.95" target-y="710.82" /><path d="M 150.55 716.21 L 161.34 710.82 L 161.34 732.39 L 150.55 737.78 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,9" id="svg-bot-2_矩形" node-id="80" stroke="none" target-height="26.960022" target-width="10.789993" target-x="150.55" target-y="710.82" /></g><g node-id="119"><path d="M 355.48 825.41 L 355.18 830.92 L 354.38 835.62 L 353.52 838.62 L 352.54 841.01 L 351.48 842.88 L 350.11 844.47 L 348.77 845.34 L 347.39 845.64 L 346.02 845.34 L 344.67 844.47 L 343.31 842.88 L 342.24 841.01 L 341.27 838.62 L 340.41 835.62 L 339.61 830.92 L 339.30 825.41 L 339.61 819.91 L 340.41 815.21 L 341.27 812.20 L 342.24 809.82 L 343.31 807.95 L 344.67 806.36 L 346.02 805.49 L 347.39 805.19 L 348.77 805.49 L 350.11 806.36 L 351.48 807.95 L 352.54 809.82 L 353.52 812.20 L 354.38 815.21 L 355.18 819.91 L 355.48 825.41 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形" node-id="82" stroke="none" target-height="40.450012" target-width="16.180023" target-x="339.3" target-y="805.19" /><path d="M 363.57 837.55 L 364.95 837.25 L 366.29 836.38 L 367.65 834.79 L 368.72 832.92 L 369.70 830.54 L 370.56 827.53 L 371.36 822.83 L 371.66 817.33 L 371.36 811.83 L 370.56 807.12 L 369.70 804.12 L 368.72 801.73 L 367.65 799.86 L 366.29 798.27 L 364.95 797.40 L 363.57 797.10 L 362.20 797.40 L 360.85 798.27 L 359.49 799.86 L 358.42 801.73 L 357.45 804.12 L 356.59 807.12 L 355.78 811.83 L 355.48 817.33 L 355.78 822.83 L 356.59 827.53 L 357.45 830.54 L 358.42 832.92 L 359.49 834.79 L 360.85 836.38 L 362.20 837.25 L 363.57 837.55 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_椭圆形备份-7" node-id="83" stroke="none" target-height="40.450012" target-width="16.179993" target-x="355.48" target-y="797.1" /><path d="M 347.39 806.81 L 363.57 797.10 L 363.57 835.93 L 347.39 845.64 Z" fill="#000000" fill-rule="evenodd" group-id="1,2,10" id="svg-bot-2_矩形" node-id="84" stroke="none" target-height="48.54004" target-width="16.179993" target-x="347.39" target-y="797.1" /></g><g node-id="120"><path d="M 199.09 508.13 L 497.17 657.33 L 497.17 694.63 L 199.09 545.43 Z" fill="#444644" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-41" node-id="86" stroke="none" target-height="186.5" target-width="298.08002" target-x="199.09" target-y="508.13" /><path d="M 207.61 498.81 L 505.68 648.01 L 497.17 657.33 L 199.09 508.13 Z" fill="#696969" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形备份-42" node-id="87" stroke="none" target-height="158.52002" target-width="306.59" target-x="199.09" target-y="498.81" /><path d="M 497.17 657.33 L 506.48 648.01 L 506.48 685.31 L 497.17 694.63 Z" fill="#2b2a2a" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="88" stroke="none" target-height="46.619995" target-width="9.309998" target-x="497.17" target-y="648.01" /><path d="M 217.72 247.03 L 497.17 384.33 L 497.17 645.43 L 217.72 508.13 Z" fill="#494a49" fill-rule="evenodd" group-id="1,2,11" id="svg-bot-2_矩形" node-id="89" stroke="none" target-height="398.4" target-width="279.45" target-x="217.72" target-y="247.03" /></g></g></g></symbol><symbol   viewBox="0 0 1051 1644" id="svg-bot-9">\r
    <title>PBA9</title>\r
    <defs>\r
        <linearGradient id="svg-bot-9_linearGradient-1" y2="50%" x2="100%" y1="50%" x1="0%">\r
            <stop offset="0%" stop-color="#252424" />\r
            <stop offset="100%" stop-color="#181818" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-2" y2="50%" x2="100%" y1="50%" x1="1.61994987%">\r
            <stop offset="0%" stop-color="#A5A5A5" />\r
            <stop offset="100%" stop-color="#7B7A7A" />\r
        </linearGradient>\r
        <linearGradient id="svg-bot-9_linearGradient-3" y2="53.5152679%" x2="33.5324159%" y1="52.2959596%" x1="10.5628407%">\r
            <stop offset="0%" stop-color="#EEECE6" />\r
            <stop offset="100%" stop-color="#BDB4A1" />\r
        </linearGradient>\r
    </defs>\r
    <g fill-rule="evenodd" fill="none" stroke-width="1" stroke="currentColor" id="svg-bot-9_页面-1">\r
        <g transform="translate(0.500000, 0.633693)" id="svg-bot-9_PBA9">\r
            <g fill-rule="nonzero" transform="translate(508.453453, 1479.969208)" id="svg-bot-9_编组-24">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(955.085487, 1259.371360)" id="svg-bot-9_编组-24备份-2">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(186.251819, 1329.340315)" id="svg-bot-9_编组-24备份">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <g fill-rule="nonzero" transform="translate(611.605177, 1126.909038)" id="svg-bot-9_编组-24备份-3">\r
                <g transform="translate(0.000000, 25.883740)" id="svg-bot-9_编组-23">\r
                    <path fill="url(#svg-bot-9_linearGradient-1)" id="svg-bot-9_形状结合" d="M0,14.7907085 L88.4157635,19.7209447 L88.4158196,116.802354 C88.6017545,117.471663 88.6972644,118.152109 88.6972644,118.841623 C88.6972644,119.531156 88.6017493,120.21162 88.4158045,120.880946 L88.4157635,125.721022 L85.5071674,125.557778 C78.9634845,132.156741 63.0642649,136.814054 44.4893827,136.814054 C21.7199146,136.814054 2.9709922,129.815811 0.546683008,120.821467 L0,120.790786 L0,14.7907085 Z" />\r
                    <ellipse ry="17.9724306" rx="44.2078817" cy="17.9724306" cx="44.4893827" fill="#000000" id="svg-bot-9_形状结合" />\r
                </g>\r
                <g transform="translate(31.130825, 0.000000)" id="svg-bot-9_编组-22">\r
                    <path fill="url(#svg-bot-9_linearGradient-2)" id="svg-bot-9_形状结合备份" d="M0,7.39535424 L29.4719212,9.2031075 L29.4719212,48.0698025 L28.6776991,48.0219458 C26.6911001,50.2011603 21.1995028,51.7674796 14.7359606,51.7674796 C6.59751428,51.7674796 0,49.28422 0,46.220964 L0.00102965085,46.2615849 L0,7.39535424 Z" />\r
                    <ellipse ry="5.63830199" rx="14.7359606" cy="5.63830199" cx="14.7359606" fill="#585858" id="svg-bot-9_形状结合备份-2" />\r
                </g>\r
            </g>\r
            <polygon points="598.74197 518.806372 1050 196.615434 1050 1291.03474 578.663779 1546.91275 578.449265 561.964291" fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_矩形" />\r
            <polygon points="0.51482543 454.453194 345.212256 215.78566 683.510375 401.849626 296.02462 611.989774" fill-rule="nonzero" fill="url(#svg-bot-9_linearGradient-3)" id="svg-bot-9_路径-10" />\r
            <polygon points="995.452395 305.834589 993.616985 672.488122 672.233771 886.743597 672.002552 537.332778" fill-rule="nonzero" fill="#0C0C0C" id="svg-bot-9_矩形" />\r
            <polygon points="181.701498 1354.72266 179.97182 366.564345 580.291261 560.137718 582.020939 1546.42493" fill-rule="nonzero" fill="#E9E5DD" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 678.829835 208.078753 449.047459 552.426168 615.555711 553.914005 843.728598" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16" />\r
            <g transform="translate(242.662278, 488.515572)" id="svg-bot-9_路径-16">\r
                <g fill="#E9E5DD" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
                <g fill-rule="nonzero" fill="#000000" transform="translate(0.000000, 0.000000)" id="svg-bot-9_path-4-link">\r
                    <polygon points="1.19026918 183.825902 -2.92644373e-14 1.17057749e-13 275.477932 133.206602 276.668201 315.744912" id="svg-bot-9_path-4" />\r
                </g>\r
            </g>\r
            <polygon points="313.905079 672.495173 313.224926 567.4518 470.640887 643.569859 471.321041 747.877464" fill-rule="nonzero" fill="#8EC1E9" stroke-width="1.5" stroke="#000000" id="svg-bot-9_路径-16" />\r
            <polygon points="209.56659 1287.76645 208.078753 753.515766 552.426168 920.024018 553.914005 1452.66522" fill-rule="nonzero" fill="#E9E5DD" stroke-width="0.5" stroke="#6E6E6E" id="svg-bot-9_路径-16备份-3" />\r
            <polygon points="204.254706 317.275096 653.768893 2.92644373e-14 1050 196.615434 598.935845 520.253968" fill-rule="nonzero" fill="#FFFCF3" id="svg-bot-9_路径-16备份-2" />\r
            <polygon points="204.254706 317.275096 600.598133 515.717102 576.382637 565.360384 180.039209 366.918378" fill-rule="nonzero" fill="#F8F6EF" id="svg-bot-9_矩形" />\r
            <path fill-rule="nonzero" fill="#DED9D1" id="svg-bot-9_路径-12" d="M186.225252,937.488316 C157.347841,877.191105 128.752241,828.050658 100.438452,790.066975 C72.1246632,752.083292 38.860394,718.237117 0.645644105,688.528449 L0.645644105,579.368301 L23.8290419,525.89227 L1.27583391,514.615665 L0.645644105,453.227684 L188.940931,554.844152 L186.225252,937.488316 Z" />\r
            <polygon points="238.084518 1002.90492 260.592799 1013.28989 260.637725 1078.44586 238.129444 1068.0609" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-4" />\r
            <polygon points="514.361315 971.318127 565.061106 990.736683 565.106033 1033.33945 514.406241 1013.92089" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-60" />\r
            <polygon points="525.637919 644.296611 576.337711 663.715167 576.382637 706.317934 525.682846 686.899378" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-63" />\r
            <polygon points="525.637919 757.062651 576.337711 776.481207 576.382637 819.083973 525.682846 799.665418" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-64" />\r
            <polygon points="514.361315 1140.46719 565.061106 1159.88575 565.106033 1202.48851 514.406241 1183.06995" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-61" />\r
            <polygon points="514.361315 1309.61624 565.061106 1329.0348 565.106033 1371.63757 514.406241 1352.21902" fill-rule="nonzero" fill="#000000" id="svg-bot-9_矩形备份-62" />\r
            <line stroke-dasharray="3" stroke-width="0.5" stroke="#979797" id="svg-bot-9_路径-9" y2="616.105101" x2="187.339799" y1="527.043579" x1="23.6819696" />\r
            <line stroke="#979797" id="svg-bot-9_路径-9备份" y2="683.764725" x2="187.339799" y1="579.555773" x1="-1.46322187e-14" />\r
            <g fill-rule="nonzero" transform="translate(305.744142, 103.019621)" id="svg-bot-9_编组-11">\r
                <rect rx="2" height="47.5065763" width="94.9101238" y="198.426867" x="0" opacity="0.410433815" fill="#5B5B5A" id="svg-bot-9_矩形备份-33" />\r
                <rect height="180.425664" width="47.455062" y="41.7544909" x="23.7275309" fill="#C4E4E3" id="svg-bot-9_矩形" />\r
                <path fill="#FC2727" id="svg-bot-9_矩形备份-30" d="M47.455062,0 C60.5594154,0 71.1825929,10.6231775 71.1825929,23.7275309 L71.1825929,71.2598645 L71.1825929,71.2598645 L23.7275309,71.2598645 L23.7275309,23.7275309 C23.7275309,10.6231775 34.3507084,0 47.455062,0 Z" />\r
                <rect height="47.5065763" width="47.455062" y="47.5065763" x="23.7275309" fill="#FFFD54" id="svg-bot-9_矩形备份-31" />\r
                <rect height="47.5065763" width="47.455062" y="95.0131526" x="23.7275309" fill="#73FF54" id="svg-bot-9_矩形备份-32" />\r
            </g>\r
        </g>\r
    </g>\r
</symbol><symbol viewBox="0 0 1024 1024"  id="svg-clock-a">\r
    <path d="M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z" fill="#B4B4B4"></path>\r
    <path d="M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z" fill="#FFFFFF"></path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z" fill="#545454">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="45 512 512" to="405 512 512" dur="3600s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z" fill="#292929">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="-45 512 512" to="315 512 512" dur="43200s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z" fill="#919191"></path>\r
    <path d="M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z" fill="#323232"></path>\r
    <path d="M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z" fill="#919191">\r
        <animateTransform attributeName="transform" attributeType="XML" type="rotate" from="135 512 512" to="495 512 512" dur="60s" repeatCount="indefinite" />\r
    </path>\r
    <path d="M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z" fill="#FFFFFF"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-common-table"><path d="M928 96v832h-832V416.96h64v203.776h204.8V384h23.296v-19.2L620.8 364.736V160H416v-64h512z m-563.2 563.136H160V864h204.8v-204.864z m38.4 0V864h217.536v-204.864H403.2z m460.8 0h-204.864V864H864v-204.864z m-460.8-256v217.6h217.536v-217.6H403.2z m460.8 0h-204.864v217.6H864v-217.6z m0-38.4V160h-204.864v204.736H864z" fill="#324558" p-id="14150" /><path d="M415.936 353.024v49.92l207.36 0.064v217.984H400.64V417.024h-48.768v-64h64z m-128 0v64h-64v-64h64z m-128 0v64h-64v-64h64z m0-128.512v64h-64v-64h64z m256 0v64h-64v-64h64z m-256-128.448v64h-64v-64h64z m128 0v64h-64v-64h64z m128 0v64h-64v-64h64z" fill="#41A368" p-id="14151" /></symbol><symbol class="icon" viewBox="0 0 1979 1024"   id="svg-el-button"><path d="M409.6 320.853333c34.133333 0 61.44 6.826667 75.093333 27.306667 20.48 13.653333 27.306667 34.133333 27.306667 61.44 0 20.48-6.826667 34.133333-13.653333 47.786667-6.826667 13.653333-20.48 20.48-34.133334 27.306666 20.48 6.826667 40.96 13.653333 47.786667 27.306667s20.48 34.133333 20.48 54.613333c0 34.133333-13.653333 61.44-34.133333 75.093334-20.48 13.653333-47.786667 20.48-81.92 20.48H252.586667v-341.333334H409.6zM307.2 464.213333h88.746667c27.306667 0 40.96-6.826667 54.613333-13.653333 13.653333-6.826667 13.653333-20.48 13.653333-40.96s-6.826667-27.306667-13.653333-34.133333c-13.653333-6.826667-27.306667-13.653333-47.786667-13.653334H307.2v102.4z m0 157.013334h95.573333c20.48 0 40.96-6.826667 54.613334-13.653334 13.653333-6.826667 20.48-20.48 20.48-40.96s-6.826667-34.133333-20.48-40.96c-13.653333-6.826667-27.306667-13.653333-54.613334-13.653333H307.2v109.226667zM628.053333 416.426667v150.186666c0 20.48 6.826667 34.133333 13.653334 47.786667 6.826667 6.826667 20.48 13.653333 40.96 13.653333 13.653333 0 27.306667-6.826667 34.133333-13.653333 13.653333-13.653333 20.48-27.306667 27.306667-40.96V423.253333h47.786666v245.76h-47.786666v-34.133333c-20.48 27.306667-47.786667 40.96-75.093334 40.96-61.44 0-88.746667-34.133333-88.746666-102.4V416.426667h47.786666zM928.426667 416.426667h54.613333v40.96h-54.613333v143.36c0 6.826667 0 13.653333 6.826666 13.653333 0 0 6.826667 6.826667 13.653334 6.826667h34.133333v40.96h-40.96c-20.48 0-34.133333-6.826667-47.786667-13.653334-6.826667-13.653333-13.653333-27.306667-13.653333-47.786666V457.386667h-47.786667v-40.96h47.786667v-61.44l47.786667-20.48v81.92zM1099.093333 416.426667h54.613334v40.96h-54.613334v143.36c0 6.826667 0 13.653333 6.826667 13.653333 0 0 6.826667 6.826667 13.653333 6.826667h34.133334v40.96h-40.96c-20.48 0-34.133333-6.826667-47.786667-13.653334-6.826667-13.653333-13.653333-27.306667-13.653333-47.786666V457.386667h-47.786667v-40.96h47.786667v-61.44l47.786666-20.48v81.92zM1399.466667 443.733333c20.48 27.306667 34.133333 54.613333 34.133333 95.573334 0 34.133333-13.653333 68.266667-34.133333 95.573333-20.48 27.306667-54.613333 40.96-88.746667 40.96s-68.266667-13.653333-88.746667-40.96c-20.48-27.306667-34.133333-54.613333-34.133333-95.573333 0-40.96 13.653333-68.266667 34.133333-95.573334 20.48-27.306667 54.613333-34.133333 88.746667-34.133333 40.96 0 68.266667 13.653333 88.746667 34.133333z m-143.36 34.133334c-13.653333 13.653333-13.653333 34.133333-13.653334 61.44s6.826667 47.786667 13.653334 61.44c13.653333 20.48 34.133333 27.306667 54.613333 27.306666 20.48 0 40.96-6.826667 54.613333-27.306666 13.653333-13.653333 20.48-34.133333 20.48-61.44s-6.826667-47.786667-20.48-61.44c-13.653333-20.48-34.133333-27.306667-54.613333-27.306667-20.48 0-40.96 6.826667-54.613333 27.306667zM1699.84 512v150.186667h-47.786667V512c0-40.96-20.48-61.44-54.613333-61.44-13.653333 0-27.306667 6.826667-40.96 13.653333-13.653333 13.653333-20.48 27.306667-20.48 47.786667v150.186667h-47.786667V416.426667h47.786667v27.306666c6.826667-13.653333 20.48-20.48 34.133333-27.306666 13.653333-6.826667 27.306667-6.826667 40.96-6.826667 54.613333 0 88.746667 34.133333 88.746667 102.4z" fill="#515151" p-id="8648" data-spm-anchor-id="a313x.search_index.0.i1.117f3a81AAHUyn" class="" /><path d="M1877.333333 1024h-1774.933333C47.786667 1024 0 976.213333 0 921.6v-819.2C0 47.786667 47.786667 0 102.4 0h1774.933333c54.613333 0 102.4 47.786667 102.4 102.4v819.2c0 54.613333-47.786667 102.4-102.4 102.4zM102.4 68.266667c-20.48 0-34.133333 13.653333-34.133333 34.133333v819.2c0 20.48 13.653333 34.133333 34.133333 34.133333h1774.933333c20.48 0 34.133333-13.653333 34.133334-34.133333v-819.2c0-20.48-13.653333-34.133333-34.133334-34.133333h-1774.933333z" fill="#bfbfbf" p-id="8649" data-spm-anchor-id="a313x.search_index.0.i2.117f3a81AAHUyn" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-el-tag"><path d="M247.164 308.281c-33.742 0-61.116 27.385-61.116 61.116 0 33.761 27.374 61.156 61.116 61.156 33.76 0 61.116-27.395 61.116-61.156 0-33.731-27.355-61.116-61.116-61.116m0 81.488c-11.26 0-20.372-9.102-20.372-20.372 0-11.24 9.111-20.372 20.372-20.372s20.372 9.132 20.372 20.372c0 11.27-9.112 20.372-20.372 20.372m244.464 244.463c5.63 0 10.723-2.248 14.403-5.989l40.744-40.743a20.125 20.125 0 0 0 5.967-14.345c0-11.28-9.11-20.411-20.37-20.411-5.61 0-10.704 2.287-14.405 5.988l-40.743 40.744c-3.68 3.7-5.968 8.754-5.968 14.384-0.001 11.28 9.111 20.372 20.372 20.372m462.585-156.988L546.775 69.806a20.248 20.248 0 0 0-14.404-5.99H247.164c-33.742 0-61.116 27.386-61.116 61.117 0 11.271 9.11 20.372 20.37 20.372s20.373-9.102 20.373-20.372c0-11.24 9.111-20.372 20.372-20.372h276.773l387.067 387.107-46.712 46.692c-3.68 3.69-5.968 8.764-5.968 14.385 0 11.28 9.132 20.41 20.372 20.41 5.63 0 10.723-2.286 14.403-6.027l61.116-61.106a20.247 20.247 0 0 0 5.969-14.354c-0.001-5.659-2.29-10.733-5.97-14.424M389.768 695.348c0 11.28 9.111 20.372 20.372 20.372 5.63 0 10.723-2.248 14.403-5.989l20.372-20.372a20.127 20.127 0 0 0 5.969-14.344c0-11.28-9.112-20.411-20.372-20.411a20.245 20.245 0 0 0-14.404 5.988l-20.371 20.372c-3.681 3.702-5.97 8.793-5.97 14.384m34.776-503.311a20.247 20.247 0 0 0-14.403-5.989H124.932c-33.742 0-61.116 27.385-61.116 61.116v285.208c0 5.63 2.287 10.723 5.968 14.393l407.44 407.43c3.7 3.74 8.793 5.988 14.402 5.988 5.63 0 10.724-2.248 14.404-5.989l325.952-325.95c3.7-3.66 5.968-8.754 5.968-14.384s-2.287-10.682-5.968-14.384l-407.44-407.44z m67.085 718.988L104.56 523.947V247.164c0-11.24 9.11-20.37 20.37-20.37h276.773L788.772 613.86 491.628 911.025z m0-113.817c5.63 0 10.723-2.248 14.403-5.989l81.487-81.488a20.231 20.231 0 0 0 5.97-14.384c0-11.26-9.112-20.332-20.373-20.332-5.63 0-10.723 2.248-14.403 5.948l-81.488 81.488c-3.68 3.7-5.968 8.753-5.968 14.424-0.001 11.24 9.111 20.333 20.372 20.333" p-id="18247" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hamburger"><path d="M691.3024 176.5376c47.3088 36.864 77.824 94.4128 77.824 159.0272 0 20.2752-16.384 36.6592-36.6592 36.6592h-584.704c0 1.6384-0.1024 3.3792-0.1024 5.12 0 20.2752 16.384 36.6592 36.6592 36.6592h655.36c20.2752 0 36.6592-16.384 36.6592-36.6592 0-105.8816-81.5104-192.512-185.0368-200.8064z" fill="#FFA43E" p-id="1687" /><path d="M769.1264 335.4624c0-64.6144-30.5152-122.1632-77.824-159.0272-5.4272-0.4096-10.8544-0.6144-16.2816-0.6144H349.0816c-109.568 0-198.656 87.4496-201.3184 196.3008h584.704c20.1728 0 36.5568-16.384 36.6592-36.6592z" fill="#FFD14F" p-id="1688" /><path d="M814.6944 512.4096h-48.9472c2.1504 6.2464 3.2768 12.9024 3.2768 19.8656V606.208c0 33.9968-27.648 61.6448-61.6448 61.6448H150.9376c8.2944 24.2688 31.232 41.6768 58.368 41.6768h605.3888c33.9968 0 61.6448-27.648 61.6448-61.6448v-73.9328c0-33.8944-27.5456-61.5424-61.6448-61.5424z" fill="#E01E22" p-id="1689" /><path d="M769.1264 606.3104v-73.9328c0-6.9632-1.2288-13.6192-3.2768-19.8656H209.3056c-33.9968 0-61.6448 27.648-61.6448 61.6448v73.9328c0 6.9632 1.1264 13.6192 3.2768 19.8656h556.544c33.9968-0.1024 61.5424-27.648 61.6448-61.6448z" fill="#F06661" p-id="1690" /><path d="M835.1744 413.7984H769.024v15.6672c0 22.7328-18.432 41.1648-41.1648 41.1648H147.6608v0.512c0 22.7328 18.432 41.1648 41.1648 41.1648h646.3488c22.7328 0 41.1648-18.432 41.1648-41.1648v-16.2816c0-22.6304-18.432-41.0624-41.1648-41.0624z" fill="#3EBA4A" p-id="1691" /><path d="M769.1264 429.568v-15.6672H188.8256c-22.7328 0-41.1648 18.432-41.1648 41.1648v15.6672h580.3008c22.6304 0 41.0624-18.432 41.1648-41.1648z" fill="#68E077" p-id="1692" /><path d="M848.384 709.632H769.024v14.336c0 45.568-36.864 82.432-82.432 82.432H158.4128c14.2336 24.8832 40.96 41.6768 71.68 41.6768h563.8144c45.568 0 82.432-36.864 82.432-82.432v-28.16c0-15.36-12.4928-27.8528-27.9552-27.8528z" fill="#FFA43E" p-id="1693" /><path d="M769.1264 723.968v-14.336H175.616c-15.4624 0-27.9552 12.4928-27.9552 27.9552v28.16c0 14.848 3.8912 28.672 10.752 40.7552h528.1792c45.568-0.1024 82.5344-36.9664 82.5344-82.5344z" fill="#FFD14F" p-id="1694" /><path d="M420.7616 540.5696l-68.9152 68.9152 26.112 26.112 95.1296-95.1296c18.0224-18.0224 42.496-28.16 67.9936-28.16h-52.3264c-25.6 0.1024-49.9712 10.24-67.9936 28.2624z" fill="#FFA43E" p-id="1695" /><path d="M488.6528 512.4096H214.9376c25.4976 0 49.9712 10.1376 67.9936 28.16l68.9152 68.9152 68.9152-68.9152c18.0224-18.0224 42.496-28.16 67.8912-28.16z" fill="#FFD14F" p-id="1696" /><path d="M499.2 264.0896a26.3168 15.4624 90 1 0 30.9248 0 26.3168 15.4624 90 1 0-30.9248 0Z" fill="#FDF7E5" p-id="1697" /><path d="M377.060391 277.944478a15.4624 26.3168 30 1 0 26.3168-45.582035 15.4624 26.3168 30 1 0-26.3168 45.582035Z" fill="#FDF7E5" p-id="1698" /><path d="M625.699208 262.908333a26.3168 15.4624 60 1 0 26.781662-15.4624 26.3168 15.4624 60 1 0-26.781662 15.4624Z" fill="#FDF7E5" p-id="1699" /><path d="M867.4304 415.0272c11.5712-8.4992 19.1488-22.3232 19.1488-37.7856 0-116.736-94.9248-211.6608-211.6608-211.6608H349.0816c-116.736 0-211.6608 94.9248-211.6608 211.6608 0 15.4624 7.5776 29.184 19.1488 37.7856-11.6736 9.4208-19.1488 23.8592-19.1488 40.0384v16.2816c0 19.968 11.4688 37.2736 28.16 45.7728-17.1008 13.1072-28.16 33.792-28.16 56.9344v73.9328c0 21.504 9.5232 40.7552 24.4736 53.9648-14.336 5.5296-24.4736 19.3536-24.4736 35.6352v28.16c0 51.0976 41.5744 92.672 92.672 92.672h563.8144c51.0976 0 92.672-41.5744 92.672-92.672v-28.16c0-16.1792-10.1376-30.1056-24.4736-35.6352 14.9504-13.2096 24.4736-32.4608 24.4736-53.9648v-73.9328c0-23.1424-11.0592-43.8272-28.16-56.9344 16.6912-8.4992 28.16-25.8048 28.16-45.7728v-16.2816c0-16.1792-7.4752-30.6176-19.1488-40.0384zM184.32 403.5584c-14.5408 0-26.4192-11.776-26.4192-26.4192 0-105.3696 85.8112-191.1808 191.1808-191.1808h325.9392c105.3696 0 191.1808 85.8112 191.1808 191.1808 0 14.5408-11.776 26.4192-26.4192 26.4192H184.32z m293.888 119.0912c-4.4032 3.1744-8.4992 6.7584-12.3904 10.6496l-87.8592 87.8592-87.8592-87.8592c-3.8912-3.8912-8.0896-7.4752-12.3904-10.6496H478.208z m387.8912 243.0976c0 39.8336-32.3584 72.192-72.192 72.192H230.0928c-39.8336 0-72.192-32.3584-72.192-72.192v-28.16c0-9.728 7.9872-17.7152 17.7152-17.7152h672.8704c9.728 0 17.7152 7.9872 17.7152 17.7152v28.16z m0-191.6928v73.9328c0 28.3648-23.04 51.4048-51.4048 51.4048H209.3056c-28.3648 0-51.4048-23.04-51.4048-51.4048v-73.9328c0-28.3648 23.04-51.4048 51.4048-51.4048h5.632c22.9376 0 44.544 8.9088 60.7232 25.1904l95.1296 95.1296c1.9456 1.9456 4.5056 2.9696 7.2704 2.9696 2.6624 0 5.3248-1.024 7.2704-2.9696L480.256 547.84c16.1792-16.1792 37.7856-25.1904 60.7232-25.1904h273.7152c28.3648 0 51.4048 23.1424 51.4048 51.4048z m0-102.8096c0 17.1008-13.824 30.9248-30.9248 30.9248H188.8256c-16.9984 0-30.9248-13.824-30.9248-30.9248v-16.2816c0-17.1008 13.9264-30.9248 30.9248-30.9248h646.3488c17.1008 0 30.9248 13.9264 30.9248 30.9248v16.2816z m-72.192 387.1744zM377.9584 645.9392z m136.704-351.4368c10.9568 0 19.5584-13.4144 19.5584-30.4128 0-17.1008-8.6016-30.4128-19.5584-30.4128s-19.5584 13.4144-19.5584 30.4128c0 17.1008 8.6016 30.4128 19.5584 30.4128z m0-52.6336c5.3248 0 11.3664 9.1136 11.3664 22.2208 0 13.1072-5.9392 22.2208-11.3664 22.2208s-11.3664-9.1136-11.3664-22.2208c0-13.1072 6.0416-22.2208 11.3664-22.2208z m-139.5712 39.6288c2.1504 1.2288 4.5056 1.8432 7.0656 1.8432 3.2768 0 6.7584-1.024 10.3424-3.072 5.632-3.1744 10.8544-8.704 14.7456-15.36 8.4992-14.7456 7.7824-30.6176-1.7408-36.1472-4.9152-2.8672-11.0592-2.3552-17.408 1.2288-5.632 3.1744-10.8544 8.704-14.7456 15.36-8.4992 14.7456-7.7824 30.6176 1.7408 36.1472z m5.3248-32.0512c3.072-5.4272 7.3728-9.9328 11.6736-12.3904 2.2528-1.3312 4.4032-1.9456 6.2464-1.9456 1.1264 0 2.1504 0.2048 2.9696 0.7168 4.608 2.6624 5.2224 13.6192-1.3312 24.9856-3.072 5.4272-7.3728 9.9328-11.6736 12.3904-3.6864 2.048-7.0656 2.56-9.216 1.2288-4.608-2.7648-5.2224-13.6192 1.3312-24.9856zM636.928 280.2688c3.584 2.048 7.0656 3.072 10.3424 3.072 2.56 0 4.9152-0.6144 7.0656-1.8432 9.5232-5.5296 10.24-21.4016 1.7408-36.1472-3.8912-6.7584-9.1136-12.1856-14.7456-15.36-6.3488-3.584-12.4928-3.9936-17.408-1.2288-9.5232 5.5296-10.24 21.4016-1.7408 36.1472 3.8912 6.656 9.1136 12.1856 14.7456 15.36z m-9.0112-44.4416c2.2528-1.3312 5.632-0.8192 9.216 1.2288 4.3008 2.4576 8.6016 6.9632 11.6736 12.3904 6.5536 11.3664 5.9392 22.3232 1.3312 24.9856-2.2528 1.3312-5.632 0.8192-9.216-1.2288-4.3008-2.4576-8.6016-6.9632-11.6736-12.3904-6.5536-11.3664-5.9392-22.2208-1.3312-24.9856z" p-id="1700" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-hotpot"><path d="M962.4576 438.4768h-64.3072c-11.6736-61.6448-37.6832-118.1696-74.5472-165.9904 17.6128 48.0256 27.136 99.84 27.136 153.9072 0 246.9888-200.192 447.1808-447.1808 447.1808-17.92 0-35.5328-1.024-52.8384-3.072 49.152 22.1184 103.7312 34.5088 161.1776 34.5088 192 0 351.744-137.6256 386.1504-319.5904h64.3072c10.752 0 19.456-8.704 19.456-19.456V457.9328c0.1024-10.752-8.6016-19.456-19.3536-19.456z" fill="#FFA43E" p-id="1853" /><path d="M850.8416 426.496c0-54.0672-9.6256-105.8816-27.136-153.9072-71.8848-93.3888-184.7296-153.6-311.7056-153.6-192 0-351.744 137.6256-386.1504 319.5904H61.5424c-10.752 0-19.456 8.704-19.456 19.456v108.1344c0 10.752 8.704 19.456 19.456 19.456h64.3072c24.1664 127.488 109.7728 233.2672 224.9728 285.0816 17.3056 2.048 34.9184 3.072 52.8384 3.072 246.9888-0.1024 447.1808-200.3968 447.1808-447.2832z" fill="#FFD14F" p-id="1854" /><path d="M680.6528 681.6768c0-93.184-75.5712-168.6528-168.6528-168.6528s-168.6528-75.5712-168.6528-168.6528S418.816 175.616 512 175.616v-1.9456c-186.88 0-338.3296 151.4496-338.3296 338.3296S325.12 850.3296 512 850.3296c93.184 0 168.6528-75.4688 168.6528-168.6528z" fill="#FDF7E5" p-id="1855" /><path d="M512 173.6704v1.9456c-93.184 0-168.6528 75.5712-168.6528 168.6528S418.816 512.9216 512 512.9216s168.6528 75.5712 168.6528 168.6528S605.184 850.3296 512 850.3296c186.88 0 338.3296-151.4496 338.3296-338.3296S698.88 173.6704 512 173.6704z" fill="#E01E22" p-id="1856" /><path d="M557.568 394.1376l19.5584-19.5584c27.648-27.648-27.4432-82.6368-54.9888-54.9888L391.5776 450.048s6.2464 29.3888 62.464 52.6336 92.16 11.5712 92.16 11.5712l59.8016-59.8016c27.5456-27.5456-20.8896-87.8592-48.4352-60.3136z" fill="#F06661" p-id="1857" /><path d="M592.4864 444.7232c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.336 17.408 46.08 31.744 31.744z" fill="#E01E22" p-id="1858" /><path d="M349.4912 488.7552c0-14.9504-10.9568-27.7504-26.4192-32.768 3.3792 5.12 5.4272 11.0592 5.4272 17.408 0 12.1856-7.2704 22.9376-18.2272 29.184 1.536 3.9936 2.3552 8.192 2.3552 12.5952 0 21.9136-20.6848 39.7312-46.2848 39.7312-6.4512 0-12.5952-1.1264-18.2272-3.1744 8.192 11.1616 22.6304 18.6368 39.2192 18.6368 25.6 0 46.2848-17.8176 46.2848-39.7312 0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.3488 18.2272-17.1008 18.2272-29.2864z" fill="#3EBA4A" p-id="1859" /><path d="M312.6272 515.1744c0-4.4032-0.8192-8.6016-2.3552-12.5952 10.9568-6.2464 18.2272-16.9984 18.2272-29.184 0-6.3488-1.9456-12.288-5.4272-17.408-4.5056-1.4336-9.4208-2.2528-14.5408-2.2528-14.6432 0-27.5456 6.656-34.7136 16.5888-5.9392-3.9936-13.312-6.3488-21.4016-6.3488-19.2512 0-34.9184 13.4144-34.9184 30.0032 0 13.4144 10.24 24.7808 24.4736 28.5696-0.6144 2.56-0.9216 5.3248-0.9216 8.0896 0 7.7824 2.6624 15.0528 7.0656 21.1968 5.632 2.048 11.776 3.1744 18.2272 3.1744 25.6-0.1024 46.2848-17.92 46.2848-39.8336z" fill="#68E077" p-id="1860" /><path d="M558.6944 620.4416c14.848 17.8176 21.1968 41.1648 15.1552 64.512-10.8544 42.2912-58.0608 68.8128-105.472 59.0848-4.8128-1.024-9.4208-2.2528-13.824-3.8912 12.0832 14.4384 29.696 25.3952 50.9952 29.696 47.4112 9.728 94.6176-16.7936 105.472-59.0848 9.728-38.0928-13.2096-75.9808-52.3264-90.3168zM432.5376 586.8544c13.4144 16.0768 19.1488 37.1712 13.7216 58.2656-9.8304 38.2976-52.5312 62.1568-95.3344 53.4528-4.3008-0.9216-8.4992-2.048-12.4928-3.584 10.8544 13.1072 26.9312 22.9376 46.08 26.8288 42.9056 8.704 85.6064-15.1552 95.3344-53.4528 8.8064-34.304-11.9808-68.608-47.3088-81.5104z" fill="#7C4115" p-id="1861" /><path d="M446.2592 645.12c5.4272-21.0944-0.3072-42.1888-13.7216-58.2656-3.9936-1.4336-8.192-2.6624-12.4928-3.584-42.9056-8.704-85.6064 15.1552-95.3344 53.4528-5.4272 21.0944 0.3072 42.1888 13.7216 58.2656 3.9936 1.4336 8.192 2.6624 12.4928 3.584 42.8032 8.704 85.504-15.1552 95.3344-53.4528zM573.8496 684.9536c5.9392-23.3472-0.3072-46.592-15.1552-64.512-4.4032-1.6384-9.0112-2.9696-13.824-3.8912-47.4112-9.728-94.6176 16.7936-105.472 59.0848-5.9392 23.3472 0.4096 46.592 15.2576 64.512 4.4032 1.6384 9.0112 2.9696 13.824 3.8912 47.3088 9.6256 94.5152-16.7936 105.3696-59.0848z" fill="#8B5526" p-id="1862" /><path d="M542.3104 676.1472l33.28 13.824-37.6832 1.1264c-2.7648 0.1024-5.2224 1.3312-6.5536 3.1744l-17.6128 26.0096-1.4336-29.3888c-0.1024-2.1504-1.6384-4.096-4.096-5.12l-33.28-13.824 37.6832-1.1264c2.7648-0.1024 5.2224-1.3312 6.5536-3.1744l17.6128-26.0096 1.4336 29.3888c0 2.2528 1.6384 4.1984 4.096 5.12zM419.5328 636.928l30.72 12.6976-34.7136 1.024c-2.56 0.1024-4.8128 1.2288-6.0416 2.9696L393.216 677.5808l-1.3312-27.0336c-0.1024-1.9456-1.536-3.7888-3.7888-4.7104l-30.72-12.6976 34.7136-1.024c2.56-0.1024 4.8128-1.2288 6.0416-2.9696l16.2816-23.9616 1.3312 27.0336c0.1024 1.9456 1.536 3.7888 3.7888 4.7104z" fill="#C8A981" p-id="1863" /><path d="M767.8976 503.6032c3.584 7.0656 5.632 15.0528 5.632 23.552 0 28.8768-23.3472 52.224-52.224 52.224-8.4992 0-16.4864-2.048-23.552-5.632 8.6016 16.9984 26.3168 28.7744 46.6944 28.7744 28.8768 0 52.224-23.3472 52.224-52.224 0-20.3776-11.776-38.0928-28.7744-46.6944z" fill="#E01E22" p-id="1864" /><path d="M773.5296 527.1552c0-8.4992-2.048-16.4864-5.632-23.552-7.0656-3.584-15.0528-5.632-23.552-5.632-28.8768 0-52.224 23.4496-52.224 52.224 0 8.4992 2.048 16.4864 5.632 23.552 7.0656 3.584 15.0528 5.632 23.552 5.632 28.7744 0 52.224-23.3472 52.224-52.224z" fill="#F06661" p-id="1865" /><path d="M563.5072 364.9536c14.336-14.336-17.5104-46.08-31.744-31.744-14.336 14.2336 17.5104 45.9776 31.744 31.744z" fill="#E01E22" p-id="1866" /><path d="M752.3328 369.5616c3.1744 5.7344 5.0176 12.288 5.0176 19.3536 0 22.016-17.8176 39.8336-39.8336 39.8336-7.0656 0-13.6192-1.8432-19.3536-5.0176 6.7584 12.1856 19.8656 20.48 34.816 20.48 22.016 0 39.8336-17.8176 39.8336-39.8336 0-15.0528-8.2944-28.0576-20.48-34.816z" fill="#FFA43E" p-id="1867" /><path d="M717.7216 310.6816c4.096 7.4752 6.5536 15.9744 6.5536 25.088 0 28.5696-23.1424 51.712-51.712 51.712-9.1136 0-17.7152-2.3552-25.088-6.5536 8.8064 15.872 25.8048 26.624 45.2608 26.624 28.5696 0 51.712-23.1424 51.712-51.712-0.1024-19.3536-10.8544-36.2496-26.7264-45.1584z" fill="#E2E2E2" p-id="1868" /><path d="M757.3504 388.9152c0-7.0656-1.8432-13.6192-5.0176-19.3536-5.7344-3.1744-12.288-5.0176-19.3536-5.0176-22.016 0-39.8336 17.8176-39.8336 39.8336 0 7.0656 1.8432 13.6192 5.0176 19.3536 5.7344 3.1744 12.288 5.0176 19.3536 5.0176 21.9136 0 39.8336-17.92 39.8336-39.8336z" fill="#FFD14F" p-id="1869" /><path d="M724.2752 335.872c0-9.1136-2.3552-17.7152-6.5536-25.088-7.4752-4.096-15.9744-6.5536-25.088-6.5536-28.5696 0-51.712 23.1424-51.712 51.712 0 9.1136 2.3552 17.7152 6.5536 25.088 7.4752 4.096 15.9744 6.5536 25.088 6.5536 28.5696 0 51.712-23.1424 51.712-51.712z" fill="#FFFFFF" p-id="1870" /><path d="M512 163.4304c-93.0816 0-180.6336 36.2496-246.4768 102.0928S163.4304 418.9184 163.4304 512s36.2496 180.6336 102.0928 246.4768 153.3952 102.0928 246.4768 102.0928 180.6336-36.2496 246.4768-102.0928 102.0928-153.3952 102.0928-246.4768-36.2496-180.6336-102.0928-246.4768-153.3952-102.0928-246.4768-102.0928zM183.9104 512c0-142.6432 91.5456-264.3968 218.9312-309.4528-42.3936 32.768-69.8368 84.0704-69.8368 141.7216 0 98.6112 80.2816 178.8928 178.8928 178.8928 87.3472 0 158.4128 71.0656 158.4128 158.4128S599.3472 840.0896 512 840.0896c-180.9408 0-328.0896-147.1488-328.0896-328.0896z m414.8224-64.8192l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 2.2528-2.2528 5.3248-2.9696 9.1136-2.048 3.8912 0.9216 8.0896 3.584 11.6736 7.168s6.2464 7.8848 7.168 11.6736c0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 4.3008-4.3008 5.8368-10.3424 4.096-16.896-1.3312-5.3248-4.608-10.8544-9.3184-15.4624-9.0112-9.0112-23.04-14.5408-32.3584-5.12-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.6912 12.1856L550.4 495.616c-10.6496-15.36-15.872-38.2976-16.0768-55.5008-0.1024-3.7888 0.1024-7.0656 0.512-9.9328l23.4496-23.4496c10.6496-10.6496 26.7264-0.2048 33.6896 6.7584 6.9632 7.0656 17.408 23.04 6.7584 33.6896z m-123.904 42.9056c0 2.7648 0.1024 5.5296 0.3072 8.2944-2.2528-0.512-4.5056-1.1264-6.7584-1.7408l6.4512-6.5536z m8.6016 10.0352c-0.7168-7.168-0.6144-13.5168 0-18.6368l22.7328-22.7328c0.4096 12.9024 3.584 28.672 10.5472 44.032-1.536 0-3.072-0.1024-4.7104-0.1024-9.728 0-19.2512-0.8192-28.5696-2.56z m42.5984 3.1744c-10.0352-19.8656-12.4928-40.1408-11.5712-52.736l11.6736-11.6736v1.3312c0.3072 19.5584 6.144 44.4416 18.432 61.2352l-3.584 3.584c-5.0176-0.8192-9.9328-1.3312-14.9504-1.7408z m43.8272-135.8848l-6.9632 6.9632c-5.12-1.7408-11.3664-5.8368-17.2032-11.6736-10.5472-10.5472-15.36-22.2208-10.9568-26.624 5.12-5.12 14.336-1.2288 20.7872 5.12 3.584 3.584 6.2464 7.8848 7.168 11.6736 0.9216 3.7888 0.3072 6.8608-2.048 9.1136-1.6384 1.6384-1.6384 4.1984 0 5.8368 1.6384 1.6384 4.1984 1.6384 5.8368 0 9.3184-9.3184 3.8912-23.3472-5.12-32.3584s-23.04-14.5408-32.3584-5.12c-9.4208 9.4208-1.2288 25.9072 10.9568 38.1952 5.12 5.12 10.9568 9.5232 16.7936 12.1856l-6.3488 6.3488-0.2048 0.2048c-2.2528 1.4336-4.4032 3.072-6.3488 5.12l-22.8352 22.8352c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l23.4496-23.4496c4.3008-4.3008 9.728-5.5296 16.4864-3.7888 12.0832 3.1744 24.576 15.6672 27.7504 27.7504 1.8432 6.5536 0.6144 11.8784-3.6864 16.2816z m-72.704-8.3968v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776zM477.184 378.9824c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.6384 10.4448 6.144 29.2864 18.3296 47.3088l-27.136 27.136c-10.3424-15.36-15.36-37.888-15.5648-54.784-0.1024-3.7888 0.1024-7.0656 0.4096-9.8304l22.7328-22.7328z m-31.3344 31.3344v1.3312c0.3072 19.2512 5.9392 43.7248 17.92 60.6208l-12.3904 12.3904c-14.5408-22.2208-18.3296-47.7184-17.2032-62.5664l11.6736-11.776z m-20.0704 20.0704c0.1024 4.096 0.6144 8.3968 1.2288 12.9024 1.536 9.728 5.5296 26.8288 15.9744 43.7248-16.0768-7.7824-30.6176-18.2272-43.1104-30.72l25.9072-25.9072z m199.7824 389.4272c39.936-32.8704 65.4336-82.6368 65.4336-138.24 0-80.4864-53.3504-148.6848-126.5664-171.1104l48.8448-48.8448c18.3296-18.3296 10.4448-45.4656-6.8608-62.6688-6.8608-6.8608-15.36-12.288-24.1664-15.1552l2.048-2.048c9.5232-9.5232 12.8-22.4256 9.0112-36.2496-5.12-19.3536-22.9376-37.0688-42.2912-42.2912-13.824-3.6864-26.7264-0.512-36.2496 9.0112L386.4576 440.7296c-20.5824-26.7264-32.8704-60.2112-32.8704-96.4608 0-87.3472 71.0656-158.4128 158.4128-158.4128 2.1504 0 4.1984-0.7168 5.8368-1.8432 178.176 3.1744 322.2528 149.0944 322.2528 327.9872 0 141.0048-89.3952 261.5296-214.528 307.8144z m272.5888-262.144c-2.2528 0-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096s4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.7408 4.096-4.096 4.096z m-772.3008-91.3408c2.2528 0 4.096 1.8432 4.096 4.096v83.1488c0 2.2528-1.8432 4.096-4.096 4.096s-4.096-1.8432-4.096-4.096v-83.1488c0-2.2528 1.8432-4.096 4.096-4.096z m218.0096 64.2048c0-2.7648-0.3072-5.632-0.8192-8.2944 10.5472-8.4992 16.5888-20.5824 16.5888-33.4848 0-24.9856-22.9376-45.3632-51.0976-45.3632-14.2336 0-27.4432 5.12-37.0688 14.0288-5.9392-2.4576-12.3904-3.7888-19.1488-3.7888-24.8832 0-45.1584 18.0224-45.1584 40.2432 0 15.0528 9.1136 28.3648 23.4496 35.328v1.3312c0 27.5456 25.3952 49.9712 56.5248 49.9712s56.7296-22.3232 56.7296-49.9712z m-22.1184-8.9088c1.1264 2.8672 1.7408 5.9392 1.7408 8.9088 0 16.2816-16.1792 29.4912-36.0448 29.4912-19.8656 0-36.0448-13.2096-36.0448-29.4912 0-1.9456 0.2048-3.7888 0.7168-5.7344 1.3312-5.4272-1.9456-10.8544-7.2704-12.288-10.0352-2.7648-16.896-10.24-16.896-18.7392 0-10.8544 11.0592-19.7632 24.6784-19.7632 5.8368 0 11.264 1.6384 15.7696 4.608 4.608 3.072 10.752 1.9456 14.0288-2.56 5.5296-7.5776 15.6672-12.3904 26.4192-12.3904 16.896 0 30.6176 11.1616 30.6176 24.8832 0 8.0896-4.9152 15.6672-13.1072 20.3776-4.608 2.6624-6.4512 7.9872-4.608 12.6976z m203.3664 260.4032c44.7488 0 85.2992-27.8528 95.8464-68.8128 5.632-21.7088 1.9456-44.4416-10.24-63.7952-13.6192-21.7088-36.864-37.376-63.8976-42.9056-22.016-4.5056-44.032-1.8432-63.0784 6.144-12.4928-20.5824-34.2016-35.5328-59.904-40.7552-48.8448-10.0352-97.792 17.8176-109.1584 61.952-5.2224 20.2752-1.8432 41.3696 9.5232 59.392 12.6976 20.2752 34.304 34.816 59.392 39.936 6.656 1.3312 13.4144 2.048 20.1728 2.048 10.9568 0 21.8112-1.7408 32.0512-5.2224 1.2288 2.3552 2.4576 4.608 3.8912 6.8608 13.6192 21.7088 36.864 37.376 63.8976 42.9056 7.168 1.536 14.4384 2.2528 21.504 2.2528z m-137.3184-68.9152c-19.6608-3.9936-36.4544-15.1552-46.08-30.72-8.2944-13.312-10.752-28.672-6.9632-43.52 8.6016-33.6896 46.8992-54.784 85.1968-47.0016 19.6608 3.9936 36.352 15.1552 45.9776 30.5152-8.192 5.632-15.5648 12.4928-21.504 20.2752l-23.2448-9.6256c-0.8192-0.3072-1.2288-0.8192-1.2288-1.1264l-1.3312-27.0336c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384L394.8544 626.688c-0.3072 0.512-1.3312 1.1264-2.7648 1.1264l-34.7136 1.024c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l30.72 12.6976c0.8192 0.3072 1.2288 0.8192 1.2288 1.1264l1.3312 27.0336c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l16.2816-23.9616c0.4096-0.512 1.3312-1.1264 2.7648-1.1264l21.4016-0.6144c-3.1744 5.9392-5.7344 12.288-7.4752 18.944-3.1744 12.4928-3.3792 25.2928-0.6144 37.6832-13.2096 4.4032-27.5456 5.3248-41.2672 2.4576z m43.2128-66.9696l-15.5648 0.512c-3.8912 0.1024-7.3728 1.8432-9.3184 4.7104l-9.4208 13.824-0.7168-14.848c-0.2048-3.584-2.56-6.7584-6.3488-8.2944l-13.0048-5.4272 15.5648-0.512c3.8912-0.1024 7.3728-1.8432 9.3184-4.7104l9.4208-13.824 0.7168 14.848c0.2048 3.584 2.56 6.7584 6.3488 8.2944l13.0048 5.4272z m26.0096 79.872c-9.1136-14.6432-11.8784-31.6416-7.68-47.9232 4.7104-18.3296 17.3056-33.1776 33.9968-42.5984 0 0 0.1024 0 0.1024-0.1024 0.6144-0.3072 1.2288-0.6144 1.7408-1.024 11.8784-6.2464 25.6-9.728 39.936-9.728 5.8368 0 11.776 0.6144 17.7152 1.8432 21.504 4.4032 39.936 16.6912 50.5856 33.6896 9.1136 14.6432 11.8784 31.6416 7.68 47.9232-8.192 31.8464-40.2432 53.3504-75.776 53.3504-5.8368 0-11.776-0.6144-17.7152-1.8432-21.504-4.3008-39.936-16.5888-50.5856-33.5872z m80.9984-30.8224l37.6832-1.1264c1.9456-0.1024 3.584-1.4336 3.8912-3.3792s-0.7168-3.7888-2.4576-4.5056l-33.28-13.824c-1.024-0.4096-1.536-1.1264-1.536-1.536l-1.4336-29.3888c-0.1024-1.7408-1.2288-3.2768-2.9696-3.7888s-3.4816 0.2048-4.5056 1.6384l-17.6128 26.0096c-0.4096 0.7168-1.6384 1.3312-3.2768 1.4336l-37.6832 1.1264c-1.9456 0.1024-3.584 1.4336-3.8912 3.3792-0.3072 1.9456 0.7168 3.7888 2.4576 4.5056l33.28 13.824c1.024 0.4096 1.536 1.1264 1.536 1.536l1.4336 29.3888c0.1024 1.7408 1.2288 3.2768 2.9696 3.7888 0.4096 0.1024 0.7168 0.2048 1.1264 0.2048 1.3312 0 2.56-0.6144 3.3792-1.8432l17.6128-26.0096c0.512-0.7168 1.6384-1.4336 3.2768-1.4336z m-10.0352-3.1744l-10.752 15.872-0.8192-17.2032c-0.2048-3.6864-2.7648-7.0656-6.656-8.704l-15.6672-6.4512 18.5344-0.512c4.096-0.1024 7.7824-1.9456 9.8304-5.0176l10.752-15.872 0.8192 17.2032c0.2048 3.6864 2.7648 7.0656 6.656 8.704l15.6672 6.4512-18.5344 0.512c-4.096 0.1024-7.7824 1.9456-9.8304 5.0176z m-14.2336 32.3584z m168.1408-174.08c0 34.5088 28.0576 62.464 62.464 62.464 34.5088 0 62.464-28.0576 62.464-62.464s-28.0576-62.464-62.464-62.464-62.464 27.9552-62.464 62.464z m104.5504 0c0 23.1424-18.8416 41.984-41.984 41.984s-41.984-18.8416-41.984-41.984 18.8416-41.984 41.984-41.984c23.04 0 41.984 18.8416 41.984 41.984z m-94.3104-256.3072c-34.4064 0-62.3616 27.9552-62.3616 62.3616 0 31.9488 24.1664 58.368 55.1936 61.952 6.0416 20.7872 25.2928 36.1472 48.128 36.1472 27.648 0 50.0736-22.4256 50.0736-50.0736 0-19.968-11.6736-37.1712-28.5696-45.2608 0-0.9216 0.1024-1.8432 0.1024-2.7648-0.2048-34.4064-28.16-62.3616-62.5664-62.3616zM650.24 356.352c0-23.1424 18.8416-41.8816 41.8816-41.8816 22.4256 0 40.7552 17.7152 41.8816 39.8336h-1.024c-25.1904 0-46.1824 18.7392-49.5616 43.1104-18.944-4.096-33.1776-20.8896-33.1776-41.0624z m82.7392 77.6192c-16.2816 0-29.5936-13.312-29.5936-29.5936s13.312-29.5936 29.5936-29.5936c16.2816 0 29.5936 13.312 29.5936 29.5936s-13.312 29.5936-29.5936 29.5936z m259.1744 23.9616v108.1344c0 16.384-13.312 29.696-29.696 29.696h-55.808c-39.2192 185.6512-203.776 319.5904-394.5472 319.5904S156.672 781.5168 117.5552 595.7632H61.5424c-16.384 0-29.696-13.312-29.696-29.696V457.9328c0-16.384 13.312-29.696 29.696-29.696h55.9104c39.1168-185.6512 203.776-319.5904 394.5472-319.5904 45.9776 0 91.0336 7.68 133.9392 22.7328 41.472 14.6432 80.1792 35.84 114.8928 63.1808 4.4032 3.4816 5.2224 9.9328 1.7408 14.336-3.4816 4.4032-9.9328 5.2224-14.336 1.7408-67.8912-53.3504-149.6064-81.5104-236.2368-81.5104-183.808 0-342.016 130.8672-376.1152 311.1936-0.9216 5.12-5.5296 8.6016-10.6496 8.2944H61.5424c-5.12 0-9.216 4.096-9.216 9.216v108.1344c0 5.12 4.096 9.216 9.216 9.216h63.7952c5.0176-0.2048 9.5232 3.2768 10.4448 8.2944C169.984 763.904 328.192 894.7712 512 894.7712S854.016 763.904 888.1152 583.5776c0.9216-5.12 5.5296-8.6016 10.6496-8.2944h63.6928c5.12 0 9.216-4.096 9.216-9.216V457.9328c0-5.12-4.096-9.216-9.216-9.216h-63.7952c-5.0176 0.2048-9.5232-3.2768-10.4448-8.2944-13.7216-72.704-48.2304-139.4688-99.6352-193.2288-3.8912-4.096-3.7888-10.5472 0.3072-14.4384s10.5472-3.7888 14.4384 0.3072c52.224 54.4768 87.8592 121.856 103.3216 195.2768h55.808c16.384-0.1024 29.696 13.2096 29.696 29.5936z" p-id="1871" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-light">\r
    <path d="M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z" fill="#cccccc" />\r
    <path d="M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z" fill="#bbbbbb" />\r
    <path d="M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z" fill="#666666" />\r
    <path d="M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z" fill="#2D4375" />\r
    <path d="M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z" fill="#1E2D4F" />\r
    <path d="M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z" fill="#CEEFF6" />\r
    <path d="M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z" fill="#FFFFFF" />\r
    <path d="M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z" fill="#CEEFF6" />\r
</symbol><symbol class="icon" viewBox="0 0 1580 1024"   id="svg-now-time"><path d="M54.993477 66.732873m55.901883 0l1163.038674 0q55.901883 0 55.901883 55.901883l0 625.891456q0 55.901883-55.901883 55.901883l-1163.038674 0q-55.901883 0-55.901883-55.901883l0-625.891456q0-55.901883 55.901883-55.901883Z" fill="#e6e6e6" p-id="6094" data-spm-anchor-id="a313x.search_index.0.i18.9f9f3a81a77f69" class="" /><path d="M1281.900053 860.190223H102.929342A102.999219 102.999219 0 0 1 0 757.330759V113.830209A103.069097 103.069097 0 0 1 102.929342 10.900867h1178.970711a102.999219 102.999219 0 0 1 102.859464 102.929342v643.50055a102.929342 102.929342 0 0 1-102.859464 102.859464zM102.929342 24.876338A89.023749 89.023749 0 0 0 13.975471 113.830209v643.50055a89.023749 89.023749 0 0 0 88.953871 88.883994h1178.970711a89.023749 89.023749 0 0 0 88.883993-88.883994V113.830209a89.023749 89.023749 0 0 0-88.883993-88.953871z" fill="#cdcdcd" p-id="6095" data-spm-anchor-id="a313x.search_index.0.i21.9f9f3a81a77f69" class="" /><path d="M145.554528 854.390403m21.452347 0l155.896376 0q21.452348 0 21.452348 21.452348l0 0q0 21.452348-21.452348 21.452347l-155.896376 0q-21.452348 0-21.452347-21.452347l0 0q0-21.452348 21.452347-21.452348Z" fill="#707070" p-id="6096" data-spm-anchor-id="a313x.search_index.0.i23.9f9f3a81a77f69" class="" /><path d="M262.45934 0m12.438169 0l835.034376 0q12.438169 0 12.438169 12.438169l0 0q0 12.438169-12.438169 12.438169l-835.034376 0q-12.438169 0-12.438169-12.438169l0 0q0-12.438169 12.438169-12.438169Z" fill="#8a8a8a" p-id="6097" data-spm-anchor-id="a313x.search_index.0.i24.9f9f3a81a77f69" class="" /><path d="M1006.02426 853.202488m21.452348 0l155.896376 0q21.452348 0 21.452348 21.452348l0 0q0 21.452348-21.452348 21.452347l-155.896376 0q-21.452348 0-21.452348-21.452347l0 0q0-21.452348 21.452348-21.452348Z" fill="#707070" p-id="6098" data-spm-anchor-id="a313x.search_index.0.i25.9f9f3a81a77f69" class="" /><path d="M1273.934034 832.379037H110.89536a83.852824 83.852824 0 0 1-83.852824-83.852825V122.634756a83.852824 83.852824 0 0 1 83.852824-83.852825h1163.038674a83.852824 83.852824 0 0 1 83.852825 83.852825v625.891456a83.852824 83.852824 0 0 1-83.852825 83.852825zM110.89536 94.683814a27.950941 27.950941 0 0 0-27.950941 27.950942v625.891456a27.950941 27.950941 0 0 0 27.950941 27.950942h1163.038674a27.950941 27.950941 0 0 0 27.950942-27.950942V122.634756a27.950941 27.950941 0 0 0-27.950942-27.950942z" fill="#8a8a8a" p-id="6099" data-spm-anchor-id="a313x.search_index.0.i22.9f9f3a81a77f69" class="" /><path d="M258.126944 581.589214h-5.729943q-51.639364-3.354113-51.639364-56.530779v-59.954769q0.419264-34.938677 23.129404-44.931139c-13.975471-7.406999-20.613819-21.38247-20.963206-41.926412v-50.870713a83.852824 83.852824 0 0 1 1.397547-15.442895q6.219084-40.109601 54.224826-40.109601h57.369308a109.358058 109.358058 0 0 1 15.652527 0.978283q40.039724 6.987735 40.039724 54.574213v50.730959c0 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.199281 44.931138v59.95477q-0.489141 55.901883-57.439185 56.530779zM237.583002 552.031094h100.62339c2.934849 0 4.75166-2.236075 5.310679-5.799821V440.995979c0-3.913132-1.746934-5.79982-5.310679-5.799821H237.583002a6.149207 6.149207 0 0 0-5.79982 5.799821v105.305172A6.149207 6.149207 0 0 0 237.583002 552.031094z m2.236076-144.506368H335.411297c3.563745 0 5.310679-1.886689 5.310679-5.79982V306.621828A6.149207 6.149207 0 0 0 335.411297 300.472621H239.469691c-3.284236 0-5.240802 2.37583-5.79982 6.288961v95.033201a6.149207 6.149207 0 0 0 5.79982 5.799821zM497.177371 581.589214h-5.79982q-51.569487-3.354113-51.639365-56.530779v-59.954769c0-23.199281 8.035896-38.153035 23.199282-44.931139-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.364581-40.109601h57.369307a107.681002 107.681002 0 0 1 15.58265 0.978283q40.179478 6.987735 40.109601 54.574213v50.730959c-0.349387 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.199281 44.931138v59.95477q-0.489141 55.901883-57.439185 56.530779z m-20.963206-29.488243h100.623389c2.934849 0 4.681783-2.236075 5.310679-5.79982V440.995979c0-3.913132-1.746934-5.79982-5.310679-5.799821H476.284042a6.149207 6.149207 0 0 0-5.79982 5.799821v105.305172a6.149207 6.149207 0 0 0 5.79982 5.729943z m2.236075-144.506367h96.221116c3.563745 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962H478.520118c-3.284236 0-5.240802 2.37583-5.799821 6.288962V401.794783a6.149207 6.149207 0 0 0 5.799821 5.799821zM675.224868 439.528554v-46.887704h33.890517v46.887704z m0 127.106907v-46.887705h33.890517v46.887705zM828.815292 581.589214h-5.799821q-51.569487-3.354113-51.639364-56.530779v-59.954769c0-23.199281 8.035896-38.153035 23.199281-44.931139-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.294704-40.109601h57.439184a107.681002 107.681002 0 0 1 15.58265 0.978283q40.039724 6.987735 40.109601 54.574213v50.730959c-0.349387 20.33431-7.337122 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.129404 44.931138v59.95477q-0.419264 55.901883-57.369307 56.530779z m-20.963207-29.488243H908.405597c3.004726 0 4.75166-2.236075 5.380557-5.79982V440.995979c0-3.913132-1.816811-5.79982-5.380557-5.799821h-100.483634a6.07933 6.07933 0 0 0-5.799821 5.799821v105.305172a6.149207 6.149207 0 0 0 5.799821 5.729943z m2.236076-144.506367h96.221116c3.563745 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962h-96.151239c-3.284236 0-5.240802 2.37583-5.79982 6.288962V401.794783a6.149207 6.149207 0 0 0 5.79982 5.799821zM1067.865718 581.589214H1062.135775q-51.569487-3.354113-51.639364-56.530779v-59.954769q0.419264-34.938677 23.199281-44.931139c-13.975471-7.406999-20.963206-21.38247-20.963206-41.926412v-50.870713a90.141786 90.141786 0 0 1 1.32767-15.442895q6.288962-40.109601 54.294704-40.109601h57.439185a107.681002 107.681002 0 0 1 15.582649 0.978283q40.039724 6.987735 40.039724 54.574213v50.730959c0 20.33431-6.987735 34.309781-20.963206 41.926412 15.163386 6.428717 22.849895 21.452348 23.129404 44.931138v59.95477q-0.419264 55.901883-57.369307 56.530779z m-20.963206-29.488243h100.553512c3.004726 0 4.75166-2.236075 5.380556-5.79982V440.995979c0-3.913132-1.816811-5.79982-5.380556-5.799821h-100.483634a6.07933 6.07933 0 0 0-5.799821 5.799821v105.305172a6.149207 6.149207 0 0 0 5.799821 5.729943z m2.166198-144.506367h96.221116c3.493868 0 5.310679-1.886689 5.310679-5.799821V306.621828a6.219084 6.219084 0 0 0-5.310679-6.288962h-96.151238c-3.214358 0-5.170924 2.37583-5.729943 6.288962V401.794783a6.149207 6.149207 0 0 0 5.729943 5.799821z" fill="#2c2c2c" p-id="6100" data-spm-anchor-id="a313x.search_index.0.i20.9f9f3a81a77f69" class="" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-pie-charts"><path d="M512 512V38.4A473.6 473.6 0 0 1 985.6 512z" fill="" p-id="17258" /><path d="M916.096 576A409.344 409.344 0 1 1 448 107.904V43.232A473.344 473.344 0 1 0 980.768 576z" fill="" p-id="17259" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-progress-a"><path d="M324.266667 599.466667c-6.4-4.266667-12.8-8.533333-14.933334-17.066667s-6.4-17.066667-6.4-27.733333h32c0 6.4 2.133333 10.666667 4.266667 14.933333s6.4 4.266667 10.666667 4.266667 8.533333-2.133333 10.666666-4.266667 4.266667-6.4 4.266667-12.8v-27.733333c0-4.266667-2.133333-8.533333-4.266667-10.666667s-4.266667-6.4-8.533333-6.4-6.4 0-8.533333 2.133333-4.266667 4.266667-4.266667 8.533334h-32v-102.4h87.466667v32h-55.466667v34.133333c2.133333-2.133333 6.4-4.266667 8.533333-6.4s8.533333-2.133333 10.666667-2.133333c8.533333 0 14.933333 2.133333 19.2 6.4s10.666667 8.533333 12.8 17.066666c2.133333 6.4 4.266667 14.933333 4.266667 25.6V554.666667c0 10.666667-2.133333 19.2-6.4 25.6-4.266667 6.4-8.533333 12.8-17.066667 17.066666s-14.933333 6.4-25.6 6.4c-6.4 2.133333-14.933333 0-21.333333-4.266666zM437.333333 593.066667c-8.533333-8.533333-12.8-19.2-12.8-34.133334V469.333333c0-14.933333 4.266667-27.733333 12.8-34.133333s19.2-12.8 36.266667-12.8 27.733333 4.266667 36.266667 12.8 12.8 19.2 12.8 34.133333v89.6c0 14.933333-4.266667 27.733333-12.8 36.266667s-19.2 12.8-36.266667 12.8c-17.066667-2.133333-27.733333-6.4-36.266667-14.933333z m46.933334-25.6c2.133333-4.266667 4.266667-8.533333 4.266666-14.933334v-81.066666c0-6.4-2.133333-10.666667-4.266666-14.933334s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-12.8 4.266666-4.266667 8.533333-4.266667 14.933334v81.066666c0 6.4 2.133333 10.666667 4.266667 14.933334s6.4 4.266667 10.666667 4.266666 10.666667 0 12.8-4.266666zM554.666667 490.666667c-4.266667-6.4-8.533333-12.8-8.533334-23.466667v-14.933333c0-10.666667 2.133333-17.066667 8.533334-23.466667s12.8-8.533333 21.333333-8.533333 17.066667 2.133333 21.333333 8.533333 8.533333 12.8 8.533334 23.466667v14.933333c0 10.666667-2.133333 17.066667-8.533334 23.466667s-12.8 8.533333-21.333333 8.533333-17.066667-2.133333-21.333333-8.533333z m32-10.666667c2.133333-2.133333 4.266667-6.4 4.266666-12.8V448c0-4.266667-2.133333-8.533333-4.266666-10.666667s-6.4-4.266667-10.666667-4.266666-8.533333 2.133333-10.666667 4.266666-4.266667 6.4-4.266666 10.666667v21.333333c0 4.266667 2.133333 8.533333 4.266666 12.8s6.4 4.266667 10.666667 4.266667 8.533333-4.266667 10.666667-6.4z m74.666666-59.733333h17.066667l-98.133333 181.333333h-17.066667l98.133333-181.333333z m-17.066666 177.066666c-4.266667-6.4-8.533333-12.8-8.533334-23.466666v-14.933334c0-10.666667 2.133333-17.066667 8.533334-23.466666s12.8-8.533333 21.333333-8.533334 17.066667 2.133333 21.333333 8.533334 8.533333 12.8 8.533334 23.466666v14.933334c0 10.666667-2.133333 17.066667-8.533334 23.466666s-12.8 8.533333-21.333333 8.533334-14.933333-4.266667-21.333333-8.533334z m34.133333-10.666666c2.133333-2.133333 4.266667-6.4 4.266667-12.8V554.666667c0-4.266667-2.133333-8.533333-4.266667-10.666667s-6.4-4.266667-10.666667-4.266667-8.533333 2.133333-10.666666 4.266667-4.266667 6.4-4.266667 10.666667v19.2c0 4.266667 2.133333 8.533333 4.266667 12.8s6.4 4.266667 10.666666 4.266666 8.533333-2.133333 10.666667-4.266666z" fill="#B0B0B0" p-id="1705" /><path d="M512 85.333333C277.333333 85.333333 85.333333 277.333333 85.333333 512s192 426.666667 426.666667 426.666667 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333z m0 768c-187.733333 0-341.333333-153.6-341.333333-341.333333S324.266667 170.666667 512 170.666667s341.333333 153.6 341.333333 341.333333-153.6 341.333333-341.333333 341.333333z" fill="#5CB87A" opacity=".6" p-id="1706" /><path d="M853.333333 512c0 187.733333-153.6 341.333333-341.333333 341.333333v85.333334c234.666667 0 426.666667-192 426.666667-426.666667S746.666667 85.333333 512 85.333333v85.333334c187.733333 0 341.333333 153.6 341.333333 341.333333z" fill="#F5F7FA" p-id="1707" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-svg-text"><path d="M512 512m-512 0a512 512 0 1 0 1024 0 512 512 0 1 0-1024 0Z" fill="#707070" opacity=".406" p-id="10272" data-spm-anchor-id="a313x.search_index.0.i5.26f43a81xezxDj" class="selected" /><path d="M512 128a384 384 0 1 1-384 384 384 384 0 0 1 384-384z" fill="#707070" p-id="10273" data-spm-anchor-id="a313x.search_index.0.i6.26f43a81xezxDj" class="selected" /><path d="M485.44 768v-363.648h-135.872v-48.64h326.848v48.64h-136.448v363.648z" fill="#FFFFFF" p-id="10274" /></symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-on">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z" fill="#5ad562" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5" />\r
</symbol><symbol class="icon" viewBox="0 0 1027 1024"   id="svg-switch-r">\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z" fill="white" fill-opacity=".01" p-id="1537" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z" fill="#2c2c2c" p-id="1531" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5" />\r
    <path d="M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z" fill="#bfbfbf" p-id="1530" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt" />\r
    <path d="M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z" fill="#707070" p-id="1532" data-spm-anchor-id="a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-text-box"><path d="M938.666667 955.733333h-85.333334a17.066667 17.066667 0 0 1-17.066666-17.066666v-17.066667H187.733333v17.066667a17.066667 17.066667 0 0 1-17.066666 17.066666H85.333333a17.066667 17.066667 0 0 1-17.066666-17.066666v-85.333334a17.066667 17.066667 0 0 1 17.066666-17.066666h17.066667V187.733333H85.333333a17.066667 17.066667 0 0 1-17.066666-17.066666V85.333333a17.066667 17.066667 0 0 1 17.066666-17.066666h85.333334a17.066667 17.066667 0 0 1 17.066666 17.066666v17.066667h648.533334V85.333333a17.066667 17.066667 0 0 1 17.066666-17.066666h85.333334a17.066667 17.066667 0 0 1 17.066666 17.066666v85.333334a17.066667 17.066667 0 0 1-17.066666 17.066666h-17.066667v648.533334h17.066667a17.066667 17.066667 0 0 1 17.066666 17.066666v85.333334a17.066667 17.066667 0 0 1-17.066666 17.066666z m-68.266667-34.133333h51.2v-51.2h-51.2v51.2zM102.4 921.6h51.2v-51.2H102.4v51.2z m85.333333-34.133333h648.533334v-34.133334a17.066667 17.066667 0 0 1 17.066666-17.066666h34.133334V187.733333h-34.133334a17.066667 17.066667 0 0 1-17.066666-17.066666V136.533333H187.733333v34.133334a17.066667 17.066667 0 0 1-17.066666 17.066666H136.533333v648.533334h34.133334a17.066667 17.066667 0 0 1 17.066666 17.066666v34.133334zM904.533333 153.6h17.066667V102.4h-51.2v51.2h34.133333zM119.466667 153.6h34.133333V102.4H102.4v51.2h17.066667z" p-id="4280" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566"></path>\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567"></path>\r
    <path d="M494 711.68 c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64" fill="#E24F32" p-id="1568"></path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1599">\r
        <animateTransform attributeName="transform" attributeType="XML" type="translate" from="0 0" to="0 -300" dur="5" repeatCount="indefinite" />\r
    </path>\r
    <path d="M568.32 830 V530 c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12 v300" fill="#E24F32" p-id="1588"></path>\r
    <path d="M531.2 188.16h85.76v25h-85.76z" fill="#231C1C" p-id="1595"></path>\r
    <path d="M531.2 359.68h85.76v25h-85.76zM555.52 273.92h61.44v25h-61.44z" fill="#231C1C" p-id="1570"></path>\r
    <path d="M555.52 445.44h61.44v25h-61.44z" fill="#231C1C" p-id="1571"></path>\r
    <path d="M531.2 529.92h85.76v25h-85.76z" fill="#231C1C" p-id="1572"></path>\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-thermometer2">\r
    <path d="M616.96 672V176.64a85.76 85.76 0 0 0-171.52 0v495.36c-29.44 24.32-48.64 61.44-48.64 103.68 0 74.24 60.16 134.4 134.4 134.4S665.6 849.92 665.6 775.68c0-42.24-19.2-79.36-48.64-103.68z" fill="#F7E6A3" p-id="1566" />\r
    <path d="M531.2 922.88c-80.64 0-147.2-66.56-147.2-147.2 0-42.24 17.92-81.92 48.64-110.08V176.64c0-53.76 43.52-98.56 98.56-98.56s98.56 43.52 98.56 98.56V665.6c30.72 28.16 48.64 67.84 48.64 110.08 0 80.64-66.56 147.2-147.2 147.2z m0-819.2c-39.68 0-72.96 33.28-72.96 72.96v495.36c0 3.84-1.28 7.68-5.12 10.24-28.16 23.04-44.8 57.6-44.8 93.44 0 66.56 55.04 121.6 121.6 121.6s121.6-55.04 121.6-121.6c0-35.84-16.64-70.4-44.8-93.44-2.56-2.56-5.12-6.4-5.12-10.24V176.64c2.56-39.68-30.72-72.96-70.4-72.96z" fill="#231C1C" p-id="1567" />\r
    <path d="M568.32 711.68V408.32c0-20.48-16.64-37.12-37.12-37.12-20.48 0-37.12 16.64-37.12 37.12v303.36c-21.76 12.8-37.12 35.84-37.12 64 0 40.96 33.28 72.96 72.96 72.96 40.96 0 72.96-33.28 72.96-72.96 1.28-26.88-12.8-51.2-34.56-64z" fill="#E24F32" p-id="1568" />\r
    <path d="M531.2 861.44c-47.36 0-85.76-38.4-85.76-85.76 0-28.16 14.08-55.04 37.12-70.4V408.32c0-26.88 21.76-49.92 49.92-49.92 26.88 0 49.92 21.76 49.92 49.92v296.96c23.04 16.64 37.12 42.24 37.12 70.4-2.56 47.36-40.96 85.76-88.32 85.76z m0-476.16c-12.8 0-24.32 10.24-24.32 24.32v303.36c0 5.12-2.56 8.96-6.4 11.52-19.2 10.24-30.72 30.72-30.72 52.48 0 33.28 26.88 60.16 60.16 60.16s60.16-26.88 60.16-60.16c0-21.76-11.52-40.96-30.72-52.48-3.84-2.56-6.4-6.4-6.4-11.52V408.32c2.56-12.8-8.96-23.04-21.76-23.04zM531.2 188.16h85.76v25.6h-85.76z" fill="#231C1C" p-id="1569" />\r
    <path d="M531.2 359.68h85.76v25.6h-85.76zM555.52 273.92h61.44v25.6h-61.44z" fill="#231C1C" p-id="1570" />\r
    <path d="M555.52 445.44h61.44v25.6h-61.44z" fill="#231C1C" p-id="1571" />\r
    <path d="M531.2 529.92h85.76v25.6h-85.76z" fill="#231C1C" p-id="1572" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-add"><path class="icon-out" d="M512 128c211.2 0 384 172.8 384 384s-172.8 384-384 384-384-172.8-384-384 172.8-384 384-384m0-64C262.4 64 64 262.4 64 512s198.4 448 448 448 448-198.4 448-448-198.4-448-448-448z" p-id="12133" /><path class="icon-in" d="M320 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12134" /><path class="icon-in" d="M704 512m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12135" /><path class="icon-in" d="M512 320m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12136" /><path class="icon-in" d="M512 704m-32 0a32 32 0 1 0 64 0 32 32 0 1 0-64 0Z" p-id="12137" /><path class="icon-in" d="M320 480h384v64H320z" p-id="12138" /><path class="icon-in" d="M480 320h64v384h-64z" p-id="12139" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-delete-gray"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-delete"><path d="M512.8 927.65c-82.97 0-165.93-5.84-248.32-17.53l-0.2-0.03c-23.32-3.49-46.81-15.1-66.15-32.69-19.79-18.01-32.92-40.21-36.97-62.52l-0.04-0.24c-14.73-85.45-21.15-172.11-19.09-257.59 2.06-85.46 12.66-172.1 31.5-257.51l53.71 11.85c-36.14 163.83-40.16 329.97-11.95 493.77 4.1 22.19 31.75 46.69 57.02 50.52a1712.285 1712.285 0 0 0 480.98 0c25.27-3.83 52.92-28.34 57.01-50.53 28.21-163.8 24.19-329.93-11.95-493.77l53.71-11.85c18.84 85.42 29.44 172.06 31.5 257.51 2.06 85.47-4.36 172.14-19.09 257.59l-0.04 0.24c-4.05 22.3-17.18 44.51-36.97 62.52-19.34 17.6-42.83 29.21-66.15 32.69l-0.2 0.03a1765.711 1765.711 0 0 1-248.31 17.54z" class="icon-out" p-id="3027" /><path d="M921.38 332.96H102.66c-14.16 0-25.64-11.48-25.64-25.64v-3.73c0-14.16 11.48-25.64 25.64-25.64h818.73c14.16 0 25.64 11.48 25.64 25.64v3.73c-0.01 14.16-11.49 25.64-25.65 25.64z" class="icon-out" p-id="3028" /><path d="M367.21 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22zM661.4 805.77h-2.56c-14.48 0-26.22-11.74-26.22-26.22V431.99c0-14.48 11.74-26.22 26.22-26.22h2.56c14.48 0 26.22 11.74 26.22 26.22v347.56c0 14.49-11.74 26.22-26.22 26.22z" class="icon-in" p-id="3029" /><path d="M786.11 322.05l-48.07-26.73c24.95-44.87 28.29-88.34 10.14-132.77-5.56-3.25-21.61-9.19-42.32-10.42-129.2-7.27-260.31-7.27-389.6 0-20.65 1.22-36.68 7.16-42.24 10.42-18.15 44.43-14.82 87.9 10.14 132.77l-48.07 26.73c-34.04-61.21-37.74-123.49-10.97-185.09l0.21-0.48c15.56-34.01 80.41-38.81 87.75-39.25 131.42-7.39 264.61-7.39 395.94 0 7.42 0.44 72.26 5.24 87.83 39.25l0.22 0.48c26.77 61.6 23.09 123.88-10.96 185.09z m-36.39-158.46z m-477.24 0z" class="icon-out" p-id="3030" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-export"><path d="M94.85 502.74c0-88.25 6.43-176.5 19.28-264.14l0.04-0.26c4.81-30.68 21.45-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98s-56.3 42.05-86.98 46.85l-0.26 0.04a1818.793 1818.793 0 0 1-528.28 0l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1820.45 1820.45 0 0 1-19.28-264.14z m73.69-256.03c-24.91 169.89-24.91 342.15 0 512.05 6.3 39.74 48.12 81.56 87.86 87.86 169.87 24.9 342.16 24.9 512.03 0 39.75-6.3 81.57-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.28-81.56 48.1-87.86 87.84z" class="icon-out" p-id="3184" /><path d="M677.82 616.65L467.99 406.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.19 10.19 26.72 0 36.92l-12.58 12.58c-10.2 10.19-26.73 10.19-36.93 0z" class="icon-in" p-id="3185" /><path d="M283.94 617.33l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92L481.2 358c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92L320.86 617.33c-10.2 10.2-26.72 10.2-36.92 0z" class="icon-in" p-id="3186" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-group">\r
    <path d="M12 4H4V12H12V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 36H36V44H44V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M12 36H4V44H12V36Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M44 4H36V12H44V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M8 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40 36V12" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 8H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M12 40H36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path fill-rule="evenodd" clip-rule="evenodd" d="M16 16H25.6V22.4H32V32H22.4V25.6H16V16Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-import"><path d="M93.33 502.74c0 88.25 6.43 176.5 19.28 264.14l0.04 0.26c4.81 30.68 21.45 61.57 46.85 86.98 25.41 25.41 56.3 42.05 86.98 46.85l0.26 0.04a1818.793 1818.793 0 0 0 528.28 0l0.26-0.04c30.68-4.81 61.57-21.44 86.98-46.85 25.41-25.41 42.05-56.3 46.85-86.98l0.04-0.26a1818.793 1818.793 0 0 0 0-528.28l-0.04-0.26c-4.81-30.68-21.44-61.57-46.85-86.98s-56.3-42.05-86.98-46.85l-0.26-0.04a1818.793 1818.793 0 0 0-528.28 0l-0.26 0.04c-30.68 4.81-61.57 21.44-86.98 46.85-25.41 25.41-42.05 56.3-46.85 86.98l-0.04 0.26a1820.244 1820.244 0 0 0-19.28 264.14z m73.68 256.02c-24.91-169.89-24.91-342.15 0-512.05 6.3-39.74 48.12-81.56 87.86-87.86 169.87-24.9 342.16-24.9 512.03 0 39.75 6.3 81.57 48.12 87.86 87.86 24.9 169.87 24.9 342.16 0 512.03-6.3 39.74-48.12 81.57-87.86 87.86a1764.188 1764.188 0 0 1-512.03 0c-39.74-6.28-81.56-48.1-87.86-87.84z" class="icon-out" p-id="3340" /><path d="M676.3 388.83L466.46 598.66c-10.19 10.19-10.19 26.72 0 36.92l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L725.8 438.32c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.2-10.19-26.73-10.19-36.92 0.01z" class="icon-in" p-id="3341" /><path d="M282.42 388.14l-12.58 12.58c-10.19 10.19-10.19 26.72 0 36.92l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L319.33 388.14c-10.19-10.19-26.72-10.19-36.91 0z" class="icon-in" p-id="3342" /></symbol><symbol class="icon active" viewBox="0 0 1024 1024"   id="svg-line-active"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-line"><path d="M795.969 641.938c-44.844 0-85.094 20.015-112.219 51.515L454.39 561.11c4.157-15.53 6.344-31.937 6.344-48.78 0-16.845-2.187-33.25-6.343-48.782l230.234-132.89c27.125 30.952 66.938 50.53 111.453 50.53 81.813 0 148.094-66.28 148.094-148.093C944.172 151.28 877.782 85 795.969 85s-148.094 66.281-148.094 148.094c0 14.11 1.969 27.781 5.688 40.687L427.155 404.484c-34.344-49.875-91.765-82.578-156.844-82.578C165.204 321.906 80 407.11 80 512.328S165.203 702.75 270.313 702.75c65.078 0 122.609-32.703 156.953-82.578l225.968 130.484c-3.5 12.578-5.359 25.703-5.359 39.375 0 81.813 66.281 148.094 148.094 148.094 81.812 0 148.093-66.281 148.093-148.094 0-81.812-66.28-148.093-148.093-148.093z m0-492.079c45.937 0 83.234 37.297 83.234 83.235 0 45.937-37.297 83.234-83.234 83.234-45.938 0-83.235-37.297-83.235-83.234 0-45.938 37.297-83.235 83.235-83.235zM270.312 637.781c-69.234 0-125.453-56.11-125.453-125.453 0-69.344 56.22-125.453 125.453-125.453 69.235 0 125.454 56.11 125.454 125.453 0 69.344-56.11 125.453-125.454 125.453z m525.657 234.39c-45.39 0-82.14-36.75-82.14-82.14s36.75-82.14 82.14-82.14 82.14 36.75 82.14 82.14c0.11 45.39-36.75 82.14-82.14 82.14z" p-id="1837" data-spm-anchor-id="a313x.manage_type_myprojects.0.i0.1adc3a813mH6xq" class="icon-out" /></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-lock">\r
    <rect x="6" y="22" width="36" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14C14 8.47715 18.4772 4 24 4C29.5228 4 34 8.47715 34 14V22" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-fold"><path d="M510.89 921.7c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.44-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98s56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.45 86.98 46.85 25.41 25.41 42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.45 61.58-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1819.042 1819.042 0 0 1-264.14 19.28z m-256.02-73.68a1763.556 1763.556 0 0 0 512.04 0c39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.74-48.11-81.56-87.86-87.86a1763.556 1763.556 0 0 0-512.04 0c-39.75 6.3-81.57 48.12-87.86 87.86a1763.488 1763.488 0 0 0 0 512.03c6.3 39.75 48.12 81.57 87.86 87.86z" class="icon-out" p-id="2559" /><path d="M399.85 335.23l209.84 209.84c10.19 10.19 26.72 10.19 36.92 0l12.58-12.58c10.19-10.19 10.19-26.72 0-36.92L449.35 285.73c-10.19-10.19-26.72-10.19-36.92 0l-12.58 12.58c-10.2 10.2-10.2 26.73 0 36.92z" class="icon-in" p-id="2560" /><path d="M399.16 729.11l12.58 12.58c10.19 10.19 26.72 10.19 36.92 0L658.5 531.85c10.19-10.19 10.19-26.72 0-36.92l-12.58-12.58c-10.19-10.19-26.72-10.19-36.92 0L399.16 692.2c-10.19 10.19-10.19 26.72 0 36.91z" class="icon-in" p-id="2561" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-menu-unfold"><path d="M512.42 920.16c-88.25 0-176.5-6.43-264.14-19.28l-0.26-0.04c-30.68-4.81-61.57-21.45-86.98-46.85-25.41-25.41-42.05-56.3-46.85-86.98l-0.04-0.26a1818.793 1818.793 0 0 1 0-528.28l0.04-0.26c4.81-30.68 21.44-61.57 46.85-86.98 25.41-25.41 56.3-42.05 86.98-46.85l0.26-0.04a1818.793 1818.793 0 0 1 528.28 0l0.26 0.04c30.68 4.81 61.57 21.44 86.98 46.85s42.05 56.3 46.85 86.98l0.04 0.26a1818.793 1818.793 0 0 1 0 528.28l-0.04 0.26c-4.81 30.68-21.44 61.57-46.85 86.98-25.41 25.41-56.3 42.05-86.98 46.85l-0.26 0.04a1820.45 1820.45 0 0 1-264.14 19.28z m-256.03-73.69c169.89 24.91 342.15 24.91 512.05 0 39.74-6.3 81.56-48.12 87.86-87.86 24.9-169.87 24.9-342.16 0-512.03-6.3-39.75-48.12-81.57-87.86-87.86a1764.188 1764.188 0 0 0-512.03 0c-39.74 6.3-81.57 48.12-87.86 87.86a1764.188 1764.188 0 0 0 0 512.03c6.28 39.74 48.1 81.56 87.84 87.86z" class="icon-out" p-id="2403" /><path d="M626.33 337.19L416.49 547.03c-10.19 10.19-26.72 10.19-36.92 0l-12.58-12.58c-10.19-10.19-10.19-26.72 0-36.92l209.84-209.84c10.19-10.19 26.72-10.19 36.92 0l12.58 12.58c10.19 10.19 10.19 26.72 0 36.92z" class="icon-in" p-id="2404" /><path d="M627.01 731.07l-12.58 12.58c-10.19 10.19-26.72 10.19-36.92 0L367.67 533.81c-10.19-10.19-10.19-26.72 0-36.92l12.58-12.58c10.19-10.19 26.72-10.19 36.92 0l209.84 209.84c10.19 10.2 10.19 26.72 0 36.92z" class="icon-in" p-id="2405" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-preview"><path d="M127.94 530.03c-6.67 0-13.32-2.65-18.24-7.89-9.43-10.06-8.95-25.85 1.1-35.3 3.67-3.45 91.45-84.93 234.32-126.4 84.14-24.42 169.95-29.79 255.04-15.96 105.79 17.19 210.4 64.23 310.94 139.81 11.04 8.3 13.26 23.97 4.96 35.01-8.29 11.03-23.97 13.26-35 4.96-169.55-127.45-344.5-166.61-519.99-116.38-131.94 37.76-215.21 114.63-216.04 115.41a25.01 25.01 0 0 1-17.09 6.74z" class="icon-in" p-id="1779" /><path d="M509 688.98c-54.54 0-109.01-7.83-162.8-23.44-142.87-41.46-230.65-122.95-234.32-126.4-10.06-9.46-10.54-25.28-1.08-35.34 9.45-10.05 25.25-10.54 35.31-1.11 0.83 0.77 84.1 77.65 216.04 115.41 175.5 50.22 350.44 11.07 519.99-116.38 11.04-8.3 26.71-6.07 35 4.96 8.3 11.04 6.08 26.71-4.96 35.01C811.64 617.26 707.03 664.3 601.24 681.5c-30.69 4.98-61.47 7.48-92.24 7.48z" class="icon-in" p-id="1780" /><path d="M506.82 741.13c-141.09 0-275.99-70.27-401.17-209.03l-17.53-19.43 16.87-20c1.64-1.95 41.06-48.3 108.65-95.76 39.76-27.92 81.2-50.54 123.19-67.25 52.97-21.08 106.94-32.74 160.4-34.67 146.39-5.28 287.79 60.95 420.32 196.86l18.69 19.16-16.92 20.74c-1.7 2.09-42.53 51.76-111.93 102.32-40.88 29.79-83.37 53.81-126.29 71.39-54.25 22.23-109.31 34.19-163.66 35.54-3.53 0.08-7.09 0.13-10.62 0.13z m-337.8-229c110.37 114.93 226.81 171.73 346.5 168.89 106.58-2.53 197.54-52.73 255.07-94.39 37.87-27.42 66.74-54.92 84-72.79-114.02-109.7-233.21-163.13-354.69-158.92-105.44 3.67-194.27 50.96-250.22 89.99-36.31 25.32-63.96 50.6-80.66 67.22z" class="icon-out" p-id="1781" /><path d="M505.25 671.33c-87.55 0-158.78-71.23-158.78-158.78s71.23-158.78 158.78-158.78S664.02 425 664.02 512.55 592.8 671.33 505.25 671.33z m0-257.56c-54.47 0-98.78 44.31-98.78 98.78s44.31 98.78 98.78 98.78 98.78-44.31 98.78-98.78-44.32-98.78-98.78-98.78z" class="icon-in" p-id="1782" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-question"><path d="M512 172.8c187.04 0 339.2 152.16 339.2 339.2S699.04 851.2 512 851.2 172.8 699.03 172.8 512 324.97 172.8 512 172.8m0-76.8C282.25 96 96 282.25 96 512s186.25 416 416 416 416-186.25 416-416S741.75 96 512 96z" class="icon-out" p-id="5865" data-spm-anchor-id="a313x.search_index.0.i0.4bca3a81TehghO" /><path d="M531.31 278.99c-92.43-2.84-151.21 46.22-175.93 126.24-0.03 0.1 0.23 0.23 0.22 0.33-1.34 3.71-2.37 7.59-2.37 11.75 0 19.25 15.61 34.86 34.86 34.86 15.13 0 27.69-9.76 32.52-23.23 0.03 0.01 0.33 0.08 0.33 0.08 14.05-63.91 45.58-82.75 100.14-81.23 46.75 3.15 72.47 26.54 77.14 70.14 3.08 29.62-17.94 60.02-63.13 91.16-42.07 29.62-62.35 66.28-60.76 109.88 0 0.09 0.16 0.12 0.16 0.21-0.01 0.31-0.18 0.57-0.18 0.88 0 16.82 13.63 30.46 30.46 30.46 15.53 0 27.85-11.8 29.72-26.82 0.09-0.01 0.59-0.05 0.59-0.05s-0.3 0.03-0.59 0.05c0.26-0.02 0.24-0.02 0.59-0.05-1.55-32.73 16.39-60.76 53.75-84.15 59.2-37.41 87.26-80.26 84.15-128.56-7.77-77.94-56-127.28-141.67-131.95zM504.7 745.14h-2.34c-20.66 0-37.4-16.75-37.4-37.4 0-20.66 16.75-37.4 37.4-37.4h2.34c20.66 0 37.4 16.75 37.4 37.4s-16.75 37.4-37.4 37.4z" class="icon-in" p-id="5866" data-spm-anchor-id="a313x.search_index.0.i3.4bca3a81TehghO" /></symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-redo-gray"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-redo"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></symbol><symbol class="icon" viewBox="0 0 1165 1024"   id="svg-return"><path d="M364.967083 734.583428c-10.46084 0-20.92168-3.486947-29.057889-11.623156L11.623156 398.674234c-16.272418-16.272418-16.272418-41.84336 0-58.115778L335.909194 16.272418c16.272418-16.272418 41.84336-16.272418 58.115778 0s16.272418 41.84336 0 58.115777L98.796822 369.616345l295.22815 295.22815c16.272418 16.272418 16.272418 41.84336 0 58.115777-8.136209 8.136209-18.597049 11.623156-29.057889 11.623156z" p-id="3653" data-spm-anchor-id="a313x.manage_type_myprojects.0.i25.1adc3a81koFwd9" class="icon-out" /><path d="M645.085131 727.609535c-15.110102 15.110102-38.356413 15.110102-53.466516 0L260.358683 396.349603c-15.110102-15.110102-15.110102-38.356413 0-53.466516L591.618615 11.623156c15.110102-15.110102 38.356413-15.110102 53.466516 0" p-id="3654" data-spm-anchor-id="a313x.manage_type_myprojects.0.i21.1adc3a81koFwd9" class="icon-in" /><path d="M645.085131 532.340522S1104.199773 496.30874 1024 1024c0 0 216.190692-249.897843 113.906924-516.068104-51.141884-96.472191-112.744608-295.22815-492.821793-297.552781v321.961407z" p-id="3655" data-spm-anchor-id="a313x.manage_type_myprojects.0.i22.1adc3a81koFwd9" class="icon-in" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-rotate"><path d="M934.101333 416.426667h-220.373333c-26.752 0-47.232-20.48-47.232-47.232s20.48-47.232 47.232-47.232h173.141333V148.821333c0-26.752 20.48-47.232 47.232-47.232S981.333333 122.069333 981.333333 148.821333v220.373344c0 25.173333-20.48 47.232-47.232 47.232z" fill="#344" p-id="4939" data-spm-anchor-id="a313x.search_index.0.i10.30723a81IiaItd" class="selected" /><path d="M509.098667 978.389333C249.344 978.389333 38.4 767.530667 38.4 507.733333 38.4 247.978667 249.344 37.034667 509.098667 37.034667A472.32 472.32 0 0 1 943.530667 325.12c9.472 23.637333-1.536 51.968-25.173344 61.44-23.594667 9.386667-51.925333-1.621333-61.397333-25.216a377.898667 377.898667 0 0 0-347.861333-229.845333A376.234667 376.234667 0 0 0 132.864 507.733333a376.234667 376.234667 0 0 0 376.234667 376.234667c190.464 0 351.018667-141.653333 373.077333-329.002667 3.114667-25.173333 26.752-44.074667 51.925333-40.96 25.173333 3.157333 44.074667 26.794667 40.96 51.968-28.373333 234.538667-228.266667 412.416-465.962666 412.416z" fill="#344" p-id="4940" data-spm-anchor-id="a313x.search_index.0.i9.30723a81IiaItd" class="selected" /></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-save"><path d="M828.038 898.796H195.962c-39.409 0-71.471-32.062-71.471-71.471V195.249c0-39.409 32.062-71.471 71.471-71.471h89.621c10.382 0 18.798 8.416 18.798 18.798s-8.416 18.798-18.798 18.798h-89.621c-18.679 0-33.875 15.196-33.875 33.875v632.076c0 18.679 15.196 33.875 33.875 33.875h632.076c18.679 0 33.875-15.196 33.875-33.875V340.256L674.088 161.374h-96.215c-10.382 0-18.798-8.416-18.798-18.798s8.416-18.798 18.798-18.798h111.253l210.383 200.365v503.182c0 39.409-32.062 71.471-71.471 71.471z" class="icon-out" p-id="1919" data-spm-anchor-id="a313x.manage_type_myprojects.0.i6.1adc3a8106MMa8" /><path d="M756.239 863.629h-37.597V643.456c0-7.062-5.744-12.807-12.806-12.807H317.11c-7.061 0-12.806 5.745-12.806 12.807v220.173h-37.596V643.456c0-27.792 22.61-50.402 50.402-50.402h388.727c27.792 0 50.402 22.61 50.402 50.402v220.173z" class="icon-out" p-id="1920" data-spm-anchor-id="a313x.manage_type_myprojects.0.i7.1adc3a8106MMa8" /><path d="M547.818 325.374H317.11c-27.792 0-50.402-22.61-50.402-50.402V151.895c0-27.792 22.61-50.402 50.402-50.402h230.708c27.791 0 50.4 22.61 50.4 50.402v123.077c0.001 27.791-22.609 50.402-50.4 50.402zM317.11 139.089c-7.061 0-12.806 5.745-12.806 12.806v123.077c0 7.061 5.745 12.806 12.806 12.806h230.708c7.061 0 12.805-5.745 12.805-12.806V151.895c0-7.061-5.744-12.806-12.805-12.806H317.11z" class="icon-middle" p-id="1921" /><path d="M621.717 155.654c0-17.454-14.149-31.604-31.604-31.604H359.405c-17.455 0-31.604 14.15-31.604 31.604v9.871h-0.157V316.17c0 17.454 14.149 31.604 31.604 31.604h230.708c17.454 0 31.604-14.15 31.604-31.604V166.069h0.156v-10.415z" class="icon-middle" opacity=".4" p-id="1922" /></symbol><symbol viewBox="0 0 1024 1024"  id="svg-setting">
    <path d="M919.6 405.6l-57.2-8c-12.7-1.8-23-10.4-28-22.1-11.3-26.7-25.7-51.7-42.9-74.5-7.7-10.2-10-23.5-5.2-35.3l21.7-53.5c6.7-16.4 0.2-35.3-15.2-44.1L669.1 96.6c-15.4-8.9-34.9-5.1-45.8 8.9l-35.4 45.3c-7.9 10.2-20.7 14.9-33.5 13.3-14-1.8-28.3-2.8-42.8-2.8-14.5 0-28.8 1-42.8 2.8-12.8 1.6-25.6-3.1-33.5-13.3l-35.4-45.3c-10.9-14-30.4-17.8-45.8-8.9L230.4 168c-15.4 8.9-21.8 27.7-15.2 44.1l21.7 53.5c4.8 11.9 2.5 25.1-5.2 35.3-17.2 22.8-31.7 47.8-42.9 74.5-5 11.8-15.3 20.4-28 22.1l-57.2 8C86 408 72.9 423 72.9 440.8v142.9c0 17.7 13.1 32.7 30.6 35.2l57.2 8c12.7 1.8 23 10.4 28 22.1 11.3 26.7 25.7 51.7 42.9 74.5 7.7 10.2 10 23.5 5.2 35.3l-21.7 53.5c-6.7 16.4-0.2 35.3 15.2 44.1L354 927.8c15.4 8.9 34.9 5.1 45.8-8.9l35.4-45.3c7.9-10.2 20.7-14.9 33.5-13.3 14 1.8 28.3 2.8 42.8 2.8 14.5 0 28.8-1 42.8-2.8 12.8-1.6 25.6 3.1 33.5 13.3l35.4 45.3c10.9 14 30.4 17.8 45.8 8.9l123.7-71.4c15.4-8.9 21.8-27.7 15.2-44.1l-21.7-53.5c-4.8-11.8-2.5-25.1 5.2-35.3 17.2-22.8 31.7-47.8 42.9-74.5 5-11.8 15.3-20.4 28-22.1l57.2-8c17.6-2.5 30.6-17.5 30.6-35.2V440.8c0.2-17.8-12.9-32.8-30.5-35.2z m-408 245.5c-76.7 0-138.9-62.2-138.9-138.9s62.2-138.9 138.9-138.9 138.9 62.2 138.9 138.9-62.2 138.9-138.9 138.9z" />
</symbol><symbol class="icon gray" viewBox="0 0 1024 1024"   id="svg-undo-gray"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol class="icon" viewBox="0 0 1024 1024"   id="svg-undo"><g transform="scale(-1, 1) translate(-1024, 0)"><path d="M550.912 890.88c-4.096 0-7.9872-0.8192-11.8784-2.4576-11.4688-4.7104-18.8416-15.9744-18.8416-28.2624v-156.672c-96.256-68.1984-309.0432 65.536-385.4336 125.1328-10.4448 7.9872-24.576 8.6016-35.6352 1.6384-11.0592-7.168-16.1792-20.48-13.1072-33.1776 99.1232-401.408 347.3408-475.9552 433.9712-489.6768V163.84c0-12.288 7.3728-23.552 18.8416-28.2624 11.4688-4.9152 24.576-2.2528 33.3824 6.3488l357.1712 348.16c5.9392 5.7344 9.216 13.7216 9.216 21.9136s-3.2768 16.1792-9.216 21.9136l-357.1712 348.16c-5.7344 5.7344-13.5168 8.8064-21.2992 8.8064z m-96.8704-267.0592c44.032 0 84.992 12.0832 117.76 43.008 6.144 5.7344 9.6256 13.9264 9.6256 22.3232v98.304L864.0512 512 581.632 236.7488v98.304c0 16.7936-13.312 30.3104-30.1056 30.72-11.264 0.4096-261.5296 12.0832-381.7472 364.1344 72.2944-45.8752 185.9584-106.0864 284.2624-106.0864z" class="icon-out" p-id="42083" data-spm-anchor-id="a313x.search_index.0.i8.a5e03a81nkrsAk" /><path d="M343.2448 579.7888c-5.9392 0-11.8784-2.048-16.7936-5.9392a26.8288 26.8288 0 0 1-3.6864-37.4784c44.4416-54.272 95.0272-93.3888 150.3232-116.5312 13.7216-5.7344 29.0816 0.8192 34.816 14.336 5.7344 13.5168-0.6144 29.0816-14.336 34.816-47.104 19.6608-90.7264 53.8624-129.6384 101.1712-5.3248 6.3488-12.9024 9.6256-20.6848 9.6256z" class="icon-in" p-id="42084" data-spm-anchor-id="a313x.search_index.0.i11.a5e03a81nkrsAk" /></g></symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-ungroup">\r
    <path d="M11.2727 4H4V11.2727H11.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 36.7271H36.7271V43.9998H43.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2727 24H4V31.2727H11.2727V24Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M23.9998 36.7271H16.7271V43.9998H23.9998V36.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M31.2727 4H24V11.2727H31.2727V4Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M43.9998 16.7271H36.7271V23.9998H43.9998V16.7271Z" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M11.2729 7.63623H24.0002" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 40.3638H36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M11.2729 27.6366H27.6366V11.2729" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M28.8275 20.3633H36.7269M20.3633 36.7269V27.6282V36.7269Z" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M7.63672 11.2725V23.9997" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M40.3633 24V36.7273" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol><symbol viewBox="0 0 48 48" fill="none"  id="svg-unlock">\r
    <rect x="7" y="22.0476" width="34" height="22" rx="2" stroke="currentColor" stroke-width="4" stroke-linejoin="round" />\r
    <path d="M14 22V14.0047C13.9948 8.87022 17.9227 4.56718 23.0859 4.05117C28.249 3.53516 32.9673 6.97408 34 12.0059" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
    <path d="M24 30V36" stroke="currentColor" stroke-width="4" stroke-linecap="round" stroke-linejoin="round" />\r
</symbol>`,r.insertBefore(n,r.lastChild)};document.readyState==="loading"?document.addEventListener("DOMContentLoaded",i):i()}const main="",index$2="";var ELineBindAnchors=(i=>(i.TopCenter="TopCenter",i.Left="Left",i.Right="Right",i.BottomCenter="BottomCenter",i))(ELineBindAnchors||{}),EConfigAnimationsType=(i=>(i.None="None",i.Electricity="Electricity",i.WaterDrop="WaterDrop",i.Track="Track",i))(EConfigAnimationsType||{}),EConfigItemPropsType=(i=>(i.Input="Input",i.Textarea="Textarea",i.Color="Color",i.InputNumber="InputNumber",i.Switch="Switch",i.JsonEdit="JsonEdit",i.Select="Select",i))(EConfigItemPropsType||{}),EDoneJsonType=(i=>(i.File="File",i.StraightLine="StraightLine",i.ConnectionLine="ConnectionLine",i.CustomSvg="CustomSvg",i.Vue="Vue",i))(EDoneJsonType||{}),EEventType=(i=>(i.Click="Click",i.Change="Change",i.Null="",i))(EEventType||{}),EEventAction=(i=>(i.ChangeAttr="ChangeAttr",i.JavaScript="JavaScript",i.Null="",i))(EEventAction||{}),EConditionType=(i=>(i.None="None",i.Relation="Relation",i))(EConditionType||{}),EGlobalStoreIntention=(i=>(i.None="None",i.Create="Create",i.Move="Move",i.GroupMove="GroupMove",i.MoveCanvas="MoveCanvas",i.Select="Select",i.Zoom="Zoom",i.Rotate="Rotate",i.Connection="Connection",i.SetConnectionLineNode="SetConnectionLineNode",i.ContextMenu="ContextMenu",i.SelectArea="SelectArea",i))(EGlobalStoreIntention||{}),EMouseInfoState=(i=>(i.Down="Down",i.Up="Up",i))(EMouseInfoState||{}),EScaleInfoType=(i=>(i.None="",i.TopLeft="TopLeft",i.TopCenter="TopCenter",i.TopRight="TopRight",i.Left="Left",i.Right="Right",i.BottomLeft="BottomLeft",i.BottomCenter="BottomCenter",i.BottomRight="BottomRight",i))(EScaleInfoType||{});const t$p={name:"alert-light",title:"警示灯",type:EDoneJsonType.File,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{},defaultState:"white",state:{green:{label:"正常",fill:"#00ff00",fillOpacity:"1"},yellow:{label:"请注意",fill:"#ffff00",fillOpacity:"1"},red:{label:"报警",fill:"#ff0000",fillOpacity:"1"},white:{label:"关闭",fill:"#ffffff",fillOpacity:"0"}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$o={groupType:"stateful",title:"状态SVG",list:[t$p]},t$n={name:"bot-2",title:"2号机",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:150},width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:120}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$m={name:"bot-9",title:"9号机",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$l={name:"hotpot",title:"火锅",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$k={name:"hamburger",title:"汉堡",type:EDoneJsonType.File,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$j={groupType:"stateless",title:"静态SVG",list:[t$k,t$l,t$n,t$m]},t$i={name:"thermometer",title:"温度计",type:EDoneJsonType.File,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$h={groupType:"have_animation",title:"动画SVG",list:[t$i]},t$g={name:"svg-text",title:"文字",tag:"svg-text",type:EDoneJsonType.CustomSvg,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{text:{title:"文字内容",type:EConfigItemPropsType.Textarea,val:"文字内容"},fontFamily:{title:"字体",type:EConfigItemPropsType.Select,val:"Microsoft YaHei",options:[{value:"Microsoft YaHei",label:"微软雅黑"},{value:"NSimSun",label:"新宋体"},{value:"KaiTi",label:"楷体"}]},fontSize:{title:"文字大小",type:EConfigItemPropsType.InputNumber,val:18},fill:{title:"文字颜色",type:EConfigItemPropsType.Color,val:"#000"},bold:{title:"文字加粗",type:EConfigItemPropsType.Switch,val:!1},writingMode:{title:"文字朝向",type:EConfigItemPropsType.Select,val:"horizontal-tb",options:[{value:"horizontal-tb",label:"水平"},{value:"vertical-rl",label:"垂直"}]}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$f={name:"switch-r",title:"开关",tag:"switch-r",type:EDoneJsonType.CustomSvg,display:!0,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},props:{isOpen:{title:"开关",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$e={name:"light",tag:"light-a",title:"灯",type:EDoneJsonType.CustomSvg,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:60},width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:50},isOpen:{title:"开关",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$d={name:"clock-a",title:"时钟",tag:"clock-a",type:EDoneJsonType.CustomSvg,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{centerColor:{title:"针顶颜色",type:EConfigItemPropsType.Color,val:"#EBF257"},secondsColor:{title:"秒针颜色",type:EConfigItemPropsType.Color,val:"#E83E24"},circleColor:{title:"针圈颜色",type:EConfigItemPropsType.Color,val:"#F45AFC"},minutesColor:{title:"分针颜色",type:EConfigItemPropsType.Color,val:"#50E68E"},hoursColor:{title:"时针颜色",type:EConfigItemPropsType.Color,val:"#9A36E7"},scaleColor:{title:"刻度颜色",type:EConfigItemPropsType.Color,val:"#4942CF"},backgroundColor:{title:"表盘颜色",type:EConfigItemPropsType.Color,val:"#ffffff"},borderColor:{title:"表框颜色",type:EConfigItemPropsType.Color,val:"#B3A7FF"}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$c={groupType:"custom_svg_group",title:"SVG组件",list:[t$g,t$f,t$e,t$d]},t$b=Object.seal([t$j,t$o,t$h,t$c]),t$a={name:"el-button",tag:"el-button",title:"按钮",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{size:{title:"尺寸",type:EConfigItemPropsType.Select,val:"default",options:[{label:"大",value:"large"},{label:"默认",value:"default"},{label:"小",value:"small"}]},type:{title:"类型",type:EConfigItemPropsType.Select,val:"primary",options:[{label:"主要按钮",value:"primary"},{label:"成功按钮",value:"success"},{label:"警告按钮",value:"warning"},{label:"危险按钮",value:"danger"},{label:"信息按钮",value:"info"}]},plain:{title:"朴素按钮",type:EConfigItemPropsType.Switch,val:!1},text:{title:"文字按钮",type:EConfigItemPropsType.Switch,val:!1}},tag_slot:"按钮",common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$9={name:"common-table",title:"通用表格",tag:"common-table",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{"col-config":{title:"列配置",type:EConfigItemPropsType.JsonEdit,val:[{prop:"date",label:"第一列",width:"120px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1},{prop:"name",label:"第二列",width:"120px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1},{prop:"address",label:"第三列测试",width:"280px",fixed:!1,sortable:!1,"show-overflow-tooltip":!1}]},data:{title:"表格数据",type:EConfigItemPropsType.JsonEdit,val:[{date:"2016-05-03",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-02",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-04",name:"Tom",address:"No. 189, Grove St, Los Angeles"},{date:"2016-05-01",name:"Tom",address:"No. 189, Grove St, Los Angeles"}]},width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:500},height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:200},maxHeight:{title:"最大高度",type:EConfigItemPropsType.InputNumber,val:200},stripe:{title:"斑马纹",type:EConfigItemPropsType.Switch,val:!1},border:{title:"纵向边框",type:EConfigItemPropsType.Switch,val:!1},size:{title:"尺寸",type:EConfigItemPropsType.Select,val:"default",options:[{label:"大",value:"large"},{label:"默认",value:"default"},{label:"小",value:"small"}]},fit:{title:"列宽自撑开",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$8={name:"now-time",title:"当前时间",tag:"now-time",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!1,actual_rect:!0},display:!0,props:{width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:150},fontFamily:{title:"字体",type:EConfigItemPropsType.Select,val:"Microsoft YaHei",options:[{value:"Microsoft YaHei",label:"微软雅黑"},{value:"NSimSun",label:"新宋体"},{value:"KaiTi",label:"楷体"}]},fontSize:{title:"文字大小",type:EConfigItemPropsType.InputNumber,val:18},color:{title:"文字颜色",type:EConfigItemPropsType.Color,val:"#000000"},bold:{title:"文字加粗",type:EConfigItemPropsType.Switch,val:!1}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$7={name:"el-tag",tag:"el-tag",title:"标签",type:EDoneJsonType.Vue,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{type:{title:"类型",type:EConfigItemPropsType.Select,val:"success",options:[{label:"成功",value:"success"},{label:"警告",value:"warning"},{label:"危险",value:"danger"},{label:"信息",value:"info"}]},closable:{title:"可关闭",type:EConfigItemPropsType.Switch,val:!0},"disable-transitions":{title:"渐变",type:EConfigItemPropsType.Switch,val:!1}},tag_slot:"标签",common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$6={name:"progress-a",tag:"progress-a",title:"进度条",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!0,actual_rect:!0},display:!0,props:{percentage:{title:"进度",type:EConfigItemPropsType.InputNumber,val:50}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$5={name:"text-box",title:"文字背景框",tag:"text-box",type:EDoneJsonType.Vue,config:{can_zoom:!1,have_anchor:!1,actual_rect:!0},display:!0,props:{width:{title:"宽度",type:EConfigItemPropsType.InputNumber,val:250},height:{title:"高度",type:EConfigItemPropsType.InputNumber,val:150},bgColor:{title:"背景颜色",type:EConfigItemPropsType.Color,val:"#000000"},bgOpacity:{title:"背景透明度(%)",type:EConfigItemPropsType.InputNumber,val:1},borderColor:{title:"边框颜色",type:EConfigItemPropsType.Color,val:"#cccccc"},borderWidth:{title:"边框宽度",type:EConfigItemPropsType.InputNumber,val:1},borderRadius:{title:"边框圆角",type:EConfigItemPropsType.InputNumber,val:5},borderOpacity:{title:"边框透明度(%)",type:EConfigItemPropsType.InputNumber,val:100}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$4={groupType:"custom-vue",title:"VUE组件",list:[t$a,t$6,t$9,t$8,t$7,t$5]},t$3={name:"pie-charts",tag:"pie-charts",title:"饼图",type:EDoneJsonType.Vue,config:{can_zoom:!0,have_anchor:!0,actual_rect:!0},display:!0,props:{title:{title:"标题",type:EConfigItemPropsType.Input,val:"默认标题"},seriesName:{title:"详情",type:EConfigItemPropsType.Input,val:"详情标题"},seriesData:{title:"legendData",type:EConfigItemPropsType.JsonEdit,val:[{value:1048,name:"办公楼A"},{value:735,name:"办公楼B"},{value:580,name:"保安室"},{value:484,name:"地下车库"},{value:300,name:"食堂"}]}},common_animations:{val:"",delay:"delay-0s",speed:"slow",repeat:"infinite"},events:[]},t$2={groupType:"echarts",title:"图表",list:[t$3]},t$1=Object.seal([t$4,t$2]),_sfc_main$N=vue.defineComponent({__name:"progress",props:{percentage:{default:10}},emits:["onChange"],setup(i,{emit:r}){const n=[{color:"#f56c6c",percentage:20},{color:"#e6a23c",percentage:40},{color:"#5cb87a",percentage:60},{color:"#1989fa",percentage:80},{color:"#6f7ad3",percentage:100}],o=i,a=r;return vue.watch(()=>o.percentage,()=>{a("onChange")}),(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElProgress),{type:"dashboard",percentage:Number(o.percentage),color:n},null,8,["percentage"]))}}),_hoisted_1$i=["id"],_hoisted_2$f=["id"],_hoisted_3$c=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",fill:"white","fill-opacity":".01","p-id":"1537","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_4$a=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z     m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",fill:"#2c2c2c","p-id":"1531","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_5$9=vue.createElementVNode("path",{d:"M238.933333 409.6c-37.546667 0-68.266667 27.306667-68.266666 61.44v85.333333c0 34.133333 30.72 61.44 68.266666 61.44s68.266667-27.306667 68.266667-61.44v-85.333333c0-34.133333-30.72-61.44-68.266667-61.44z m34.133334 146.773333c0 13.653333-17.066667 23.893333-34.133334 23.893334s-34.133333-10.24-34.133333-27.306667v-85.333333c0-13.653333 17.066667-23.893333 34.133333-23.893334s34.133333 10.24 34.133334 27.306667v85.333333zM460.8 409.6c-10.24 0-17.066667 6.826667-17.066667 17.066667v109.226666l-71.68-119.466666c-3.413333-6.826667-10.24-10.24-20.48-6.826667-6.826667 3.413333-13.653333 10.24-13.653333 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667v-109.226666l71.68 119.466666c3.413333 6.826667 10.24 6.826667 13.653334 6.826667h3.413333c6.826667-3.413333 13.653333-10.24 13.653333-17.066667v-170.666666c3.413333-10.24-3.413333-17.066667-13.653333-17.066667zM750.933333 341.333333c-95.573333 0-170.666667 75.093333-170.666666 170.666667s75.093333 170.666667 170.666666 170.666667 170.666667-75.093333 170.666667-170.666667-75.093333-170.666667-170.666667-170.666667z",fill:"#5ad562","p-id":"1530","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i1.1adc3a81uCnBP5"},null,-1),_hoisted_6$8=[_hoisted_3$c,_hoisted_4$a,_hoisted_5$9],_hoisted_7$8=["id"],_hoisted_8$7=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z",fill:"white","fill-opacity":".01","p-id":"1536","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_9$7=vue.createElementVNode("path",{d:"M747.52 238.933333    H276.48    C122.88 238.933333 0 361.813333 0 512    s122.88 273.066667 276.48 273.066667    H750.933333    c150.186667 0 276.48-122.88 276.48-273.066667    s-126.293333-273.066667-279.893333-273.066667z    m0 512    H276.48    C143.36 750.933333 34.133333 645.12 34.133333 512s109.226667-238.933333 242.346667-238.933333    H750.933333c133.12 0 242.346667 105.813333 242.346667 238.933333s-112.64 238.933333-245.76 238.933333z",fill:"#2c2c2c","p-id":"1535","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81uCnBP5"},null,-1),_hoisted_10$6=vue.createElementVNode("path",{d:"M273.066667 341.333333c-95.573333 0-170.666667 75.093333-170.666667 170.666667s75.093333 170.666667 170.666667 170.666667 170.666667-75.093333 170.666666-170.666667-75.093333-170.666667-170.666666-170.666667z",fill:"#bfbfbf","p-id":"1534","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i0.1adc3a81KYNNkt"},null,-1),_hoisted_11$5=vue.createElementVNode("path",{d:"M580.266667 409.6c-37.546667 0-68.266667 27.306667-68.266667 61.44v85.333333c0 34.133333 30.72 61.44 68.266667 61.44s68.266667-27.306667 68.266666-61.44v-85.333333c0-34.133333-30.72-61.44-68.266666-61.44z m34.133333 146.773333c0 13.653333-17.066667 27.306667-34.133333 27.306667s-34.133333-10.24-34.133334-27.306667v-85.333333c0-13.653333 17.066667-27.306667 34.133334-27.306667s34.133333 10.24 34.133333 27.306667v85.333333zM904.533333 409.6h-68.266666c-10.24 0-17.066667 6.826667-17.066667 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066667 17.066667s17.066667-6.826667 17.066666-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066667-17.066667s-6.826667-17.066667-17.066667-17.066666H853.333333v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667zM768 409.6h-68.266667c-10.24 0-17.066667 6.826667-17.066666 17.066667v170.666666c0 10.24 6.826667 17.066667 17.066666 17.066667s17.066667-6.826667 17.066667-17.066667V512h17.066667c10.24 0 17.066667-6.826667 17.066666-17.066667s-6.826667-17.066667-17.066666-17.066666H716.8v-34.133334h51.2c10.24 0 17.066667-6.826667 17.066667-17.066666s-6.826667-17.066667-17.066667-17.066667z",fill:"#707070","p-id":"1533","data-spm-anchor-id":"a313x.manage_type_myprojects.0.i2.1adc3a81KYNNkt"},null,-1),_hoisted_12$4=[_hoisted_8$7,_hoisted_9$7,_hoisted_10$6,_hoisted_11$5],_hoisted_13$4=["xlink:href"],_sfc_main$M=vue.defineComponent({__name:"switch-r",props:{id:{type:String,default:""},isOpen:{type:Boolean,default:!0}},emits:["onChange"],setup(i,{emit:r}){const n=i,o=r;return vue.watch(()=>n.isOpen,()=>{o("onChange")}),(a,u)=>(vue.openBlock(),vue.createElementBlock("g",{id:n.id},[vue.createElementVNode("symbol",{viewBox:"0 0 1027 1024",id:`${n.id}switch-demo-open`},_hoisted_6$8,8,_hoisted_2$f),vue.createElementVNode("symbol",{viewBox:"0 0 1027 1024",id:`${n.id}switch-demo-close`},_hoisted_12$4,8,_hoisted_7$8),vue.createElementVNode("use",{"xlink:href":`#${n.id}switch-demo-${n.isOpen?"open":"close"}`,width:"100",height:"100"},null,8,_hoisted_13$4)],8,_hoisted_1$i))}}),_sfc_main$L=vue.defineComponent({__name:"svg-text",props:{text:{},bold:{type:Boolean}},emits:["resize"],setup(i,{emit:r}){const n=r,o=i;return vue.watch(()=>o.text,()=>{vue.nextTick(function(){n("resize")})}),(a,u)=>(vue.openBlock(),vue.createElementBlock("text",{x:"50",y:"55",style:vue.normalizeStyle({"font-weight":o.bold?"bold":"normal"})},vue.toDisplayString(o.text),5))}}),_sfc_main$K=vue.defineComponent({__name:"common-table",props:{colConfig:{default:()=>[]},data:{default:()=>[]},height:{default:200},maxHeight:{},stripe:{type:Boolean,default:!1},border:{type:Boolean,default:!1},size:{},fit:{type:Boolean,default:!1},operateDisplay:{type:Boolean,default:!1},selectionData:{default:()=>[]}},setup(i){const r=i,n=vue.ref({});return vue.watchEffect(()=>{const{colConfig:o,...a}=r;n.value=a}),(o,a)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTable),vue.normalizeProps(vue.guardReactiveProps(vue.unref(n))),{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.colConfig,u=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTableColumn),vue.mergeProps({key:u.prop,ref_for:!0},u),null,16))),128))]),_:1},16))}}),_hoisted_1$h={class:"flex mt-5px"},_sfc_main$J=vue.defineComponent({__name:"now-time",props:{width:{},fontFamily:{},color:{},fontSize:{},bold:{type:Boolean}},setup(i){const r=i,n=vue.computed(()=>({fontFamily:r.fontFamily,color:r.color,fontSize:r.fontSize+"px",fontWeight:r.bold?"bold":"normal"})),o=vue.ref(new Date),a=vue.ref(),u=vue.computed(()=>{const f=o.value.getFullYear(),h=o.value.getMonth()+1,y=o.value.getDate();return f.toString()+"年"+h.toString()+"月"+y.toString()+"日"}),c=vue.computed(()=>{const f=o.value.getDay();return["星期日","星期一","星期二","星期三","星期四","星期五","星期六"][f]}),d=vue.computed(()=>{const f=o.value.getHours(),h=o.value.getMinutes(),y=o.value.getSeconds();return(f<10?"0"+f.toString():f.toString())+":"+(h<10?"0"+h.toString():h.toString())+":"+(y<10?"0"+y.toString():y.toString())});return vue.onMounted(()=>{a.value=setInterval(()=>{o.value=new Date},500)}),vue.onUnmounted(()=>{clearInterval(a.value)}),(f,h)=>(vue.openBlock(),vue.createElementBlock("div",{class:"now-time",style:vue.normalizeStyle({width:r.width+"px"})},[vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(n))},vue.toDisplayString(vue.unref(u)),5),vue.createElementVNode("div",_hoisted_1$h,[vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(n))},vue.toDisplayString(vue.unref(c)),5),vue.createElementVNode("div",{style:vue.normalizeStyle(vue.unref(n))},vue.toDisplayString(vue.unref(d)),5)])],4))}}),nowTime_vue_vue_type_style_index_0_scoped_82ca3b84_lang="",_export_sfc$1=(i,r)=>{const n=i.__vccOpts||i;for(const[o,a]of r)n[o]=a;return n},NowTime=_export_sfc$1(_sfc_main$J,[["__scopeId","data-v-82ca3b84"]]);/*! *****************************************************************************
  Copyright (c) Microsoft Corporation.

  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.

  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** */var extendStatics=function(i,r){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&(n[a]=o[a])},extendStatics(i,r)};function __extends(i,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");extendStatics(i,r);function n(){this.constructor=i}i.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)}var Browser=function(){function i(){this.firefox=!1,this.ie=!1,this.edge=!1,this.newEdge=!1,this.weChat=!1}return i}(),Env=function(){function i(){this.browser=new Browser,this.node=!1,this.wxa=!1,this.worker=!1,this.svgSupported=!1,this.touchEventsSupported=!1,this.pointerEventsSupported=!1,this.domSupported=!1,this.transformSupported=!1,this.transform3dSupported=!1,this.hasGlobalWindow=typeof window<"u"}return i}(),env=new Env;typeof wx=="object"&&typeof wx.getSystemInfoSync=="function"?(env.wxa=!0,env.touchEventsSupported=!0):typeof document>"u"&&typeof self<"u"?env.worker=!0:typeof navigator>"u"||navigator.userAgent.indexOf("Node.js")===0?(env.node=!0,env.svgSupported=!0):detect(navigator.userAgent,env);function detect(i,r){var n=r.browser,o=i.match(/Firefox\/([\d.]+)/),a=i.match(/MSIE\s([\d.]+)/)||i.match(/Trident\/.+?rv:(([\d.]+))/),u=i.match(/Edge?\/([\d.]+)/),c=/micromessenger/i.test(i);o&&(n.firefox=!0,n.version=o[1]),a&&(n.ie=!0,n.version=a[1]),u&&(n.edge=!0,n.version=u[1],n.newEdge=+u[1].split(".")[0]>18),c&&(n.weChat=!0),r.svgSupported=typeof SVGRect<"u",r.touchEventsSupported="ontouchstart"in window&&!n.ie&&!n.edge,r.pointerEventsSupported="onpointerdown"in window&&(n.edge||n.ie&&+n.version>=11),r.domSupported=typeof document<"u";var d=document.documentElement.style;r.transform3dSupported=(n.ie&&"transition"in d||n.edge||"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix||"MozPerspective"in d)&&!("OTransition"in d),r.transformSupported=r.transform3dSupported||n.ie&&+n.version>=9}const env$1=env;var DEFAULT_FONT_SIZE=12,DEFAULT_FONT_FAMILY="sans-serif",DEFAULT_FONT=DEFAULT_FONT_SIZE+"px "+DEFAULT_FONT_FAMILY,OFFSET=20,SCALE=100,defaultWidthMapStr="007LLmW'55;N0500LLLLLLLLLL00NNNLzWW\\\\WQb\\0FWLg\\bWb\\WQ\\WrWWQ000CL5LLFLL0LL**F*gLLLL5F0LF\\FFF5.5N";function getTextWidthMap(i){var r={};if(typeof JSON>"u")return r;for(var n=0;n<i.length;n++){var o=String.fromCharCode(n+32),a=(i.charCodeAt(n)-OFFSET)/SCALE;r[o]=a}return r}var DEFAULT_TEXT_WIDTH_MAP=getTextWidthMap(defaultWidthMapStr),platformApi={createCanvas:function(){return typeof document<"u"&&document.createElement("canvas")},measureText:function(){var i,r;return function(n,o){if(!i){var a=platformApi.createCanvas();i=a&&a.getContext("2d")}if(i)return r!==o&&(r=i.font=o||DEFAULT_FONT),i.measureText(n);n=n||"",o=o||DEFAULT_FONT;var u=/((?:\d+)?\.?\d*)px/.exec(o),c=u&&+u[1]||DEFAULT_FONT_SIZE,d=0;if(o.indexOf("mono")>=0)d=c*n.length;else for(var f=0;f<n.length;f++){var h=DEFAULT_TEXT_WIDTH_MAP[n[f]];d+=h==null?c:h*c}return{width:d}}}(),loadImage:function(i,r,n){var o=new Image;return o.onload=r,o.onerror=n,o.src=i,o}},BUILTIN_OBJECT=reduce(["Function","RegExp","Date","Error","CanvasGradient","CanvasPattern","Image","Canvas"],function(i,r){return i["[object "+r+"]"]=!0,i},{}),TYPED_ARRAY=reduce(["Int8","Uint8","Uint8Clamped","Int16","Uint16","Int32","Uint32","Float32","Float64"],function(i,r){return i["[object "+r+"Array]"]=!0,i},{}),objToString=Object.prototype.toString,arrayProto=Array.prototype,nativeForEach=arrayProto.forEach,nativeFilter=arrayProto.filter,nativeSlice=arrayProto.slice,nativeMap=arrayProto.map,ctorFunction=(function(){}).constructor,protoFunction=ctorFunction?ctorFunction.prototype:null,protoKey="__proto__",idStart=2311;function guid(){return idStart++}function logError(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];typeof console<"u"&&console.error.apply(console,i)}function clone$2(i){if(i==null||typeof i!="object")return i;var r=i,n=objToString.call(i);if(n==="[object Array]"){if(!isPrimitive(i)){r=[];for(var o=0,a=i.length;o<a;o++)r[o]=clone$2(i[o])}}else if(TYPED_ARRAY[n]){if(!isPrimitive(i)){var u=i.constructor;if(u.from)r=u.from(i);else{r=new u(i.length);for(var o=0,a=i.length;o<a;o++)r[o]=i[o]}}}else if(!BUILTIN_OBJECT[n]&&!isPrimitive(i)&&!isDom(i)){r={};for(var c in i)i.hasOwnProperty(c)&&c!==protoKey&&(r[c]=clone$2(i[c]))}return r}function merge(i,r,n){if(!isObject$3(r)||!isObject$3(i))return n?clone$2(r):i;for(var o in r)if(r.hasOwnProperty(o)&&o!==protoKey){var a=i[o],u=r[o];isObject$3(u)&&isObject$3(a)&&!isArray$1(u)&&!isArray$1(a)&&!isDom(u)&&!isDom(a)&&!isBuiltInObject(u)&&!isBuiltInObject(a)&&!isPrimitive(u)&&!isPrimitive(a)?merge(a,u,n):(n||!(o in i))&&(i[o]=clone$2(r[o]))}return i}function extend(i,r){if(Object.assign)Object.assign(i,r);else for(var n in r)r.hasOwnProperty(n)&&n!==protoKey&&(i[n]=r[n]);return i}function defaults(i,r,n){for(var o=keys(r),a=0;a<o.length;a++){var u=o[a];(n?r[u]!=null:i[u]==null)&&(i[u]=r[u])}return i}function indexOf(i,r){if(i){if(i.indexOf)return i.indexOf(r);for(var n=0,o=i.length;n<o;n++)if(i[n]===r)return n}return-1}function inherits(i,r){var n=i.prototype;function o(){}o.prototype=r.prototype,i.prototype=new o;for(var a in n)n.hasOwnProperty(a)&&(i.prototype[a]=n[a]);i.prototype.constructor=i,i.superClass=r}function mixin(i,r,n){if(i="prototype"in i?i.prototype:i,r="prototype"in r?r.prototype:r,Object.getOwnPropertyNames)for(var o=Object.getOwnPropertyNames(r),a=0;a<o.length;a++){var u=o[a];u!=="constructor"&&(n?r[u]!=null:i[u]==null)&&(i[u]=r[u])}else defaults(i,r,n)}function isArrayLike(i){return!i||typeof i=="string"?!1:typeof i.length=="number"}function each$4(i,r,n){if(i&&r)if(i.forEach&&i.forEach===nativeForEach)i.forEach(r,n);else if(i.length===+i.length)for(var o=0,a=i.length;o<a;o++)r.call(n,i[o],o,i);else for(var u in i)i.hasOwnProperty(u)&&r.call(n,i[u],u,i)}function map$1(i,r,n){if(!i)return[];if(!r)return slice(i);if(i.map&&i.map===nativeMap)return i.map(r,n);for(var o=[],a=0,u=i.length;a<u;a++)o.push(r.call(n,i[a],a,i));return o}function reduce(i,r,n,o){if(i&&r){for(var a=0,u=i.length;a<u;a++)n=r.call(o,n,i[a],a,i);return n}}function filter(i,r,n){if(!i)return[];if(!r)return slice(i);if(i.filter&&i.filter===nativeFilter)return i.filter(r,n);for(var o=[],a=0,u=i.length;a<u;a++)r.call(n,i[a],a,i)&&o.push(i[a]);return o}function keys(i){if(!i)return[];if(Object.keys)return Object.keys(i);var r=[];for(var n in i)i.hasOwnProperty(n)&&r.push(n);return r}function bindPolyfill(i,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return function(){return i.apply(r,n.concat(nativeSlice.call(arguments)))}}var bind$1=protoFunction&&isFunction$1(protoFunction.bind)?protoFunction.call.bind(protoFunction.bind):bindPolyfill;function curry$1(i){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return function(){return i.apply(this,r.concat(nativeSlice.call(arguments)))}}function isArray$1(i){return Array.isArray?Array.isArray(i):objToString.call(i)==="[object Array]"}function isFunction$1(i){return typeof i=="function"}function isString$2(i){return typeof i=="string"}function isStringSafe(i){return objToString.call(i)==="[object String]"}function isNumber$1(i){return typeof i=="number"}function isObject$3(i){var r=typeof i;return r==="function"||!!i&&r==="object"}function isBuiltInObject(i){return!!BUILTIN_OBJECT[objToString.call(i)]}function isTypedArray(i){return!!TYPED_ARRAY[objToString.call(i)]}function isDom(i){return typeof i=="object"&&typeof i.nodeType=="number"&&typeof i.ownerDocument=="object"}function isGradientObject(i){return i.colorStops!=null}function isRegExp(i){return objToString.call(i)==="[object RegExp]"}function eqNaN(i){return i!==i}function retrieve(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];for(var n=0,o=i.length;n<o;n++)if(i[n]!=null)return i[n]}function retrieve2(i,r){return i??r}function retrieve3(i,r,n){return i??r??n}function slice(i){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return nativeSlice.apply(i,r)}function normalizeCssArray$1(i){if(typeof i=="number")return[i,i,i,i];var r=i.length;return r===2?[i[0],i[1],i[0],i[1]]:r===3?[i[0],i[1],i[2],i[1]]:i}function assert(i,r){if(!i)throw new Error(r)}function trim(i){return i==null?null:typeof i.trim=="function"?i.trim():i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}var primitiveKey="__ec_primitive__";function setAsPrimitive(i){i[primitiveKey]=!0}function isPrimitive(i){return i[primitiveKey]}var MapPolyfill=function(){function i(){this.data={}}return i.prototype.delete=function(r){var n=this.has(r);return n&&delete this.data[r],n},i.prototype.has=function(r){return this.data.hasOwnProperty(r)},i.prototype.get=function(r){return this.data[r]},i.prototype.set=function(r,n){return this.data[r]=n,this},i.prototype.keys=function(){return keys(this.data)},i.prototype.forEach=function(r){var n=this.data;for(var o in n)n.hasOwnProperty(o)&&r(n[o],o)},i}(),isNativeMapSupported=typeof Map=="function";function maybeNativeMap(){return isNativeMapSupported?new Map:new MapPolyfill}var HashMap=function(){function i(r){var n=isArray$1(r);this.data=maybeNativeMap();var o=this;r instanceof i?r.each(a):r&&each$4(r,a);function a(u,c){n?o.set(u,c):o.set(c,u)}}return i.prototype.hasKey=function(r){return this.data.has(r)},i.prototype.get=function(r){return this.data.get(r)},i.prototype.set=function(r,n){return this.data.set(r,n),n},i.prototype.each=function(r,n){this.data.forEach(function(o,a){r.call(n,o,a)})},i.prototype.keys=function(){var r=this.data.keys();return isNativeMapSupported?Array.from(r):r},i.prototype.removeKey=function(r){this.data.delete(r)},i}();function createHashMap(i){return new HashMap(i)}function concatArray(i,r){for(var n=new i.constructor(i.length+r.length),o=0;o<i.length;o++)n[o]=i[o];for(var a=i.length,o=0;o<r.length;o++)n[o+a]=r[o];return n}function createObject(i,r){var n;if(Object.create)n=Object.create(i);else{var o=function(){};o.prototype=i,n=new o}return r&&extend(n,r),n}function hasOwn$1(i,r){return i.hasOwnProperty(r)}function noop$1(){}var RADIAN_TO_DEGREE=180/Math.PI;function create$1(i,r){return i==null&&(i=0),r==null&&(r=0),[i,r]}function clone$1(i){return[i[0],i[1]]}function add(i,r,n){return i[0]=r[0]+n[0],i[1]=r[1]+n[1],i}function sub$1(i,r,n){return i[0]=r[0]-n[0],i[1]=r[1]-n[1],i}function len(i){return Math.sqrt(lenSquare(i))}function lenSquare(i){return i[0]*i[0]+i[1]*i[1]}function scale$1(i,r,n){return i[0]=r[0]*n,i[1]=r[1]*n,i}function normalize(i,r){var n=len(r);return n===0?(i[0]=0,i[1]=0):(i[0]=r[0]/n,i[1]=r[1]/n),i}function distance(i,r){return Math.sqrt((i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1]))}var dist$1=distance;function distanceSquare(i,r){return(i[0]-r[0])*(i[0]-r[0])+(i[1]-r[1])*(i[1]-r[1])}var distSquare=distanceSquare;function lerp(i,r,n,o){return i[0]=r[0]+o*(n[0]-r[0]),i[1]=r[1]+o*(n[1]-r[1]),i}function applyTransform$1(i,r,n){var o=r[0],a=r[1];return i[0]=n[0]*o+n[2]*a+n[4],i[1]=n[1]*o+n[3]*a+n[5],i}function min$1(i,r,n){return i[0]=Math.min(r[0],n[0]),i[1]=Math.min(r[1],n[1]),i}function max$1(i,r,n){return i[0]=Math.max(r[0],n[0]),i[1]=Math.max(r[1],n[1]),i}var Param=function(){function i(r,n){this.target=r,this.topTarget=n&&n.topTarget}return i}(),Draggable=function(){function i(r){this.handler=r,r.on("mousedown",this._dragStart,this),r.on("mousemove",this._drag,this),r.on("mouseup",this._dragEnd,this)}return i.prototype._dragStart=function(r){for(var n=r.target;n&&!n.draggable;)n=n.parent||n.__hostTarget;n&&(this._draggingTarget=n,n.dragging=!0,this._x=r.offsetX,this._y=r.offsetY,this.handler.dispatchToElement(new Param(n,r),"dragstart",r.event))},i.prototype._drag=function(r){var n=this._draggingTarget;if(n){var o=r.offsetX,a=r.offsetY,u=o-this._x,c=a-this._y;this._x=o,this._y=a,n.drift(u,c,r),this.handler.dispatchToElement(new Param(n,r),"drag",r.event);var d=this.handler.findHover(o,a,n).target,f=this._dropTarget;this._dropTarget=d,n!==d&&(f&&d!==f&&this.handler.dispatchToElement(new Param(f,r),"dragleave",r.event),d&&d!==f&&this.handler.dispatchToElement(new Param(d,r),"dragenter",r.event))}},i.prototype._dragEnd=function(r){var n=this._draggingTarget;n&&(n.dragging=!1),this.handler.dispatchToElement(new Param(n,r),"dragend",r.event),this._dropTarget&&this.handler.dispatchToElement(new Param(this._dropTarget,r),"drop",r.event),this._draggingTarget=null,this._dropTarget=null},i}();const Draggable$1=Draggable;var Eventful=function(){function i(r){r&&(this._$eventProcessor=r)}return i.prototype.on=function(r,n,o,a){this._$handlers||(this._$handlers={});var u=this._$handlers;if(typeof n=="function"&&(a=o,o=n,n=null),!o||!r)return this;var c=this._$eventProcessor;n!=null&&c&&c.normalizeQuery&&(n=c.normalizeQuery(n)),u[r]||(u[r]=[]);for(var d=0;d<u[r].length;d++)if(u[r][d].h===o)return this;var f={h:o,query:n,ctx:a||this,callAtLast:o.zrEventfulCallAtLast},h=u[r].length-1,y=u[r][h];return y&&y.callAtLast?u[r].splice(h,0,f):u[r].push(f),this},i.prototype.isSilent=function(r){var n=this._$handlers;return!n||!n[r]||!n[r].length},i.prototype.off=function(r,n){var o=this._$handlers;if(!o)return this;if(!r)return this._$handlers={},this;if(n){if(o[r]){for(var a=[],u=0,c=o[r].length;u<c;u++)o[r][u].h!==n&&a.push(o[r][u]);o[r]=a}o[r]&&o[r].length===0&&delete o[r]}else delete o[r];return this},i.prototype.trigger=function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!this._$handlers)return this;var a=this._$handlers[r],u=this._$eventProcessor;if(a)for(var c=n.length,d=a.length,f=0;f<d;f++){var h=a[f];if(!(u&&u.filter&&h.query!=null&&!u.filter(r,h.query)))switch(c){case 0:h.h.call(h.ctx);break;case 1:h.h.call(h.ctx,n[0]);break;case 2:h.h.call(h.ctx,n[0],n[1]);break;default:h.h.apply(h.ctx,n);break}}return u&&u.afterTrigger&&u.afterTrigger(r),this},i.prototype.triggerWithContext=function(r){for(var n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];if(!this._$handlers)return this;var a=this._$handlers[r],u=this._$eventProcessor;if(a)for(var c=n.length,d=n[c-1],f=a.length,h=0;h<f;h++){var y=a[h];if(!(u&&u.filter&&y.query!=null&&!u.filter(r,y.query)))switch(c){case 0:y.h.call(d);break;case 1:y.h.call(d,n[0]);break;case 2:y.h.call(d,n[0],n[1]);break;default:y.h.apply(d,n.slice(1,c-1));break}}return u&&u.afterTrigger&&u.afterTrigger(r),this},i}();const Eventful$1=Eventful;var LN2=Math.log(2);function determinant(i,r,n,o,a,u){var c=o+"-"+a,d=i.length;if(u.hasOwnProperty(c))return u[c];if(r===1){var f=Math.round(Math.log((1<<d)-1&~a)/LN2);return i[n][f]}for(var h=o|1<<n,y=n+1;o&1<<y;)y++;for(var g=0,p=0,v=0;p<d;p++){var _=1<<p;_&a||(g+=(v%2?-1:1)*i[n][p]*determinant(i,r-1,y,h,a|_,u),v++)}return u[c]=g,g}function buildTransformer(i,r){var n=[[i[0],i[1],1,0,0,0,-r[0]*i[0],-r[0]*i[1]],[0,0,0,i[0],i[1],1,-r[1]*i[0],-r[1]*i[1]],[i[2],i[3],1,0,0,0,-r[2]*i[2],-r[2]*i[3]],[0,0,0,i[2],i[3],1,-r[3]*i[2],-r[3]*i[3]],[i[4],i[5],1,0,0,0,-r[4]*i[4],-r[4]*i[5]],[0,0,0,i[4],i[5],1,-r[5]*i[4],-r[5]*i[5]],[i[6],i[7],1,0,0,0,-r[6]*i[6],-r[6]*i[7]],[0,0,0,i[6],i[7],1,-r[7]*i[6],-r[7]*i[7]]],o={},a=determinant(n,8,0,0,0,o);if(a!==0){for(var u=[],c=0;c<8;c++)for(var d=0;d<8;d++)u[d]==null&&(u[d]=0),u[d]+=((c+d)%2?-1:1)*determinant(n,7,c===0?1:0,1<<c,1<<d,o)/a*r[c];return function(f,h,y){var g=h*u[6]+y*u[7]+1;f[0]=(h*u[0]+y*u[1]+u[2])/g,f[1]=(h*u[3]+y*u[4]+u[5])/g}}}var EVENT_SAVED_PROP="___zrEVENTSAVED",_calcOut$1=[];function transformLocalCoord(i,r,n,o,a){return transformCoordWithViewport(_calcOut$1,r,o,a,!0)&&transformCoordWithViewport(i,n,_calcOut$1[0],_calcOut$1[1])}function transformCoordWithViewport(i,r,n,o,a){if(r.getBoundingClientRect&&env$1.domSupported&&!isCanvasEl(r)){var u=r[EVENT_SAVED_PROP]||(r[EVENT_SAVED_PROP]={}),c=prepareCoordMarkers(r,u),d=preparePointerTransformer(c,u,a);if(d)return d(i,n,o),!0}return!1}function prepareCoordMarkers(i,r){var n=r.markers;if(n)return n;n=r.markers=[];for(var o=["left","right"],a=["top","bottom"],u=0;u<4;u++){var c=document.createElement("div"),d=c.style,f=u%2,h=(u>>1)%2;d.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",o[f]+":0",a[h]+":0",o[1-f]+":auto",a[1-h]+":auto",""].join("!important;"),i.appendChild(c),n.push(c)}return n}function preparePointerTransformer(i,r,n){for(var o=n?"invTrans":"trans",a=r[o],u=r.srcCoords,c=[],d=[],f=!0,h=0;h<4;h++){var y=i[h].getBoundingClientRect(),g=2*h,p=y.left,v=y.top;c.push(p,v),f=f&&u&&p===u[g]&&v===u[g+1],d.push(i[h].offsetLeft,i[h].offsetTop)}return f&&a?a:(r.srcCoords=c,r[o]=n?buildTransformer(d,c):buildTransformer(c,d))}function isCanvasEl(i){return i.nodeName.toUpperCase()==="CANVAS"}var replaceReg=/([&<>"'])/g,replaceMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function encodeHTML(i){return i==null?"":(i+"").replace(replaceReg,function(r,n){return replaceMap[n]})}var MOUSE_EVENT_REG=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,_calcOut=[],firefoxNotSupportOffsetXY=env$1.browser.firefox&&+env$1.browser.version.split(".")[0]<39;function clientToLocal(i,r,n,o){return n=n||{},o?calculateZrXY(i,r,n):firefoxNotSupportOffsetXY&&r.layerX!=null&&r.layerX!==r.offsetX?(n.zrX=r.layerX,n.zrY=r.layerY):r.offsetX!=null?(n.zrX=r.offsetX,n.zrY=r.offsetY):calculateZrXY(i,r,n),n}function calculateZrXY(i,r,n){if(env$1.domSupported&&i.getBoundingClientRect){var o=r.clientX,a=r.clientY;if(isCanvasEl(i)){var u=i.getBoundingClientRect();n.zrX=o-u.left,n.zrY=a-u.top;return}else if(transformCoordWithViewport(_calcOut,i,o,a)){n.zrX=_calcOut[0],n.zrY=_calcOut[1];return}}n.zrX=n.zrY=0}function getNativeEvent(i){return i||window.event}function normalizeEvent(i,r,n){if(r=getNativeEvent(r),r.zrX!=null)return r;var o=r.type,a=o&&o.indexOf("touch")>=0;if(a){var c=o!=="touchend"?r.targetTouches[0]:r.changedTouches[0];c&&clientToLocal(i,c,r,n)}else{clientToLocal(i,r,r,n);var u=getWheelDeltaMayPolyfill(r);r.zrDelta=u?u/120:-(r.detail||0)/3}var d=r.button;return r.which==null&&d!==void 0&&MOUSE_EVENT_REG.test(r.type)&&(r.which=d&1?1:d&2?3:d&4?2:0),r}function getWheelDeltaMayPolyfill(i){var r=i.wheelDelta;if(r)return r;var n=i.deltaX,o=i.deltaY;if(n==null||o==null)return r;var a=Math.abs(o!==0?o:n),u=o>0?-1:o<0?1:n>0?-1:1;return 3*a*u}function addEventListener(i,r,n,o){i.addEventListener(r,n,o)}function removeEventListener(i,r,n,o){i.removeEventListener(r,n,o)}var stop=function(i){i.preventDefault(),i.stopPropagation(),i.cancelBubble=!0},GestureMgr=function(){function i(){this._track=[]}return i.prototype.recognize=function(r,n,o){return this._doTrack(r,n,o),this._recognize(r)},i.prototype.clear=function(){return this._track.length=0,this},i.prototype._doTrack=function(r,n,o){var a=r.touches;if(a){for(var u={points:[],touches:[],target:n,event:r},c=0,d=a.length;c<d;c++){var f=a[c],h=clientToLocal(o,f,{});u.points.push([h.zrX,h.zrY]),u.touches.push(f)}this._track.push(u)}},i.prototype._recognize=function(r){for(var n in recognizers)if(recognizers.hasOwnProperty(n)){var o=recognizers[n](this._track,r);if(o)return o}},i}();function dist(i){var r=i[1][0]-i[0][0],n=i[1][1]-i[0][1];return Math.sqrt(r*r+n*n)}function center(i){return[(i[0][0]+i[1][0])/2,(i[0][1]+i[1][1])/2]}var recognizers={pinch:function(i,r){var n=i.length;if(n){var o=(i[n-1]||{}).points,a=(i[n-2]||{}).points||o;if(a&&a.length>1&&o&&o.length>1){var u=dist(o)/dist(a);!isFinite(u)&&(u=1),r.pinchScale=u;var c=center(o);return r.pinchX=c[0],r.pinchY=c[1],{type:"pinch",target:i[0].target,event:r}}}}};function create(){return[1,0,0,1,0,0]}function identity$1(i){return i[0]=1,i[1]=0,i[2]=0,i[3]=1,i[4]=0,i[5]=0,i}function copy(i,r){return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4],i[5]=r[5],i}function mul(i,r,n){var o=r[0]*n[0]+r[2]*n[1],a=r[1]*n[0]+r[3]*n[1],u=r[0]*n[2]+r[2]*n[3],c=r[1]*n[2]+r[3]*n[3],d=r[0]*n[4]+r[2]*n[5]+r[4],f=r[1]*n[4]+r[3]*n[5]+r[5];return i[0]=o,i[1]=a,i[2]=u,i[3]=c,i[4]=d,i[5]=f,i}function translate$1(i,r,n){return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i[4]=r[4]+n[0],i[5]=r[5]+n[1],i}function rotate(i,r,n,o){o===void 0&&(o=[0,0]);var a=r[0],u=r[2],c=r[4],d=r[1],f=r[3],h=r[5],y=Math.sin(n),g=Math.cos(n);return i[0]=a*g+d*y,i[1]=-a*y+d*g,i[2]=u*g+f*y,i[3]=-u*y+g*f,i[4]=g*(c-o[0])+y*(h-o[1])+o[0],i[5]=g*(h-o[1])-y*(c-o[0])+o[1],i}function scale(i,r,n){var o=n[0],a=n[1];return i[0]=r[0]*o,i[1]=r[1]*a,i[2]=r[2]*o,i[3]=r[3]*a,i[4]=r[4]*o,i[5]=r[5]*a,i}function invert(i,r){var n=r[0],o=r[2],a=r[4],u=r[1],c=r[3],d=r[5],f=n*c-u*o;return f?(f=1/f,i[0]=c*f,i[1]=-u*f,i[2]=-o*f,i[3]=n*f,i[4]=(o*d-c*a)*f,i[5]=(u*a-n*d)*f,i):null}var Point=function(){function i(r,n){this.x=r||0,this.y=n||0}return i.prototype.copy=function(r){return this.x=r.x,this.y=r.y,this},i.prototype.clone=function(){return new i(this.x,this.y)},i.prototype.set=function(r,n){return this.x=r,this.y=n,this},i.prototype.equal=function(r){return r.x===this.x&&r.y===this.y},i.prototype.add=function(r){return this.x+=r.x,this.y+=r.y,this},i.prototype.scale=function(r){this.x*=r,this.y*=r},i.prototype.scaleAndAdd=function(r,n){this.x+=r.x*n,this.y+=r.y*n},i.prototype.sub=function(r){return this.x-=r.x,this.y-=r.y,this},i.prototype.dot=function(r){return this.x*r.x+this.y*r.y},i.prototype.len=function(){return Math.sqrt(this.x*this.x+this.y*this.y)},i.prototype.lenSquare=function(){return this.x*this.x+this.y*this.y},i.prototype.normalize=function(){var r=this.len();return this.x/=r,this.y/=r,this},i.prototype.distance=function(r){var n=this.x-r.x,o=this.y-r.y;return Math.sqrt(n*n+o*o)},i.prototype.distanceSquare=function(r){var n=this.x-r.x,o=this.y-r.y;return n*n+o*o},i.prototype.negate=function(){return this.x=-this.x,this.y=-this.y,this},i.prototype.transform=function(r){if(r){var n=this.x,o=this.y;return this.x=r[0]*n+r[2]*o+r[4],this.y=r[1]*n+r[3]*o+r[5],this}},i.prototype.toArray=function(r){return r[0]=this.x,r[1]=this.y,r},i.prototype.fromArray=function(r){this.x=r[0],this.y=r[1]},i.set=function(r,n,o){r.x=n,r.y=o},i.copy=function(r,n){r.x=n.x,r.y=n.y},i.len=function(r){return Math.sqrt(r.x*r.x+r.y*r.y)},i.lenSquare=function(r){return r.x*r.x+r.y*r.y},i.dot=function(r,n){return r.x*n.x+r.y*n.y},i.add=function(r,n,o){r.x=n.x+o.x,r.y=n.y+o.y},i.sub=function(r,n,o){r.x=n.x-o.x,r.y=n.y-o.y},i.scale=function(r,n,o){r.x=n.x*o,r.y=n.y*o},i.scaleAndAdd=function(r,n,o,a){r.x=n.x+o.x*a,r.y=n.y+o.y*a},i.lerp=function(r,n,o,a){var u=1-a;r.x=u*n.x+a*o.x,r.y=u*n.y+a*o.y},i}();const Point$1=Point;var mathMin$4=Math.min,mathMax$4=Math.max,lt$1=new Point$1,rb=new Point$1,lb=new Point$1,rt$1=new Point$1,minTv$1=new Point$1,maxTv$1=new Point$1,BoundingRect=function(){function i(r,n,o,a){o<0&&(r=r+o,o=-o),a<0&&(n=n+a,a=-a),this.x=r,this.y=n,this.width=o,this.height=a}return i.prototype.union=function(r){var n=mathMin$4(r.x,this.x),o=mathMin$4(r.y,this.y);isFinite(this.x)&&isFinite(this.width)?this.width=mathMax$4(r.x+r.width,this.x+this.width)-n:this.width=r.width,isFinite(this.y)&&isFinite(this.height)?this.height=mathMax$4(r.y+r.height,this.y+this.height)-o:this.height=r.height,this.x=n,this.y=o},i.prototype.applyTransform=function(r){i.applyTransform(this,this,r)},i.prototype.calculateTransform=function(r){var n=this,o=r.width/n.width,a=r.height/n.height,u=create();return translate$1(u,u,[-n.x,-n.y]),scale(u,u,[o,a]),translate$1(u,u,[r.x,r.y]),u},i.prototype.intersect=function(r,n){if(!r)return!1;r instanceof i||(r=i.create(r));var o=this,a=o.x,u=o.x+o.width,c=o.y,d=o.y+o.height,f=r.x,h=r.x+r.width,y=r.y,g=r.y+r.height,p=!(u<f||h<a||d<y||g<c);if(n){var v=1/0,_=0,b=Math.abs(u-f),A=Math.abs(h-a),w=Math.abs(d-y),S=Math.abs(g-c),T=Math.min(b,A),x=Math.min(w,S);u<f||h<a?T>_&&(_=T,b<A?Point$1.set(maxTv$1,-b,0):Point$1.set(maxTv$1,A,0)):T<v&&(v=T,b<A?Point$1.set(minTv$1,b,0):Point$1.set(minTv$1,-A,0)),d<y||g<c?x>_&&(_=x,w<S?Point$1.set(maxTv$1,0,-w):Point$1.set(maxTv$1,0,S)):T<v&&(v=T,w<S?Point$1.set(minTv$1,0,w):Point$1.set(minTv$1,0,-S))}return n&&Point$1.copy(n,p?minTv$1:maxTv$1),p},i.prototype.contain=function(r,n){var o=this;return r>=o.x&&r<=o.x+o.width&&n>=o.y&&n<=o.y+o.height},i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height)},i.prototype.copy=function(r){i.copy(this,r)},i.prototype.plain=function(){return{x:this.x,y:this.y,width:this.width,height:this.height}},i.prototype.isFinite=function(){return isFinite(this.x)&&isFinite(this.y)&&isFinite(this.width)&&isFinite(this.height)},i.prototype.isZero=function(){return this.width===0||this.height===0},i.create=function(r){return new i(r.x,r.y,r.width,r.height)},i.copy=function(r,n){r.x=n.x,r.y=n.y,r.width=n.width,r.height=n.height},i.applyTransform=function(r,n,o){if(!o){r!==n&&i.copy(r,n);return}if(o[1]<1e-5&&o[1]>-1e-5&&o[2]<1e-5&&o[2]>-1e-5){var a=o[0],u=o[3],c=o[4],d=o[5];r.x=n.x*a+c,r.y=n.y*u+d,r.width=n.width*a,r.height=n.height*u,r.width<0&&(r.x+=r.width,r.width=-r.width),r.height<0&&(r.y+=r.height,r.height=-r.height);return}lt$1.x=lb.x=n.x,lt$1.y=rt$1.y=n.y,rb.x=rt$1.x=n.x+n.width,rb.y=lb.y=n.y+n.height,lt$1.transform(o),rt$1.transform(o),rb.transform(o),lb.transform(o),r.x=mathMin$4(lt$1.x,rb.x,lb.x,rt$1.x),r.y=mathMin$4(lt$1.y,rb.y,lb.y,rt$1.y);var f=mathMax$4(lt$1.x,rb.x,lb.x,rt$1.x),h=mathMax$4(lt$1.y,rb.y,lb.y,rt$1.y);r.width=f-r.x,r.height=h-r.y},i}();const BoundingRect$1=BoundingRect;var SILENT="silent";function makeEventPacket(i,r,n){return{type:i,event:n,target:r.target,topTarget:r.topTarget,cancelBubble:!1,offsetX:n.zrX,offsetY:n.zrY,gestureEvent:n.gestureEvent,pinchX:n.pinchX,pinchY:n.pinchY,pinchScale:n.pinchScale,wheelDelta:n.zrDelta,zrByTouch:n.zrByTouch,which:n.which,stop:stopEvent$1}}function stopEvent$1(){stop(this.event)}var EmptyProxy=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.handler=null,n}return r.prototype.dispose=function(){},r.prototype.setCursor=function(){},r}(Eventful$1),HoveredResult=function(){function i(r,n){this.x=r,this.y=n}return i}(),handlerNames=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],tmpRect$1=new BoundingRect$1(0,0,0,0),Handler=function(i){__extends(r,i);function r(n,o,a,u,c){var d=i.call(this)||this;return d._hovered=new HoveredResult(0,0),d.storage=n,d.painter=o,d.painterRoot=u,d._pointerSize=c,a=a||new EmptyProxy,d.proxy=null,d.setHandlerProxy(a),d._draggingMgr=new Draggable$1(d),d}return r.prototype.setHandlerProxy=function(n){this.proxy&&this.proxy.dispose(),n&&(each$4(handlerNames,function(o){n.on&&n.on(o,this[o],this)},this),n.handler=this),this.proxy=n},r.prototype.mousemove=function(n){var o=n.zrX,a=n.zrY,u=isOutsideBoundary(this,o,a),c=this._hovered,d=c.target;d&&!d.__zr&&(c=this.findHover(c.x,c.y),d=c.target);var f=this._hovered=u?new HoveredResult(o,a):this.findHover(o,a),h=f.target,y=this.proxy;y.setCursor&&y.setCursor(h?h.cursor:"default"),d&&h!==d&&this.dispatchToElement(c,"mouseout",n),this.dispatchToElement(f,"mousemove",n),h&&h!==d&&this.dispatchToElement(f,"mouseover",n)},r.prototype.mouseout=function(n){var o=n.zrEventControl;o!=="only_globalout"&&this.dispatchToElement(this._hovered,"mouseout",n),o!=="no_globalout"&&this.trigger("globalout",{type:"globalout",event:n})},r.prototype.resize=function(){this._hovered=new HoveredResult(0,0)},r.prototype.dispatch=function(n,o){var a=this[n];a&&a.call(this,o)},r.prototype.dispose=function(){this.proxy.dispose(),this.storage=null,this.proxy=null,this.painter=null},r.prototype.setCursorStyle=function(n){var o=this.proxy;o.setCursor&&o.setCursor(n)},r.prototype.dispatchToElement=function(n,o,a){n=n||{};var u=n.target;if(!(u&&u.silent)){for(var c="on"+o,d=makeEventPacket(o,n,a);u&&(u[c]&&(d.cancelBubble=!!u[c].call(u,d)),u.trigger(o,d),u=u.__hostTarget?u.__hostTarget:u.parent,!d.cancelBubble););d.cancelBubble||(this.trigger(o,d),this.painter&&this.painter.eachOtherLayer&&this.painter.eachOtherLayer(function(f){typeof f[c]=="function"&&f[c].call(f,d),f.trigger&&f.trigger(o,d)}))}},r.prototype.findHover=function(n,o,a){var u=this.storage.getDisplayList(),c=new HoveredResult(n,o);if(setHoverTarget(u,c,n,o,a),this._pointerSize&&!c.target){for(var d=[],f=this._pointerSize,h=f/2,y=new BoundingRect$1(n-h,o-h,f,f),g=u.length-1;g>=0;g--){var p=u[g];p!==a&&!p.ignore&&!p.ignoreCoarsePointer&&(!p.parent||!p.parent.ignoreCoarsePointer)&&(tmpRect$1.copy(p.getBoundingRect()),p.transform&&tmpRect$1.applyTransform(p.transform),tmpRect$1.intersect(y)&&d.push(p))}if(d.length)for(var v=4,_=Math.PI/12,b=Math.PI*2,A=0;A<h;A+=v)for(var w=0;w<b;w+=_){var S=n+A*Math.cos(w),T=o+A*Math.sin(w);if(setHoverTarget(d,c,S,T,a),c.target)return c}}return c},r.prototype.processGesture=function(n,o){this._gestureMgr||(this._gestureMgr=new GestureMgr);var a=this._gestureMgr;o==="start"&&a.clear();var u=a.recognize(n,this.findHover(n.zrX,n.zrY,null).target,this.proxy.dom);if(o==="end"&&a.clear(),u){var c=u.type;n.gestureEvent=c;var d=new HoveredResult;d.target=u.target,this.dispatchToElement(d,c,u.event)}},r}(Eventful$1);each$4(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(i){Handler.prototype[i]=function(r){var n=r.zrX,o=r.zrY,a=isOutsideBoundary(this,n,o),u,c;if((i!=="mouseup"||!a)&&(u=this.findHover(n,o),c=u.target),i==="mousedown")this._downEl=c,this._downPoint=[r.zrX,r.zrY],this._upEl=c;else if(i==="mouseup")this._upEl=c;else if(i==="click"){if(this._downEl!==this._upEl||!this._downPoint||dist$1(this._downPoint,[r.zrX,r.zrY])>4)return;this._downPoint=null}this.dispatchToElement(u,i,r)}});function isHover(i,r,n){if(i[i.rectHover?"rectContain":"contain"](r,n)){for(var o=i,a=void 0,u=!1;o;){if(o.ignoreClip&&(u=!0),!u){var c=o.getClipPath();if(c&&!c.contain(r,n))return!1}o.silent&&(a=!0);var d=o.__hostTarget;o=d||o.parent}return a?SILENT:!0}return!1}function setHoverTarget(i,r,n,o,a){for(var u=i.length-1;u>=0;u--){var c=i[u],d=void 0;if(c!==a&&!c.ignore&&(d=isHover(c,n,o))&&(!r.topTarget&&(r.topTarget=c),d!==SILENT)){r.target=c;break}}}function isOutsideBoundary(i,r,n){var o=i.painter;return r<0||r>o.getWidth()||n<0||n>o.getHeight()}const Handler$1=Handler;var DEFAULT_MIN_MERGE=32,DEFAULT_MIN_GALLOPING=7;function minRunLength(i){for(var r=0;i>=DEFAULT_MIN_MERGE;)r|=i&1,i>>=1;return i+r}function makeAscendingRun(i,r,n,o){var a=r+1;if(a===n)return 1;if(o(i[a++],i[r])<0){for(;a<n&&o(i[a],i[a-1])<0;)a++;reverseRun(i,r,a)}else for(;a<n&&o(i[a],i[a-1])>=0;)a++;return a-r}function reverseRun(i,r,n){for(n--;r<n;){var o=i[r];i[r++]=i[n],i[n--]=o}}function binaryInsertionSort(i,r,n,o,a){for(o===r&&o++;o<n;o++){for(var u=i[o],c=r,d=o,f;c<d;)f=c+d>>>1,a(u,i[f])<0?d=f:c=f+1;var h=o-c;switch(h){case 3:i[c+3]=i[c+2];case 2:i[c+2]=i[c+1];case 1:i[c+1]=i[c];break;default:for(;h>0;)i[c+h]=i[c+h-1],h--}i[c]=u}}function gallopLeft(i,r,n,o,a,u){var c=0,d=0,f=1;if(u(i,r[n+a])>0){for(d=o-a;f<d&&u(i,r[n+a+f])>0;)c=f,f=(f<<1)+1,f<=0&&(f=d);f>d&&(f=d),c+=a,f+=a}else{for(d=a+1;f<d&&u(i,r[n+a-f])<=0;)c=f,f=(f<<1)+1,f<=0&&(f=d);f>d&&(f=d);var h=c;c=a-f,f=a-h}for(c++;c<f;){var y=c+(f-c>>>1);u(i,r[n+y])>0?c=y+1:f=y}return f}function gallopRight(i,r,n,o,a,u){var c=0,d=0,f=1;if(u(i,r[n+a])<0){for(d=a+1;f<d&&u(i,r[n+a-f])<0;)c=f,f=(f<<1)+1,f<=0&&(f=d);f>d&&(f=d);var h=c;c=a-f,f=a-h}else{for(d=o-a;f<d&&u(i,r[n+a+f])>=0;)c=f,f=(f<<1)+1,f<=0&&(f=d);f>d&&(f=d),c+=a,f+=a}for(c++;c<f;){var y=c+(f-c>>>1);u(i,r[n+y])<0?f=y:c=y+1}return f}function TimSort(i,r){var n=DEFAULT_MIN_GALLOPING,o,a,u=0,c=[];o=[],a=[];function d(v,_){o[u]=v,a[u]=_,u+=1}function f(){for(;u>1;){var v=u-2;if(v>=1&&a[v-1]<=a[v]+a[v+1]||v>=2&&a[v-2]<=a[v]+a[v-1])a[v-1]<a[v+1]&&v--;else if(a[v]>a[v+1])break;y(v)}}function h(){for(;u>1;){var v=u-2;v>0&&a[v-1]<a[v+1]&&v--,y(v)}}function y(v){var _=o[v],b=a[v],A=o[v+1],w=a[v+1];a[v]=b+w,v===u-3&&(o[v+1]=o[v+2],a[v+1]=a[v+2]),u--;var S=gallopRight(i[A],i,_,b,0,r);_+=S,b-=S,b!==0&&(w=gallopLeft(i[_+b-1],i,A,w,w-1,r),w!==0&&(b<=w?g(_,b,A,w):p(_,b,A,w)))}function g(v,_,b,A){var w=0;for(w=0;w<_;w++)c[w]=i[v+w];var S=0,T=b,x=v;if(i[x++]=i[T++],--A===0){for(w=0;w<_;w++)i[x+w]=c[S+w];return}if(_===1){for(w=0;w<A;w++)i[x+w]=i[T+w];i[x+A]=c[S];return}for(var M=n,L,k,ie;;){L=0,k=0,ie=!1;do if(r(i[T],c[S])<0){if(i[x++]=i[T++],k++,L=0,--A===0){ie=!0;break}}else if(i[x++]=c[S++],L++,k=0,--_===1){ie=!0;break}while((L|k)<M);if(ie)break;do{if(L=gallopRight(i[T],c,S,_,0,r),L!==0){for(w=0;w<L;w++)i[x+w]=c[S+w];if(x+=L,S+=L,_-=L,_<=1){ie=!0;break}}if(i[x++]=i[T++],--A===0){ie=!0;break}if(k=gallopLeft(c[S],i,T,A,0,r),k!==0){for(w=0;w<k;w++)i[x+w]=i[T+w];if(x+=k,T+=k,A-=k,A===0){ie=!0;break}}if(i[x++]=c[S++],--_===1){ie=!0;break}M--}while(L>=DEFAULT_MIN_GALLOPING||k>=DEFAULT_MIN_GALLOPING);if(ie)break;M<0&&(M=0),M+=2}if(n=M,n<1&&(n=1),_===1){for(w=0;w<A;w++)i[x+w]=i[T+w];i[x+A]=c[S]}else{if(_===0)throw new Error;for(w=0;w<_;w++)i[x+w]=c[S+w]}}function p(v,_,b,A){var w=0;for(w=0;w<A;w++)c[w]=i[b+w];var S=v+_-1,T=A-1,x=b+A-1,M=0,L=0;if(i[x--]=i[S--],--_===0){for(M=x-(A-1),w=0;w<A;w++)i[M+w]=c[w];return}if(A===1){for(x-=_,S-=_,L=x+1,M=S+1,w=_-1;w>=0;w--)i[L+w]=i[M+w];i[x]=c[T];return}for(var k=n;;){var ie=0,$=0,z=!1;do if(r(c[T],i[S])<0){if(i[x--]=i[S--],ie++,$=0,--_===0){z=!0;break}}else if(i[x--]=c[T--],$++,ie=0,--A===1){z=!0;break}while((ie|$)<k);if(z)break;do{if(ie=_-gallopRight(c[T],i,v,_,_-1,r),ie!==0){for(x-=ie,S-=ie,_-=ie,L=x+1,M=S+1,w=ie-1;w>=0;w--)i[L+w]=i[M+w];if(_===0){z=!0;break}}if(i[x--]=c[T--],--A===1){z=!0;break}if($=A-gallopLeft(i[S],c,0,A,A-1,r),$!==0){for(x-=$,T-=$,A-=$,L=x+1,M=T+1,w=0;w<$;w++)i[L+w]=c[M+w];if(A<=1){z=!0;break}}if(i[x--]=i[S--],--_===0){z=!0;break}k--}while(ie>=DEFAULT_MIN_GALLOPING||$>=DEFAULT_MIN_GALLOPING);if(z)break;k<0&&(k=0),k+=2}if(n=k,n<1&&(n=1),A===1){for(x-=_,S-=_,L=x+1,M=S+1,w=_-1;w>=0;w--)i[L+w]=i[M+w];i[x]=c[T]}else{if(A===0)throw new Error;for(M=x-(A-1),w=0;w<A;w++)i[M+w]=c[w]}}return{mergeRuns:f,forceMergeRuns:h,pushRun:d}}function sort(i,r,n,o){n||(n=0),o||(o=i.length);var a=o-n;if(!(a<2)){var u=0;if(a<DEFAULT_MIN_MERGE){u=makeAscendingRun(i,n,o,r),binaryInsertionSort(i,n,o,n+u,r);return}var c=TimSort(i,r),d=minRunLength(a);do{if(u=makeAscendingRun(i,n,o,r),u<d){var f=a;f>d&&(f=d),binaryInsertionSort(i,n,n+f,n+u,r),u=f}c.pushRun(n,u),c.mergeRuns(),a-=u,n+=u}while(a!==0);c.forceMergeRuns()}}var REDRAW_BIT=1,STYLE_CHANGED_BIT=2,SHAPE_CHANGED_BIT=4,invalidZErrorLogged=!1;function logInvalidZError(){invalidZErrorLogged||(invalidZErrorLogged=!0,console.warn("z / z2 / zlevel of displayable is invalid, which may cause unexpected errors"))}function shapeCompareFunc(i,r){return i.zlevel===r.zlevel?i.z===r.z?i.z2-r.z2:i.z-r.z:i.zlevel-r.zlevel}var Storage=function(){function i(){this._roots=[],this._displayList=[],this._displayListLen=0,this.displayableSortFunc=shapeCompareFunc}return i.prototype.traverse=function(r,n){for(var o=0;o<this._roots.length;o++)this._roots[o].traverse(r,n)},i.prototype.getDisplayList=function(r,n){n=n||!1;var o=this._displayList;return(r||!o.length)&&this.updateDisplayList(n),o},i.prototype.updateDisplayList=function(r){this._displayListLen=0;for(var n=this._roots,o=this._displayList,a=0,u=n.length;a<u;a++)this._updateAndAddDisplayable(n[a],null,r);o.length=this._displayListLen,sort(o,shapeCompareFunc)},i.prototype._updateAndAddDisplayable=function(r,n,o){if(!(r.ignore&&!o)){r.beforeUpdate(),r.update(),r.afterUpdate();var a=r.getClipPath();if(r.ignoreClip)n=null;else if(a){n?n=n.slice():n=[];for(var u=a,c=r;u;)u.parent=c,u.updateTransform(),n.push(u),c=u,u=u.getClipPath()}if(r.childrenRef){for(var d=r.childrenRef(),f=0;f<d.length;f++){var h=d[f];r.__dirty&&(h.__dirty|=REDRAW_BIT),this._updateAndAddDisplayable(h,n,o)}r.__dirty=0}else{var y=r;n&&n.length?y.__clipPaths=n:y.__clipPaths&&y.__clipPaths.length>0&&(y.__clipPaths=[]),isNaN(y.z)&&(logInvalidZError(),y.z=0),isNaN(y.z2)&&(logInvalidZError(),y.z2=0),isNaN(y.zlevel)&&(logInvalidZError(),y.zlevel=0),this._displayList[this._displayListLen++]=y}var g=r.getDecalElement&&r.getDecalElement();g&&this._updateAndAddDisplayable(g,n,o);var p=r.getTextGuideLine();p&&this._updateAndAddDisplayable(p,n,o);var v=r.getTextContent();v&&this._updateAndAddDisplayable(v,n,o)}},i.prototype.addRoot=function(r){r.__zr&&r.__zr.storage===this||this._roots.push(r)},i.prototype.delRoot=function(r){if(r instanceof Array){for(var n=0,o=r.length;n<o;n++)this.delRoot(r[n]);return}var a=indexOf(this._roots,r);a>=0&&this._roots.splice(a,1)},i.prototype.delAllRoots=function(){this._roots=[],this._displayList=[],this._displayListLen=0},i.prototype.getRoots=function(){return this._roots},i.prototype.dispose=function(){this._displayList=null,this._roots=null},i}();const Storage$1=Storage;var requestAnimationFrame$2;requestAnimationFrame$2=env$1.hasGlobalWindow&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(i){return setTimeout(i,16)};const requestAnimationFrame$3=requestAnimationFrame$2;var easingFuncs={linear:function(i){return i},quadraticIn:function(i){return i*i},quadraticOut:function(i){return i*(2-i)},quadraticInOut:function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)},cubicIn:function(i){return i*i*i},cubicOut:function(i){return--i*i*i+1},cubicInOut:function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)},quarticIn:function(i){return i*i*i*i},quarticOut:function(i){return 1- --i*i*i*i},quarticInOut:function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)},quinticIn:function(i){return i*i*i*i*i},quinticOut:function(i){return--i*i*i*i*i+1},quinticInOut:function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)},sinusoidalIn:function(i){return 1-Math.cos(i*Math.PI/2)},sinusoidalOut:function(i){return Math.sin(i*Math.PI/2)},sinusoidalInOut:function(i){return .5*(1-Math.cos(Math.PI*i))},exponentialIn:function(i){return i===0?0:Math.pow(1024,i-1)},exponentialOut:function(i){return i===1?1:1-Math.pow(2,-10*i)},exponentialInOut:function(i){return i===0?0:i===1?1:(i*=2)<1?.5*Math.pow(1024,i-1):.5*(-Math.pow(2,-10*(i-1))+2)},circularIn:function(i){return 1-Math.sqrt(1-i*i)},circularOut:function(i){return Math.sqrt(1- --i*i)},circularInOut:function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)},elasticIn:function(i){var r,n=.1,o=.4;return i===0?0:i===1?1:(!n||n<1?(n=1,r=o/4):r=o*Math.asin(1/n)/(2*Math.PI),-(n*Math.pow(2,10*(i-=1))*Math.sin((i-r)*(2*Math.PI)/o)))},elasticOut:function(i){var r,n=.1,o=.4;return i===0?0:i===1?1:(!n||n<1?(n=1,r=o/4):r=o*Math.asin(1/n)/(2*Math.PI),n*Math.pow(2,-10*i)*Math.sin((i-r)*(2*Math.PI)/o)+1)},elasticInOut:function(i){var r,n=.1,o=.4;return i===0?0:i===1?1:(!n||n<1?(n=1,r=o/4):r=o*Math.asin(1/n)/(2*Math.PI),(i*=2)<1?-.5*(n*Math.pow(2,10*(i-=1))*Math.sin((i-r)*(2*Math.PI)/o)):n*Math.pow(2,-10*(i-=1))*Math.sin((i-r)*(2*Math.PI)/o)*.5+1)},backIn:function(i){var r=1.70158;return i*i*((r+1)*i-r)},backOut:function(i){var r=1.70158;return--i*i*((r+1)*i+r)+1},backInOut:function(i){var r=2.5949095;return(i*=2)<1?.5*(i*i*((r+1)*i-r)):.5*((i-=2)*i*((r+1)*i+r)+2)},bounceIn:function(i){return 1-easingFuncs.bounceOut(1-i)},bounceOut:function(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},bounceInOut:function(i){return i<.5?easingFuncs.bounceIn(i*2)*.5:easingFuncs.bounceOut(i*2-1)*.5+.5}};const easingFuncs$1=easingFuncs;var mathPow=Math.pow,mathSqrt$3=Math.sqrt,EPSILON$3=1e-8,EPSILON_NUMERIC=1e-4,THREE_SQRT=mathSqrt$3(3),ONE_THIRD=1/3,_v0=create$1(),_v1=create$1(),_v2=create$1();function isAroundZero$1(i){return i>-EPSILON$3&&i<EPSILON$3}function isNotAroundZero$1(i){return i>EPSILON$3||i<-EPSILON$3}function cubicAt(i,r,n,o,a){var u=1-a;return u*u*(u*i+3*a*r)+a*a*(a*o+3*u*n)}function cubicDerivativeAt(i,r,n,o,a){var u=1-a;return 3*(((r-i)*u+2*(n-r)*a)*u+(o-n)*a*a)}function cubicRootAt(i,r,n,o,a,u){var c=o+3*(r-n)-i,d=3*(n-r*2+i),f=3*(r-i),h=i-a,y=d*d-3*c*f,g=d*f-9*c*h,p=f*f-3*d*h,v=0;if(isAroundZero$1(y)&&isAroundZero$1(g))if(isAroundZero$1(d))u[0]=0;else{var _=-f/d;_>=0&&_<=1&&(u[v++]=_)}else{var b=g*g-4*y*p;if(isAroundZero$1(b)){var A=g/y,_=-d/c+A,w=-A/2;_>=0&&_<=1&&(u[v++]=_),w>=0&&w<=1&&(u[v++]=w)}else if(b>0){var S=mathSqrt$3(b),T=y*d+1.5*c*(-g+S),x=y*d+1.5*c*(-g-S);T<0?T=-mathPow(-T,ONE_THIRD):T=mathPow(T,ONE_THIRD),x<0?x=-mathPow(-x,ONE_THIRD):x=mathPow(x,ONE_THIRD);var _=(-d-(T+x))/(3*c);_>=0&&_<=1&&(u[v++]=_)}else{var M=(2*y*d-3*c*g)/(2*mathSqrt$3(y*y*y)),L=Math.acos(M)/3,k=mathSqrt$3(y),ie=Math.cos(L),_=(-d-2*k*ie)/(3*c),w=(-d+k*(ie+THREE_SQRT*Math.sin(L)))/(3*c),$=(-d+k*(ie-THREE_SQRT*Math.sin(L)))/(3*c);_>=0&&_<=1&&(u[v++]=_),w>=0&&w<=1&&(u[v++]=w),$>=0&&$<=1&&(u[v++]=$)}}return v}function cubicExtrema(i,r,n,o,a){var u=6*n-12*r+6*i,c=9*r+3*o-3*i-9*n,d=3*r-3*i,f=0;if(isAroundZero$1(c)){if(isNotAroundZero$1(u)){var h=-d/u;h>=0&&h<=1&&(a[f++]=h)}}else{var y=u*u-4*c*d;if(isAroundZero$1(y))a[0]=-u/(2*c);else if(y>0){var g=mathSqrt$3(y),h=(-u+g)/(2*c),p=(-u-g)/(2*c);h>=0&&h<=1&&(a[f++]=h),p>=0&&p<=1&&(a[f++]=p)}}return f}function cubicSubdivide(i,r,n,o,a,u){var c=(r-i)*a+i,d=(n-r)*a+r,f=(o-n)*a+n,h=(d-c)*a+c,y=(f-d)*a+d,g=(y-h)*a+h;u[0]=i,u[1]=c,u[2]=h,u[3]=g,u[4]=g,u[5]=y,u[6]=f,u[7]=o}function cubicProjectPoint(i,r,n,o,a,u,c,d,f,h,y){var g,p=.005,v=1/0,_,b,A,w;_v0[0]=f,_v0[1]=h;for(var S=0;S<1;S+=.05)_v1[0]=cubicAt(i,n,a,c,S),_v1[1]=cubicAt(r,o,u,d,S),A=distSquare(_v0,_v1),A<v&&(g=S,v=A);v=1/0;for(var T=0;T<32&&!(p<EPSILON_NUMERIC);T++)_=g-p,b=g+p,_v1[0]=cubicAt(i,n,a,c,_),_v1[1]=cubicAt(r,o,u,d,_),A=distSquare(_v1,_v0),_>=0&&A<v?(g=_,v=A):(_v2[0]=cubicAt(i,n,a,c,b),_v2[1]=cubicAt(r,o,u,d,b),w=distSquare(_v2,_v0),b<=1&&w<v?(g=b,v=w):p*=.5);return y&&(y[0]=cubicAt(i,n,a,c,g),y[1]=cubicAt(r,o,u,d,g)),mathSqrt$3(v)}function cubicLength(i,r,n,o,a,u,c,d,f){for(var h=i,y=r,g=0,p=1/f,v=1;v<=f;v++){var _=v*p,b=cubicAt(i,n,a,c,_),A=cubicAt(r,o,u,d,_),w=b-h,S=A-y;g+=Math.sqrt(w*w+S*S),h=b,y=A}return g}function quadraticAt(i,r,n,o){var a=1-o;return a*(a*i+2*o*r)+o*o*n}function quadraticDerivativeAt(i,r,n,o){return 2*((1-o)*(r-i)+o*(n-r))}function quadraticRootAt(i,r,n,o,a){var u=i-2*r+n,c=2*(r-i),d=i-o,f=0;if(isAroundZero$1(u)){if(isNotAroundZero$1(c)){var h=-d/c;h>=0&&h<=1&&(a[f++]=h)}}else{var y=c*c-4*u*d;if(isAroundZero$1(y)){var h=-c/(2*u);h>=0&&h<=1&&(a[f++]=h)}else if(y>0){var g=mathSqrt$3(y),h=(-c+g)/(2*u),p=(-c-g)/(2*u);h>=0&&h<=1&&(a[f++]=h),p>=0&&p<=1&&(a[f++]=p)}}return f}function quadraticExtremum(i,r,n){var o=i+n-2*r;return o===0?.5:(i-r)/o}function quadraticSubdivide(i,r,n,o,a){var u=(r-i)*o+i,c=(n-r)*o+r,d=(c-u)*o+u;a[0]=i,a[1]=u,a[2]=d,a[3]=d,a[4]=c,a[5]=n}function quadraticProjectPoint(i,r,n,o,a,u,c,d,f){var h,y=.005,g=1/0;_v0[0]=c,_v0[1]=d;for(var p=0;p<1;p+=.05){_v1[0]=quadraticAt(i,n,a,p),_v1[1]=quadraticAt(r,o,u,p);var v=distSquare(_v0,_v1);v<g&&(h=p,g=v)}g=1/0;for(var _=0;_<32&&!(y<EPSILON_NUMERIC);_++){var b=h-y,A=h+y;_v1[0]=quadraticAt(i,n,a,b),_v1[1]=quadraticAt(r,o,u,b);var v=distSquare(_v1,_v0);if(b>=0&&v<g)h=b,g=v;else{_v2[0]=quadraticAt(i,n,a,A),_v2[1]=quadraticAt(r,o,u,A);var w=distSquare(_v2,_v0);A<=1&&w<g?(h=A,g=w):y*=.5}}return f&&(f[0]=quadraticAt(i,n,a,h),f[1]=quadraticAt(r,o,u,h)),mathSqrt$3(g)}function quadraticLength(i,r,n,o,a,u,c){for(var d=i,f=r,h=0,y=1/c,g=1;g<=c;g++){var p=g*y,v=quadraticAt(i,n,a,p),_=quadraticAt(r,o,u,p),b=v-d,A=_-f;h+=Math.sqrt(b*b+A*A),d=v,f=_}return h}var regexp$1=/cubic-bezier\(([0-9,\.e ]+)\)/;function createCubicEasingFunc(i){var r=i&&regexp$1.exec(i);if(r){var n=r[1].split(","),o=+trim(n[0]),a=+trim(n[1]),u=+trim(n[2]),c=+trim(n[3]);if(isNaN(o+a+u+c))return;var d=[];return function(f){return f<=0?0:f>=1?1:cubicRootAt(0,o,u,1,f,d)&&cubicAt(0,a,c,1,d[0])}}}var Clip=function(){function i(r){this._inited=!1,this._startTime=0,this._pausedTime=0,this._paused=!1,this._life=r.life||1e3,this._delay=r.delay||0,this.loop=r.loop||!1,this.onframe=r.onframe||noop$1,this.ondestroy=r.ondestroy||noop$1,this.onrestart=r.onrestart||noop$1,r.easing&&this.setEasing(r.easing)}return i.prototype.step=function(r,n){if(this._inited||(this._startTime=r+this._delay,this._inited=!0),this._paused){this._pausedTime+=n;return}var o=this._life,a=r-this._startTime-this._pausedTime,u=a/o;u<0&&(u=0),u=Math.min(u,1);var c=this.easingFunc,d=c?c(u):u;if(this.onframe(d),u===1)if(this.loop){var f=a%o;this._startTime=r-f,this._pausedTime=0,this.onrestart()}else return!0;return!1},i.prototype.pause=function(){this._paused=!0},i.prototype.resume=function(){this._paused=!1},i.prototype.setEasing=function(r){this.easing=r,this.easingFunc=isFunction$1(r)?r:easingFuncs$1[r]||createCubicEasingFunc(r)},i}();const Clip$1=Clip;var Entry=function(){function i(r){this.value=r}return i}(),LinkedList=function(){function i(){this._len=0}return i.prototype.insert=function(r){var n=new Entry(r);return this.insertEntry(n),n},i.prototype.insertEntry=function(r){this.head?(this.tail.next=r,r.prev=this.tail,r.next=null,this.tail=r):this.head=this.tail=r,this._len++},i.prototype.remove=function(r){var n=r.prev,o=r.next;n?n.next=o:this.head=o,o?o.prev=n:this.tail=n,r.next=r.prev=null,this._len--},i.prototype.len=function(){return this._len},i.prototype.clear=function(){this.head=this.tail=null,this._len=0},i}(),LRU=function(){function i(r){this._list=new LinkedList,this._maxSize=10,this._map={},this._maxSize=r}return i.prototype.put=function(r,n){var o=this._list,a=this._map,u=null;if(a[r]==null){var c=o.len(),d=this._lastRemovedEntry;if(c>=this._maxSize&&c>0){var f=o.head;o.remove(f),delete a[f.key],u=f.value,this._lastRemovedEntry=f}d?d.value=n:d=new Entry(n),d.key=r,o.insertEntry(d),a[r]=d}return u},i.prototype.get=function(r){var n=this._map[r],o=this._list;if(n!=null)return n!==o.tail&&(o.remove(n),o.insertEntry(n)),n.value},i.prototype.clear=function(){this._list.clear(),this._map={}},i.prototype.len=function(){return this._list.len()},i}();const LRU$1=LRU;var kCSSColorTable={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function clampCssByte(i){return i=Math.round(i),i<0?0:i>255?255:i}function clampCssFloat(i){return i<0?0:i>1?1:i}function parseCssInt(i){var r=i;return r.length&&r.charAt(r.length-1)==="%"?clampCssByte(parseFloat(r)/100*255):clampCssByte(parseInt(r,10))}function parseCssFloat(i){var r=i;return r.length&&r.charAt(r.length-1)==="%"?clampCssFloat(parseFloat(r)/100):clampCssFloat(parseFloat(r))}function cssHueToRgb(i,r,n){return n<0?n+=1:n>1&&(n-=1),n*6<1?i+(r-i)*n*6:n*2<1?r:n*3<2?i+(r-i)*(2/3-n)*6:i}function setRgba(i,r,n,o,a){return i[0]=r,i[1]=n,i[2]=o,i[3]=a,i}function copyRgba(i,r){return i[0]=r[0],i[1]=r[1],i[2]=r[2],i[3]=r[3],i}var colorCache=new LRU$1(20),lastRemovedArr=null;function putToCache(i,r){lastRemovedArr&&copyRgba(lastRemovedArr,r),lastRemovedArr=colorCache.put(i,lastRemovedArr||r.slice())}function parse(i,r){if(i){r=r||[];var n=colorCache.get(i);if(n)return copyRgba(r,n);i=i+"";var o=i.replace(/ /g,"").toLowerCase();if(o in kCSSColorTable)return copyRgba(r,kCSSColorTable[o]),putToCache(i,r),r;var a=o.length;if(o.charAt(0)==="#"){if(a===4||a===5){var u=parseInt(o.slice(1,4),16);if(!(u>=0&&u<=4095)){setRgba(r,0,0,0,1);return}return setRgba(r,(u&3840)>>4|(u&3840)>>8,u&240|(u&240)>>4,u&15|(u&15)<<4,a===5?parseInt(o.slice(4),16)/15:1),putToCache(i,r),r}else if(a===7||a===9){var u=parseInt(o.slice(1,7),16);if(!(u>=0&&u<=16777215)){setRgba(r,0,0,0,1);return}return setRgba(r,(u&16711680)>>16,(u&65280)>>8,u&255,a===9?parseInt(o.slice(7),16)/255:1),putToCache(i,r),r}return}var c=o.indexOf("("),d=o.indexOf(")");if(c!==-1&&d+1===a){var f=o.substr(0,c),h=o.substr(c+1,d-(c+1)).split(","),y=1;switch(f){case"rgba":if(h.length!==4)return h.length===3?setRgba(r,+h[0],+h[1],+h[2],1):setRgba(r,0,0,0,1);y=parseCssFloat(h.pop());case"rgb":if(h.length>=3)return setRgba(r,parseCssInt(h[0]),parseCssInt(h[1]),parseCssInt(h[2]),h.length===3?y:parseCssFloat(h[3])),putToCache(i,r),r;setRgba(r,0,0,0,1);return;case"hsla":if(h.length!==4){setRgba(r,0,0,0,1);return}return h[3]=parseCssFloat(h[3]),hsla2rgba(h,r),putToCache(i,r),r;case"hsl":if(h.length!==3){setRgba(r,0,0,0,1);return}return hsla2rgba(h,r),putToCache(i,r),r;default:return}}setRgba(r,0,0,0,1)}}function hsla2rgba(i,r){var n=(parseFloat(i[0])%360+360)%360/360,o=parseCssFloat(i[1]),a=parseCssFloat(i[2]),u=a<=.5?a*(o+1):a+o-a*o,c=a*2-u;return r=r||[],setRgba(r,clampCssByte(cssHueToRgb(c,u,n+1/3)*255),clampCssByte(cssHueToRgb(c,u,n)*255),clampCssByte(cssHueToRgb(c,u,n-1/3)*255),1),i.length===4&&(r[3]=i[3]),r}function lift(i,r){var n=parse(i);if(n){for(var o=0;o<3;o++)r<0?n[o]=n[o]*(1-r)|0:n[o]=(255-n[o])*r+n[o]|0,n[o]>255?n[o]=255:n[o]<0&&(n[o]=0);return stringify(n,n.length===4?"rgba":"rgb")}}function stringify(i,r){if(!(!i||!i.length)){var n=i[0]+","+i[1]+","+i[2];return(r==="rgba"||r==="hsva"||r==="hsla")&&(n+=","+i[3]),r+"("+n+")"}}function lum(i,r){var n=parse(i);return n?(.299*n[0]+.587*n[1]+.114*n[2])*n[3]/255+(1-n[3])*r:0}var liftedColorCache=new LRU$1(100);function liftColor(i){if(isString$2(i)){var r=liftedColorCache.get(i);return r||(r=lift(i,-.1),liftedColorCache.put(i,r)),r}else if(isGradientObject(i)){var n=extend({},i);return n.colorStops=map$1(i.colorStops,function(o){return{offset:o.offset,color:lift(o.color,-.1)}}),n}return i}var mathRound$1=Math.round;function normalizeColor(i){var r;if(!i||i==="transparent")i="none";else if(typeof i=="string"&&i.indexOf("rgba")>-1){var n=parse(i);n&&(i="rgb("+n[0]+","+n[1]+","+n[2]+")",r=n[3])}return{color:i,opacity:r??1}}var EPSILON$2=1e-4;function isAroundZero(i){return i<EPSILON$2&&i>-EPSILON$2}function round3(i){return mathRound$1(i*1e3)/1e3}function round4(i){return mathRound$1(i*1e4)/1e4}function getMatrixStr(i){return"matrix("+round3(i[0])+","+round3(i[1])+","+round3(i[2])+","+round3(i[3])+","+round4(i[4])+","+round4(i[5])+")"}var TEXT_ALIGN_TO_ANCHOR={left:"start",right:"end",center:"middle",middle:"middle"};function adjustTextY$1(i,r,n){return n==="top"?i+=r/2:n==="bottom"&&(i-=r/2),i}function hasShadow(i){return i&&(i.shadowBlur||i.shadowOffsetX||i.shadowOffsetY)}function getShadowKey(i){var r=i.style,n=i.getGlobalScale();return[r.shadowColor,(r.shadowBlur||0).toFixed(2),(r.shadowOffsetX||0).toFixed(2),(r.shadowOffsetY||0).toFixed(2),n[0],n[1]].join(",")}function isImagePattern(i){return i&&!!i.image}function isSVGPattern(i){return i&&!!i.svgElement}function isPattern(i){return isImagePattern(i)||isSVGPattern(i)}function isLinearGradient(i){return i.type==="linear"}function isRadialGradient(i){return i.type==="radial"}function isGradient(i){return i&&(i.type==="linear"||i.type==="radial")}function getIdURL(i){return"url(#"+i+")"}function getPathPrecision(i){var r=i.getGlobalScale(),n=Math.max(r[0],r[1]);return Math.max(Math.ceil(Math.log(n)/Math.log(10)),1)}function getSRTTransformString(i){var r=i.x||0,n=i.y||0,o=(i.rotation||0)*RADIAN_TO_DEGREE,a=retrieve2(i.scaleX,1),u=retrieve2(i.scaleY,1),c=i.skewX||0,d=i.skewY||0,f=[];return(r||n)&&f.push("translate("+r+"px,"+n+"px)"),o&&f.push("rotate("+o+")"),(a!==1||u!==1)&&f.push("scale("+a+","+u+")"),(c||d)&&f.push("skew("+mathRound$1(c*RADIAN_TO_DEGREE)+"deg, "+mathRound$1(d*RADIAN_TO_DEGREE)+"deg)"),f.join(" ")}var encodeBase64=function(){return env$1.hasGlobalWindow&&isFunction$1(window.btoa)?function(i){return window.btoa(unescape(encodeURIComponent(i)))}:typeof Buffer<"u"?function(i){return Buffer.from(i).toString("base64")}:function(i){return process.env.NODE_ENV!=="production"&&logError("Base64 isn't natively supported in the current environment."),null}}(),arraySlice=Array.prototype.slice;function interpolateNumber(i,r,n){return(r-i)*n+i}function interpolate1DArray(i,r,n,o){for(var a=r.length,u=0;u<a;u++)i[u]=interpolateNumber(r[u],n[u],o);return i}function interpolate2DArray(i,r,n,o){for(var a=r.length,u=a&&r[0].length,c=0;c<a;c++){i[c]||(i[c]=[]);for(var d=0;d<u;d++)i[c][d]=interpolateNumber(r[c][d],n[c][d],o)}return i}function add1DArray(i,r,n,o){for(var a=r.length,u=0;u<a;u++)i[u]=r[u]+n[u]*o;return i}function add2DArray(i,r,n,o){for(var a=r.length,u=a&&r[0].length,c=0;c<a;c++){i[c]||(i[c]=[]);for(var d=0;d<u;d++)i[c][d]=r[c][d]+n[c][d]*o}return i}function fillColorStops(i,r){for(var n=i.length,o=r.length,a=n>o?r:i,u=Math.min(n,o),c=a[u-1]||{color:[0,0,0,0],offset:0},d=u;d<Math.max(n,o);d++)a.push({offset:c.offset,color:c.color.slice()})}function fillArray(i,r,n){var o=i,a=r;if(!(!o.push||!a.push)){var u=o.length,c=a.length;if(u!==c){var d=u>c;if(d)o.length=c;else for(var f=u;f<c;f++)o.push(n===1?a[f]:arraySlice.call(a[f]))}for(var h=o[0]&&o[0].length,f=0;f<o.length;f++)if(n===1)isNaN(o[f])&&(o[f]=a[f]);else for(var y=0;y<h;y++)isNaN(o[f][y])&&(o[f][y]=a[f][y])}}function cloneValue(i){if(isArrayLike(i)){var r=i.length;if(isArrayLike(i[0])){for(var n=[],o=0;o<r;o++)n.push(arraySlice.call(i[o]));return n}return arraySlice.call(i)}return i}function rgba2String(i){return i[0]=Math.floor(i[0])||0,i[1]=Math.floor(i[1])||0,i[2]=Math.floor(i[2])||0,i[3]=i[3]==null?1:i[3],"rgba("+i.join(",")+")"}function guessArrayDim(i){return isArrayLike(i&&i[0])?2:1}var VALUE_TYPE_NUMBER=0,VALUE_TYPE_1D_ARRAY=1,VALUE_TYPE_2D_ARRAY=2,VALUE_TYPE_COLOR=3,VALUE_TYPE_LINEAR_GRADIENT=4,VALUE_TYPE_RADIAL_GRADIENT=5,VALUE_TYPE_UNKOWN=6;function isGradientValueType(i){return i===VALUE_TYPE_LINEAR_GRADIENT||i===VALUE_TYPE_RADIAL_GRADIENT}function isArrayValueType(i){return i===VALUE_TYPE_1D_ARRAY||i===VALUE_TYPE_2D_ARRAY}var tmpRgba=[0,0,0,0],Track=function(){function i(r){this.keyframes=[],this.discrete=!1,this._invalid=!1,this._needsSort=!1,this._lastFr=0,this._lastFrP=0,this.propName=r}return i.prototype.isFinished=function(){return this._finished},i.prototype.setFinished=function(){this._finished=!0,this._additiveTrack&&this._additiveTrack.setFinished()},i.prototype.needsAnimate=function(){return this.keyframes.length>=1},i.prototype.getAdditiveTrack=function(){return this._additiveTrack},i.prototype.addKeyframe=function(r,n,o){this._needsSort=!0;var a=this.keyframes,u=a.length,c=!1,d=VALUE_TYPE_UNKOWN,f=n;if(isArrayLike(n)){var h=guessArrayDim(n);d=h,(h===1&&!isNumber$1(n[0])||h===2&&!isNumber$1(n[0][0]))&&(c=!0)}else if(isNumber$1(n)&&!eqNaN(n))d=VALUE_TYPE_NUMBER;else if(isString$2(n))if(!isNaN(+n))d=VALUE_TYPE_NUMBER;else{var y=parse(n);y&&(f=y,d=VALUE_TYPE_COLOR)}else if(isGradientObject(n)){var g=extend({},f);g.colorStops=map$1(n.colorStops,function(v){return{offset:v.offset,color:parse(v.color)}}),isLinearGradient(n)?d=VALUE_TYPE_LINEAR_GRADIENT:isRadialGradient(n)&&(d=VALUE_TYPE_RADIAL_GRADIENT),f=g}u===0?this.valType=d:(d!==this.valType||d===VALUE_TYPE_UNKOWN)&&(c=!0),this.discrete=this.discrete||c;var p={time:r,value:f,rawValue:n,percent:0};return o&&(p.easing=o,p.easingFunc=isFunction$1(o)?o:easingFuncs$1[o]||createCubicEasingFunc(o)),a.push(p),p},i.prototype.prepare=function(r,n){var o=this.keyframes;this._needsSort&&o.sort(function(b,A){return b.time-A.time});for(var a=this.valType,u=o.length,c=o[u-1],d=this.discrete,f=isArrayValueType(a),h=isGradientValueType(a),y=0;y<u;y++){var g=o[y],p=g.value,v=c.value;g.percent=g.time/r,d||(f&&y!==u-1?fillArray(p,v,a):h&&fillColorStops(p.colorStops,v.colorStops))}if(!d&&a!==VALUE_TYPE_RADIAL_GRADIENT&&n&&this.needsAnimate()&&n.needsAnimate()&&a===n.valType&&!n._finished){this._additiveTrack=n;for(var _=o[0].value,y=0;y<u;y++)a===VALUE_TYPE_NUMBER?o[y].additiveValue=o[y].value-_:a===VALUE_TYPE_COLOR?o[y].additiveValue=add1DArray([],o[y].value,_,-1):isArrayValueType(a)&&(o[y].additiveValue=a===VALUE_TYPE_1D_ARRAY?add1DArray([],o[y].value,_,-1):add2DArray([],o[y].value,_,-1))}},i.prototype.step=function(r,n){if(!this._finished){this._additiveTrack&&this._additiveTrack._finished&&(this._additiveTrack=null);var o=this._additiveTrack!=null,a=o?"additiveValue":"value",u=this.valType,c=this.keyframes,d=c.length,f=this.propName,h=u===VALUE_TYPE_COLOR,y,g=this._lastFr,p=Math.min,v,_;if(d===1)v=_=c[0];else{if(n<0)y=0;else if(n<this._lastFrP){var b=p(g+1,d-1);for(y=b;y>=0&&!(c[y].percent<=n);y--);y=p(y,d-2)}else{for(y=g;y<d&&!(c[y].percent>n);y++);y=p(y-1,d-2)}_=c[y+1],v=c[y]}if(v&&_){this._lastFr=y,this._lastFrP=n;var A=_.percent-v.percent,w=A===0?1:p((n-v.percent)/A,1);_.easingFunc&&(w=_.easingFunc(w));var S=o?this._additiveValue:h?tmpRgba:r[f];if((isArrayValueType(u)||h)&&!S&&(S=this._additiveValue=[]),this.discrete)r[f]=w<1?v.rawValue:_.rawValue;else if(isArrayValueType(u))u===VALUE_TYPE_1D_ARRAY?interpolate1DArray(S,v[a],_[a],w):interpolate2DArray(S,v[a],_[a],w);else if(isGradientValueType(u)){var T=v[a],x=_[a],M=u===VALUE_TYPE_LINEAR_GRADIENT;r[f]={type:M?"linear":"radial",x:interpolateNumber(T.x,x.x,w),y:interpolateNumber(T.y,x.y,w),colorStops:map$1(T.colorStops,function(k,ie){var $=x.colorStops[ie];return{offset:interpolateNumber(k.offset,$.offset,w),color:rgba2String(interpolate1DArray([],k.color,$.color,w))}}),global:x.global},M?(r[f].x2=interpolateNumber(T.x2,x.x2,w),r[f].y2=interpolateNumber(T.y2,x.y2,w)):r[f].r=interpolateNumber(T.r,x.r,w)}else if(h)interpolate1DArray(S,v[a],_[a],w),o||(r[f]=rgba2String(S));else{var L=interpolateNumber(v[a],_[a],w);o?this._additiveValue=L:r[f]=L}o&&this._addToTarget(r)}}},i.prototype._addToTarget=function(r){var n=this.valType,o=this.propName,a=this._additiveValue;n===VALUE_TYPE_NUMBER?r[o]=r[o]+a:n===VALUE_TYPE_COLOR?(parse(r[o],tmpRgba),add1DArray(tmpRgba,tmpRgba,a,1),r[o]=rgba2String(tmpRgba)):n===VALUE_TYPE_1D_ARRAY?add1DArray(r[o],r[o],a,1):n===VALUE_TYPE_2D_ARRAY&&add2DArray(r[o],r[o],a,1)},i}(),Animator=function(){function i(r,n,o,a){if(this._tracks={},this._trackKeys=[],this._maxTime=0,this._started=0,this._clip=null,this._target=r,this._loop=n,n&&a){logError("Can' use additive animation on looped animation.");return}this._additiveAnimators=a,this._allowDiscrete=o}return i.prototype.getMaxTime=function(){return this._maxTime},i.prototype.getDelay=function(){return this._delay},i.prototype.getLoop=function(){return this._loop},i.prototype.getTarget=function(){return this._target},i.prototype.changeTarget=function(r){this._target=r},i.prototype.when=function(r,n,o){return this.whenWithKeys(r,n,keys(n),o)},i.prototype.whenWithKeys=function(r,n,o,a){for(var u=this._tracks,c=0;c<o.length;c++){var d=o[c],f=u[d];if(!f){f=u[d]=new Track(d);var h=void 0,y=this._getAdditiveTrack(d);if(y){var g=y.keyframes,p=g[g.length-1];h=p&&p.value,y.valType===VALUE_TYPE_COLOR&&h&&(h=rgba2String(h))}else h=this._target[d];if(h==null)continue;r>0&&f.addKeyframe(0,cloneValue(h),a),this._trackKeys.push(d)}f.addKeyframe(r,cloneValue(n[d]),a)}return this._maxTime=Math.max(this._maxTime,r),this},i.prototype.pause=function(){this._clip.pause(),this._paused=!0},i.prototype.resume=function(){this._clip.resume(),this._paused=!1},i.prototype.isPaused=function(){return!!this._paused},i.prototype.duration=function(r){return this._maxTime=r,this._force=!0,this},i.prototype._doneCallback=function(){this._setTracksFinished(),this._clip=null;var r=this._doneCbs;if(r)for(var n=r.length,o=0;o<n;o++)r[o].call(this)},i.prototype._abortedCallback=function(){this._setTracksFinished();var r=this.animation,n=this._abortedCbs;if(r&&r.removeClip(this._clip),this._clip=null,n)for(var o=0;o<n.length;o++)n[o].call(this)},i.prototype._setTracksFinished=function(){for(var r=this._tracks,n=this._trackKeys,o=0;o<n.length;o++)r[n[o]].setFinished()},i.prototype._getAdditiveTrack=function(r){var n,o=this._additiveAnimators;if(o)for(var a=0;a<o.length;a++){var u=o[a].getTrack(r);u&&(n=u)}return n},i.prototype.start=function(r){if(!(this._started>0)){this._started=1;for(var n=this,o=[],a=this._maxTime||0,u=0;u<this._trackKeys.length;u++){var c=this._trackKeys[u],d=this._tracks[c],f=this._getAdditiveTrack(c),h=d.keyframes,y=h.length;if(d.prepare(a,f),d.needsAnimate())if(!this._allowDiscrete&&d.discrete){var g=h[y-1];g&&(n._target[d.propName]=g.rawValue),d.setFinished()}else o.push(d)}if(o.length||this._force){var p=new Clip$1({life:a,loop:this._loop,delay:this._delay||0,onframe:function(v){n._started=2;var _=n._additiveAnimators;if(_){for(var b=!1,A=0;A<_.length;A++)if(_[A]._clip){b=!0;break}b||(n._additiveAnimators=null)}for(var A=0;A<o.length;A++)o[A].step(n._target,v);var w=n._onframeCbs;if(w)for(var A=0;A<w.length;A++)w[A](n._target,v)},ondestroy:function(){n._doneCallback()}});this._clip=p,this.animation&&this.animation.addClip(p),r&&p.setEasing(r)}else this._doneCallback();return this}},i.prototype.stop=function(r){if(this._clip){var n=this._clip;r&&n.onframe(1),this._abortedCallback()}},i.prototype.delay=function(r){return this._delay=r,this},i.prototype.during=function(r){return r&&(this._onframeCbs||(this._onframeCbs=[]),this._onframeCbs.push(r)),this},i.prototype.done=function(r){return r&&(this._doneCbs||(this._doneCbs=[]),this._doneCbs.push(r)),this},i.prototype.aborted=function(r){return r&&(this._abortedCbs||(this._abortedCbs=[]),this._abortedCbs.push(r)),this},i.prototype.getClip=function(){return this._clip},i.prototype.getTrack=function(r){return this._tracks[r]},i.prototype.getTracks=function(){var r=this;return map$1(this._trackKeys,function(n){return r._tracks[n]})},i.prototype.stopTracks=function(r,n){if(!r.length||!this._clip)return!0;for(var o=this._tracks,a=this._trackKeys,u=0;u<r.length;u++){var c=o[r[u]];c&&!c.isFinished()&&(n?c.step(this._target,1):this._started===1&&c.step(this._target,0),c.setFinished())}for(var d=!0,u=0;u<a.length;u++)if(!o[a[u]].isFinished()){d=!1;break}return d&&this._abortedCallback(),d},i.prototype.saveTo=function(r,n,o){if(r){n=n||this._trackKeys;for(var a=0;a<n.length;a++){var u=n[a],c=this._tracks[u];if(!(!c||c.isFinished())){var d=c.keyframes,f=d[o?0:d.length-1];f&&(r[u]=cloneValue(f.rawValue))}}}},i.prototype.__changeFinalValue=function(r,n){n=n||keys(r);for(var o=0;o<n.length;o++){var a=n[o],u=this._tracks[a];if(u){var c=u.keyframes;if(c.length>1){var d=c.pop();u.addKeyframe(d.time,r[a]),u.prepare(this._maxTime,u.getAdditiveTrack())}}}},i}();const Animator$1=Animator;function getTime(){return new Date().getTime()}var Animation=function(i){__extends(r,i);function r(n){var o=i.call(this)||this;return o._running=!1,o._time=0,o._pausedTime=0,o._pauseStart=0,o._paused=!1,n=n||{},o.stage=n.stage||{},o}return r.prototype.addClip=function(n){n.animation&&this.removeClip(n),this._head?(this._tail.next=n,n.prev=this._tail,n.next=null,this._tail=n):this._head=this._tail=n,n.animation=this},r.prototype.addAnimator=function(n){n.animation=this;var o=n.getClip();o&&this.addClip(o)},r.prototype.removeClip=function(n){if(n.animation){var o=n.prev,a=n.next;o?o.next=a:this._head=a,a?a.prev=o:this._tail=o,n.next=n.prev=n.animation=null}},r.prototype.removeAnimator=function(n){var o=n.getClip();o&&this.removeClip(o),n.animation=null},r.prototype.update=function(n){for(var o=getTime()-this._pausedTime,a=o-this._time,u=this._head;u;){var c=u.next,d=u.step(o,a);d&&(u.ondestroy(),this.removeClip(u)),u=c}this._time=o,n||(this.trigger("frame",a),this.stage.update&&this.stage.update())},r.prototype._startLoop=function(){var n=this;this._running=!0;function o(){n._running&&(requestAnimationFrame$3(o),!n._paused&&n.update())}requestAnimationFrame$3(o)},r.prototype.start=function(){this._running||(this._time=getTime(),this._pausedTime=0,this._startLoop())},r.prototype.stop=function(){this._running=!1},r.prototype.pause=function(){this._paused||(this._pauseStart=getTime(),this._paused=!0)},r.prototype.resume=function(){this._paused&&(this._pausedTime+=getTime()-this._pauseStart,this._paused=!1)},r.prototype.clear=function(){for(var n=this._head;n;){var o=n.next;n.prev=n.next=n.animation=null,n=o}this._head=this._tail=null},r.prototype.isFinished=function(){return this._head==null},r.prototype.animate=function(n,o){o=o||{},this.start();var a=new Animator$1(n,o.loop);return this.addAnimator(a),a},r}(Eventful$1);const Animation$1=Animation;var TOUCH_CLICK_DELAY=300,globalEventSupported=env$1.domSupported,localNativeListenerNames=function(){var i=["click","dblclick","mousewheel","wheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],r=["touchstart","touchend","touchmove"],n={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},o=map$1(i,function(a){var u=a.replace("mouse","pointer");return n.hasOwnProperty(u)?u:a});return{mouse:i,touch:r,pointer:o}}(),globalNativeListenerNames={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]},wheelEventSupported=!1;function isPointerFromTouch(i){var r=i.pointerType;return r==="pen"||r==="touch"}function setTouchTimer(i){i.touching=!0,i.touchTimer!=null&&(clearTimeout(i.touchTimer),i.touchTimer=null),i.touchTimer=setTimeout(function(){i.touching=!1,i.touchTimer=null},700)}function markTouch(i){i&&(i.zrByTouch=!0)}function normalizeGlobalEvent(i,r){return normalizeEvent(i.dom,new FakeGlobalEvent(i,r),!0)}function isLocalEl(i,r){for(var n=r,o=!1;n&&n.nodeType!==9&&!(o=n.domBelongToZr||n!==r&&n===i.painterRoot);)n=n.parentNode;return o}var FakeGlobalEvent=function(){function i(r,n){this.stopPropagation=noop$1,this.stopImmediatePropagation=noop$1,this.preventDefault=noop$1,this.type=n.type,this.target=this.currentTarget=r.dom,this.pointerType=n.pointerType,this.clientX=n.clientX,this.clientY=n.clientY}return i}(),localDOMHandlers={mousedown:function(i){i=normalizeEvent(this.dom,i),this.__mayPointerCapture=[i.zrX,i.zrY],this.trigger("mousedown",i)},mousemove:function(i){i=normalizeEvent(this.dom,i);var r=this.__mayPointerCapture;r&&(i.zrX!==r[0]||i.zrY!==r[1])&&this.__togglePointerCapture(!0),this.trigger("mousemove",i)},mouseup:function(i){i=normalizeEvent(this.dom,i),this.__togglePointerCapture(!1),this.trigger("mouseup",i)},mouseout:function(i){i=normalizeEvent(this.dom,i);var r=i.toElement||i.relatedTarget;isLocalEl(this,r)||(this.__pointerCapturing&&(i.zrEventControl="no_globalout"),this.trigger("mouseout",i))},wheel:function(i){wheelEventSupported=!0,i=normalizeEvent(this.dom,i),this.trigger("mousewheel",i)},mousewheel:function(i){wheelEventSupported||(i=normalizeEvent(this.dom,i),this.trigger("mousewheel",i))},touchstart:function(i){i=normalizeEvent(this.dom,i),markTouch(i),this.__lastTouchMoment=new Date,this.handler.processGesture(i,"start"),localDOMHandlers.mousemove.call(this,i),localDOMHandlers.mousedown.call(this,i)},touchmove:function(i){i=normalizeEvent(this.dom,i),markTouch(i),this.handler.processGesture(i,"change"),localDOMHandlers.mousemove.call(this,i)},touchend:function(i){i=normalizeEvent(this.dom,i),markTouch(i),this.handler.processGesture(i,"end"),localDOMHandlers.mouseup.call(this,i),+new Date-+this.__lastTouchMoment<TOUCH_CLICK_DELAY&&localDOMHandlers.click.call(this,i)},pointerdown:function(i){localDOMHandlers.mousedown.call(this,i)},pointermove:function(i){isPointerFromTouch(i)||localDOMHandlers.mousemove.call(this,i)},pointerup:function(i){localDOMHandlers.mouseup.call(this,i)},pointerout:function(i){isPointerFromTouch(i)||localDOMHandlers.mouseout.call(this,i)}};each$4(["click","dblclick","contextmenu"],function(i){localDOMHandlers[i]=function(r){r=normalizeEvent(this.dom,r),this.trigger(i,r)}});var globalDOMHandlers={pointermove:function(i){isPointerFromTouch(i)||globalDOMHandlers.mousemove.call(this,i)},pointerup:function(i){globalDOMHandlers.mouseup.call(this,i)},mousemove:function(i){this.trigger("mousemove",i)},mouseup:function(i){var r=this.__pointerCapturing;this.__togglePointerCapture(!1),this.trigger("mouseup",i),r&&(i.zrEventControl="only_globalout",this.trigger("mouseout",i))}};function mountLocalDOMEventListeners(i,r){var n=r.domHandlers;env$1.pointerEventsSupported?each$4(localNativeListenerNames.pointer,function(o){mountSingleDOMEventListener(r,o,function(a){n[o].call(i,a)})}):(env$1.touchEventsSupported&&each$4(localNativeListenerNames.touch,function(o){mountSingleDOMEventListener(r,o,function(a){n[o].call(i,a),setTouchTimer(r)})}),each$4(localNativeListenerNames.mouse,function(o){mountSingleDOMEventListener(r,o,function(a){a=getNativeEvent(a),r.touching||n[o].call(i,a)})}))}function mountGlobalDOMEventListeners(i,r){env$1.pointerEventsSupported?each$4(globalNativeListenerNames.pointer,n):env$1.touchEventsSupported||each$4(globalNativeListenerNames.mouse,n);function n(o){function a(u){u=getNativeEvent(u),isLocalEl(i,u.target)||(u=normalizeGlobalEvent(i,u),r.domHandlers[o].call(i,u))}mountSingleDOMEventListener(r,o,a,{capture:!0})}}function mountSingleDOMEventListener(i,r,n,o){i.mounted[r]=n,i.listenerOpts[r]=o,addEventListener(i.domTarget,r,n,o)}function unmountDOMEventListeners(i){var r=i.mounted;for(var n in r)r.hasOwnProperty(n)&&removeEventListener(i.domTarget,n,r[n],i.listenerOpts[n]);i.mounted={}}var DOMHandlerScope=function(){function i(r,n){this.mounted={},this.listenerOpts={},this.touching=!1,this.domTarget=r,this.domHandlers=n}return i}(),HandlerDomProxy=function(i){__extends(r,i);function r(n,o){var a=i.call(this)||this;return a.__pointerCapturing=!1,a.dom=n,a.painterRoot=o,a._localHandlerScope=new DOMHandlerScope(n,localDOMHandlers),globalEventSupported&&(a._globalHandlerScope=new DOMHandlerScope(document,globalDOMHandlers)),mountLocalDOMEventListeners(a,a._localHandlerScope),a}return r.prototype.dispose=function(){unmountDOMEventListeners(this._localHandlerScope),globalEventSupported&&unmountDOMEventListeners(this._globalHandlerScope)},r.prototype.setCursor=function(n){this.dom.style&&(this.dom.style.cursor=n||"default")},r.prototype.__togglePointerCapture=function(n){if(this.__mayPointerCapture=null,globalEventSupported&&+this.__pointerCapturing^+n){this.__pointerCapturing=n;var o=this._globalHandlerScope;n?mountGlobalDOMEventListeners(this,o):unmountDOMEventListeners(o)}},r}(Eventful$1);const HandlerProxy=HandlerDomProxy;var dpr=1;env$1.hasGlobalWindow&&(dpr=Math.max(window.devicePixelRatio||window.screen&&window.screen.deviceXDPI/window.screen.logicalXDPI||1,1));var devicePixelRatio=dpr,DARK_MODE_THRESHOLD=.4,DARK_LABEL_COLOR="#333",LIGHT_LABEL_COLOR="#ccc",LIGHTER_LABEL_COLOR="#eee",mIdentity=identity$1,EPSILON$1=5e-5;function isNotAroundZero(i){return i>EPSILON$1||i<-EPSILON$1}var scaleTmp=[],tmpTransform=[],originTransform=create(),abs=Math.abs,Transformable=function(){function i(){}return i.prototype.getLocalTransform=function(r){return i.getLocalTransform(this,r)},i.prototype.setPosition=function(r){this.x=r[0],this.y=r[1]},i.prototype.setScale=function(r){this.scaleX=r[0],this.scaleY=r[1]},i.prototype.setSkew=function(r){this.skewX=r[0],this.skewY=r[1]},i.prototype.setOrigin=function(r){this.originX=r[0],this.originY=r[1]},i.prototype.needLocalTransform=function(){return isNotAroundZero(this.rotation)||isNotAroundZero(this.x)||isNotAroundZero(this.y)||isNotAroundZero(this.scaleX-1)||isNotAroundZero(this.scaleY-1)||isNotAroundZero(this.skewX)||isNotAroundZero(this.skewY)},i.prototype.updateTransform=function(){var r=this.parent&&this.parent.transform,n=this.needLocalTransform(),o=this.transform;if(!(n||r)){o&&(mIdentity(o),this.invTransform=null);return}o=o||create(),n?this.getLocalTransform(o):mIdentity(o),r&&(n?mul(o,r,o):copy(o,r)),this.transform=o,this._resolveGlobalScaleRatio(o)},i.prototype._resolveGlobalScaleRatio=function(r){var n=this.globalScaleRatio;if(n!=null&&n!==1){this.getGlobalScale(scaleTmp);var o=scaleTmp[0]<0?-1:1,a=scaleTmp[1]<0?-1:1,u=((scaleTmp[0]-o)*n+o)/scaleTmp[0]||0,c=((scaleTmp[1]-a)*n+a)/scaleTmp[1]||0;r[0]*=u,r[1]*=u,r[2]*=c,r[3]*=c}this.invTransform=this.invTransform||create(),invert(this.invTransform,r)},i.prototype.getComputedTransform=function(){for(var r=this,n=[];r;)n.push(r),r=r.parent;for(;r=n.pop();)r.updateTransform();return this.transform},i.prototype.setLocalTransform=function(r){if(r){var n=r[0]*r[0]+r[1]*r[1],o=r[2]*r[2]+r[3]*r[3],a=Math.atan2(r[1],r[0]),u=Math.PI/2+a-Math.atan2(r[3],r[2]);o=Math.sqrt(o)*Math.cos(u),n=Math.sqrt(n),this.skewX=u,this.skewY=0,this.rotation=-a,this.x=+r[4],this.y=+r[5],this.scaleX=n,this.scaleY=o,this.originX=0,this.originY=0}},i.prototype.decomposeTransform=function(){if(this.transform){var r=this.parent,n=this.transform;r&&r.transform&&(r.invTransform=r.invTransform||create(),mul(tmpTransform,r.invTransform,n),n=tmpTransform);var o=this.originX,a=this.originY;(o||a)&&(originTransform[4]=o,originTransform[5]=a,mul(tmpTransform,n,originTransform),tmpTransform[4]-=o,tmpTransform[5]-=a,n=tmpTransform),this.setLocalTransform(n)}},i.prototype.getGlobalScale=function(r){var n=this.transform;return r=r||[],n?(r[0]=Math.sqrt(n[0]*n[0]+n[1]*n[1]),r[1]=Math.sqrt(n[2]*n[2]+n[3]*n[3]),n[0]<0&&(r[0]=-r[0]),n[3]<0&&(r[1]=-r[1]),r):(r[0]=1,r[1]=1,r)},i.prototype.transformCoordToLocal=function(r,n){var o=[r,n],a=this.invTransform;return a&&applyTransform$1(o,o,a),o},i.prototype.transformCoordToGlobal=function(r,n){var o=[r,n],a=this.transform;return a&&applyTransform$1(o,o,a),o},i.prototype.getLineScale=function(){var r=this.transform;return r&&abs(r[0]-1)>1e-10&&abs(r[3]-1)>1e-10?Math.sqrt(abs(r[0]*r[3]-r[2]*r[1])):1},i.prototype.copyTransform=function(r){copyTransform(this,r)},i.getLocalTransform=function(r,n){n=n||[];var o=r.originX||0,a=r.originY||0,u=r.scaleX,c=r.scaleY,d=r.anchorX,f=r.anchorY,h=r.rotation||0,y=r.x,g=r.y,p=r.skewX?Math.tan(r.skewX):0,v=r.skewY?Math.tan(-r.skewY):0;if(o||a||d||f){var _=o+d,b=a+f;n[4]=-_*u-p*b*c,n[5]=-b*c-v*_*u}else n[4]=n[5]=0;return n[0]=u,n[3]=c,n[1]=v*u,n[2]=p*c,h&&rotate(n,n,h),n[4]+=o+y,n[5]+=a+g,n},i.initDefaultProps=function(){var r=i.prototype;r.scaleX=r.scaleY=r.globalScaleRatio=1,r.x=r.y=r.originX=r.originY=r.skewX=r.skewY=r.rotation=r.anchorX=r.anchorY=0}(),i}(),TRANSFORMABLE_PROPS=["x","y","originX","originY","anchorX","anchorY","rotation","scaleX","scaleY","skewX","skewY"];function copyTransform(i,r){for(var n=0;n<TRANSFORMABLE_PROPS.length;n++){var o=TRANSFORMABLE_PROPS[n];i[o]=r[o]}}const Transformable$1=Transformable;var textWidthCache={};function getWidth(i,r){r=r||DEFAULT_FONT;var n=textWidthCache[r];n||(n=textWidthCache[r]=new LRU$1(500));var o=n.get(i);return o==null&&(o=platformApi.measureText(i,r).width,n.put(i,o)),o}function innerGetBoundingRect(i,r,n,o){var a=getWidth(i,r),u=getLineHeight(r),c=adjustTextX(0,a,n),d=adjustTextY(0,u,o),f=new BoundingRect$1(c,d,a,u);return f}function getBoundingRect(i,r,n,o){var a=((i||"")+"").split(`
`),u=a.length;if(u===1)return innerGetBoundingRect(a[0],r,n,o);for(var c=new BoundingRect$1(0,0,0,0),d=0;d<a.length;d++){var f=innerGetBoundingRect(a[d],r,n,o);d===0?c.copy(f):c.union(f)}return c}function adjustTextX(i,r,n){return n==="right"?i-=r:n==="center"&&(i-=r/2),i}function adjustTextY(i,r,n){return n==="middle"?i-=r/2:n==="bottom"&&(i-=r),i}function getLineHeight(i){return getWidth("国",i)}function parsePercent$1(i,r){return typeof i=="string"?i.lastIndexOf("%")>=0?parseFloat(i)/100*r:parseFloat(i):i}function calculateTextPosition(i,r,n){var o=r.position||"inside",a=r.distance!=null?r.distance:5,u=n.height,c=n.width,d=u/2,f=n.x,h=n.y,y="left",g="top";if(o instanceof Array)f+=parsePercent$1(o[0],n.width),h+=parsePercent$1(o[1],n.height),y=null,g=null;else switch(o){case"left":f-=a,h+=d,y="right",g="middle";break;case"right":f+=a+c,h+=d,g="middle";break;case"top":f+=c/2,h-=a,y="center",g="bottom";break;case"bottom":f+=c/2,h+=u+a,y="center";break;case"inside":f+=c/2,h+=d,y="center",g="middle";break;case"insideLeft":f+=a,h+=d,g="middle";break;case"insideRight":f+=c-a,h+=d,y="right",g="middle";break;case"insideTop":f+=c/2,h+=a,y="center";break;case"insideBottom":f+=c/2,h+=u-a,y="center",g="bottom";break;case"insideTopLeft":f+=a,h+=a;break;case"insideTopRight":f+=c-a,h+=a,y="right";break;case"insideBottomLeft":f+=a,h+=u-a,g="bottom";break;case"insideBottomRight":f+=c-a,h+=u-a,y="right",g="bottom";break}return i=i||{},i.x=f,i.y=h,i.align=y,i.verticalAlign=g,i}var PRESERVED_NORMAL_STATE="__zr_normal__",PRIMARY_STATES_KEYS$1=TRANSFORMABLE_PROPS.concat(["ignore"]),DEFAULT_ANIMATABLE_MAP=reduce(TRANSFORMABLE_PROPS,function(i,r){return i[r]=!0,i},{ignore:!1}),tmpTextPosCalcRes={},tmpBoundingRect=new BoundingRect$1(0,0,0,0),Element$1=function(){function i(r){this.id=guid(),this.animators=[],this.currentStates=[],this.states={},this._init(r)}return i.prototype._init=function(r){this.attr(r)},i.prototype.drift=function(r,n,o){switch(this.draggable){case"horizontal":n=0;break;case"vertical":r=0;break}var a=this.transform;a||(a=this.transform=[1,0,0,1,0,0]),a[4]+=r,a[5]+=n,this.decomposeTransform(),this.markRedraw()},i.prototype.beforeUpdate=function(){},i.prototype.afterUpdate=function(){},i.prototype.update=function(){this.updateTransform(),this.__dirty&&this.updateInnerText()},i.prototype.updateInnerText=function(r){var n=this._textContent;if(n&&(!n.ignore||r)){this.textConfig||(this.textConfig={});var o=this.textConfig,a=o.local,u=n.innerTransformable,c=void 0,d=void 0,f=!1;u.parent=a?this:null;var h=!1;if(u.copyTransform(n),o.position!=null){var y=tmpBoundingRect;o.layoutRect?y.copy(o.layoutRect):y.copy(this.getBoundingRect()),a||y.applyTransform(this.transform),this.calculateTextPosition?this.calculateTextPosition(tmpTextPosCalcRes,o,y):calculateTextPosition(tmpTextPosCalcRes,o,y),u.x=tmpTextPosCalcRes.x,u.y=tmpTextPosCalcRes.y,c=tmpTextPosCalcRes.align,d=tmpTextPosCalcRes.verticalAlign;var g=o.origin;if(g&&o.rotation!=null){var p=void 0,v=void 0;g==="center"?(p=y.width*.5,v=y.height*.5):(p=parsePercent$1(g[0],y.width),v=parsePercent$1(g[1],y.height)),h=!0,u.originX=-u.x+p+(a?0:y.x),u.originY=-u.y+v+(a?0:y.y)}}o.rotation!=null&&(u.rotation=o.rotation);var _=o.offset;_&&(u.x+=_[0],u.y+=_[1],h||(u.originX=-_[0],u.originY=-_[1]));var b=o.inside==null?typeof o.position=="string"&&o.position.indexOf("inside")>=0:o.inside,A=this._innerTextDefaultStyle||(this._innerTextDefaultStyle={}),w=void 0,S=void 0,T=void 0;b&&this.canBeInsideText()?(w=o.insideFill,S=o.insideStroke,(w==null||w==="auto")&&(w=this.getInsideTextFill()),(S==null||S==="auto")&&(S=this.getInsideTextStroke(w),T=!0)):(w=o.outsideFill,S=o.outsideStroke,(w==null||w==="auto")&&(w=this.getOutsideFill()),(S==null||S==="auto")&&(S=this.getOutsideStroke(w),T=!0)),w=w||"#000",(w!==A.fill||S!==A.stroke||T!==A.autoStroke||c!==A.align||d!==A.verticalAlign)&&(f=!0,A.fill=w,A.stroke=S,A.autoStroke=T,A.align=c,A.verticalAlign=d,n.setDefaultTextStyle(A)),n.__dirty|=REDRAW_BIT,f&&n.dirtyStyle(!0)}},i.prototype.canBeInsideText=function(){return!0},i.prototype.getInsideTextFill=function(){return"#fff"},i.prototype.getInsideTextStroke=function(r){return"#000"},i.prototype.getOutsideFill=function(){return this.__zr&&this.__zr.isDarkMode()?LIGHT_LABEL_COLOR:DARK_LABEL_COLOR},i.prototype.getOutsideStroke=function(r){var n=this.__zr&&this.__zr.getBackgroundColor(),o=typeof n=="string"&&parse(n);o||(o=[255,255,255,1]);for(var a=o[3],u=this.__zr.isDarkMode(),c=0;c<3;c++)o[c]=o[c]*a+(u?0:255)*(1-a);return o[3]=1,stringify(o,"rgba")},i.prototype.traverse=function(r,n){},i.prototype.attrKV=function(r,n){r==="textConfig"?this.setTextConfig(n):r==="textContent"?this.setTextContent(n):r==="clipPath"?this.setClipPath(n):r==="extra"?(this.extra=this.extra||{},extend(this.extra,n)):this[r]=n},i.prototype.hide=function(){this.ignore=!0,this.markRedraw()},i.prototype.show=function(){this.ignore=!1,this.markRedraw()},i.prototype.attr=function(r,n){if(typeof r=="string")this.attrKV(r,n);else if(isObject$3(r))for(var o=r,a=keys(o),u=0;u<a.length;u++){var c=a[u];this.attrKV(c,r[c])}return this.markRedraw(),this},i.prototype.saveCurrentToNormalState=function(r){this._innerSaveToNormal(r);for(var n=this._normalState,o=0;o<this.animators.length;o++){var a=this.animators[o],u=a.__fromStateTransition;if(!(a.getLoop()||u&&u!==PRESERVED_NORMAL_STATE)){var c=a.targetName,d=c?n[c]:n;a.saveTo(d)}}},i.prototype._innerSaveToNormal=function(r){var n=this._normalState;n||(n=this._normalState={}),r.textConfig&&!n.textConfig&&(n.textConfig=this.textConfig),this._savePrimaryToNormal(r,n,PRIMARY_STATES_KEYS$1)},i.prototype._savePrimaryToNormal=function(r,n,o){for(var a=0;a<o.length;a++){var u=o[a];r[u]!=null&&!(u in n)&&(n[u]=this[u])}},i.prototype.hasState=function(){return this.currentStates.length>0},i.prototype.getState=function(r){return this.states[r]},i.prototype.ensureState=function(r){var n=this.states;return n[r]||(n[r]={}),n[r]},i.prototype.clearStates=function(r){this.useState(PRESERVED_NORMAL_STATE,!1,r)},i.prototype.useState=function(r,n,o,a){var u=r===PRESERVED_NORMAL_STATE,c=this.hasState();if(!(!c&&u)){var d=this.currentStates,f=this.stateTransition;if(!(indexOf(d,r)>=0&&(n||d.length===1))){var h;if(this.stateProxy&&!u&&(h=this.stateProxy(r)),h||(h=this.states&&this.states[r]),!h&&!u){logError("State "+r+" not exists.");return}u||this.saveCurrentToNormalState(h);var y=!!(h&&h.hoverLayer||a);y&&this._toggleHoverLayerFlag(!0),this._applyStateObj(r,h,this._normalState,n,!o&&!this.__inHover&&f&&f.duration>0,f);var g=this._textContent,p=this._textGuide;return g&&g.useState(r,n,o,y),p&&p.useState(r,n,o,y),u?(this.currentStates=[],this._normalState={}):n?this.currentStates.push(r):this.currentStates=[r],this._updateAnimationTargets(),this.markRedraw(),!y&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT),h}}},i.prototype.useStates=function(r,n,o){if(!r.length)this.clearStates();else{var a=[],u=this.currentStates,c=r.length,d=c===u.length;if(d){for(var f=0;f<c;f++)if(r[f]!==u[f]){d=!1;break}}if(d)return;for(var f=0;f<c;f++){var h=r[f],y=void 0;this.stateProxy&&(y=this.stateProxy(h,r)),y||(y=this.states[h]),y&&a.push(y)}var g=a[c-1],p=!!(g&&g.hoverLayer||o);p&&this._toggleHoverLayerFlag(!0);var v=this._mergeStates(a),_=this.stateTransition;this.saveCurrentToNormalState(v),this._applyStateObj(r.join(","),v,this._normalState,!1,!n&&!this.__inHover&&_&&_.duration>0,_);var b=this._textContent,A=this._textGuide;b&&b.useStates(r,n,p),A&&A.useStates(r,n,p),this._updateAnimationTargets(),this.currentStates=r.slice(),this.markRedraw(),!p&&this.__inHover&&(this._toggleHoverLayerFlag(!1),this.__dirty&=~REDRAW_BIT)}},i.prototype.isSilent=function(){for(var r=this.silent,n=this.parent;!r&&n;){if(n.silent){r=!0;break}n=n.parent}return r},i.prototype._updateAnimationTargets=function(){for(var r=0;r<this.animators.length;r++){var n=this.animators[r];n.targetName&&n.changeTarget(this[n.targetName])}},i.prototype.removeState=function(r){var n=indexOf(this.currentStates,r);if(n>=0){var o=this.currentStates.slice();o.splice(n,1),this.useStates(o)}},i.prototype.replaceState=function(r,n,o){var a=this.currentStates.slice(),u=indexOf(a,r),c=indexOf(a,n)>=0;u>=0?c?a.splice(u,1):a[u]=n:o&&!c&&a.push(n),this.useStates(a)},i.prototype.toggleState=function(r,n){n?this.useState(r,!0):this.removeState(r)},i.prototype._mergeStates=function(r){for(var n={},o,a=0;a<r.length;a++){var u=r[a];extend(n,u),u.textConfig&&(o=o||{},extend(o,u.textConfig))}return o&&(n.textConfig=o),n},i.prototype._applyStateObj=function(r,n,o,a,u,c){var d=!(n&&a);n&&n.textConfig?(this.textConfig=extend({},a?this.textConfig:o.textConfig),extend(this.textConfig,n.textConfig)):d&&o.textConfig&&(this.textConfig=o.textConfig);for(var f={},h=!1,y=0;y<PRIMARY_STATES_KEYS$1.length;y++){var g=PRIMARY_STATES_KEYS$1[y],p=u&&DEFAULT_ANIMATABLE_MAP[g];n&&n[g]!=null?p?(h=!0,f[g]=n[g]):this[g]=n[g]:d&&o[g]!=null&&(p?(h=!0,f[g]=o[g]):this[g]=o[g])}if(!u)for(var y=0;y<this.animators.length;y++){var v=this.animators[y],_=v.targetName;v.getLoop()||v.__changeFinalValue(_?(n||o)[_]:n||o)}h&&this._transitionState(r,f,c)},i.prototype._attachComponent=function(r){if(r.__zr&&!r.__hostTarget){if(process.env.NODE_ENV!=="production")throw new Error("Text element has been added to zrender.");return}if(r===this){if(process.env.NODE_ENV!=="production")throw new Error("Recursive component attachment.");return}var n=this.__zr;n&&r.addSelfToZr(n),r.__zr=n,r.__hostTarget=this},i.prototype._detachComponent=function(r){r.__zr&&r.removeSelfFromZr(r.__zr),r.__zr=null,r.__hostTarget=null},i.prototype.getClipPath=function(){return this._clipPath},i.prototype.setClipPath=function(r){this._clipPath&&this._clipPath!==r&&this.removeClipPath(),this._attachComponent(r),this._clipPath=r,this.markRedraw()},i.prototype.removeClipPath=function(){var r=this._clipPath;r&&(this._detachComponent(r),this._clipPath=null,this.markRedraw())},i.prototype.getTextContent=function(){return this._textContent},i.prototype.setTextContent=function(r){var n=this._textContent;if(n!==r){if(n&&n!==r&&this.removeTextContent(),process.env.NODE_ENV!=="production"&&r.__zr&&!r.__hostTarget)throw new Error("Text element has been added to zrender.");r.innerTransformable=new Transformable$1,this._attachComponent(r),this._textContent=r,this.markRedraw()}},i.prototype.setTextConfig=function(r){this.textConfig||(this.textConfig={}),extend(this.textConfig,r),this.markRedraw()},i.prototype.removeTextConfig=function(){this.textConfig=null,this.markRedraw()},i.prototype.removeTextContent=function(){var r=this._textContent;r&&(r.innerTransformable=null,this._detachComponent(r),this._textContent=null,this._innerTextDefaultStyle=null,this.markRedraw())},i.prototype.getTextGuideLine=function(){return this._textGuide},i.prototype.setTextGuideLine=function(r){this._textGuide&&this._textGuide!==r&&this.removeTextGuideLine(),this._attachComponent(r),this._textGuide=r,this.markRedraw()},i.prototype.removeTextGuideLine=function(){var r=this._textGuide;r&&(this._detachComponent(r),this._textGuide=null,this.markRedraw())},i.prototype.markRedraw=function(){this.__dirty|=REDRAW_BIT;var r=this.__zr;r&&(this.__inHover?r.refreshHover():r.refresh()),this.__hostTarget&&this.__hostTarget.markRedraw()},i.prototype.dirty=function(){this.markRedraw()},i.prototype._toggleHoverLayerFlag=function(r){this.__inHover=r;var n=this._textContent,o=this._textGuide;n&&(n.__inHover=r),o&&(o.__inHover=r)},i.prototype.addSelfToZr=function(r){if(this.__zr!==r){this.__zr=r;var n=this.animators;if(n)for(var o=0;o<n.length;o++)r.animation.addAnimator(n[o]);this._clipPath&&this._clipPath.addSelfToZr(r),this._textContent&&this._textContent.addSelfToZr(r),this._textGuide&&this._textGuide.addSelfToZr(r)}},i.prototype.removeSelfFromZr=function(r){if(this.__zr){this.__zr=null;var n=this.animators;if(n)for(var o=0;o<n.length;o++)r.animation.removeAnimator(n[o]);this._clipPath&&this._clipPath.removeSelfFromZr(r),this._textContent&&this._textContent.removeSelfFromZr(r),this._textGuide&&this._textGuide.removeSelfFromZr(r)}},i.prototype.animate=function(r,n,o){var a=r?this[r]:this;if(process.env.NODE_ENV!=="production"&&!a){logError('Property "'+r+'" is not existed in element '+this.id);return}var u=new Animator$1(a,n,o);return r&&(u.targetName=r),this.addAnimator(u,r),u},i.prototype.addAnimator=function(r,n){var o=this.__zr,a=this;r.during(function(){a.updateDuringAnimation(n)}).done(function(){var u=a.animators,c=indexOf(u,r);c>=0&&u.splice(c,1)}),this.animators.push(r),o&&o.animation.addAnimator(r),o&&o.wakeUp()},i.prototype.updateDuringAnimation=function(r){this.markRedraw()},i.prototype.stopAnimation=function(r,n){for(var o=this.animators,a=o.length,u=[],c=0;c<a;c++){var d=o[c];!r||r===d.scope?d.stop(n):u.push(d)}return this.animators=u,this},i.prototype.animateTo=function(r,n,o){animateTo(this,r,n,o)},i.prototype.animateFrom=function(r,n,o){animateTo(this,r,n,o,!0)},i.prototype._transitionState=function(r,n,o,a){for(var u=animateTo(this,n,o,a),c=0;c<u.length;c++)u[c].__fromStateTransition=r},i.prototype.getBoundingRect=function(){return null},i.prototype.getPaintRect=function(){return null},i.initDefaultProps=function(){var r=i.prototype;r.type="element",r.name="",r.ignore=r.silent=r.isGroup=r.draggable=r.dragging=r.ignoreClip=r.__inHover=!1,r.__dirty=REDRAW_BIT;var n={};function o(u,c,d){n[u+c+d]||(console.warn("DEPRECATED: '"+u+"' has been deprecated. use '"+c+"', '"+d+"' instead"),n[u+c+d]=!0)}function a(u,c,d,f){Object.defineProperty(r,u,{get:function(){if(process.env.NODE_ENV!=="production"&&o(u,d,f),!this[c]){var y=this[c]=[];h(this,y)}return this[c]},set:function(y){process.env.NODE_ENV!=="production"&&o(u,d,f),this[d]=y[0],this[f]=y[1],this[c]=y,h(this,y)}});function h(y,g){Object.defineProperty(g,0,{get:function(){return y[d]},set:function(p){y[d]=p}}),Object.defineProperty(g,1,{get:function(){return y[f]},set:function(p){y[f]=p}})}}Object.defineProperty&&(a("position","_legacyPos","x","y"),a("scale","_legacyScale","scaleX","scaleY"),a("origin","_legacyOrigin","originX","originY"))}(),i}();mixin(Element$1,Eventful$1),mixin(Element$1,Transformable$1);function animateTo(i,r,n,o,a){n=n||{};var u=[];animateToShallow(i,"",i,r,n,o,u,a);var c=u.length,d=!1,f=n.done,h=n.aborted,y=function(){d=!0,c--,c<=0&&(d?f&&f():h&&h())},g=function(){c--,c<=0&&(d?f&&f():h&&h())};c||f&&f(),u.length>0&&n.during&&u[0].during(function(_,b){n.during(b)});for(var p=0;p<u.length;p++){var v=u[p];y&&v.done(y),g&&v.aborted(g),n.force&&v.duration(n.duration),v.start(n.easing)}return u}function copyArrShallow(i,r,n){for(var o=0;o<n;o++)i[o]=r[o]}function is2DArray(i){return isArrayLike(i[0])}function copyValue(i,r,n){if(isArrayLike(r[n]))if(isArrayLike(i[n])||(i[n]=[]),isTypedArray(r[n])){var o=r[n].length;i[n].length!==o&&(i[n]=new r[n].constructor(o),copyArrShallow(i[n],r[n],o))}else{var a=r[n],u=i[n],c=a.length;if(is2DArray(a))for(var d=a[0].length,f=0;f<c;f++)u[f]?copyArrShallow(u[f],a[f],d):u[f]=Array.prototype.slice.call(a[f]);else copyArrShallow(u,a,c);u.length=a.length}else i[n]=r[n]}function isValueSame(i,r){return i===r||isArrayLike(i)&&isArrayLike(r)&&is1DArraySame(i,r)}function is1DArraySame(i,r){var n=i.length;if(n!==r.length)return!1;for(var o=0;o<n;o++)if(i[o]!==r[o])return!1;return!0}function animateToShallow(i,r,n,o,a,u,c,d){for(var f=keys(o),h=a.duration,y=a.delay,g=a.additive,p=a.setToFinal,v=!isObject$3(u),_=i.animators,b=[],A=0;A<f.length;A++){var w=f[A],S=o[w];if(S!=null&&n[w]!=null&&(v||u[w]))if(isObject$3(S)&&!isArrayLike(S)&&!isGradientObject(S)){if(r){d||(n[w]=S,i.updateDuringAnimation(r));continue}animateToShallow(i,w,n[w],S,a,u&&u[w],c,d)}else b.push(w);else d||(n[w]=S,i.updateDuringAnimation(r),b.push(w))}var T=b.length;if(!g&&T)for(var x=0;x<_.length;x++){var M=_[x];if(M.targetName===r){var L=M.stopTracks(b);if(L){var k=indexOf(_,M);_.splice(k,1)}}}if(a.force||(b=filter(b,function(V){return!isValueSame(o[V],n[V])}),T=b.length),T>0||a.force&&!c.length){var ie=void 0,$=void 0,z=void 0;if(d){$={},p&&(ie={});for(var x=0;x<T;x++){var w=b[x];$[w]=n[w],p?ie[w]=o[w]:n[w]=o[w]}}else if(p){z={};for(var x=0;x<T;x++){var w=b[x];z[w]=cloneValue(n[w]),copyValue(n,o,w)}}var M=new Animator$1(n,!1,!1,g?filter(_,function(re){return re.targetName===r}):null);M.targetName=r,a.scope&&(M.scope=a.scope),p&&ie&&M.whenWithKeys(0,ie,b),z&&M.whenWithKeys(0,z,b),M.whenWithKeys(h??500,d?$:o,b).delay(y||0),i.addAnimator(M,r),c.push(M)}}const Element$2=Element$1;var Group$2=function(i){__extends(r,i);function r(n){var o=i.call(this)||this;return o.isGroup=!0,o._children=[],o.attr(n),o}return r.prototype.childrenRef=function(){return this._children},r.prototype.children=function(){return this._children.slice()},r.prototype.childAt=function(n){return this._children[n]},r.prototype.childOfName=function(n){for(var o=this._children,a=0;a<o.length;a++)if(o[a].name===n)return o[a]},r.prototype.childCount=function(){return this._children.length},r.prototype.add=function(n){if(n&&(n!==this&&n.parent!==this&&(this._children.push(n),this._doAdd(n)),process.env.NODE_ENV!=="production"&&n.__hostTarget))throw"This elemenet has been used as an attachment";return this},r.prototype.addBefore=function(n,o){if(n&&n!==this&&n.parent!==this&&o&&o.parent===this){var a=this._children,u=a.indexOf(o);u>=0&&(a.splice(u,0,n),this._doAdd(n))}return this},r.prototype.replace=function(n,o){var a=indexOf(this._children,n);return a>=0&&this.replaceAt(o,a),this},r.prototype.replaceAt=function(n,o){var a=this._children,u=a[o];if(n&&n!==this&&n.parent!==this&&n!==u){a[o]=n,u.parent=null;var c=this.__zr;c&&u.removeSelfFromZr(c),this._doAdd(n)}return this},r.prototype._doAdd=function(n){n.parent&&n.parent.remove(n),n.parent=this;var o=this.__zr;o&&o!==n.__zr&&n.addSelfToZr(o),o&&o.refresh()},r.prototype.remove=function(n){var o=this.__zr,a=this._children,u=indexOf(a,n);return u<0?this:(a.splice(u,1),n.parent=null,o&&n.removeSelfFromZr(o),o&&o.refresh(),this)},r.prototype.removeAll=function(){for(var n=this._children,o=this.__zr,a=0;a<n.length;a++){var u=n[a];o&&u.removeSelfFromZr(o),u.parent=null}return n.length=0,this},r.prototype.eachChild=function(n,o){for(var a=this._children,u=0;u<a.length;u++){var c=a[u];n.call(o,c,u)}return this},r.prototype.traverse=function(n,o){for(var a=0;a<this._children.length;a++){var u=this._children[a],c=n.call(o,u);u.isGroup&&!c&&u.traverse(n,o)}return this},r.prototype.addSelfToZr=function(n){i.prototype.addSelfToZr.call(this,n);for(var o=0;o<this._children.length;o++){var a=this._children[o];a.addSelfToZr(n)}},r.prototype.removeSelfFromZr=function(n){i.prototype.removeSelfFromZr.call(this,n);for(var o=0;o<this._children.length;o++){var a=this._children[o];a.removeSelfFromZr(n)}},r.prototype.getBoundingRect=function(n){for(var o=new BoundingRect$1(0,0,0,0),a=n||this._children,u=[],c=null,d=0;d<a.length;d++){var f=a[d];if(!(f.ignore||f.invisible)){var h=f.getBoundingRect(),y=f.getLocalTransform(u);y?(BoundingRect$1.applyTransform(o,h,y),c=c||o.clone(),c.union(o)):(c=c||h.clone(),c.union(h))}}return c||o},r}(Element$2);Group$2.prototype.type="group";const Group$3=Group$2;/*!
* ZRender, a high performance 2d drawing library.
*
* Copyright (c) 2013, Baidu Inc.
* All rights reserved.
*
* LICENSE
* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt
*/var painterCtors={},instances$1={};function delInstance(i){delete instances$1[i]}function isDarkMode(i){if(!i)return!1;if(typeof i=="string")return lum(i,1)<DARK_MODE_THRESHOLD;if(i.colorStops){for(var r=i.colorStops,n=0,o=r.length,a=0;a<o;a++)n+=lum(r[a].color,1);return n/=o,n<DARK_MODE_THRESHOLD}return!1}var ZRender=function(){function i(r,n,o){var a=this;this._sleepAfterStill=10,this._stillFrameAccum=0,this._needsRefresh=!0,this._needsRefreshHover=!0,this._darkMode=!1,o=o||{},this.dom=n,this.id=r;var u=new Storage$1,c=o.renderer||"canvas";if(painterCtors[c]||(c=keys(painterCtors)[0]),process.env.NODE_ENV!=="production"&&!painterCtors[c])throw new Error("Renderer '"+c+"' is not imported. Please import it first.");o.useDirtyRect=o.useDirtyRect==null?!1:o.useDirtyRect;var d=new painterCtors[c](n,u,o,r),f=o.ssr||d.ssrOnly;this.storage=u,this.painter=d;var h=!env$1.node&&!env$1.worker&&!f?new HandlerProxy(d.getViewportRoot(),d.root):null,y=o.useCoarsePointer,g=y==null||y==="auto"?env$1.touchEventsSupported:!!y,p=44,v;g&&(v=retrieve2(o.pointerSize,p)),this.handler=new Handler$1(u,d,h,d.root,v),this.animation=new Animation$1({stage:{update:f?null:function(){return a._flush(!0)}}}),f||this.animation.start()}return i.prototype.add=function(r){this._disposed||!r||(this.storage.addRoot(r),r.addSelfToZr(this),this.refresh())},i.prototype.remove=function(r){this._disposed||!r||(this.storage.delRoot(r),r.removeSelfFromZr(this),this.refresh())},i.prototype.configLayer=function(r,n){this._disposed||(this.painter.configLayer&&this.painter.configLayer(r,n),this.refresh())},i.prototype.setBackgroundColor=function(r){this._disposed||(this.painter.setBackgroundColor&&this.painter.setBackgroundColor(r),this.refresh(),this._backgroundColor=r,this._darkMode=isDarkMode(r))},i.prototype.getBackgroundColor=function(){return this._backgroundColor},i.prototype.setDarkMode=function(r){this._darkMode=r},i.prototype.isDarkMode=function(){return this._darkMode},i.prototype.refreshImmediately=function(r){this._disposed||(r||this.animation.update(!0),this._needsRefresh=!1,this.painter.refresh(),this._needsRefresh=!1)},i.prototype.refresh=function(){this._disposed||(this._needsRefresh=!0,this.animation.start())},i.prototype.flush=function(){this._disposed||this._flush(!1)},i.prototype._flush=function(r){var n,o=getTime();this._needsRefresh&&(n=!0,this.refreshImmediately(r)),this._needsRefreshHover&&(n=!0,this.refreshHoverImmediately());var a=getTime();n?(this._stillFrameAccum=0,this.trigger("rendered",{elapsedTime:a-o})):this._sleepAfterStill>0&&(this._stillFrameAccum++,this._stillFrameAccum>this._sleepAfterStill&&this.animation.stop())},i.prototype.setSleepAfterStill=function(r){this._sleepAfterStill=r},i.prototype.wakeUp=function(){this._disposed||(this.animation.start(),this._stillFrameAccum=0)},i.prototype.refreshHover=function(){this._needsRefreshHover=!0},i.prototype.refreshHoverImmediately=function(){this._disposed||(this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.getType()==="canvas"&&this.painter.refreshHover())},i.prototype.resize=function(r){this._disposed||(r=r||{},this.painter.resize(r.width,r.height),this.handler.resize())},i.prototype.clearAnimation=function(){this._disposed||this.animation.clear()},i.prototype.getWidth=function(){if(!this._disposed)return this.painter.getWidth()},i.prototype.getHeight=function(){if(!this._disposed)return this.painter.getHeight()},i.prototype.setCursorStyle=function(r){this._disposed||this.handler.setCursorStyle(r)},i.prototype.findHover=function(r,n){if(!this._disposed)return this.handler.findHover(r,n)},i.prototype.on=function(r,n,o){return this._disposed||this.handler.on(r,n,o),this},i.prototype.off=function(r,n){this._disposed||this.handler.off(r,n)},i.prototype.trigger=function(r,n){this._disposed||this.handler.trigger(r,n)},i.prototype.clear=function(){if(!this._disposed){for(var r=this.storage.getRoots(),n=0;n<r.length;n++)r[n]instanceof Group$3&&r[n].removeSelfFromZr(this);this.storage.delAllRoots(),this.painter.clear()}},i.prototype.dispose=function(){this._disposed||(this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,this._disposed=!0,delInstance(this.id))},i}();function init(i,r){var n=new ZRender(guid(),i,r);return instances$1[n.id]=n,n}function registerPainter(i,r){painterCtors[i]=r}var ssrDataGetter;function getElementSSRData(i){if(typeof ssrDataGetter=="function")return ssrDataGetter(i)}function registerSSRDataGetter(i){ssrDataGetter=i}var RADIAN_EPSILON=1e-4,ROUND_SUPPORTED_PRECISION_MAX=20;function _trim(i){return i.replace(/^\s+|\s+$/g,"")}function linearMap(i,r,n,o){var a=r[0],u=r[1],c=n[0],d=n[1],f=u-a,h=d-c;if(f===0)return h===0?c:(c+d)/2;if(o)if(f>0){if(i<=a)return c;if(i>=u)return d}else{if(i>=a)return c;if(i<=u)return d}else{if(i===a)return c;if(i===u)return d}return(i-a)/f*h+c}function parsePercent(i,r){switch(i){case"center":case"middle":i="50%";break;case"left":case"top":i="0%";break;case"right":case"bottom":i="100%";break}return isString$2(i)?_trim(i).match(/%$/)?parseFloat(i)/100*r:parseFloat(i):i==null?NaN:+i}function round$2(i,r,n){return r==null&&(r=10),r=Math.min(Math.max(0,r),ROUND_SUPPORTED_PRECISION_MAX),i=(+i).toFixed(r),n?i:+i}function getPrecision(i){if(i=+i,isNaN(i))return 0;if(i>1e-14){for(var r=1,n=0;n<15;n++,r*=10)if(Math.round(i*r)/r===i)return n}return getPrecisionSafe(i)}function getPrecisionSafe(i){var r=i.toString().toLowerCase(),n=r.indexOf("e"),o=n>0?+r.slice(n+1):0,a=n>0?n:r.length,u=r.indexOf("."),c=u<0?0:a-1-u;return Math.max(0,c-o)}function getPercentSeats(i,r){var n=reduce(i,function(v,_){return v+(isNaN(_)?0:_)},0);if(n===0)return[];for(var o=Math.pow(10,r),a=map$1(i,function(v){return(isNaN(v)?0:v)/n*o*100}),u=o*100,c=map$1(a,function(v){return Math.floor(v)}),d=reduce(c,function(v,_){return v+_},0),f=map$1(a,function(v,_){return v-c[_]});d<u;){for(var h=Number.NEGATIVE_INFINITY,y=null,g=0,p=f.length;g<p;++g)f[g]>h&&(h=f[g],y=g);++c[y],f[y]=0,++d}return map$1(c,function(v){return v/o})}function addSafe(i,r){var n=Math.max(getPrecision(i),getPrecision(r)),o=i+r;return n>ROUND_SUPPORTED_PRECISION_MAX?o:round$2(o,n)}function remRadian(i){var r=Math.PI*2;return(i%r+r)%r}function isRadianAroundZero(i){return i>-RADIAN_EPSILON&&i<RADIAN_EPSILON}var TIME_REG=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d{1,2})(?::(\d{1,2})(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function parseDate(i){if(i instanceof Date)return i;if(isString$2(i)){var r=TIME_REG.exec(i);if(!r)return new Date(NaN);if(r[8]){var n=+r[4]||0;return r[8].toUpperCase()!=="Z"&&(n-=+r[8].slice(0,3)),new Date(Date.UTC(+r[1],+(r[2]||1)-1,+r[3]||1,n,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0))}else return new Date(+r[1],+(r[2]||1)-1,+r[3]||1,+r[4]||0,+(r[5]||0),+r[6]||0,r[7]?+r[7].substring(0,3):0)}else if(i==null)return new Date(NaN);return new Date(Math.round(i))}function numericToNumber(i){var r=parseFloat(i);return r==i&&(r!==0||!isString$2(i)||i.indexOf("x")<=0)?r:NaN}function isNumeric(i){return!isNaN(numericToNumber(i))}function getRandomIdBase(){return Math.round(Math.random()*9)}function getGreatestCommonDividor(i,r){return r===0?i:getGreatestCommonDividor(r,i%r)}function getLeastCommonMultiple(i,r){return i==null?r:r==null?i:i*r/getGreatestCommonDividor(i,r)}var ECHARTS_PREFIX="[ECharts] ",storedLogs={},hasConsole=typeof console<"u"&&console.warn&&console.log;function outputLog(i,r,n){if(hasConsole){if(n){if(storedLogs[r])return;storedLogs[r]=!0}console[i](ECHARTS_PREFIX+r)}}function log(i,r){outputLog("log",i,r)}function warn(i,r){outputLog("warn",i,r)}function error(i,r){outputLog("error",i,r)}function deprecateLog(i){process.env.NODE_ENV!=="production"&&outputLog("warn","DEPRECATED: "+i,!0)}function deprecateReplaceLog(i,r,n){process.env.NODE_ENV!=="production"&&deprecateLog((n?"["+n+"]":"")+(i+" is deprecated, use "+r+" instead."))}function makePrintable(){for(var i=[],r=0;r<arguments.length;r++)i[r]=arguments[r];var n="";if(process.env.NODE_ENV!=="production"){var o=function(a){return a===void 0?"undefined":a===1/0?"Infinity":a===-1/0?"-Infinity":eqNaN(a)?"NaN":a instanceof Date?"Date("+a.toISOString()+")":isFunction$1(a)?"function () { ... }":isRegExp(a)?a+"":null};n=map$1(i,function(a){if(isString$2(a))return a;var u=o(a);if(u!=null)return u;if(typeof JSON<"u"&&JSON.stringify)try{return JSON.stringify(a,function(c,d){var f=o(d);return f??d})}catch{return"?"}else return"?"}).join(" ")}return n}function throwError$1(i){throw new Error(i)}var DUMMY_COMPONENT_NAME_PREFIX="series\0",INTERNAL_COMPONENT_ID_PREFIX="\0_ec_\0";function normalizeToArray(i){return i instanceof Array?i:i==null?[]:[i]}function defaultEmphasis(i,r,n){if(i){i[r]=i[r]||{},i.emphasis=i.emphasis||{},i.emphasis[r]=i.emphasis[r]||{};for(var o=0,a=n.length;o<a;o++){var u=n[o];!i.emphasis[r].hasOwnProperty(u)&&i[r].hasOwnProperty(u)&&(i.emphasis[r][u]=i[r][u])}}}var TEXT_STYLE_OPTIONS=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function getDataItemValue(i){return isObject$3(i)&&!isArray$1(i)&&!(i instanceof Date)?i.value:i}function isDataItemOption(i){return isObject$3(i)&&!(i instanceof Array)}function mappingToExists(i,r,n){var o=n==="normalMerge",a=n==="replaceMerge",u=n==="replaceAll";i=i||[],r=(r||[]).slice();var c=createHashMap();each$4(r,function(f,h){if(!isObject$3(f)){r[h]=null;return}process.env.NODE_ENV!=="production"&&(f.id!=null&&!isValidIdOrName(f.id)&&warnInvalidateIdOrName(f.id),f.name!=null&&!isValidIdOrName(f.name)&&warnInvalidateIdOrName(f.name))});var d=prepareResult(i,c,n);return(o||a)&&mappingById(d,i,c,r),o&&mappingByName(d,r),o||a?mappingByIndex(d,r,a):u&&mappingInReplaceAllMode(d,r),makeIdAndName(d),d}function prepareResult(i,r,n){var o=[];if(n==="replaceAll")return o;for(var a=0;a<i.length;a++){var u=i[a];u&&u.id!=null&&r.set(u.id,a),o.push({existing:n==="replaceMerge"||isComponentIdInternal(u)?null:u,newOption:null,keyInfo:null,brandNew:null})}return o}function mappingById(i,r,n,o){each$4(o,function(a,u){if(!(!a||a.id==null)){var c=makeComparableKey(a.id),d=n.get(c);if(d!=null){var f=i[d];assert(!f.newOption,'Duplicated option on id "'+c+'".'),f.newOption=a,f.existing=r[d],o[u]=null}}})}function mappingByName(i,r){each$4(r,function(n,o){if(!(!n||n.name==null))for(var a=0;a<i.length;a++){var u=i[a].existing;if(!i[a].newOption&&u&&(u.id==null||n.id==null)&&!isComponentIdInternal(n)&&!isComponentIdInternal(u)&&keyExistAndEqual("name",u,n)){i[a].newOption=n,r[o]=null;return}}})}function mappingByIndex(i,r,n){each$4(r,function(o){if(o){for(var a,u=0;(a=i[u])&&(a.newOption||isComponentIdInternal(a.existing)||a.existing&&o.id!=null&&!keyExistAndEqual("id",o,a.existing));)u++;a?(a.newOption=o,a.brandNew=n):i.push({newOption:o,brandNew:n,existing:null,keyInfo:null}),u++}})}function mappingInReplaceAllMode(i,r){each$4(r,function(n){i.push({newOption:n,brandNew:!0,existing:null,keyInfo:null})})}function makeIdAndName(i){var r=createHashMap();each$4(i,function(n){var o=n.existing;o&&r.set(o.id,n)}),each$4(i,function(n){var o=n.newOption;assert(!o||o.id==null||!r.get(o.id)||r.get(o.id)===n,"id duplicates: "+(o&&o.id)),o&&o.id!=null&&r.set(o.id,n),!n.keyInfo&&(n.keyInfo={})}),each$4(i,function(n,o){var a=n.existing,u=n.newOption,c=n.keyInfo;if(isObject$3(u)){if(c.name=u.name!=null?makeComparableKey(u.name):a?a.name:DUMMY_COMPONENT_NAME_PREFIX+o,a)c.id=makeComparableKey(a.id);else if(u.id!=null)c.id=makeComparableKey(u.id);else{var d=0;do c.id="\0"+c.name+"\0"+d++;while(r.get(c.id))}r.set(c.id,n)}})}function keyExistAndEqual(i,r,n){var o=convertOptionIdName(r[i],null),a=convertOptionIdName(n[i],null);return o!=null&&a!=null&&o===a}function makeComparableKey(i){if(process.env.NODE_ENV!=="production"&&i==null)throw new Error;return convertOptionIdName(i,"")}function convertOptionIdName(i,r){return i==null?r:isString$2(i)?i:isNumber$1(i)||isStringSafe(i)?i+"":r}function warnInvalidateIdOrName(i){process.env.NODE_ENV!=="production"&&warn("`"+i+"` is invalid id or name. Must be a string or number.")}function isValidIdOrName(i){return isStringSafe(i)||isNumeric(i)}function isNameSpecified(i){var r=i.name;return!!(r&&r.indexOf(DUMMY_COMPONENT_NAME_PREFIX))}function isComponentIdInternal(i){return i&&i.id!=null&&makeComparableKey(i.id).indexOf(INTERNAL_COMPONENT_ID_PREFIX)===0}function setComponentTypeToKeyInfo(i,r,n){each$4(i,function(o){var a=o.newOption;isObject$3(a)&&(o.keyInfo.mainType=r,o.keyInfo.subType=determineSubType(r,a,o.existing,n))})}function determineSubType(i,r,n,o){var a=r.type?r.type:n?n.subType:o.determineSubType(i,r);return a}function queryDataIndex(i,r){if(r.dataIndexInside!=null)return r.dataIndexInside;if(r.dataIndex!=null)return isArray$1(r.dataIndex)?map$1(r.dataIndex,function(n){return i.indexOfRawIndex(n)}):i.indexOfRawIndex(r.dataIndex);if(r.name!=null)return isArray$1(r.name)?map$1(r.name,function(n){return i.indexOfName(n)}):i.indexOfName(r.name)}function makeInner(){var i="__ec_inner_"+innerUniqueIndex++;return function(r){return r[i]||(r[i]={})}}var innerUniqueIndex=getRandomIdBase();function parseFinder(i,r,n){var o=preParseFinder(r,n),a=o.mainTypeSpecified,u=o.queryOptionMap,c=o.others,d=c,f=n?n.defaultMainType:null;return!a&&f&&u.set(f,{}),u.each(function(h,y){var g=queryReferringComponents(i,y,h,{useDefault:f===y,enableAll:n&&n.enableAll!=null?n.enableAll:!0,enableNone:n&&n.enableNone!=null?n.enableNone:!0});d[y+"Models"]=g.models,d[y+"Model"]=g.models[0]}),d}function preParseFinder(i,r){var n;if(isString$2(i)){var o={};o[i+"Index"]=0,n=o}else n=i;var a=createHashMap(),u={},c=!1;return each$4(n,function(d,f){if(f==="dataIndex"||f==="dataIndexInside"){u[f]=d;return}var h=f.match(/^(\w+)(Index|Id|Name)$/)||[],y=h[1],g=(h[2]||"").toLowerCase();if(!(!y||!g||r&&r.includeMainTypes&&indexOf(r.includeMainTypes,y)<0)){c=c||!!y;var p=a.get(y)||a.set(y,{});p[g]=d}}),{mainTypeSpecified:c,queryOptionMap:a,others:u}}var SINGLE_REFERRING={useDefault:!0,enableAll:!1,enableNone:!1};function queryReferringComponents(i,r,n,o){o=o||SINGLE_REFERRING;var a=n.index,u=n.id,c=n.name,d={models:null,specified:a!=null||u!=null||c!=null};if(!d.specified){var f=void 0;return d.models=o.useDefault&&(f=i.getComponent(r))?[f]:[],d}return a==="none"||a===!1?(assert(o.enableNone,'`"none"` or `false` is not a valid value on index option.'),d.models=[],d):(a==="all"&&(assert(o.enableAll,'`"all"` is not a valid value on index option.'),a=u=c=null),d.models=i.queryComponents({mainType:r,index:a,id:u,name:c}),d)}function setAttribute(i,r,n){i.setAttribute?i.setAttribute(r,n):i[r]=n}function getTooltipRenderMode(i){return i==="auto"?env$1.domSupported?"html":"richText":i||"html"}var TYPE_DELIMITER=".",IS_CONTAINER="___EC__COMPONENT__CONTAINER___",IS_EXTENDED_CLASS="___EC__EXTENDED_CLASS___";function parseClassType(i){var r={main:"",sub:""};if(i){var n=i.split(TYPE_DELIMITER);r.main=n[0]||"",r.sub=n[1]||""}return r}function checkClassType(i){assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i),'componentType "'+i+'" illegal')}function isExtendedClass(i){return!!(i&&i[IS_EXTENDED_CLASS])}function enableClassExtend(i,r){i.$constructor=i,i.extend=function(n){process.env.NODE_ENV!=="production"&&each$4(r,function(u){n[u]||console.warn("Method `"+u+"` should be implemented"+(n.type?" in "+n.type:"")+".")});var o=this,a;return isESClass(o)?a=function(u){__extends(c,u);function c(){return u.apply(this,arguments)||this}return c}(o):(a=function(){(n.$constructor||o).apply(this,arguments)},inherits(a,this)),extend(a.prototype,n),a[IS_EXTENDED_CLASS]=!0,a.extend=this.extend,a.superCall=superCall,a.superApply=superApply,a.superClass=o,a}}function isESClass(i){return isFunction$1(i)&&/^class\s/.test(Function.prototype.toString.call(i))}function mountExtend(i,r){i.extend=r.extend}var classBase=Math.round(Math.random()*10);function enableClassCheck(i){var r=["__\0is_clz",classBase++].join("_");i.prototype[r]=!0,process.env.NODE_ENV!=="production"&&assert(!i.isInstance,'The method "is" can not be defined.'),i.isInstance=function(n){return!!(n&&n[r])}}function superCall(i,r){for(var n=[],o=2;o<arguments.length;o++)n[o-2]=arguments[o];return this.superClass.prototype[r].apply(i,n)}function superApply(i,r,n){return this.superClass.prototype[r].apply(i,n)}function enableClassManagement(i){var r={};i.registerClass=function(o){var a=o.type||o.prototype.type;if(a){checkClassType(a),o.prototype.type=a;var u=parseClassType(a);if(!u.sub)process.env.NODE_ENV!=="production"&&r[u.main]&&console.warn(u.main+" exists."),r[u.main]=o;else if(u.sub!==IS_CONTAINER){var c=n(u);c[u.sub]=o}}return o},i.getClass=function(o,a,u){var c=r[o];if(c&&c[IS_CONTAINER]&&(c=a?c[a]:null),u&&!c)throw new Error(a?"Component "+o+"."+(a||"")+" is used but not imported.":o+".type should be specified.");return c},i.getClassesByMainType=function(o){var a=parseClassType(o),u=[],c=r[a.main];return c&&c[IS_CONTAINER]?each$4(c,function(d,f){f!==IS_CONTAINER&&u.push(d)}):u.push(c),u},i.hasClass=function(o){var a=parseClassType(o);return!!r[a.main]},i.getAllClassMainTypes=function(){var o=[];return each$4(r,function(a,u){o.push(u)}),o},i.hasSubTypes=function(o){var a=parseClassType(o),u=r[a.main];return u&&u[IS_CONTAINER]};function n(o){var a=r[o.main];return(!a||!a[IS_CONTAINER])&&(a=r[o.main]={},a[IS_CONTAINER]=!0),a}}function makeStyleMapper(i,r){for(var n=0;n<i.length;n++)i[n][1]||(i[n][1]=i[n][0]);return r=r||!1,function(o,a,u){for(var c={},d=0;d<i.length;d++){var f=i[d][1];if(!(a&&indexOf(a,f)>=0||u&&indexOf(u,f)<0)){var h=o.getShallow(f,r);h!=null&&(c[i[d][0]]=h)}}return c}}var AREA_STYLE_KEY_MAP=[["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]],getAreaStyle=makeStyleMapper(AREA_STYLE_KEY_MAP),AreaStyleMixin=function(){function i(){}return i.prototype.getAreaStyle=function(r,n){return getAreaStyle(this,r,n)},i}(),globalImageCache=new LRU$1(50);function findExistImage(i){if(typeof i=="string"){var r=globalImageCache.get(i);return r&&r.image}else return i}function createOrUpdateImage(i,r,n,o,a){if(i)if(typeof i=="string"){if(r&&r.__zrImageSrc===i||!n)return r;var u=globalImageCache.get(i),c={hostEl:n,cb:o,cbPayload:a};return u?(r=u.image,!isImageReady(r)&&u.pending.push(c)):(r=platformApi.loadImage(i,imageOnLoad,imageOnLoad),r.__zrImageSrc=i,globalImageCache.put(i,r.__cachedImgObj={image:r,pending:[c]})),r}else return i;else return r}function imageOnLoad(){var i=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var r=0;r<i.pending.length;r++){var n=i.pending[r],o=n.cb;o&&o(this,n.cbPayload),n.hostEl.dirty()}i.pending.length=0}function isImageReady(i){return i&&i.width&&i.height}var STYLE_REG=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g;function truncateText(i,r,n,o,a){if(!r)return"";var u=(i+"").split(`
`);a=prepareTruncateOptions(r,n,o,a);for(var c=0,d=u.length;c<d;c++)u[c]=truncateSingleLine(u[c],a);return u.join(`
`)}function prepareTruncateOptions(i,r,n,o){o=o||{};var a=extend({},o);a.font=r,n=retrieve2(n,"..."),a.maxIterations=retrieve2(o.maxIterations,2);var u=a.minChar=retrieve2(o.minChar,0);a.cnCharWidth=getWidth("国",r);var c=a.ascCharWidth=getWidth("a",r);a.placeholder=retrieve2(o.placeholder,"");for(var d=i=Math.max(0,i-1),f=0;f<u&&d>=c;f++)d-=c;var h=getWidth(n,r);return h>d&&(n="",h=0),d=i-h,a.ellipsis=n,a.ellipsisWidth=h,a.contentWidth=d,a.containerWidth=i,a}function truncateSingleLine(i,r){var n=r.containerWidth,o=r.font,a=r.contentWidth;if(!n)return"";var u=getWidth(i,o);if(u<=n)return i;for(var c=0;;c++){if(u<=a||c>=r.maxIterations){i+=r.ellipsis;break}var d=c===0?estimateLength(i,a,r.ascCharWidth,r.cnCharWidth):u>0?Math.floor(i.length*a/u):0;i=i.substr(0,d),u=getWidth(i,o)}return i===""&&(i=r.placeholder),i}function estimateLength(i,r,n,o){for(var a=0,u=0,c=i.length;u<c&&a<r;u++){var d=i.charCodeAt(u);a+=0<=d&&d<=127?n:o}return u}function parsePlainText(i,r){i!=null&&(i+="");var n=r.overflow,o=r.padding,a=r.font,u=n==="truncate",c=getLineHeight(a),d=retrieve2(r.lineHeight,c),f=!!r.backgroundColor,h=r.lineOverflow==="truncate",y=r.width,g;y!=null&&(n==="break"||n==="breakAll")?g=i?wrapText(i,r.font,y,n==="breakAll",0).lines:[]:g=i?i.split(`
`):[];var p=g.length*d,v=retrieve2(r.height,p);if(p>v&&h){var _=Math.floor(v/d);g=g.slice(0,_)}if(i&&u&&y!=null)for(var b=prepareTruncateOptions(y,a,r.ellipsis,{minChar:r.truncateMinChar,placeholder:r.placeholder}),A=0;A<g.length;A++)g[A]=truncateSingleLine(g[A],b);for(var w=v,S=0,A=0;A<g.length;A++)S=Math.max(getWidth(g[A],a),S);y==null&&(y=S);var T=S;return o&&(w+=o[0]+o[2],T+=o[1]+o[3],y+=o[1]+o[3]),f&&(T=y),{lines:g,height:v,outerWidth:T,outerHeight:w,lineHeight:d,calculatedLineHeight:c,contentWidth:S,contentHeight:p,width:y}}var RichTextToken=function(){function i(){}return i}(),RichTextLine=function(){function i(r){this.tokens=[],r&&(this.tokens=r)}return i}(),RichTextContentBlock=function(){function i(){this.width=0,this.height=0,this.contentWidth=0,this.contentHeight=0,this.outerWidth=0,this.outerHeight=0,this.lines=[]}return i}();function parseRichText(i,r){var n=new RichTextContentBlock;if(i!=null&&(i+=""),!i)return n;for(var o=r.width,a=r.height,u=r.overflow,c=(u==="break"||u==="breakAll")&&o!=null?{width:o,accumWidth:0,breakAll:u==="breakAll"}:null,d=STYLE_REG.lastIndex=0,f;(f=STYLE_REG.exec(i))!=null;){var h=f.index;h>d&&pushTokens(n,i.substring(d,h),r,c),pushTokens(n,f[2],r,c,f[1]),d=STYLE_REG.lastIndex}d<i.length&&pushTokens(n,i.substring(d,i.length),r,c);var y=[],g=0,p=0,v=r.padding,_=u==="truncate",b=r.lineOverflow==="truncate";function A(Ie,At,_e){Ie.width=At,Ie.lineHeight=_e,g+=_e,p=Math.max(p,At)}e:for(var w=0;w<n.lines.length;w++){for(var S=n.lines[w],T=0,x=0,M=0;M<S.tokens.length;M++){var L=S.tokens[M],k=L.styleName&&r.rich[L.styleName]||{},ie=L.textPadding=k.padding,$=ie?ie[1]+ie[3]:0,z=L.font=k.font||r.font;L.contentHeight=getLineHeight(z);var V=retrieve2(k.height,L.contentHeight);if(L.innerHeight=V,ie&&(V+=ie[0]+ie[2]),L.height=V,L.lineHeight=retrieve3(k.lineHeight,r.lineHeight,V),L.align=k&&k.align||r.align,L.verticalAlign=k&&k.verticalAlign||"middle",b&&a!=null&&g+L.lineHeight>a){M>0?(S.tokens=S.tokens.slice(0,M),A(S,x,T),n.lines=n.lines.slice(0,w+1)):n.lines=n.lines.slice(0,w);break e}var re=k.width,D=re==null||re==="auto";if(typeof re=="string"&&re.charAt(re.length-1)==="%")L.percentWidth=re,y.push(L),L.contentWidth=getWidth(L.text,z);else{if(D){var Ce=k.backgroundColor,le=Ce&&Ce.image;le&&(le=findExistImage(le),isImageReady(le)&&(L.width=Math.max(L.width,le.width*V/le.height)))}var de=_&&o!=null?o-x:null;de!=null&&de<L.width?!D||de<$?(L.text="",L.width=L.contentWidth=0):(L.text=truncateText(L.text,de-$,z,r.ellipsis,{minChar:r.truncateMinChar}),L.width=L.contentWidth=getWidth(L.text,z)):L.contentWidth=getWidth(L.text,z)}L.width+=$,x+=L.width,k&&(T=Math.max(T,L.lineHeight))}A(S,x,T)}n.outerWidth=n.width=retrieve2(o,p),n.outerHeight=n.height=retrieve2(a,g),n.contentHeight=g,n.contentWidth=p,v&&(n.outerWidth+=v[1]+v[3],n.outerHeight+=v[0]+v[2]);for(var w=0;w<y.length;w++){var L=y[w],Fe=L.percentWidth;L.width=parseInt(Fe,10)/100*n.width}return n}function pushTokens(i,r,n,o,a){var u=r==="",c=a&&n.rich[a]||{},d=i.lines,f=c.font||n.font,h=!1,y,g;if(o){var p=c.padding,v=p?p[1]+p[3]:0;if(c.width!=null&&c.width!=="auto"){var _=parsePercent$1(c.width,o.width)+v;d.length>0&&_+o.accumWidth>o.width&&(y=r.split(`
`),h=!0),o.accumWidth=_}else{var b=wrapText(r,f,o.width,o.breakAll,o.accumWidth);o.accumWidth=b.accumWidth+v,g=b.linesWidths,y=b.lines}}else y=r.split(`
`);for(var A=0;A<y.length;A++){var w=y[A],S=new RichTextToken;if(S.styleName=a,S.text=w,S.isLineHolder=!w&&!u,typeof c.width=="number"?S.width=c.width:S.width=g?g[A]:getWidth(w,f),!A&&!h){var T=(d[d.length-1]||(d[0]=new RichTextLine)).tokens,x=T.length;x===1&&T[0].isLineHolder?T[0]=S:(w||!x||u)&&T.push(S)}else d.push(new RichTextLine([S]))}}function isAlphabeticLetter(i){var r=i.charCodeAt(0);return r>=32&&r<=591||r>=880&&r<=4351||r>=4608&&r<=5119||r>=7680&&r<=8303}var breakCharMap=reduce(",&?/;] ".split(""),function(i,r){return i[r]=!0,i},{});function isWordBreakChar(i){return isAlphabeticLetter(i)?!!breakCharMap[i]:!0}function wrapText(i,r,n,o,a){for(var u=[],c=[],d="",f="",h=0,y=0,g=0;g<i.length;g++){var p=i.charAt(g);if(p===`
`){f&&(d+=f,y+=h),u.push(d),c.push(y),d="",f="",h=0,y=0;continue}var v=getWidth(p,r),_=o?!1:!isWordBreakChar(p);if(u.length?y+v>n:a+y+v>n){y?(d||f)&&(_?(d||(d=f,f="",h=0,y=h),u.push(d),c.push(y-h),f+=p,h+=v,d="",y=h):(f&&(d+=f,f="",h=0),u.push(d),c.push(y),d=p,y=v)):_?(u.push(f),c.push(h),f=p,h=v):(u.push(p),c.push(v));continue}y+=v,_?(f+=p,h+=v):(f&&(d+=f,f="",h=0),d+=p)}return!u.length&&!d&&(d=i,f="",h=0),f&&(d+=f),d&&(u.push(d),c.push(y)),u.length===1&&(y+=a),{accumWidth:y,lines:u,linesWidths:c}}var STYLE_MAGIC_KEY="__zr_style_"+Math.round(Math.random()*10),DEFAULT_COMMON_STYLE={shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,shadowColor:"#000",opacity:1,blend:"source-over"},DEFAULT_COMMON_ANIMATION_PROPS={style:{shadowBlur:!0,shadowOffsetX:!0,shadowOffsetY:!0,shadowColor:!0,opacity:!0}};DEFAULT_COMMON_STYLE[STYLE_MAGIC_KEY]=!0;var PRIMARY_STATES_KEYS=["z","z2","invisible"],PRIMARY_STATES_KEYS_IN_HOVER_LAYER=["invisible"],Displayable=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype._init=function(n){for(var o=keys(n),a=0;a<o.length;a++){var u=o[a];u==="style"?this.useStyle(n[u]):i.prototype.attrKV.call(this,u,n[u])}this.style||this.useStyle({})},r.prototype.beforeBrush=function(){},r.prototype.afterBrush=function(){},r.prototype.innerBeforeBrush=function(){},r.prototype.innerAfterBrush=function(){},r.prototype.shouldBePainted=function(n,o,a,u){var c=this.transform;if(this.ignore||this.invisible||this.style.opacity===0||this.culling&&isDisplayableCulled(this,n,o)||c&&!c[0]&&!c[3])return!1;if(a&&this.__clipPaths){for(var d=0;d<this.__clipPaths.length;++d)if(this.__clipPaths[d].isZeroArea())return!1}if(u&&this.parent)for(var f=this.parent;f;){if(f.ignore)return!1;f=f.parent}return!0},r.prototype.contain=function(n,o){return this.rectContain(n,o)},r.prototype.traverse=function(n,o){n.call(o,this)},r.prototype.rectContain=function(n,o){var a=this.transformCoordToLocal(n,o),u=this.getBoundingRect();return u.contain(a[0],a[1])},r.prototype.getPaintRect=function(){var n=this._paintRect;if(!this._paintRect||this.__dirty){var o=this.transform,a=this.getBoundingRect(),u=this.style,c=u.shadowBlur||0,d=u.shadowOffsetX||0,f=u.shadowOffsetY||0;n=this._paintRect||(this._paintRect=new BoundingRect$1(0,0,0,0)),o?BoundingRect$1.applyTransform(n,a,o):n.copy(a),(c||d||f)&&(n.width+=c*2+Math.abs(d),n.height+=c*2+Math.abs(f),n.x=Math.min(n.x,n.x+d-c),n.y=Math.min(n.y,n.y+f-c));var h=this.dirtyRectTolerance;n.isZero()||(n.x=Math.floor(n.x-h),n.y=Math.floor(n.y-h),n.width=Math.ceil(n.width+1+h*2),n.height=Math.ceil(n.height+1+h*2))}return n},r.prototype.setPrevPaintRect=function(n){n?(this._prevPaintRect=this._prevPaintRect||new BoundingRect$1(0,0,0,0),this._prevPaintRect.copy(n)):this._prevPaintRect=null},r.prototype.getPrevPaintRect=function(){return this._prevPaintRect},r.prototype.animateStyle=function(n){return this.animate("style",n)},r.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():this.markRedraw()},r.prototype.attrKV=function(n,o){n!=="style"?i.prototype.attrKV.call(this,n,o):this.style?this.setStyle(o):this.useStyle(o)},r.prototype.setStyle=function(n,o){return typeof n=="string"?this.style[n]=o:extend(this.style,n),this.dirtyStyle(),this},r.prototype.dirtyStyle=function(n){n||this.markRedraw(),this.__dirty|=STYLE_CHANGED_BIT,this._rect&&(this._rect=null)},r.prototype.dirty=function(){this.dirtyStyle()},r.prototype.styleChanged=function(){return!!(this.__dirty&STYLE_CHANGED_BIT)},r.prototype.styleUpdated=function(){this.__dirty&=~STYLE_CHANGED_BIT},r.prototype.createStyle=function(n){return createObject(DEFAULT_COMMON_STYLE,n)},r.prototype.useStyle=function(n){n[STYLE_MAGIC_KEY]||(n=this.createStyle(n)),this.__inHover?this.__hoverStyle=n:this.style=n,this.dirtyStyle()},r.prototype.isStyleObject=function(n){return n[STYLE_MAGIC_KEY]},r.prototype._innerSaveToNormal=function(n){i.prototype._innerSaveToNormal.call(this,n);var o=this._normalState;n.style&&!o.style&&(o.style=this._mergeStyle(this.createStyle(),this.style)),this._savePrimaryToNormal(n,o,PRIMARY_STATES_KEYS)},r.prototype._applyStateObj=function(n,o,a,u,c,d){i.prototype._applyStateObj.call(this,n,o,a,u,c,d);var f=!(o&&u),h;if(o&&o.style?c?u?h=o.style:(h=this._mergeStyle(this.createStyle(),a.style),this._mergeStyle(h,o.style)):(h=this._mergeStyle(this.createStyle(),u?this.style:a.style),this._mergeStyle(h,o.style)):f&&(h=a.style),h)if(c){var y=this.style;if(this.style=this.createStyle(f?{}:y),f)for(var g=keys(y),p=0;p<g.length;p++){var v=g[p];v in h&&(h[v]=h[v],this.style[v]=y[v])}for(var _=keys(h),p=0;p<_.length;p++){var v=_[p];this.style[v]=this.style[v]}this._transitionState(n,{style:h},d,this.getAnimationStyleProps())}else this.useStyle(h);for(var b=this.__inHover?PRIMARY_STATES_KEYS_IN_HOVER_LAYER:PRIMARY_STATES_KEYS,p=0;p<b.length;p++){var v=b[p];o&&o[v]!=null?this[v]=o[v]:f&&a[v]!=null&&(this[v]=a[v])}},r.prototype._mergeStates=function(n){for(var o=i.prototype._mergeStates.call(this,n),a,u=0;u<n.length;u++){var c=n[u];c.style&&(a=a||{},this._mergeStyle(a,c.style))}return a&&(o.style=a),o},r.prototype._mergeStyle=function(n,o){return extend(n,o),n},r.prototype.getAnimationStyleProps=function(){return DEFAULT_COMMON_ANIMATION_PROPS},r.initDefaultProps=function(){var n=r.prototype;n.type="displayable",n.invisible=!1,n.z=0,n.z2=0,n.zlevel=0,n.culling=!1,n.cursor="pointer",n.rectHover=!1,n.incremental=!1,n._rect=null,n.dirtyRectTolerance=0,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT}(),r}(Element$2),tmpRect=new BoundingRect$1(0,0,0,0),viewRect=new BoundingRect$1(0,0,0,0);function isDisplayableCulled(i,r,n){return tmpRect.copy(i.getBoundingRect()),i.transform&&tmpRect.applyTransform(i.transform),viewRect.width=r,viewRect.height=n,!tmpRect.intersect(viewRect)}const Displayable$1=Displayable;var mathMin$3=Math.min,mathMax$3=Math.max,mathSin$4=Math.sin,mathCos$4=Math.cos,PI2$7=Math.PI*2,start=create$1(),end=create$1(),extremity=create$1();function fromLine(i,r,n,o,a,u){a[0]=mathMin$3(i,n),a[1]=mathMin$3(r,o),u[0]=mathMax$3(i,n),u[1]=mathMax$3(r,o)}var xDim=[],yDim=[];function fromCubic(i,r,n,o,a,u,c,d,f,h){var y=cubicExtrema,g=cubicAt,p=y(i,n,a,c,xDim);f[0]=1/0,f[1]=1/0,h[0]=-1/0,h[1]=-1/0;for(var v=0;v<p;v++){var _=g(i,n,a,c,xDim[v]);f[0]=mathMin$3(_,f[0]),h[0]=mathMax$3(_,h[0])}p=y(r,o,u,d,yDim);for(var v=0;v<p;v++){var b=g(r,o,u,d,yDim[v]);f[1]=mathMin$3(b,f[1]),h[1]=mathMax$3(b,h[1])}f[0]=mathMin$3(i,f[0]),h[0]=mathMax$3(i,h[0]),f[0]=mathMin$3(c,f[0]),h[0]=mathMax$3(c,h[0]),f[1]=mathMin$3(r,f[1]),h[1]=mathMax$3(r,h[1]),f[1]=mathMin$3(d,f[1]),h[1]=mathMax$3(d,h[1])}function fromQuadratic(i,r,n,o,a,u,c,d){var f=quadraticExtremum,h=quadraticAt,y=mathMax$3(mathMin$3(f(i,n,a),1),0),g=mathMax$3(mathMin$3(f(r,o,u),1),0),p=h(i,n,a,y),v=h(r,o,u,g);c[0]=mathMin$3(i,a,p),c[1]=mathMin$3(r,u,v),d[0]=mathMax$3(i,a,p),d[1]=mathMax$3(r,u,v)}function fromArc(i,r,n,o,a,u,c,d,f){var h=min$1,y=max$1,g=Math.abs(a-u);if(g%PI2$7<1e-4&&g>1e-4){d[0]=i-n,d[1]=r-o,f[0]=i+n,f[1]=r+o;return}if(start[0]=mathCos$4(a)*n+i,start[1]=mathSin$4(a)*o+r,end[0]=mathCos$4(u)*n+i,end[1]=mathSin$4(u)*o+r,h(d,start,end),y(f,start,end),a=a%PI2$7,a<0&&(a=a+PI2$7),u=u%PI2$7,u<0&&(u=u+PI2$7),a>u&&!c?u+=PI2$7:a<u&&c&&(a+=PI2$7),c){var p=u;u=a,a=p}for(var v=0;v<u;v+=Math.PI/2)v>a&&(extremity[0]=mathCos$4(v)*n+i,extremity[1]=mathSin$4(v)*o+r,h(d,extremity,d),y(f,extremity,f))}var CMD$2={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},tmpOutX=[],tmpOutY=[],min=[],max=[],min2=[],max2=[],mathMin$2=Math.min,mathMax$2=Math.max,mathCos$3=Math.cos,mathSin$3=Math.sin,mathAbs$1=Math.abs,PI$5=Math.PI,PI2$6=PI$5*2,hasTypedArray=typeof Float32Array<"u",tmpAngles=[];function modPI2(i){var r=Math.round(i/PI$5*1e8)/1e8;return r%2*PI$5}function normalizeArcAngles(i,r){var n=modPI2(i[0]);n<0&&(n+=PI2$6);var o=n-i[0],a=i[1];a+=o,!r&&a-n>=PI2$6?a=n+PI2$6:r&&n-a>=PI2$6?a=n-PI2$6:!r&&n>a?a=n+(PI2$6-modPI2(n-a)):r&&n<a&&(a=n-(PI2$6-modPI2(a-n))),i[0]=n,i[1]=a}var PathProxy=function(){function i(r){this.dpr=1,this._xi=0,this._yi=0,this._x0=0,this._y0=0,this._len=0,r&&(this._saveData=!1),this._saveData&&(this.data=[])}return i.prototype.increaseVersion=function(){this._version++},i.prototype.getVersion=function(){return this._version},i.prototype.setScale=function(r,n,o){o=o||0,o>0&&(this._ux=mathAbs$1(o/devicePixelRatio/r)||0,this._uy=mathAbs$1(o/devicePixelRatio/n)||0)},i.prototype.setDPR=function(r){this.dpr=r},i.prototype.setContext=function(r){this._ctx=r},i.prototype.getContext=function(){return this._ctx},i.prototype.beginPath=function(){return this._ctx&&this._ctx.beginPath(),this.reset(),this},i.prototype.reset=function(){this._saveData&&(this._len=0),this._pathSegLen&&(this._pathSegLen=null,this._pathLen=0),this._version++},i.prototype.moveTo=function(r,n){return this._drawPendingPt(),this.addData(CMD$2.M,r,n),this._ctx&&this._ctx.moveTo(r,n),this._x0=r,this._y0=n,this._xi=r,this._yi=n,this},i.prototype.lineTo=function(r,n){var o=mathAbs$1(r-this._xi),a=mathAbs$1(n-this._yi),u=o>this._ux||a>this._uy;if(this.addData(CMD$2.L,r,n),this._ctx&&u&&this._ctx.lineTo(r,n),u)this._xi=r,this._yi=n,this._pendingPtDist=0;else{var c=o*o+a*a;c>this._pendingPtDist&&(this._pendingPtX=r,this._pendingPtY=n,this._pendingPtDist=c)}return this},i.prototype.bezierCurveTo=function(r,n,o,a,u,c){return this._drawPendingPt(),this.addData(CMD$2.C,r,n,o,a,u,c),this._ctx&&this._ctx.bezierCurveTo(r,n,o,a,u,c),this._xi=u,this._yi=c,this},i.prototype.quadraticCurveTo=function(r,n,o,a){return this._drawPendingPt(),this.addData(CMD$2.Q,r,n,o,a),this._ctx&&this._ctx.quadraticCurveTo(r,n,o,a),this._xi=o,this._yi=a,this},i.prototype.arc=function(r,n,o,a,u,c){this._drawPendingPt(),tmpAngles[0]=a,tmpAngles[1]=u,normalizeArcAngles(tmpAngles,c),a=tmpAngles[0],u=tmpAngles[1];var d=u-a;return this.addData(CMD$2.A,r,n,o,o,a,d,0,c?0:1),this._ctx&&this._ctx.arc(r,n,o,a,u,c),this._xi=mathCos$3(u)*o+r,this._yi=mathSin$3(u)*o+n,this},i.prototype.arcTo=function(r,n,o,a,u){return this._drawPendingPt(),this._ctx&&this._ctx.arcTo(r,n,o,a,u),this},i.prototype.rect=function(r,n,o,a){return this._drawPendingPt(),this._ctx&&this._ctx.rect(r,n,o,a),this.addData(CMD$2.R,r,n,o,a),this},i.prototype.closePath=function(){this._drawPendingPt(),this.addData(CMD$2.Z);var r=this._ctx,n=this._x0,o=this._y0;return r&&r.closePath(),this._xi=n,this._yi=o,this},i.prototype.fill=function(r){r&&r.fill(),this.toStatic()},i.prototype.stroke=function(r){r&&r.stroke(),this.toStatic()},i.prototype.len=function(){return this._len},i.prototype.setData=function(r){var n=r.length;!(this.data&&this.data.length===n)&&hasTypedArray&&(this.data=new Float32Array(n));for(var o=0;o<n;o++)this.data[o]=r[o];this._len=n},i.prototype.appendPath=function(r){r instanceof Array||(r=[r]);for(var n=r.length,o=0,a=this._len,u=0;u<n;u++)o+=r[u].len();hasTypedArray&&this.data instanceof Float32Array&&(this.data=new Float32Array(a+o));for(var u=0;u<n;u++)for(var c=r[u].data,d=0;d<c.length;d++)this.data[a++]=c[d];this._len=a},i.prototype.addData=function(r,n,o,a,u,c,d,f,h){if(this._saveData){var y=this.data;this._len+arguments.length>y.length&&(this._expandData(),y=this.data);for(var g=0;g<arguments.length;g++)y[this._len++]=arguments[g]}},i.prototype._drawPendingPt=function(){this._pendingPtDist>0&&(this._ctx&&this._ctx.lineTo(this._pendingPtX,this._pendingPtY),this._pendingPtDist=0)},i.prototype._expandData=function(){if(!(this.data instanceof Array)){for(var r=[],n=0;n<this._len;n++)r[n]=this.data[n];this.data=r}},i.prototype.toStatic=function(){if(this._saveData){this._drawPendingPt();var r=this.data;r instanceof Array&&(r.length=this._len,hasTypedArray&&this._len>11&&(this.data=new Float32Array(r)))}},i.prototype.getBoundingRect=function(){min[0]=min[1]=min2[0]=min2[1]=Number.MAX_VALUE,max[0]=max[1]=max2[0]=max2[1]=-Number.MAX_VALUE;var r=this.data,n=0,o=0,a=0,u=0,c;for(c=0;c<this._len;){var d=r[c++],f=c===1;switch(f&&(n=r[c],o=r[c+1],a=n,u=o),d){case CMD$2.M:n=a=r[c++],o=u=r[c++],min2[0]=a,min2[1]=u,max2[0]=a,max2[1]=u;break;case CMD$2.L:fromLine(n,o,r[c],r[c+1],min2,max2),n=r[c++],o=r[c++];break;case CMD$2.C:fromCubic(n,o,r[c++],r[c++],r[c++],r[c++],r[c],r[c+1],min2,max2),n=r[c++],o=r[c++];break;case CMD$2.Q:fromQuadratic(n,o,r[c++],r[c++],r[c],r[c+1],min2,max2),n=r[c++],o=r[c++];break;case CMD$2.A:var h=r[c++],y=r[c++],g=r[c++],p=r[c++],v=r[c++],_=r[c++]+v;c+=1;var b=!r[c++];f&&(a=mathCos$3(v)*g+h,u=mathSin$3(v)*p+y),fromArc(h,y,g,p,v,_,b,min2,max2),n=mathCos$3(_)*g+h,o=mathSin$3(_)*p+y;break;case CMD$2.R:a=n=r[c++],u=o=r[c++];var A=r[c++],w=r[c++];fromLine(a,u,a+A,u+w,min2,max2);break;case CMD$2.Z:n=a,o=u;break}min$1(min,min,min2),max$1(max,max,max2)}return c===0&&(min[0]=min[1]=max[0]=max[1]=0),new BoundingRect$1(min[0],min[1],max[0]-min[0],max[1]-min[1])},i.prototype._calculateLength=function(){var r=this.data,n=this._len,o=this._ux,a=this._uy,u=0,c=0,d=0,f=0;this._pathSegLen||(this._pathSegLen=[]);for(var h=this._pathSegLen,y=0,g=0,p=0;p<n;){var v=r[p++],_=p===1;_&&(u=r[p],c=r[p+1],d=u,f=c);var b=-1;switch(v){case CMD$2.M:u=d=r[p++],c=f=r[p++];break;case CMD$2.L:{var A=r[p++],w=r[p++],S=A-u,T=w-c;(mathAbs$1(S)>o||mathAbs$1(T)>a||p===n-1)&&(b=Math.sqrt(S*S+T*T),u=A,c=w);break}case CMD$2.C:{var x=r[p++],M=r[p++],A=r[p++],w=r[p++],L=r[p++],k=r[p++];b=cubicLength(u,c,x,M,A,w,L,k,10),u=L,c=k;break}case CMD$2.Q:{var x=r[p++],M=r[p++],A=r[p++],w=r[p++];b=quadraticLength(u,c,x,M,A,w,10),u=A,c=w;break}case CMD$2.A:var ie=r[p++],$=r[p++],z=r[p++],V=r[p++],re=r[p++],D=r[p++],Ce=D+re;p+=1,_&&(d=mathCos$3(re)*z+ie,f=mathSin$3(re)*V+$),b=mathMax$2(z,V)*mathMin$2(PI2$6,Math.abs(D)),u=mathCos$3(Ce)*z+ie,c=mathSin$3(Ce)*V+$;break;case CMD$2.R:{d=u=r[p++],f=c=r[p++];var le=r[p++],de=r[p++];b=le*2+de*2;break}case CMD$2.Z:{var S=d-u,T=f-c;b=Math.sqrt(S*S+T*T),u=d,c=f;break}}b>=0&&(h[g++]=b,y+=b)}return this._pathLen=y,y},i.prototype.rebuildPath=function(r,n){var o=this.data,a=this._ux,u=this._uy,c=this._len,d,f,h,y,g,p,v=n<1,_,b,A=0,w=0,S,T=0,x,M;if(!(v&&(this._pathSegLen||this._calculateLength(),_=this._pathSegLen,b=this._pathLen,S=n*b,!S)))e:for(var L=0;L<c;){var k=o[L++],ie=L===1;switch(ie&&(h=o[L],y=o[L+1],d=h,f=y),k!==CMD$2.L&&T>0&&(r.lineTo(x,M),T=0),k){case CMD$2.M:d=h=o[L++],f=y=o[L++],r.moveTo(h,y);break;case CMD$2.L:{g=o[L++],p=o[L++];var $=mathAbs$1(g-h),z=mathAbs$1(p-y);if($>a||z>u){if(v){var V=_[w++];if(A+V>S){var re=(S-A)/V;r.lineTo(h*(1-re)+g*re,y*(1-re)+p*re);break e}A+=V}r.lineTo(g,p),h=g,y=p,T=0}else{var D=$*$+z*z;D>T&&(x=g,M=p,T=D)}break}case CMD$2.C:{var Ce=o[L++],le=o[L++],de=o[L++],Fe=o[L++],Ie=o[L++],At=o[L++];if(v){var V=_[w++];if(A+V>S){var re=(S-A)/V;cubicSubdivide(h,Ce,de,Ie,re,tmpOutX),cubicSubdivide(y,le,Fe,At,re,tmpOutY),r.bezierCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2],tmpOutX[3],tmpOutY[3]);break e}A+=V}r.bezierCurveTo(Ce,le,de,Fe,Ie,At),h=Ie,y=At;break}case CMD$2.Q:{var Ce=o[L++],le=o[L++],de=o[L++],Fe=o[L++];if(v){var V=_[w++];if(A+V>S){var re=(S-A)/V;quadraticSubdivide(h,Ce,de,re,tmpOutX),quadraticSubdivide(y,le,Fe,re,tmpOutY),r.quadraticCurveTo(tmpOutX[1],tmpOutY[1],tmpOutX[2],tmpOutY[2]);break e}A+=V}r.quadraticCurveTo(Ce,le,de,Fe),h=de,y=Fe;break}case CMD$2.A:var _e=o[L++],qe=o[L++],In=o[L++],vn=o[L++],Pt=o[L++],he=o[L++],Ue=o[L++],Dt=!o[L++],jt=In>vn?In:vn,Et=mathAbs$1(In-vn)>.001,pe=Pt+he,ue=!1;if(v){var V=_[w++];A+V>S&&(pe=Pt+he*(S-A)/V,ue=!0),A+=V}if(Et&&r.ellipse?r.ellipse(_e,qe,In,vn,Ue,Pt,pe,Dt):r.arc(_e,qe,jt,Pt,pe,Dt),ue)break e;ie&&(d=mathCos$3(Pt)*In+_e,f=mathSin$3(Pt)*vn+qe),h=mathCos$3(pe)*In+_e,y=mathSin$3(pe)*vn+qe;break;case CMD$2.R:d=h=o[L],f=y=o[L+1],g=o[L++],p=o[L++];var $e=o[L++],Ne=o[L++];if(v){var V=_[w++];if(A+V>S){var Oe=S-A;r.moveTo(g,p),r.lineTo(g+mathMin$2(Oe,$e),p),Oe-=$e,Oe>0&&r.lineTo(g+$e,p+mathMin$2(Oe,Ne)),Oe-=Ne,Oe>0&&r.lineTo(g+mathMax$2($e-Oe,0),p+Ne),Oe-=$e,Oe>0&&r.lineTo(g,p+mathMax$2(Ne-Oe,0));break e}A+=V}r.rect(g,p,$e,Ne);break;case CMD$2.Z:if(v){var V=_[w++];if(A+V>S){var re=(S-A)/V;r.lineTo(h*(1-re)+d*re,y*(1-re)+f*re);break e}A+=V}r.closePath(),h=d,y=f}}},i.prototype.clone=function(){var r=new i,n=this.data;return r.data=n.slice?n.slice():Array.prototype.slice.call(n),r._len=this._len,r},i.CMD=CMD$2,i.initDefaultProps=function(){var r=i.prototype;r._saveData=!0,r._ux=0,r._uy=0,r._pendingPtDist=0,r._version=0}(),i}();function containStroke$4(i,r,n,o,a,u,c){if(a===0)return!1;var d=a,f=0,h=i;if(c>r+d&&c>o+d||c<r-d&&c<o-d||u>i+d&&u>n+d||u<i-d&&u<n-d)return!1;if(i!==n)f=(r-o)/(i-n),h=(i*o-n*r)/(i-n);else return Math.abs(u-i)<=d/2;var y=f*u-c+h,g=y*y/(f*f+1);return g<=d/2*d/2}function containStroke$3(i,r,n,o,a,u,c,d,f,h,y){if(f===0)return!1;var g=f;if(y>r+g&&y>o+g&&y>u+g&&y>d+g||y<r-g&&y<o-g&&y<u-g&&y<d-g||h>i+g&&h>n+g&&h>a+g&&h>c+g||h<i-g&&h<n-g&&h<a-g&&h<c-g)return!1;var p=cubicProjectPoint(i,r,n,o,a,u,c,d,h,y,null);return p<=g/2}function containStroke$2(i,r,n,o,a,u,c,d,f){if(c===0)return!1;var h=c;if(f>r+h&&f>o+h&&f>u+h||f<r-h&&f<o-h&&f<u-h||d>i+h&&d>n+h&&d>a+h||d<i-h&&d<n-h&&d<a-h)return!1;var y=quadraticProjectPoint(i,r,n,o,a,u,d,f,null);return y<=h/2}var PI2$5=Math.PI*2;function normalizeRadian(i){return i%=PI2$5,i<0&&(i+=PI2$5),i}var PI2$4=Math.PI*2;function containStroke$1(i,r,n,o,a,u,c,d,f){if(c===0)return!1;var h=c;d-=i,f-=r;var y=Math.sqrt(d*d+f*f);if(y-h>n||y+h<n)return!1;if(Math.abs(o-a)%PI2$4<1e-4)return!0;if(u){var g=o;o=normalizeRadian(a),a=normalizeRadian(g)}else o=normalizeRadian(o),a=normalizeRadian(a);o>a&&(a+=PI2$4);var p=Math.atan2(f,d);return p<0&&(p+=PI2$4),p>=o&&p<=a||p+PI2$4>=o&&p+PI2$4<=a}function windingLine(i,r,n,o,a,u){if(u>r&&u>o||u<r&&u<o||o===r)return 0;var c=(u-r)/(o-r),d=o<r?1:-1;(c===1||c===0)&&(d=o<r?.5:-.5);var f=c*(n-i)+i;return f===a?1/0:f>a?d:0}var CMD$1=PathProxy.CMD,PI2$3=Math.PI*2,EPSILON=1e-4;function isAroundEqual(i,r){return Math.abs(i-r)<EPSILON}var roots=[-1,-1,-1],extrema=[-1,-1];function swapExtrema(){var i=extrema[0];extrema[0]=extrema[1],extrema[1]=i}function windingCubic(i,r,n,o,a,u,c,d,f,h){if(h>r&&h>o&&h>u&&h>d||h<r&&h<o&&h<u&&h<d)return 0;var y=cubicRootAt(r,o,u,d,h,roots);if(y===0)return 0;for(var g=0,p=-1,v=void 0,_=void 0,b=0;b<y;b++){var A=roots[b],w=A===0||A===1?.5:1,S=cubicAt(i,n,a,c,A);S<f||(p<0&&(p=cubicExtrema(r,o,u,d,extrema),extrema[1]<extrema[0]&&p>1&&swapExtrema(),v=cubicAt(r,o,u,d,extrema[0]),p>1&&(_=cubicAt(r,o,u,d,extrema[1]))),p===2?A<extrema[0]?g+=v<r?w:-w:A<extrema[1]?g+=_<v?w:-w:g+=d<_?w:-w:A<extrema[0]?g+=v<r?w:-w:g+=d<v?w:-w)}return g}function windingQuadratic(i,r,n,o,a,u,c,d){if(d>r&&d>o&&d>u||d<r&&d<o&&d<u)return 0;var f=quadraticRootAt(r,o,u,d,roots);if(f===0)return 0;var h=quadraticExtremum(r,o,u);if(h>=0&&h<=1){for(var y=0,g=quadraticAt(r,o,u,h),p=0;p<f;p++){var v=roots[p]===0||roots[p]===1?.5:1,_=quadraticAt(i,n,a,roots[p]);_<c||(roots[p]<h?y+=g<r?v:-v:y+=u<g?v:-v)}return y}else{var v=roots[0]===0||roots[0]===1?.5:1,_=quadraticAt(i,n,a,roots[0]);return _<c?0:u<r?v:-v}}function windingArc(i,r,n,o,a,u,c,d){if(d-=r,d>n||d<-n)return 0;var f=Math.sqrt(n*n-d*d);roots[0]=-f,roots[1]=f;var h=Math.abs(o-a);if(h<1e-4)return 0;if(h>=PI2$3-1e-4){o=0,a=PI2$3;var y=u?1:-1;return c>=roots[0]+i&&c<=roots[1]+i?y:0}if(o>a){var g=o;o=a,a=g}o<0&&(o+=PI2$3,a+=PI2$3);for(var p=0,v=0;v<2;v++){var _=roots[v];if(_+i>c){var b=Math.atan2(d,_),y=u?1:-1;b<0&&(b=PI2$3+b),(b>=o&&b<=a||b+PI2$3>=o&&b+PI2$3<=a)&&(b>Math.PI/2&&b<Math.PI*1.5&&(y=-y),p+=y)}}return p}function containPath(i,r,n,o,a){for(var u=i.data,c=i.len(),d=0,f=0,h=0,y=0,g=0,p,v,_=0;_<c;){var b=u[_++],A=_===1;switch(b===CMD$1.M&&_>1&&(n||(d+=windingLine(f,h,y,g,o,a))),A&&(f=u[_],h=u[_+1],y=f,g=h),b){case CMD$1.M:y=u[_++],g=u[_++],f=y,h=g;break;case CMD$1.L:if(n){if(containStroke$4(f,h,u[_],u[_+1],r,o,a))return!0}else d+=windingLine(f,h,u[_],u[_+1],o,a)||0;f=u[_++],h=u[_++];break;case CMD$1.C:if(n){if(containStroke$3(f,h,u[_++],u[_++],u[_++],u[_++],u[_],u[_+1],r,o,a))return!0}else d+=windingCubic(f,h,u[_++],u[_++],u[_++],u[_++],u[_],u[_+1],o,a)||0;f=u[_++],h=u[_++];break;case CMD$1.Q:if(n){if(containStroke$2(f,h,u[_++],u[_++],u[_],u[_+1],r,o,a))return!0}else d+=windingQuadratic(f,h,u[_++],u[_++],u[_],u[_+1],o,a)||0;f=u[_++],h=u[_++];break;case CMD$1.A:var w=u[_++],S=u[_++],T=u[_++],x=u[_++],M=u[_++],L=u[_++];_+=1;var k=!!(1-u[_++]);p=Math.cos(M)*T+w,v=Math.sin(M)*x+S,A?(y=p,g=v):d+=windingLine(f,h,p,v,o,a);var ie=(o-w)*x/T+w;if(n){if(containStroke$1(w,S,x,M,M+L,k,r,ie,a))return!0}else d+=windingArc(w,S,x,M,M+L,k,ie,a);f=Math.cos(M+L)*T+w,h=Math.sin(M+L)*x+S;break;case CMD$1.R:y=f=u[_++],g=h=u[_++];var $=u[_++],z=u[_++];if(p=y+$,v=g+z,n){if(containStroke$4(y,g,p,g,r,o,a)||containStroke$4(p,g,p,v,r,o,a)||containStroke$4(p,v,y,v,r,o,a)||containStroke$4(y,v,y,g,r,o,a))return!0}else d+=windingLine(p,g,p,v,o,a),d+=windingLine(y,v,y,g,o,a);break;case CMD$1.Z:if(n){if(containStroke$4(f,h,y,g,r,o,a))return!0}else d+=windingLine(f,h,y,g,o,a);f=y,h=g;break}}return!n&&!isAroundEqual(h,g)&&(d+=windingLine(f,h,y,g,o,a)||0),d!==0}function contain(i,r,n){return containPath(i,0,!1,r,n)}function containStroke(i,r,n,o){return containPath(i,r,!0,n,o)}var DEFAULT_PATH_STYLE=defaults({fill:"#000",stroke:null,strokePercent:1,fillOpacity:1,strokeOpacity:1,lineDashOffset:0,lineWidth:1,lineCap:"butt",miterLimit:10,strokeNoScale:!1,strokeFirst:!1},DEFAULT_COMMON_STYLE),DEFAULT_PATH_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,strokePercent:!0,fillOpacity:!0,strokeOpacity:!0,lineDashOffset:!0,lineWidth:!0,miterLimit:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},pathCopyParams=TRANSFORMABLE_PROPS.concat(["invisible","culling","z","z2","zlevel","parent"]),Path=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.update=function(){var n=this;i.prototype.update.call(this);var o=this.style;if(o.decal){var a=this._decalEl=this._decalEl||new r;a.buildPath===r.prototype.buildPath&&(a.buildPath=function(f){n.buildPath(f,n.shape)}),a.silent=!0;var u=a.style;for(var c in o)u[c]!==o[c]&&(u[c]=o[c]);u.fill=o.fill?o.decal:null,u.decal=null,u.shadowColor=null,o.strokeFirst&&(u.stroke=null);for(var d=0;d<pathCopyParams.length;++d)a[pathCopyParams[d]]=this[pathCopyParams[d]];a.__dirty|=REDRAW_BIT}else this._decalEl&&(this._decalEl=null)},r.prototype.getDecalElement=function(){return this._decalEl},r.prototype._init=function(n){var o=keys(n);this.shape=this.getDefaultShape();var a=this.getDefaultStyle();a&&this.useStyle(a);for(var u=0;u<o.length;u++){var c=o[u],d=n[c];c==="style"?this.style?extend(this.style,d):this.useStyle(d):c==="shape"?extend(this.shape,d):i.prototype.attrKV.call(this,c,d)}this.style||this.useStyle({})},r.prototype.getDefaultStyle=function(){return null},r.prototype.getDefaultShape=function(){return{}},r.prototype.canBeInsideText=function(){return this.hasFill()},r.prototype.getInsideTextFill=function(){var n=this.style.fill;if(n!=="none"){if(isString$2(n)){var o=lum(n,0);return o>.5?DARK_LABEL_COLOR:o>.2?LIGHTER_LABEL_COLOR:LIGHT_LABEL_COLOR}else if(n)return LIGHT_LABEL_COLOR}return DARK_LABEL_COLOR},r.prototype.getInsideTextStroke=function(n){var o=this.style.fill;if(isString$2(o)){var a=this.__zr,u=!!(a&&a.isDarkMode()),c=lum(n,0)<DARK_MODE_THRESHOLD;if(u===c)return o}},r.prototype.buildPath=function(n,o,a){},r.prototype.pathUpdated=function(){this.__dirty&=~SHAPE_CHANGED_BIT},r.prototype.getUpdatedPathProxy=function(n){return!this.path&&this.createPathProxy(),this.path.beginPath(),this.buildPath(this.path,this.shape,n),this.path},r.prototype.createPathProxy=function(){this.path=new PathProxy(!1)},r.prototype.hasStroke=function(){var n=this.style,o=n.stroke;return!(o==null||o==="none"||!(n.lineWidth>0))},r.prototype.hasFill=function(){var n=this.style,o=n.fill;return o!=null&&o!=="none"},r.prototype.getBoundingRect=function(){var n=this._rect,o=this.style,a=!n;if(a){var u=!1;this.path||(u=!0,this.createPathProxy());var c=this.path;(u||this.__dirty&SHAPE_CHANGED_BIT)&&(c.beginPath(),this.buildPath(c,this.shape,!1),this.pathUpdated()),n=c.getBoundingRect()}if(this._rect=n,this.hasStroke()&&this.path&&this.path.len()>0){var d=this._rectStroke||(this._rectStroke=n.clone());if(this.__dirty||a){d.copy(n);var f=o.strokeNoScale?this.getLineScale():1,h=o.lineWidth;if(!this.hasFill()){var y=this.strokeContainThreshold;h=Math.max(h,y??4)}f>1e-10&&(d.width+=h/f,d.height+=h/f,d.x-=h/f/2,d.y-=h/f/2)}return d}return n},r.prototype.contain=function(n,o){var a=this.transformCoordToLocal(n,o),u=this.getBoundingRect(),c=this.style;if(n=a[0],o=a[1],u.contain(n,o)){var d=this.path;if(this.hasStroke()){var f=c.lineWidth,h=c.strokeNoScale?this.getLineScale():1;if(h>1e-10&&(this.hasFill()||(f=Math.max(f,this.strokeContainThreshold)),containStroke(d,f/h,n,o)))return!0}if(this.hasFill())return contain(d,n,o)}return!1},r.prototype.dirtyShape=function(){this.__dirty|=SHAPE_CHANGED_BIT,this._rect&&(this._rect=null),this._decalEl&&this._decalEl.dirtyShape(),this.markRedraw()},r.prototype.dirty=function(){this.dirtyStyle(),this.dirtyShape()},r.prototype.animateShape=function(n){return this.animate("shape",n)},r.prototype.updateDuringAnimation=function(n){n==="style"?this.dirtyStyle():n==="shape"?this.dirtyShape():this.markRedraw()},r.prototype.attrKV=function(n,o){n==="shape"?this.setShape(o):i.prototype.attrKV.call(this,n,o)},r.prototype.setShape=function(n,o){var a=this.shape;return a||(a=this.shape={}),typeof n=="string"?a[n]=o:extend(a,n),this.dirtyShape(),this},r.prototype.shapeChanged=function(){return!!(this.__dirty&SHAPE_CHANGED_BIT)},r.prototype.createStyle=function(n){return createObject(DEFAULT_PATH_STYLE,n)},r.prototype._innerSaveToNormal=function(n){i.prototype._innerSaveToNormal.call(this,n);var o=this._normalState;n.shape&&!o.shape&&(o.shape=extend({},this.shape))},r.prototype._applyStateObj=function(n,o,a,u,c,d){i.prototype._applyStateObj.call(this,n,o,a,u,c,d);var f=!(o&&u),h;if(o&&o.shape?c?u?h=o.shape:(h=extend({},a.shape),extend(h,o.shape)):(h=extend({},u?this.shape:a.shape),extend(h,o.shape)):f&&(h=a.shape),h)if(c){this.shape=extend({},this.shape);for(var y={},g=keys(h),p=0;p<g.length;p++){var v=g[p];typeof h[v]=="object"?this.shape[v]=h[v]:y[v]=h[v]}this._transitionState(n,{shape:y},d)}else this.shape=h,this.dirtyShape()},r.prototype._mergeStates=function(n){for(var o=i.prototype._mergeStates.call(this,n),a,u=0;u<n.length;u++){var c=n[u];c.shape&&(a=a||{},this._mergeStyle(a,c.shape))}return a&&(o.shape=a),o},r.prototype.getAnimationStyleProps=function(){return DEFAULT_PATH_ANIMATION_PROPS},r.prototype.isZeroArea=function(){return!1},r.extend=function(n){var o=function(u){__extends(c,u);function c(d){var f=u.call(this,d)||this;return n.init&&n.init.call(f,d),f}return c.prototype.getDefaultStyle=function(){return clone$2(n.style)},c.prototype.getDefaultShape=function(){return clone$2(n.shape)},c}(r);for(var a in n)typeof n[a]=="function"&&(o.prototype[a]=n[a]);return o},r.initDefaultProps=function(){var n=r.prototype;n.type="path",n.strokeContainThreshold=5,n.segmentIgnoreThreshold=0,n.subPixelOptimize=!1,n.autoBatch=!1,n.__dirty=REDRAW_BIT|STYLE_CHANGED_BIT|SHAPE_CHANGED_BIT}(),r}(Displayable$1);const Path$1=Path;var DEFAULT_TSPAN_STYLE=defaults({strokeFirst:!0,font:DEFAULT_FONT,x:0,y:0,textAlign:"left",textBaseline:"top",miterLimit:2},DEFAULT_PATH_STYLE),TSpan=function(i){__extends(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.hasStroke=function(){var n=this.style,o=n.stroke;return o!=null&&o!=="none"&&n.lineWidth>0},r.prototype.hasFill=function(){var n=this.style,o=n.fill;return o!=null&&o!=="none"},r.prototype.createStyle=function(n){return createObject(DEFAULT_TSPAN_STYLE,n)},r.prototype.setBoundingRect=function(n){this._rect=n},r.prototype.getBoundingRect=function(){var n=this.style;if(!this._rect){var o=n.text;o!=null?o+="":o="";var a=getBoundingRect(o,n.font,n.textAlign,n.textBaseline);if(a.x+=n.x||0,a.y+=n.y||0,this.hasStroke()){var u=n.lineWidth;a.x-=u/2,a.y-=u/2,a.width+=u,a.height+=u}this._rect=a}return this._rect},r.initDefaultProps=function(){var n=r.prototype;n.dirtyRectTolerance=10}(),r}(Displayable$1);TSpan.prototype.type="tspan";const TSpan$1=TSpan;var DEFAULT_IMAGE_STYLE=defaults({x:0,y:0},DEFAULT_COMMON_STYLE),DEFAULT_IMAGE_ANIMATION_PROPS={style:defaults({x:!0,y:!0,width:!0,height:!0,sx:!0,sy:!0,sWidth:!0,sHeight:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)};function isImageLike$1(i){return!!(i&&typeof i!="string"&&i.width&&i.height)}var ZRImage=function(i){__extends(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.createStyle=function(n){return createObject(DEFAULT_IMAGE_STYLE,n)},r.prototype._getSize=function(n){var o=this.style,a=o[n];if(a!=null)return a;var u=isImageLike$1(o.image)?o.image:this.__image;if(!u)return 0;var c=n==="width"?"height":"width",d=o[c];return d==null?u[n]:u[n]/u[c]*d},r.prototype.getWidth=function(){return this._getSize("width")},r.prototype.getHeight=function(){return this._getSize("height")},r.prototype.getAnimationStyleProps=function(){return DEFAULT_IMAGE_ANIMATION_PROPS},r.prototype.getBoundingRect=function(){var n=this.style;return this._rect||(this._rect=new BoundingRect$1(n.x||0,n.y||0,this.getWidth(),this.getHeight())),this._rect},r}(Displayable$1);ZRImage.prototype.type="image";const ZRImage$1=ZRImage;function buildPath$2(i,r){var n=r.x,o=r.y,a=r.width,u=r.height,c=r.r,d,f,h,y;a<0&&(n=n+a,a=-a),u<0&&(o=o+u,u=-u),typeof c=="number"?d=f=h=y=c:c instanceof Array?c.length===1?d=f=h=y=c[0]:c.length===2?(d=h=c[0],f=y=c[1]):c.length===3?(d=c[0],f=y=c[1],h=c[2]):(d=c[0],f=c[1],h=c[2],y=c[3]):d=f=h=y=0;var g;d+f>a&&(g=d+f,d*=a/g,f*=a/g),h+y>a&&(g=h+y,h*=a/g,y*=a/g),f+h>u&&(g=f+h,f*=u/g,h*=u/g),d+y>u&&(g=d+y,d*=u/g,y*=u/g),i.moveTo(n+d,o),i.lineTo(n+a-f,o),f!==0&&i.arc(n+a-f,o+f,f,-Math.PI/2,0),i.lineTo(n+a,o+u-h),h!==0&&i.arc(n+a-h,o+u-h,h,0,Math.PI/2),i.lineTo(n+y,o+u),y!==0&&i.arc(n+y,o+u-y,y,Math.PI/2,Math.PI),i.lineTo(n,o+d),d!==0&&i.arc(n+d,o+d,d,Math.PI,Math.PI*1.5)}var round$1=Math.round;function subPixelOptimizeLine$1(i,r,n){if(r){var o=r.x1,a=r.x2,u=r.y1,c=r.y2;i.x1=o,i.x2=a,i.y1=u,i.y2=c;var d=n&&n.lineWidth;return d&&(round$1(o*2)===round$1(a*2)&&(i.x1=i.x2=subPixelOptimize$1(o,d,!0)),round$1(u*2)===round$1(c*2)&&(i.y1=i.y2=subPixelOptimize$1(u,d,!0))),i}}function subPixelOptimizeRect$1(i,r,n){if(r){var o=r.x,a=r.y,u=r.width,c=r.height;i.x=o,i.y=a,i.width=u,i.height=c;var d=n&&n.lineWidth;return d&&(i.x=subPixelOptimize$1(o,d,!0),i.y=subPixelOptimize$1(a,d,!0),i.width=Math.max(subPixelOptimize$1(o+u,d,!1)-i.x,u===0?0:1),i.height=Math.max(subPixelOptimize$1(a+c,d,!1)-i.y,c===0?0:1)),i}}function subPixelOptimize$1(i,r,n){if(!r)return i;var o=round$1(i*2);return(o+round$1(r))%2===0?o/2:(o+(n?1:-1))/2}var RectShape=function(){function i(){this.x=0,this.y=0,this.width=0,this.height=0}return i}(),subPixelOptimizeOutputShape$1={},Rect=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new RectShape},r.prototype.buildPath=function(n,o){var a,u,c,d;if(this.subPixelOptimize){var f=subPixelOptimizeRect$1(subPixelOptimizeOutputShape$1,o,this.style);a=f.x,u=f.y,c=f.width,d=f.height,f.r=o.r,o=f}else a=o.x,u=o.y,c=o.width,d=o.height;o.r?buildPath$2(n,o):n.rect(a,u,c,d)},r.prototype.isZeroArea=function(){return!this.shape.width||!this.shape.height},r}(Path$1);Rect.prototype.type="rect";const Rect$1=Rect;var DEFAULT_RICH_TEXT_COLOR={fill:"#000"},DEFAULT_STROKE_LINE_WIDTH=2,DEFAULT_TEXT_ANIMATION_PROPS={style:defaults({fill:!0,stroke:!0,fillOpacity:!0,strokeOpacity:!0,lineWidth:!0,fontSize:!0,lineHeight:!0,width:!0,height:!0,textShadowColor:!0,textShadowBlur:!0,textShadowOffsetX:!0,textShadowOffsetY:!0,backgroundColor:!0,padding:!0,borderColor:!0,borderWidth:!0,borderRadius:!0},DEFAULT_COMMON_ANIMATION_PROPS.style)},ZRText=function(i){__extends(r,i);function r(n){var o=i.call(this)||this;return o.type="text",o._children=[],o._defaultStyle=DEFAULT_RICH_TEXT_COLOR,o.attr(n),o}return r.prototype.childrenRef=function(){return this._children},r.prototype.update=function(){i.prototype.update.call(this),this.styleChanged()&&this._updateSubTexts();for(var n=0;n<this._children.length;n++){var o=this._children[n];o.zlevel=this.zlevel,o.z=this.z,o.z2=this.z2,o.culling=this.culling,o.cursor=this.cursor,o.invisible=this.invisible}},r.prototype.updateTransform=function(){var n=this.innerTransformable;n?(n.updateTransform(),n.transform&&(this.transform=n.transform)):i.prototype.updateTransform.call(this)},r.prototype.getLocalTransform=function(n){var o=this.innerTransformable;return o?o.getLocalTransform(n):i.prototype.getLocalTransform.call(this,n)},r.prototype.getComputedTransform=function(){return this.__hostTarget&&(this.__hostTarget.getComputedTransform(),this.__hostTarget.updateInnerText(!0)),i.prototype.getComputedTransform.call(this)},r.prototype._updateSubTexts=function(){this._childCursor=0,normalizeTextStyle(this.style),this.style.rich?this._updateRichTexts():this._updatePlainTexts(),this._children.length=this._childCursor,this.styleUpdated()},r.prototype.addSelfToZr=function(n){i.prototype.addSelfToZr.call(this,n);for(var o=0;o<this._children.length;o++)this._children[o].__zr=n},r.prototype.removeSelfFromZr=function(n){i.prototype.removeSelfFromZr.call(this,n);for(var o=0;o<this._children.length;o++)this._children[o].__zr=null},r.prototype.getBoundingRect=function(){if(this.styleChanged()&&this._updateSubTexts(),!this._rect){for(var n=new BoundingRect$1(0,0,0,0),o=this._children,a=[],u=null,c=0;c<o.length;c++){var d=o[c],f=d.getBoundingRect(),h=d.getLocalTransform(a);h?(n.copy(f),n.applyTransform(h),u=u||n.clone(),u.union(n)):(u=u||f.clone(),u.union(f))}this._rect=u||n}return this._rect},r.prototype.setDefaultTextStyle=function(n){this._defaultStyle=n||DEFAULT_RICH_TEXT_COLOR},r.prototype.setTextContent=function(n){if(process.env.NODE_ENV!=="production")throw new Error("Can't attach text on another text")},r.prototype._mergeStyle=function(n,o){if(!o)return n;var a=o.rich,u=n.rich||a&&{};return extend(n,o),a&&u?(this._mergeRich(u,a),n.rich=u):u&&(n.rich=u),n},r.prototype._mergeRich=function(n,o){for(var a=keys(o),u=0;u<a.length;u++){var c=a[u];n[c]=n[c]||{},extend(n[c],o[c])}},r.prototype.getAnimationStyleProps=function(){return DEFAULT_TEXT_ANIMATION_PROPS},r.prototype._getOrCreateChild=function(n){var o=this._children[this._childCursor];return(!o||!(o instanceof n))&&(o=new n),this._children[this._childCursor++]=o,o.__zr=this.__zr,o.parent=this,o},r.prototype._updatePlainTexts=function(){var n=this.style,o=n.font||DEFAULT_FONT,a=n.padding,u=getStyleText(n),c=parsePlainText(u,n),d=needDrawBackground(n),f=!!n.backgroundColor,h=c.outerHeight,y=c.outerWidth,g=c.contentWidth,p=c.lines,v=c.lineHeight,_=this._defaultStyle,b=n.x||0,A=n.y||0,w=n.align||_.align||"left",S=n.verticalAlign||_.verticalAlign||"top",T=b,x=adjustTextY(A,c.contentHeight,S);if(d||a){var M=adjustTextX(b,y,w),L=adjustTextY(A,h,S);d&&this._renderBackground(n,n,M,L,y,h)}x+=v/2,a&&(T=getTextXForPadding(b,w,a),S==="top"?x+=a[0]:S==="bottom"&&(x-=a[2]));for(var k=0,ie=!1,$=getFill("fill"in n?n.fill:(ie=!0,_.fill)),z=getStroke("stroke"in n?n.stroke:!f&&(!_.autoStroke||ie)?(k=DEFAULT_STROKE_LINE_WIDTH,_.stroke):null),V=n.textShadowBlur>0,re=n.width!=null&&(n.overflow==="truncate"||n.overflow==="break"||n.overflow==="breakAll"),D=c.calculatedLineHeight,Ce=0;Ce<p.length;Ce++){var le=this._getOrCreateChild(TSpan$1),de=le.createStyle();le.useStyle(de),de.text=p[Ce],de.x=T,de.y=x,w&&(de.textAlign=w),de.textBaseline="middle",de.opacity=n.opacity,de.strokeFirst=!0,V&&(de.shadowBlur=n.textShadowBlur||0,de.shadowColor=n.textShadowColor||"transparent",de.shadowOffsetX=n.textShadowOffsetX||0,de.shadowOffsetY=n.textShadowOffsetY||0),de.stroke=z,de.fill=$,z&&(de.lineWidth=n.lineWidth||k,de.lineDash=n.lineDash,de.lineDashOffset=n.lineDashOffset||0),de.font=o,setSeparateFont(de,n),x+=v,re&&le.setBoundingRect(new BoundingRect$1(adjustTextX(de.x,n.width,de.textAlign),adjustTextY(de.y,D,de.textBaseline),g,D))}},r.prototype._updateRichTexts=function(){var n=this.style,o=getStyleText(n),a=parseRichText(o,n),u=a.width,c=a.outerWidth,d=a.outerHeight,f=n.padding,h=n.x||0,y=n.y||0,g=this._defaultStyle,p=n.align||g.align,v=n.verticalAlign||g.verticalAlign,_=adjustTextX(h,c,p),b=adjustTextY(y,d,v),A=_,w=b;f&&(A+=f[3],w+=f[0]);var S=A+u;needDrawBackground(n)&&this._renderBackground(n,n,_,b,c,d);for(var T=!!n.backgroundColor,x=0;x<a.lines.length;x++){for(var M=a.lines[x],L=M.tokens,k=L.length,ie=M.lineHeight,$=M.width,z=0,V=A,re=S,D=k-1,Ce=void 0;z<k&&(Ce=L[z],!Ce.align||Ce.align==="left");)this._placeToken(Ce,n,ie,w,V,"left",T),$-=Ce.width,V+=Ce.width,z++;for(;D>=0&&(Ce=L[D],Ce.align==="right");)this._placeToken(Ce,n,ie,w,re,"right",T),$-=Ce.width,re-=Ce.width,D--;for(V+=(u-(V-A)-(S-re)-$)/2;z<=D;)Ce=L[z],this._placeToken(Ce,n,ie,w,V+Ce.width/2,"center",T),V+=Ce.width,z++;w+=ie}},r.prototype._placeToken=function(n,o,a,u,c,d,f){var h=o.rich[n.styleName]||{};h.text=n.text;var y=n.verticalAlign,g=u+a/2;y==="top"?g=u+n.height/2:y==="bottom"&&(g=u+a-n.height/2);var p=!n.isLineHolder&&needDrawBackground(h);p&&this._renderBackground(h,o,d==="right"?c-n.width:d==="center"?c-n.width/2:c,g-n.height/2,n.width,n.height);var v=!!h.backgroundColor,_=n.textPadding;_&&(c=getTextXForPadding(c,d,_),g-=n.height/2-_[0]-n.innerHeight/2);var b=this._getOrCreateChild(TSpan$1),A=b.createStyle();b.useStyle(A);var w=this._defaultStyle,S=!1,T=0,x=getFill("fill"in h?h.fill:"fill"in o?o.fill:(S=!0,w.fill)),M=getStroke("stroke"in h?h.stroke:"stroke"in o?o.stroke:!v&&!f&&(!w.autoStroke||S)?(T=DEFAULT_STROKE_LINE_WIDTH,w.stroke):null),L=h.textShadowBlur>0||o.textShadowBlur>0;A.text=n.text,A.x=c,A.y=g,L&&(A.shadowBlur=h.textShadowBlur||o.textShadowBlur||0,A.shadowColor=h.textShadowColor||o.textShadowColor||"transparent",A.shadowOffsetX=h.textShadowOffsetX||o.textShadowOffsetX||0,A.shadowOffsetY=h.textShadowOffsetY||o.textShadowOffsetY||0),A.textAlign=d,A.textBaseline="middle",A.font=n.font||DEFAULT_FONT,A.opacity=retrieve3(h.opacity,o.opacity,1),setSeparateFont(A,h),M&&(A.lineWidth=retrieve3(h.lineWidth,o.lineWidth,T),A.lineDash=retrieve2(h.lineDash,o.lineDash),A.lineDashOffset=o.lineDashOffset||0,A.stroke=M),x&&(A.fill=x);var k=n.contentWidth,ie=n.contentHeight;b.setBoundingRect(new BoundingRect$1(adjustTextX(A.x,k,A.textAlign),adjustTextY(A.y,ie,A.textBaseline),k,ie))},r.prototype._renderBackground=function(n,o,a,u,c,d){var f=n.backgroundColor,h=n.borderWidth,y=n.borderColor,g=f&&f.image,p=f&&!g,v=n.borderRadius,_=this,b,A;if(p||n.lineHeight||h&&y){b=this._getOrCreateChild(Rect$1),b.useStyle(b.createStyle()),b.style.fill=null;var w=b.shape;w.x=a,w.y=u,w.width=c,w.height=d,w.r=v,b.dirtyShape()}if(p){var S=b.style;S.fill=f||null,S.fillOpacity=retrieve2(n.fillOpacity,1)}else if(g){A=this._getOrCreateChild(ZRImage$1),A.onload=function(){_.dirtyStyle()};var T=A.style;T.image=f.image,T.x=a,T.y=u,T.width=c,T.height=d}if(h&&y){var S=b.style;S.lineWidth=h,S.stroke=y,S.strokeOpacity=retrieve2(n.strokeOpacity,1),S.lineDash=n.borderDash,S.lineDashOffset=n.borderDashOffset||0,b.strokeContainThreshold=0,b.hasFill()&&b.hasStroke()&&(S.strokeFirst=!0,S.lineWidth*=2)}var x=(b||A).style;x.shadowBlur=n.shadowBlur||0,x.shadowColor=n.shadowColor||"transparent",x.shadowOffsetX=n.shadowOffsetX||0,x.shadowOffsetY=n.shadowOffsetY||0,x.opacity=retrieve3(n.opacity,o.opacity,1)},r.makeFont=function(n){var o="";return hasSeparateFont(n)&&(o=[n.fontStyle,n.fontWeight,parseFontSize(n.fontSize),n.fontFamily||"sans-serif"].join(" ")),o&&trim(o)||n.textFont||n.font},r}(Displayable$1),VALID_TEXT_ALIGN={left:!0,right:1,center:1},VALID_TEXT_VERTICAL_ALIGN={top:1,bottom:1,middle:1},FONT_PARTS=["fontStyle","fontWeight","fontSize","fontFamily"];function parseFontSize(i){return typeof i=="string"&&(i.indexOf("px")!==-1||i.indexOf("rem")!==-1||i.indexOf("em")!==-1)?i:isNaN(+i)?DEFAULT_FONT_SIZE+"px":i+"px"}function setSeparateFont(i,r){for(var n=0;n<FONT_PARTS.length;n++){var o=FONT_PARTS[n],a=r[o];a!=null&&(i[o]=a)}}function hasSeparateFont(i){return i.fontSize!=null||i.fontFamily||i.fontWeight}function normalizeTextStyle(i){return normalizeStyle(i),each$4(i.rich,normalizeStyle),i}function normalizeStyle(i){if(i){i.font=ZRText.makeFont(i);var r=i.align;r==="middle"&&(r="center"),i.align=r==null||VALID_TEXT_ALIGN[r]?r:"left";var n=i.verticalAlign;n==="center"&&(n="middle"),i.verticalAlign=n==null||VALID_TEXT_VERTICAL_ALIGN[n]?n:"top";var o=i.padding;o&&(i.padding=normalizeCssArray$1(i.padding))}}function getStroke(i,r){return i==null||r<=0||i==="transparent"||i==="none"?null:i.image||i.colorStops?"#000":i}function getFill(i){return i==null||i==="none"?null:i.image||i.colorStops?"#000":i}function getTextXForPadding(i,r,n){return r==="right"?i-n[1]:r==="center"?i+n[3]/2-n[1]/2:i+n[3]}function getStyleText(i){var r=i.text;return r!=null&&(r+=""),r}function needDrawBackground(i){return!!(i.backgroundColor||i.lineHeight||i.borderWidth&&i.borderColor)}const ZRText$1=ZRText;var getECData=makeInner(),setCommonECData=function(i,r,n,o){if(o){var a=getECData(o);a.dataIndex=n,a.dataType=r,a.seriesIndex=i,a.ssrType="chart",o.type==="group"&&o.traverse(function(u){var c=getECData(u);c.seriesIndex=i,c.dataIndex=n,c.dataType=r,c.ssrType="chart"})}},_highlightNextDigit=1,_highlightKeyMap={},getSavedStates=makeInner(),getComponentStates=makeInner(),HOVER_STATE_NORMAL=0,HOVER_STATE_BLUR=1,HOVER_STATE_EMPHASIS=2,SPECIAL_STATES=["emphasis","blur","select"],DISPLAY_STATES=["normal","emphasis","blur","select"],Z2_EMPHASIS_LIFT=10,Z2_SELECT_LIFT=9,HIGHLIGHT_ACTION_TYPE="highlight",DOWNPLAY_ACTION_TYPE="downplay",SELECT_ACTION_TYPE="select",UNSELECT_ACTION_TYPE="unselect",TOGGLE_SELECT_ACTION_TYPE="toggleSelect";function hasFillOrStroke(i){return i!=null&&i!=="none"}function doChangeHoverState(i,r,n){i.onHoverStateChange&&(i.hoverState||0)!==n&&i.onHoverStateChange(r),i.hoverState=n}function singleEnterEmphasis(i){doChangeHoverState(i,"emphasis",HOVER_STATE_EMPHASIS)}function singleLeaveEmphasis(i){i.hoverState===HOVER_STATE_EMPHASIS&&doChangeHoverState(i,"normal",HOVER_STATE_NORMAL)}function singleEnterBlur(i){doChangeHoverState(i,"blur",HOVER_STATE_BLUR)}function singleLeaveBlur(i){i.hoverState===HOVER_STATE_BLUR&&doChangeHoverState(i,"normal",HOVER_STATE_NORMAL)}function singleEnterSelect(i){i.selected=!0}function singleLeaveSelect(i){i.selected=!1}function updateElementState(i,r,n){r(i,n)}function traverseUpdateState(i,r,n){updateElementState(i,r,n),i.isGroup&&i.traverse(function(o){updateElementState(o,r,n)})}function getFromStateStyle(i,r,n,o){for(var a=i.style,u={},c=0;c<r.length;c++){var d=r[c],f=a[d];u[d]=f??(o&&o[d])}for(var c=0;c<i.animators.length;c++){var h=i.animators[c];h.__fromStateTransition&&h.__fromStateTransition.indexOf(n)<0&&h.targetName==="style"&&h.saveTo(u,r)}return u}function createEmphasisDefaultState(i,r,n,o){var a=n&&indexOf(n,"select")>=0,u=!1;if(i instanceof Path$1){var c=getSavedStates(i),d=a&&c.selectFill||c.normalFill,f=a&&c.selectStroke||c.normalStroke;if(hasFillOrStroke(d)||hasFillOrStroke(f)){o=o||{};var h=o.style||{};h.fill==="inherit"?(u=!0,o=extend({},o),h=extend({},h),h.fill=d):!hasFillOrStroke(h.fill)&&hasFillOrStroke(d)?(u=!0,o=extend({},o),h=extend({},h),h.fill=liftColor(d)):!hasFillOrStroke(h.stroke)&&hasFillOrStroke(f)&&(u||(o=extend({},o),h=extend({},h)),h.stroke=liftColor(f)),o.style=h}}if(o&&o.z2==null){u||(o=extend({},o));var y=i.z2EmphasisLift;o.z2=i.z2+(y??Z2_EMPHASIS_LIFT)}return o}function createSelectDefaultState(i,r,n){if(n&&n.z2==null){n=extend({},n);var o=i.z2SelectLift;n.z2=i.z2+(o??Z2_SELECT_LIFT)}return n}function createBlurDefaultState(i,r,n){var o=indexOf(i.currentStates,r)>=0,a=i.style.opacity,u=o?null:getFromStateStyle(i,["opacity"],r,{opacity:1});n=n||{};var c=n.style||{};return c.opacity==null&&(n=extend({},n),c=extend({opacity:o?a:u.opacity*.1},c),n.style=c),n}function elementStateProxy(i,r){var n=this.states[i];if(this.style){if(i==="emphasis")return createEmphasisDefaultState(this,i,r,n);if(i==="blur")return createBlurDefaultState(this,i,n);if(i==="select")return createSelectDefaultState(this,i,n)}return n}function setDefaultStateProxy(i){i.stateProxy=elementStateProxy;var r=i.getTextContent(),n=i.getTextGuideLine();r&&(r.stateProxy=elementStateProxy),n&&(n.stateProxy=elementStateProxy)}function enterEmphasisWhenMouseOver(i,r){!shouldSilent(i,r)&&!i.__highByOuter&&traverseUpdateState(i,singleEnterEmphasis)}function leaveEmphasisWhenMouseOut(i,r){!shouldSilent(i,r)&&!i.__highByOuter&&traverseUpdateState(i,singleLeaveEmphasis)}function enterEmphasis(i,r){i.__highByOuter|=1<<(r||0),traverseUpdateState(i,singleEnterEmphasis)}function leaveEmphasis(i,r){!(i.__highByOuter&=~(1<<(r||0)))&&traverseUpdateState(i,singleLeaveEmphasis)}function enterBlur(i){traverseUpdateState(i,singleEnterBlur)}function leaveBlur(i){traverseUpdateState(i,singleLeaveBlur)}function enterSelect(i){traverseUpdateState(i,singleEnterSelect)}function leaveSelect(i){traverseUpdateState(i,singleLeaveSelect)}function shouldSilent(i,r){return i.__highDownSilentOnTouch&&r.zrByTouch}function allLeaveBlur(i){var r=i.getModel(),n=[],o=[];r.eachComponent(function(a,u){var c=getComponentStates(u),d=a==="series",f=d?i.getViewOfSeriesModel(u):i.getViewOfComponentModel(u);!d&&o.push(f),c.isBlured&&(f.group.traverse(function(h){singleLeaveBlur(h)}),d&&n.push(u)),c.isBlured=!1}),each$4(o,function(a){a&&a.toggleBlurSeries&&a.toggleBlurSeries(n,!1,r)})}function blurSeries(i,r,n,o){var a=o.getModel();n=n||"coordinateSystem";function u(h,y){for(var g=0;g<y.length;g++){var p=h.getItemGraphicEl(y[g]);p&&leaveBlur(p)}}if(i!=null&&!(!r||r==="none")){var c=a.getSeriesByIndex(i),d=c.coordinateSystem;d&&d.master&&(d=d.master);var f=[];a.eachSeries(function(h){var y=c===h,g=h.coordinateSystem;g&&g.master&&(g=g.master);var p=g&&d?g===d:y;if(!(n==="series"&&!y||n==="coordinateSystem"&&!p||r==="series"&&y)){var v=o.getViewOfSeriesModel(h);if(v.group.traverse(function(A){A.__highByOuter&&y&&r==="self"||singleEnterBlur(A)}),isArrayLike(r))u(h.getData(),r);else if(isObject$3(r))for(var _=keys(r),b=0;b<_.length;b++)u(h.getData(_[b]),r[_[b]]);f.push(h),getComponentStates(h).isBlured=!0}}),a.eachComponent(function(h,y){if(h!=="series"){var g=o.getViewOfComponentModel(y);g&&g.toggleBlurSeries&&g.toggleBlurSeries(f,!0,a)}})}}function blurComponent(i,r,n){if(!(i==null||r==null)){var o=n.getModel().getComponent(i,r);if(o){getComponentStates(o).isBlured=!0;var a=n.getViewOfComponentModel(o);!a||!a.focusBlurEnabled||a.group.traverse(function(u){singleEnterBlur(u)})}}}function blurSeriesFromHighlightPayload(i,r,n){var o=i.seriesIndex,a=i.getData(r.dataType);if(!a){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+r.dataType);return}var u=queryDataIndex(a,r);u=(isArray$1(u)?u[0]:u)||0;var c=a.getItemGraphicEl(u);if(!c)for(var d=a.count(),f=0;!c&&f<d;)c=a.getItemGraphicEl(f++);if(c){var h=getECData(c);blurSeries(o,h.focus,h.blurScope,n)}else{var y=i.get(["emphasis","focus"]),g=i.get(["emphasis","blurScope"]);y!=null&&blurSeries(o,y,g,n)}}function findComponentHighDownDispatchers(i,r,n,o){var a={focusSelf:!1,dispatchers:null};if(i==null||i==="series"||r==null||n==null)return a;var u=o.getModel().getComponent(i,r);if(!u)return a;var c=o.getViewOfComponentModel(u);if(!c||!c.findHighDownDispatchers)return a;for(var d=c.findHighDownDispatchers(n),f,h=0;h<d.length;h++)if(process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(d[h])&&error("param should be highDownDispatcher"),getECData(d[h]).focus==="self"){f=!0;break}return{focusSelf:f,dispatchers:d}}function handleGlobalMouseOverForHighDown(i,r,n){process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(i)&&error("param should be highDownDispatcher");var o=getECData(i),a=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,n),u=a.dispatchers,c=a.focusSelf;u?(c&&blurComponent(o.componentMainType,o.componentIndex,n),each$4(u,function(d){return enterEmphasisWhenMouseOver(d,r)})):(blurSeries(o.seriesIndex,o.focus,o.blurScope,n),o.focus==="self"&&blurComponent(o.componentMainType,o.componentIndex,n),enterEmphasisWhenMouseOver(i,r))}function handleGlobalMouseOutForHighDown(i,r,n){process.env.NODE_ENV!=="production"&&!isHighDownDispatcher(i)&&error("param should be highDownDispatcher"),allLeaveBlur(n);var o=getECData(i),a=findComponentHighDownDispatchers(o.componentMainType,o.componentIndex,o.componentHighDownName,n).dispatchers;a?each$4(a,function(u){return leaveEmphasisWhenMouseOut(u,r)}):leaveEmphasisWhenMouseOut(i,r)}function toggleSelectionFromPayload(i,r,n){if(isSelectChangePayload(r)){var o=r.dataType,a=i.getData(o),u=queryDataIndex(a,r);isArray$1(u)||(u=[u]),i[r.type===TOGGLE_SELECT_ACTION_TYPE?"toggleSelect":r.type===SELECT_ACTION_TYPE?"select":"unselect"](u,o)}}function updateSeriesElementSelection(i){var r=i.getAllData();each$4(r,function(n){var o=n.data,a=n.type;o.eachItemGraphicEl(function(u,c){i.isSelected(c,a)?enterSelect(u):leaveSelect(u)})})}function getAllSelectedIndices(i){var r=[];return i.eachSeries(function(n){var o=n.getAllData();each$4(o,function(a){a.data;var u=a.type,c=n.getSelectedDataIndices();if(c.length>0){var d={dataIndex:c,seriesIndex:n.seriesIndex};u!=null&&(d.dataType=u),r.push(d)}})}),r}function enableHoverEmphasis(i,r,n){setAsHighDownDispatcher(i,!0),traverseUpdateState(i,setDefaultStateProxy),enableHoverFocus(i,r,n)}function disableHoverEmphasis(i){setAsHighDownDispatcher(i,!1)}function toggleHoverEmphasis(i,r,n,o){o?disableHoverEmphasis(i):enableHoverEmphasis(i,r,n)}function enableHoverFocus(i,r,n){var o=getECData(i);r!=null?(o.focus=r,o.blurScope=n):o.focus&&(o.focus=null)}var OTHER_STATES=["emphasis","blur","select"],defaultStyleGetterMap={itemStyle:"getItemStyle",lineStyle:"getLineStyle",areaStyle:"getAreaStyle"};function setStatesStylesFromModel(i,r,n,o){n=n||"itemStyle";for(var a=0;a<OTHER_STATES.length;a++){var u=OTHER_STATES[a],c=r.getModel([u,n]),d=i.ensureState(u);d.style=o?o(c):c[defaultStyleGetterMap[n]]()}}function setAsHighDownDispatcher(i,r){var n=r===!1,o=i;i.highDownSilentOnTouch&&(o.__highDownSilentOnTouch=i.highDownSilentOnTouch),(!n||o.__highDownDispatcher)&&(o.__highByOuter=o.__highByOuter||0,o.__highDownDispatcher=!n)}function isHighDownDispatcher(i){return!!(i&&i.__highDownDispatcher)}function getHighlightDigit(i){var r=_highlightKeyMap[i];return r==null&&_highlightNextDigit<=32&&(r=_highlightKeyMap[i]=_highlightNextDigit++),r}function isSelectChangePayload(i){var r=i.type;return r===SELECT_ACTION_TYPE||r===UNSELECT_ACTION_TYPE||r===TOGGLE_SELECT_ACTION_TYPE}function isHighDownPayload(i){var r=i.type;return r===HIGHLIGHT_ACTION_TYPE||r===DOWNPLAY_ACTION_TYPE}function savePathStates(i){var r=getSavedStates(i);r.normalFill=i.style.fill,r.normalStroke=i.style.stroke;var n=i.states.select||{};r.selectFill=n.style&&n.style.fill||null,r.selectStroke=n.style&&n.style.stroke||null}var CMD=PathProxy.CMD,points=[[],[],[]],mathSqrt$2=Math.sqrt,mathAtan2=Math.atan2;function transformPath(i,r){if(r){var n=i.data,o=i.len(),a,u,c,d,f,h,y=CMD.M,g=CMD.C,p=CMD.L,v=CMD.R,_=CMD.A,b=CMD.Q;for(c=0,d=0;c<o;){switch(a=n[c++],d=c,u=0,a){case y:u=1;break;case p:u=1;break;case g:u=3;break;case b:u=2;break;case _:var A=r[4],w=r[5],S=mathSqrt$2(r[0]*r[0]+r[1]*r[1]),T=mathSqrt$2(r[2]*r[2]+r[3]*r[3]),x=mathAtan2(-r[1]/T,r[0]/S);n[c]*=S,n[c++]+=A,n[c]*=T,n[c++]+=w,n[c++]*=S,n[c++]*=T,n[c++]+=x,n[c++]+=x,c+=2,d=c;break;case v:h[0]=n[c++],h[1]=n[c++],applyTransform$1(h,h,r),n[d++]=h[0],n[d++]=h[1],h[0]+=n[c++],h[1]+=n[c++],applyTransform$1(h,h,r),n[d++]=h[0],n[d++]=h[1]}for(f=0;f<u;f++){var M=points[f];M[0]=n[c++],M[1]=n[c++],applyTransform$1(M,M,r),n[d++]=M[0],n[d++]=M[1]}}i.increaseVersion()}}var mathSqrt$1=Math.sqrt,mathSin$2=Math.sin,mathCos$2=Math.cos,PI$4=Math.PI;function vMag(i){return Math.sqrt(i[0]*i[0]+i[1]*i[1])}function vRatio(i,r){return(i[0]*r[0]+i[1]*r[1])/(vMag(i)*vMag(r))}function vAngle(i,r){return(i[0]*r[1]<i[1]*r[0]?-1:1)*Math.acos(vRatio(i,r))}function processArc(i,r,n,o,a,u,c,d,f,h,y){var g=f*(PI$4/180),p=mathCos$2(g)*(i-n)/2+mathSin$2(g)*(r-o)/2,v=-1*mathSin$2(g)*(i-n)/2+mathCos$2(g)*(r-o)/2,_=p*p/(c*c)+v*v/(d*d);_>1&&(c*=mathSqrt$1(_),d*=mathSqrt$1(_));var b=(a===u?-1:1)*mathSqrt$1((c*c*(d*d)-c*c*(v*v)-d*d*(p*p))/(c*c*(v*v)+d*d*(p*p)))||0,A=b*c*v/d,w=b*-d*p/c,S=(i+n)/2+mathCos$2(g)*A-mathSin$2(g)*w,T=(r+o)/2+mathSin$2(g)*A+mathCos$2(g)*w,x=vAngle([1,0],[(p-A)/c,(v-w)/d]),M=[(p-A)/c,(v-w)/d],L=[(-1*p-A)/c,(-1*v-w)/d],k=vAngle(M,L);if(vRatio(M,L)<=-1&&(k=PI$4),vRatio(M,L)>=1&&(k=0),k<0){var ie=Math.round(k/PI$4*1e6)/1e6;k=PI$4*2+ie%2*PI$4}y.addData(h,S,T,c,d,x,k,g,u)}var commandReg=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig,numberReg=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function createPathProxyFromString(i){var r=new PathProxy;if(!i)return r;var n=0,o=0,a=n,u=o,c,d=PathProxy.CMD,f=i.match(commandReg);if(!f)return r;for(var h=0;h<f.length;h++){for(var y=f[h],g=y.charAt(0),p=void 0,v=y.match(numberReg)||[],_=v.length,b=0;b<_;b++)v[b]=parseFloat(v[b]);for(var A=0;A<_;){var w=void 0,S=void 0,T=void 0,x=void 0,M=void 0,L=void 0,k=void 0,ie=n,$=o,z=void 0,V=void 0;switch(g){case"l":n+=v[A++],o+=v[A++],p=d.L,r.addData(p,n,o);break;case"L":n=v[A++],o=v[A++],p=d.L,r.addData(p,n,o);break;case"m":n+=v[A++],o+=v[A++],p=d.M,r.addData(p,n,o),a=n,u=o,g="l";break;case"M":n=v[A++],o=v[A++],p=d.M,r.addData(p,n,o),a=n,u=o,g="L";break;case"h":n+=v[A++],p=d.L,r.addData(p,n,o);break;case"H":n=v[A++],p=d.L,r.addData(p,n,o);break;case"v":o+=v[A++],p=d.L,r.addData(p,n,o);break;case"V":o=v[A++],p=d.L,r.addData(p,n,o);break;case"C":p=d.C,r.addData(p,v[A++],v[A++],v[A++],v[A++],v[A++],v[A++]),n=v[A-2],o=v[A-1];break;case"c":p=d.C,r.addData(p,v[A++]+n,v[A++]+o,v[A++]+n,v[A++]+o,v[A++]+n,v[A++]+o),n+=v[A-2],o+=v[A-1];break;case"S":w=n,S=o,z=r.len(),V=r.data,c===d.C&&(w+=n-V[z-4],S+=o-V[z-3]),p=d.C,ie=v[A++],$=v[A++],n=v[A++],o=v[A++],r.addData(p,w,S,ie,$,n,o);break;case"s":w=n,S=o,z=r.len(),V=r.data,c===d.C&&(w+=n-V[z-4],S+=o-V[z-3]),p=d.C,ie=n+v[A++],$=o+v[A++],n+=v[A++],o+=v[A++],r.addData(p,w,S,ie,$,n,o);break;case"Q":ie=v[A++],$=v[A++],n=v[A++],o=v[A++],p=d.Q,r.addData(p,ie,$,n,o);break;case"q":ie=v[A++]+n,$=v[A++]+o,n+=v[A++],o+=v[A++],p=d.Q,r.addData(p,ie,$,n,o);break;case"T":w=n,S=o,z=r.len(),V=r.data,c===d.Q&&(w+=n-V[z-4],S+=o-V[z-3]),n=v[A++],o=v[A++],p=d.Q,r.addData(p,w,S,n,o);break;case"t":w=n,S=o,z=r.len(),V=r.data,c===d.Q&&(w+=n-V[z-4],S+=o-V[z-3]),n+=v[A++],o+=v[A++],p=d.Q,r.addData(p,w,S,n,o);break;case"A":T=v[A++],x=v[A++],M=v[A++],L=v[A++],k=v[A++],ie=n,$=o,n=v[A++],o=v[A++],p=d.A,processArc(ie,$,n,o,L,k,T,x,M,p,r);break;case"a":T=v[A++],x=v[A++],M=v[A++],L=v[A++],k=v[A++],ie=n,$=o,n+=v[A++],o+=v[A++],p=d.A,processArc(ie,$,n,o,L,k,T,x,M,p,r);break}}(g==="z"||g==="Z")&&(p=d.Z,r.addData(p),n=a,o=u),c=p}return r.toStatic(),r}var SVGPath=function(i){__extends(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.applyTransform=function(n){},r}(Path$1);function isPathProxy(i){return i.setData!=null}function createPathOptions(i,r){var n=createPathProxyFromString(i),o=extend({},r);return o.buildPath=function(a){if(isPathProxy(a)){a.setData(n.data);var u=a.getContext();u&&a.rebuildPath(u,1)}else{var u=a;n.rebuildPath(u,1)}},o.applyTransform=function(a){transformPath(n,a),this.dirtyShape()},o}function createFromString(i,r){return new SVGPath(createPathOptions(i,r))}function extendFromString(i,r){var n=createPathOptions(i,r),o=function(a){__extends(u,a);function u(c){var d=a.call(this,c)||this;return d.applyTransform=n.applyTransform,d.buildPath=n.buildPath,d}return u}(SVGPath);return o}function mergePath$1(i,r){for(var n=[],o=i.length,a=0;a<o;a++){var u=i[a];n.push(u.getUpdatedPathProxy(!0))}var c=new Path$1(r);return c.createPathProxy(),c.buildPath=function(d){if(isPathProxy(d)){d.appendPath(n);var f=d.getContext();f&&d.rebuildPath(f,1)}},c}var CircleShape=function(){function i(){this.cx=0,this.cy=0,this.r=0}return i}(),Circle=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new CircleShape},r.prototype.buildPath=function(n,o){n.moveTo(o.cx+o.r,o.cy),n.arc(o.cx,o.cy,o.r,0,Math.PI*2)},r}(Path$1);Circle.prototype.type="circle";const Circle$1=Circle;var EllipseShape=function(){function i(){this.cx=0,this.cy=0,this.rx=0,this.ry=0}return i}(),Ellipse=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new EllipseShape},r.prototype.buildPath=function(n,o){var a=.5522848,u=o.cx,c=o.cy,d=o.rx,f=o.ry,h=d*a,y=f*a;n.moveTo(u-d,c),n.bezierCurveTo(u-d,c-y,u-h,c-f,u,c-f),n.bezierCurveTo(u+h,c-f,u+d,c-y,u+d,c),n.bezierCurveTo(u+d,c+y,u+h,c+f,u,c+f),n.bezierCurveTo(u-h,c+f,u-d,c+y,u-d,c),n.closePath()},r}(Path$1);Ellipse.prototype.type="ellipse";const Ellipse$1=Ellipse;var PI$3=Math.PI,PI2$2=PI$3*2,mathSin$1=Math.sin,mathCos$1=Math.cos,mathACos=Math.acos,mathATan2=Math.atan2,mathAbs=Math.abs,mathSqrt=Math.sqrt,mathMax$1=Math.max,mathMin$1=Math.min,e=1e-4;function intersect(i,r,n,o,a,u,c,d){var f=n-i,h=o-r,y=c-a,g=d-u,p=g*f-y*h;if(!(p*p<e))return p=(y*(r-u)-g*(i-a))/p,[i+p*f,r+p*h]}function computeCornerTangents(i,r,n,o,a,u,c){var d=i-n,f=r-o,h=(c?u:-u)/mathSqrt(d*d+f*f),y=h*f,g=-h*d,p=i+y,v=r+g,_=n+y,b=o+g,A=(p+_)/2,w=(v+b)/2,S=_-p,T=b-v,x=S*S+T*T,M=a-u,L=p*b-_*v,k=(T<0?-1:1)*mathSqrt(mathMax$1(0,M*M*x-L*L)),ie=(L*T-S*k)/x,$=(-L*S-T*k)/x,z=(L*T+S*k)/x,V=(-L*S+T*k)/x,re=ie-A,D=$-w,Ce=z-A,le=V-w;return re*re+D*D>Ce*Ce+le*le&&(ie=z,$=V),{cx:ie,cy:$,x0:-y,y0:-g,x1:ie*(a/M-1),y1:$*(a/M-1)}}function normalizeCornerRadius(i){var r;if(isArray$1(i)){var n=i.length;if(!n)return i;n===1?r=[i[0],i[0],0,0]:n===2?r=[i[0],i[0],i[1],i[1]]:n===3?r=i.concat(i[2]):r=i}else r=[i,i,i,i];return r}function buildPath$1(i,r){var n,o=mathMax$1(r.r,0),a=mathMax$1(r.r0||0,0),u=o>0,c=a>0;if(!(!u&&!c)){if(u||(o=a,a=0),a>o){var d=o;o=a,a=d}var f=r.startAngle,h=r.endAngle;if(!(isNaN(f)||isNaN(h))){var y=r.cx,g=r.cy,p=!!r.clockwise,v=mathAbs(h-f),_=v>PI2$2&&v%PI2$2;if(_>e&&(v=_),!(o>e))i.moveTo(y,g);else if(v>PI2$2-e)i.moveTo(y+o*mathCos$1(f),g+o*mathSin$1(f)),i.arc(y,g,o,f,h,!p),a>e&&(i.moveTo(y+a*mathCos$1(h),g+a*mathSin$1(h)),i.arc(y,g,a,h,f,p));else{var b=void 0,A=void 0,w=void 0,S=void 0,T=void 0,x=void 0,M=void 0,L=void 0,k=void 0,ie=void 0,$=void 0,z=void 0,V=void 0,re=void 0,D=void 0,Ce=void 0,le=o*mathCos$1(f),de=o*mathSin$1(f),Fe=a*mathCos$1(h),Ie=a*mathSin$1(h),At=v>e;if(At){var _e=r.cornerRadius;_e&&(n=normalizeCornerRadius(_e),b=n[0],A=n[1],w=n[2],S=n[3]);var qe=mathAbs(o-a)/2;if(T=mathMin$1(qe,w),x=mathMin$1(qe,S),M=mathMin$1(qe,b),L=mathMin$1(qe,A),$=k=mathMax$1(T,x),z=ie=mathMax$1(M,L),(k>e||ie>e)&&(V=o*mathCos$1(h),re=o*mathSin$1(h),D=a*mathCos$1(f),Ce=a*mathSin$1(f),v<PI$3)){var In=intersect(le,de,D,Ce,V,re,Fe,Ie);if(In){var vn=le-In[0],Pt=de-In[1],he=V-In[0],Ue=re-In[1],Dt=1/mathSin$1(mathACos((vn*he+Pt*Ue)/(mathSqrt(vn*vn+Pt*Pt)*mathSqrt(he*he+Ue*Ue)))/2),jt=mathSqrt(In[0]*In[0]+In[1]*In[1]);$=mathMin$1(k,(o-jt)/(Dt+1)),z=mathMin$1(ie,(a-jt)/(Dt-1))}}}if(!At)i.moveTo(y+le,g+de);else if($>e){var Et=mathMin$1(w,$),pe=mathMin$1(S,$),ue=computeCornerTangents(D,Ce,le,de,o,Et,p),$e=computeCornerTangents(V,re,Fe,Ie,o,pe,p);i.moveTo(y+ue.cx+ue.x0,g+ue.cy+ue.y0),$<k&&Et===pe?i.arc(y+ue.cx,g+ue.cy,$,mathATan2(ue.y0,ue.x0),mathATan2($e.y0,$e.x0),!p):(Et>0&&i.arc(y+ue.cx,g+ue.cy,Et,mathATan2(ue.y0,ue.x0),mathATan2(ue.y1,ue.x1),!p),i.arc(y,g,o,mathATan2(ue.cy+ue.y1,ue.cx+ue.x1),mathATan2($e.cy+$e.y1,$e.cx+$e.x1),!p),pe>0&&i.arc(y+$e.cx,g+$e.cy,pe,mathATan2($e.y1,$e.x1),mathATan2($e.y0,$e.x0),!p))}else i.moveTo(y+le,g+de),i.arc(y,g,o,f,h,!p);if(!(a>e)||!At)i.lineTo(y+Fe,g+Ie);else if(z>e){var Et=mathMin$1(b,z),pe=mathMin$1(A,z),ue=computeCornerTangents(Fe,Ie,V,re,a,-pe,p),$e=computeCornerTangents(le,de,D,Ce,a,-Et,p);i.lineTo(y+ue.cx+ue.x0,g+ue.cy+ue.y0),z<ie&&Et===pe?i.arc(y+ue.cx,g+ue.cy,z,mathATan2(ue.y0,ue.x0),mathATan2($e.y0,$e.x0),!p):(pe>0&&i.arc(y+ue.cx,g+ue.cy,pe,mathATan2(ue.y0,ue.x0),mathATan2(ue.y1,ue.x1),!p),i.arc(y,g,a,mathATan2(ue.cy+ue.y1,ue.cx+ue.x1),mathATan2($e.cy+$e.y1,$e.cx+$e.x1),p),Et>0&&i.arc(y+$e.cx,g+$e.cy,Et,mathATan2($e.y1,$e.x1),mathATan2($e.y0,$e.x0),!p))}else i.lineTo(y+Fe,g+Ie),i.arc(y,g,a,h,f,p)}i.closePath()}}}var SectorShape=function(){function i(){this.cx=0,this.cy=0,this.r0=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0,this.cornerRadius=0}return i}(),Sector=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new SectorShape},r.prototype.buildPath=function(n,o){buildPath$1(n,o)},r.prototype.isZeroArea=function(){return this.shape.startAngle===this.shape.endAngle||this.shape.r===this.shape.r0},r}(Path$1);Sector.prototype.type="sector";const Sector$1=Sector;var RingShape=function(){function i(){this.cx=0,this.cy=0,this.r=0,this.r0=0}return i}(),Ring=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new RingShape},r.prototype.buildPath=function(n,o){var a=o.cx,u=o.cy,c=Math.PI*2;n.moveTo(a+o.r,u),n.arc(a,u,o.r,0,c,!1),n.moveTo(a+o.r0,u),n.arc(a,u,o.r0,0,c,!0)},r}(Path$1);Ring.prototype.type="ring";const Ring$1=Ring;function smoothBezier(i,r,n,o){var a=[],u=[],c=[],d=[],f,h,y,g;if(o){y=[1/0,1/0],g=[-1/0,-1/0];for(var p=0,v=i.length;p<v;p++)min$1(y,y,i[p]),max$1(g,g,i[p]);min$1(y,y,o[0]),max$1(g,g,o[1])}for(var p=0,v=i.length;p<v;p++){var _=i[p];if(n)f=i[p?p-1:v-1],h=i[(p+1)%v];else if(p===0||p===v-1){a.push(clone$1(i[p]));continue}else f=i[p-1],h=i[p+1];sub$1(u,h,f),scale$1(u,u,r);var b=distance(_,f),A=distance(_,h),w=b+A;w!==0&&(b/=w,A/=w),scale$1(c,u,-b),scale$1(d,u,A);var S=add([],_,c),T=add([],_,d);o&&(max$1(S,S,y),min$1(S,S,g),max$1(T,T,y),min$1(T,T,g)),a.push(S),a.push(T)}return n&&a.push(a.shift()),a}function buildPath(i,r,n){var o=r.smooth,a=r.points;if(a&&a.length>=2){if(o){var u=smoothBezier(a,o,n,r.smoothConstraint);i.moveTo(a[0][0],a[0][1]);for(var c=a.length,d=0;d<(n?c:c-1);d++){var f=u[d*2],h=u[d*2+1],y=a[(d+1)%c];i.bezierCurveTo(f[0],f[1],h[0],h[1],y[0],y[1])}}else{i.moveTo(a[0][0],a[0][1]);for(var d=1,g=a.length;d<g;d++)i.lineTo(a[d][0],a[d][1])}n&&i.closePath()}}var PolygonShape=function(){function i(){this.points=null,this.smooth=0,this.smoothConstraint=null}return i}(),Polygon=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultShape=function(){return new PolygonShape},r.prototype.buildPath=function(n,o){buildPath(n,o,!0)},r}(Path$1);Polygon.prototype.type="polygon";const Polygon$1=Polygon;var PolylineShape=function(){function i(){this.points=null,this.percent=1,this.smooth=0,this.smoothConstraint=null}return i}(),Polyline=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new PolylineShape},r.prototype.buildPath=function(n,o){buildPath(n,o,!1)},r}(Path$1);Polyline.prototype.type="polyline";const Polyline$1=Polyline;var subPixelOptimizeOutputShape={},LineShape=function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.percent=1}return i}(),Line=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new LineShape},r.prototype.buildPath=function(n,o){var a,u,c,d;if(this.subPixelOptimize){var f=subPixelOptimizeLine$1(subPixelOptimizeOutputShape,o,this.style);a=f.x1,u=f.y1,c=f.x2,d=f.y2}else a=o.x1,u=o.y1,c=o.x2,d=o.y2;var h=o.percent;h!==0&&(n.moveTo(a,u),h<1&&(c=a*(1-h)+c*h,d=u*(1-h)+d*h),n.lineTo(c,d))},r.prototype.pointAt=function(n){var o=this.shape;return[o.x1*(1-n)+o.x2*n,o.y1*(1-n)+o.y2*n]},r}(Path$1);Line.prototype.type="line";const Line$1=Line;var out=[],BezierCurveShape=function(){function i(){this.x1=0,this.y1=0,this.x2=0,this.y2=0,this.cpx1=0,this.cpy1=0,this.percent=1}return i}();function someVectorAt(i,r,n){var o=i.cpx2,a=i.cpy2;return o!=null||a!=null?[(n?cubicDerivativeAt:cubicAt)(i.x1,i.cpx1,i.cpx2,i.x2,r),(n?cubicDerivativeAt:cubicAt)(i.y1,i.cpy1,i.cpy2,i.y2,r)]:[(n?quadraticDerivativeAt:quadraticAt)(i.x1,i.cpx1,i.x2,r),(n?quadraticDerivativeAt:quadraticAt)(i.y1,i.cpy1,i.y2,r)]}var BezierCurve=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new BezierCurveShape},r.prototype.buildPath=function(n,o){var a=o.x1,u=o.y1,c=o.x2,d=o.y2,f=o.cpx1,h=o.cpy1,y=o.cpx2,g=o.cpy2,p=o.percent;p!==0&&(n.moveTo(a,u),y==null||g==null?(p<1&&(quadraticSubdivide(a,f,c,p,out),f=out[1],c=out[2],quadraticSubdivide(u,h,d,p,out),h=out[1],d=out[2]),n.quadraticCurveTo(f,h,c,d)):(p<1&&(cubicSubdivide(a,f,y,c,p,out),f=out[1],y=out[2],c=out[3],cubicSubdivide(u,h,g,d,p,out),h=out[1],g=out[2],d=out[3]),n.bezierCurveTo(f,h,y,g,c,d)))},r.prototype.pointAt=function(n){return someVectorAt(this.shape,n,!1)},r.prototype.tangentAt=function(n){var o=someVectorAt(this.shape,n,!0);return normalize(o,o)},r}(Path$1);BezierCurve.prototype.type="bezier-curve";const BezierCurve$1=BezierCurve;var ArcShape=function(){function i(){this.cx=0,this.cy=0,this.r=0,this.startAngle=0,this.endAngle=Math.PI*2,this.clockwise=!0}return i}(),Arc=function(i){__extends(r,i);function r(n){return i.call(this,n)||this}return r.prototype.getDefaultStyle=function(){return{stroke:"#000",fill:null}},r.prototype.getDefaultShape=function(){return new ArcShape},r.prototype.buildPath=function(n,o){var a=o.cx,u=o.cy,c=Math.max(o.r,0),d=o.startAngle,f=o.endAngle,h=o.clockwise,y=Math.cos(d),g=Math.sin(d);n.moveTo(y*c+a,g*c+u),n.arc(a,u,c,d,f,!h)},r}(Path$1);Arc.prototype.type="arc";const Arc$1=Arc;var CompoundPath=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type="compound",n}return r.prototype._updatePathDirty=function(){for(var n=this.shape.paths,o=this.shapeChanged(),a=0;a<n.length;a++)o=o||n[a].shapeChanged();o&&this.dirtyShape()},r.prototype.beforeBrush=function(){this._updatePathDirty();for(var n=this.shape.paths||[],o=this.getGlobalScale(),a=0;a<n.length;a++)n[a].path||n[a].createPathProxy(),n[a].path.setScale(o[0],o[1],n[a].segmentIgnoreThreshold)},r.prototype.buildPath=function(n,o){for(var a=o.paths||[],u=0;u<a.length;u++)a[u].buildPath(n,a[u].shape,!0)},r.prototype.afterBrush=function(){for(var n=this.shape.paths||[],o=0;o<n.length;o++)n[o].pathUpdated()},r.prototype.getBoundingRect=function(){return this._updatePathDirty.call(this),Path$1.prototype.getBoundingRect.call(this)},r}(Path$1);const CompoundPath$1=CompoundPath;var Gradient=function(){function i(r){this.colorStops=r||[]}return i.prototype.addColorStop=function(r,n){this.colorStops.push({offset:r,color:n})},i}();const Gradient$1=Gradient;var LinearGradient=function(i){__extends(r,i);function r(n,o,a,u,c,d){var f=i.call(this,c)||this;return f.x=n??0,f.y=o??0,f.x2=a??1,f.y2=u??0,f.type="linear",f.global=d||!1,f}return r}(Gradient$1);const LinearGradient$1=LinearGradient;var RadialGradient=function(i){__extends(r,i);function r(n,o,a,u,c){var d=i.call(this,u)||this;return d.x=n??.5,d.y=o??.5,d.r=a??.5,d.type="radial",d.global=c||!1,d}return r}(Gradient$1);const RadialGradient$1=RadialGradient;var extent=[0,0],extent2=[0,0],minTv=new Point$1,maxTv=new Point$1,OrientedBoundingRect=function(){function i(r,n){this._corners=[],this._axes=[],this._origin=[0,0];for(var o=0;o<4;o++)this._corners[o]=new Point$1;for(var o=0;o<2;o++)this._axes[o]=new Point$1;r&&this.fromBoundingRect(r,n)}return i.prototype.fromBoundingRect=function(r,n){var o=this._corners,a=this._axes,u=r.x,c=r.y,d=u+r.width,f=c+r.height;if(o[0].set(u,c),o[1].set(d,c),o[2].set(d,f),o[3].set(u,f),n)for(var h=0;h<4;h++)o[h].transform(n);Point$1.sub(a[0],o[1],o[0]),Point$1.sub(a[1],o[3],o[0]),a[0].normalize(),a[1].normalize();for(var h=0;h<2;h++)this._origin[h]=a[h].dot(o[0])},i.prototype.intersect=function(r,n){var o=!0,a=!n;return minTv.set(1/0,1/0),maxTv.set(0,0),!this._intersectCheckOneSide(this,r,minTv,maxTv,a,1)&&(o=!1,a)||!this._intersectCheckOneSide(r,this,minTv,maxTv,a,-1)&&(o=!1,a)||a||Point$1.copy(n,o?minTv:maxTv),o},i.prototype._intersectCheckOneSide=function(r,n,o,a,u,c){for(var d=!0,f=0;f<2;f++){var h=this._axes[f];if(this._getProjMinMaxOnAxis(f,r._corners,extent),this._getProjMinMaxOnAxis(f,n._corners,extent2),extent[1]<extent2[0]||extent[0]>extent2[1]){if(d=!1,u)return d;var y=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(y,g)>a.len()&&(y<g?Point$1.scale(a,h,-y*c):Point$1.scale(a,h,g*c))}else if(o){var y=Math.abs(extent2[0]-extent[1]),g=Math.abs(extent[0]-extent2[1]);Math.min(y,g)<o.len()&&(y<g?Point$1.scale(o,h,y*c):Point$1.scale(o,h,-g*c))}}return d},i.prototype._getProjMinMaxOnAxis=function(r,n,o){for(var a=this._axes[r],u=this._origin,c=n[0].dot(a)+u[r],d=c,f=c,h=1;h<n.length;h++){var y=n[h].dot(a)+u[r];d=Math.min(y,d),f=Math.max(y,f)}o[0]=d,o[1]=f},i}();const OrientedBoundingRect$1=OrientedBoundingRect;var m=[],IncrementalDisplayable=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.notClear=!0,n.incremental=!0,n._displayables=[],n._temporaryDisplayables=[],n._cursor=0,n}return r.prototype.traverse=function(n,o){n.call(o,this)},r.prototype.useStyle=function(){this.style={}},r.prototype.getCursor=function(){return this._cursor},r.prototype.innerAfterBrush=function(){this._cursor=this._displayables.length},r.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.markRedraw(),this.notClear=!1},r.prototype.clearTemporalDisplayables=function(){this._temporaryDisplayables=[]},r.prototype.addDisplayable=function(n,o){o?this._temporaryDisplayables.push(n):this._displayables.push(n),this.markRedraw()},r.prototype.addDisplayables=function(n,o){o=o||!1;for(var a=0;a<n.length;a++)this.addDisplayable(n[a],o)},r.prototype.getDisplayables=function(){return this._displayables},r.prototype.getTemporalDisplayables=function(){return this._temporaryDisplayables},r.prototype.eachPendingDisplayable=function(n){for(var o=this._cursor;o<this._displayables.length;o++)n&&n(this._displayables[o]);for(var o=0;o<this._temporaryDisplayables.length;o++)n&&n(this._temporaryDisplayables[o])},r.prototype.update=function(){this.updateTransform();for(var n=this._cursor;n<this._displayables.length;n++){var o=this._displayables[n];o.parent=this,o.update(),o.parent=null}for(var n=0;n<this._temporaryDisplayables.length;n++){var o=this._temporaryDisplayables[n];o.parent=this,o.update(),o.parent=null}},r.prototype.getBoundingRect=function(){if(!this._rect){for(var n=new BoundingRect$1(1/0,1/0,-1/0,-1/0),o=0;o<this._displayables.length;o++){var a=this._displayables[o],u=a.getBoundingRect().clone();a.needLocalTransform()&&u.applyTransform(a.getLocalTransform(m)),n.union(u)}this._rect=n}return this._rect},r.prototype.contain=function(n,o){var a=this.transformCoordToLocal(n,o),u=this.getBoundingRect();if(u.contain(a[0],a[1]))for(var c=0;c<this._displayables.length;c++){var d=this._displayables[c];if(d.contain(n,o))return!0}return!1},r}(Displayable$1);const IncrementalDisplayable$1=IncrementalDisplayable;var transitionStore=makeInner();function getAnimationConfig(i,r,n,o,a){var u;if(r&&r.ecModel){var c=r.ecModel.getUpdatePayload();u=c&&c.animation}var d=r&&r.isAnimationEnabled(),f=i==="update";if(d){var h=void 0,y=void 0,g=void 0;o?(h=retrieve2(o.duration,200),y=retrieve2(o.easing,"cubicOut"),g=0):(h=r.getShallow(f?"animationDurationUpdate":"animationDuration"),y=r.getShallow(f?"animationEasingUpdate":"animationEasing"),g=r.getShallow(f?"animationDelayUpdate":"animationDelay")),u&&(u.duration!=null&&(h=u.duration),u.easing!=null&&(y=u.easing),u.delay!=null&&(g=u.delay)),isFunction$1(g)&&(g=g(n,a)),isFunction$1(h)&&(h=h(n));var p={duration:h||0,delay:g,easing:y};return p}else return null}function animateOrSetProps(i,r,n,o,a,u,c){var d=!1,f;isFunction$1(a)?(c=u,u=a,a=null):isObject$3(a)&&(u=a.cb,c=a.during,d=a.isFrom,f=a.removeOpt,a=a.dataIndex);var h=i==="leave";h||r.stopAnimation("leave");var y=getAnimationConfig(i,o,a,h?f||{}:null,o&&o.getAnimationDelayParams?o.getAnimationDelayParams(r,a):null);if(y&&y.duration>0){var g=y.duration,p=y.delay,v=y.easing,_={duration:g,delay:p||0,easing:v,done:u,force:!!u||!!c,setToFinal:!h,scope:i,during:c};d?r.animateFrom(n,_):r.animateTo(n,_)}else r.stopAnimation(),!d&&r.attr(n),c&&c(1),u&&u()}function updateProps$1(i,r,n,o,a,u){animateOrSetProps("update",i,r,n,o,a,u)}function initProps(i,r,n,o,a,u){animateOrSetProps("enter",i,r,n,o,a,u)}function isElementRemoved(i){if(!i.__zr)return!0;for(var r=0;r<i.animators.length;r++){var n=i.animators[r];if(n.scope==="leave")return!0}return!1}function removeElement(i,r,n,o,a,u){isElementRemoved(i)||animateOrSetProps("leave",i,r,n,o,a,u)}function fadeOutDisplayable(i,r,n,o){i.removeTextContent(),i.removeTextGuideLine(),removeElement(i,{style:{opacity:0}},r,n,o)}function removeElementWithFadeOut(i,r,n){function o(){i.parent&&i.parent.remove(i)}i.isGroup?i.traverse(function(a){a.isGroup||fadeOutDisplayable(a,r,n,o)}):fadeOutDisplayable(i,r,n,o)}function saveOldStyle(i){transitionStore(i).oldStyle=i.style}var mathMax=Math.max,mathMin=Math.min,_customShapeMap={};function extendShape(i){return Path$1.extend(i)}var extendPathFromString=extendFromString;function extendPath(i,r){return extendPathFromString(i,r)}function registerShape(i,r){_customShapeMap[i]=r}function getShapeClass(i){if(_customShapeMap.hasOwnProperty(i))return _customShapeMap[i]}function makePath(i,r,n,o){var a=createFromString(i,r);return n&&(o==="center"&&(n=centerGraphic(n,a.getBoundingRect())),resizePath(a,n)),a}function makeImage(i,r,n){var o=new ZRImage$1({style:{image:i,x:r.x,y:r.y,width:r.width,height:r.height},onload:function(a){if(n==="center"){var u={width:a.width,height:a.height};o.setStyle(centerGraphic(r,u))}}});return o}function centerGraphic(i,r){var n=r.width/r.height,o=i.height*n,a;o<=i.width?a=i.height:(o=i.width,a=o/n);var u=i.x+i.width/2,c=i.y+i.height/2;return{x:u-o/2,y:c-a/2,width:o,height:a}}var mergePath=mergePath$1;function resizePath(i,r){if(i.applyTransform){var n=i.getBoundingRect(),o=n.calculateTransform(r);i.applyTransform(o)}}function subPixelOptimizeLine(i,r){return subPixelOptimizeLine$1(i,i,{lineWidth:r}),i}function subPixelOptimizeRect(i){return subPixelOptimizeRect$1(i.shape,i.shape,i.style),i}var subPixelOptimize=subPixelOptimize$1;function getTransform(i,r){for(var n=identity$1([]);i&&i!==r;)mul(n,i.getLocalTransform(),n),i=i.parent;return n}function applyTransform(i,r,n){return r&&!isArrayLike(r)&&(r=Transformable$1.getLocalTransform(r)),n&&(r=invert([],r)),applyTransform$1([],i,r)}function transformDirection(i,r,n){var o=r[4]===0||r[5]===0||r[0]===0?1:Math.abs(2*r[4]/r[0]),a=r[4]===0||r[5]===0||r[2]===0?1:Math.abs(2*r[4]/r[2]),u=[i==="left"?-o:i==="right"?o:0,i==="top"?-a:i==="bottom"?a:0];return u=applyTransform(u,r,n),Math.abs(u[0])>Math.abs(u[1])?u[0]>0?"right":"left":u[1]>0?"bottom":"top"}function isNotGroup(i){return!i.isGroup}function isPath(i){return i.shape!=null}function groupTransition(i,r,n){if(!i||!r)return;function o(c){var d={};return c.traverse(function(f){isNotGroup(f)&&f.anid&&(d[f.anid]=f)}),d}function a(c){var d={x:c.x,y:c.y,rotation:c.rotation};return isPath(c)&&(d.shape=extend({},c.shape)),d}var u=o(i);r.traverse(function(c){if(isNotGroup(c)&&c.anid){var d=u[c.anid];if(d){var f=a(c);c.attr(a(d)),updateProps$1(c,f,n,getECData(c).dataIndex)}}})}function clipPointsByRect(i,r){return map$1(i,function(n){var o=n[0];o=mathMax(o,r.x),o=mathMin(o,r.x+r.width);var a=n[1];return a=mathMax(a,r.y),a=mathMin(a,r.y+r.height),[o,a]})}function clipRectByRect(i,r){var n=mathMax(i.x,r.x),o=mathMin(i.x+i.width,r.x+r.width),a=mathMax(i.y,r.y),u=mathMin(i.y+i.height,r.y+r.height);if(o>=n&&u>=a)return{x:n,y:a,width:o-n,height:u-a}}function createIcon(i,r,n){var o=extend({rectHover:!0},r),a=o.style={strokeNoScale:!0};if(n=n||{x:-1,y:-1,width:2,height:2},i)return i.indexOf("image://")===0?(a.image=i.slice(8),defaults(a,n),new ZRImage$1(o)):makePath(i.replace("path://",""),o,n,"center")}function linePolygonIntersect(i,r,n,o,a){for(var u=0,c=a[a.length-1];u<a.length;u++){var d=a[u];if(lineLineIntersect(i,r,n,o,d[0],d[1],c[0],c[1]))return!0;c=d}}function lineLineIntersect(i,r,n,o,a,u,c,d){var f=n-i,h=o-r,y=c-a,g=d-u,p=crossProduct2d(y,g,f,h);if(nearZero(p))return!1;var v=i-a,_=r-u,b=crossProduct2d(v,_,f,h)/p;if(b<0||b>1)return!1;var A=crossProduct2d(v,_,y,g)/p;return!(A<0||A>1)}function crossProduct2d(i,r,n,o){return i*o-n*r}function nearZero(i){return i<=1e-6&&i>=-1e-6}function setTooltipConfig(i){var r=i.itemTooltipOption,n=i.componentModel,o=i.itemName,a=isString$2(r)?{formatter:r}:r,u=n.mainType,c=n.componentIndex,d={componentType:u,name:o,$vars:["name"]};d[u+"Index"]=c;var f=i.formatterParamsExtra;f&&each$4(keys(f),function(y){hasOwn$1(d,y)||(d[y]=f[y],d.$vars.push(y))});var h=getECData(i.el);h.componentMainType=u,h.componentIndex=c,h.tooltipConfig={name:o,option:defaults({content:o,encodeHTMLContent:!0,formatterParams:d},a)}}function traverseElement(i,r){var n;i.isGroup&&(n=r(i)),n||i.traverse(r)}function traverseElements(i,r){if(i)if(isArray$1(i))for(var n=0;n<i.length;n++)traverseElement(i[n],r);else traverseElement(i,r)}registerShape("circle",Circle$1),registerShape("ellipse",Ellipse$1),registerShape("sector",Sector$1),registerShape("ring",Ring$1),registerShape("polygon",Polygon$1),registerShape("polyline",Polyline$1),registerShape("rect",Rect$1),registerShape("line",Line$1),registerShape("bezierCurve",BezierCurve$1),registerShape("arc",Arc$1);const graphic=Object.freeze(Object.defineProperty({__proto__:null,Arc:Arc$1,BezierCurve:BezierCurve$1,BoundingRect:BoundingRect$1,Circle:Circle$1,CompoundPath:CompoundPath$1,Ellipse:Ellipse$1,Group:Group$3,Image:ZRImage$1,IncrementalDisplayable:IncrementalDisplayable$1,Line:Line$1,LinearGradient:LinearGradient$1,OrientedBoundingRect:OrientedBoundingRect$1,Path:Path$1,Point:Point$1,Polygon:Polygon$1,Polyline:Polyline$1,RadialGradient:RadialGradient$1,Rect:Rect$1,Ring:Ring$1,Sector:Sector$1,Text:ZRText$1,applyTransform,clipPointsByRect,clipRectByRect,createIcon,extendPath,extendShape,getShapeClass,getTransform,groupTransition,initProps,isElementRemoved,lineLineIntersect,linePolygonIntersect,makeImage,makePath,mergePath,registerShape,removeElement,removeElementWithFadeOut,resizePath,setTooltipConfig,subPixelOptimize,subPixelOptimizeLine,subPixelOptimizeRect,transformDirection,traverseElements,updateProps:updateProps$1},Symbol.toStringTag,{value:"Module"}));var EMPTY_OBJ={};function setLabelText(i,r){for(var n=0;n<SPECIAL_STATES.length;n++){var o=SPECIAL_STATES[n],a=r[o],u=i.ensureState(o);u.style=u.style||{},u.style.text=a}var c=i.currentStates.slice();i.clearStates(!0),i.setStyle({text:r.normal}),i.useStates(c,!0)}function getLabelText(i,r,n){var o=i.labelFetcher,a=i.labelDataIndex,u=i.labelDimIndex,c=r.normal,d;o&&(d=o.getFormattedLabel(a,"normal",null,u,c&&c.get("formatter"),n!=null?{interpolatedValue:n}:null)),d==null&&(d=isFunction$1(i.defaultText)?i.defaultText(a,i,n):i.defaultText);for(var f={normal:d},h=0;h<SPECIAL_STATES.length;h++){var y=SPECIAL_STATES[h],g=r[y];f[y]=retrieve2(o?o.getFormattedLabel(a,y,null,u,g&&g.get("formatter")):null,d)}return f}function setLabelStyle(i,r,n,o){n=n||EMPTY_OBJ;for(var a=i instanceof ZRText$1,u=!1,c=0;c<DISPLAY_STATES.length;c++){var d=r[DISPLAY_STATES[c]];if(d&&d.getShallow("show")){u=!0;break}}var f=a?i:i.getTextContent();if(u){a||(f||(f=new ZRText$1,i.setTextContent(f)),i.stateProxy&&(f.stateProxy=i.stateProxy));var h=getLabelText(n,r),y=r.normal,g=!!y.getShallow("show"),p=createTextStyle(y,o&&o.normal,n,!1,!a);p.text=h.normal,a||i.setTextConfig(createTextConfig(y,n,!1));for(var c=0;c<SPECIAL_STATES.length;c++){var v=SPECIAL_STATES[c],d=r[v];if(d){var _=f.ensureState(v),b=!!retrieve2(d.getShallow("show"),g);if(b!==g&&(_.ignore=!b),_.style=createTextStyle(d,o&&o[v],n,!0,!a),_.style.text=h[v],!a){var A=i.ensureState(v);A.textConfig=createTextConfig(d,n,!0)}}}f.silent=!!y.getShallow("silent"),f.style.x!=null&&(p.x=f.style.x),f.style.y!=null&&(p.y=f.style.y),f.ignore=!g,f.useStyle(p),f.dirty(),n.enableTextSetter&&(labelInner(f).setLabelText=function(w){var S=getLabelText(n,r,w);setLabelText(f,S)})}else f&&(f.ignore=!0);i.dirty()}function getLabelStatesModels(i,r){r=r||"label";for(var n={normal:i.getModel(r)},o=0;o<SPECIAL_STATES.length;o++){var a=SPECIAL_STATES[o];n[a]=i.getModel([a,r])}return n}function createTextStyle(i,r,n,o,a){var u={};return setTextStyleCommon(u,i,n,o,a),r&&extend(u,r),u}function createTextConfig(i,r,n){r=r||{};var o={},a,u=i.getShallow("rotate"),c=retrieve2(i.getShallow("distance"),n?null:5),d=i.getShallow("offset");return a=i.getShallow("position")||(n?null:"inside"),a==="outside"&&(a=r.defaultOutsidePosition||"top"),a!=null&&(o.position=a),d!=null&&(o.offset=d),u!=null&&(u*=Math.PI/180,o.rotation=u),c!=null&&(o.distance=c),o.outsideFill=i.get("color")==="inherit"?r.inheritColor||null:"auto",o}function setTextStyleCommon(i,r,n,o,a){n=n||EMPTY_OBJ;var u=r.ecModel,c=u&&u.option.textStyle,d=getRichItemNames(r),f;if(d){f={};for(var h in d)if(d.hasOwnProperty(h)){var y=r.getModel(["rich",h]);setTokenTextStyle(f[h]={},y,c,n,o,a,!1,!0)}}f&&(i.rich=f);var g=r.get("overflow");g&&(i.overflow=g);var p=r.get("minMargin");p!=null&&(i.margin=p),setTokenTextStyle(i,r,c,n,o,a,!0,!1)}function getRichItemNames(i){for(var r;i&&i!==i.ecModel;){var n=(i.option||EMPTY_OBJ).rich;if(n){r=r||{};for(var o=keys(n),a=0;a<o.length;a++){var u=o[a];r[u]=1}}i=i.parentModel}return r}var TEXT_PROPS_WITH_GLOBAL=["fontStyle","fontWeight","fontSize","fontFamily","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY"],TEXT_PROPS_SELF=["align","lineHeight","width","height","tag","verticalAlign","ellipsis"],TEXT_PROPS_BOX=["padding","borderWidth","borderRadius","borderDashOffset","backgroundColor","borderColor","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"];function setTokenTextStyle(i,r,n,o,a,u,c,d){n=!a&&n||EMPTY_OBJ;var f=o&&o.inheritColor,h=r.getShallow("color"),y=r.getShallow("textBorderColor"),g=retrieve2(r.getShallow("opacity"),n.opacity);(h==="inherit"||h==="auto")&&(process.env.NODE_ENV!=="production"&&h==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),f?h=f:h=null),(y==="inherit"||y==="auto")&&(process.env.NODE_ENV!=="production"&&y==="auto"&&deprecateReplaceLog("color: 'auto'","color: 'inherit'"),f?y=f:y=null),u||(h=h||n.color,y=y||n.textBorderColor),h!=null&&(i.fill=h),y!=null&&(i.stroke=y);var p=retrieve2(r.getShallow("textBorderWidth"),n.textBorderWidth);p!=null&&(i.lineWidth=p);var v=retrieve2(r.getShallow("textBorderType"),n.textBorderType);v!=null&&(i.lineDash=v);var _=retrieve2(r.getShallow("textBorderDashOffset"),n.textBorderDashOffset);_!=null&&(i.lineDashOffset=_),!a&&g==null&&!d&&(g=o&&o.defaultOpacity),g!=null&&(i.opacity=g),!a&&!u&&i.fill==null&&o.inheritColor&&(i.fill=o.inheritColor);for(var b=0;b<TEXT_PROPS_WITH_GLOBAL.length;b++){var A=TEXT_PROPS_WITH_GLOBAL[b],w=retrieve2(r.getShallow(A),n[A]);w!=null&&(i[A]=w)}for(var b=0;b<TEXT_PROPS_SELF.length;b++){var A=TEXT_PROPS_SELF[b],w=r.getShallow(A);w!=null&&(i[A]=w)}if(i.verticalAlign==null){var S=r.getShallow("baseline");S!=null&&(i.verticalAlign=S)}if(!c||!o.disableBox){for(var b=0;b<TEXT_PROPS_BOX.length;b++){var A=TEXT_PROPS_BOX[b],w=r.getShallow(A);w!=null&&(i[A]=w)}var T=r.getShallow("borderType");T!=null&&(i.borderDash=T),(i.backgroundColor==="auto"||i.backgroundColor==="inherit")&&f&&(process.env.NODE_ENV!=="production"&&i.backgroundColor==="auto"&&deprecateReplaceLog("backgroundColor: 'auto'","backgroundColor: 'inherit'"),i.backgroundColor=f),(i.borderColor==="auto"||i.borderColor==="inherit")&&f&&(process.env.NODE_ENV!=="production"&&i.borderColor==="auto"&&deprecateReplaceLog("borderColor: 'auto'","borderColor: 'inherit'"),i.borderColor=f)}}function getFont(i,r){var n=r&&r.getModel("textStyle");return trim([i.fontStyle||n&&n.getShallow("fontStyle")||"",i.fontWeight||n&&n.getShallow("fontWeight")||"",(i.fontSize||n&&n.getShallow("fontSize")||12)+"px",i.fontFamily||n&&n.getShallow("fontFamily")||"sans-serif"].join(" "))}var labelInner=makeInner(),PATH_COLOR=["textStyle","color"],textStyleParams=["fontStyle","fontWeight","fontSize","fontFamily","padding","lineHeight","rich","width","height","overflow"],tmpText=new ZRText$1,TextStyleMixin=function(){function i(){}return i.prototype.getTextColor=function(r){var n=this.ecModel;return this.getShallow("color")||(!r&&n?n.get(PATH_COLOR):null)},i.prototype.getFont=function(){return getFont({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},i.prototype.getTextRect=function(r){for(var n={text:r,verticalAlign:this.getShallow("verticalAlign")||this.getShallow("baseline")},o=0;o<textStyleParams.length;o++)n[textStyleParams[o]]=this.getShallow(textStyleParams[o]);return tmpText.useStyle(n),tmpText.update(),tmpText.getBoundingRect()},i}();const TextStyleMixin$1=TextStyleMixin;var LINE_STYLE_KEY_MAP=[["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","type"],["lineDashOffset","dashOffset"],["lineCap","cap"],["lineJoin","join"],["miterLimit"]],getLineStyle=makeStyleMapper(LINE_STYLE_KEY_MAP),LineStyleMixin=function(){function i(){}return i.prototype.getLineStyle=function(r){return getLineStyle(this,r)},i}(),ITEM_STYLE_KEY_MAP=[["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["lineDash","borderType"],["lineDashOffset","borderDashOffset"],["lineCap","borderCap"],["lineJoin","borderJoin"],["miterLimit","borderMiterLimit"]],getItemStyle=makeStyleMapper(ITEM_STYLE_KEY_MAP),ItemStyleMixin=function(){function i(){}return i.prototype.getItemStyle=function(r,n){return getItemStyle(this,r,n)},i}(),Model=function(){function i(r,n,o){this.parentModel=n,this.ecModel=o,this.option=r}return i.prototype.init=function(r,n,o){},i.prototype.mergeOption=function(r,n){merge(this.option,r,!0)},i.prototype.get=function(r,n){return r==null?this.option:this._doGet(this.parsePath(r),!n&&this.parentModel)},i.prototype.getShallow=function(r,n){var o=this.option,a=o==null?o:o[r];if(a==null&&!n){var u=this.parentModel;u&&(a=u.getShallow(r))}return a},i.prototype.getModel=function(r,n){var o=r!=null,a=o?this.parsePath(r):null,u=o?this._doGet(a):this.option;return n=n||this.parentModel&&this.parentModel.getModel(this.resolveParentPath(a)),new i(u,n,this.ecModel)},i.prototype.isEmpty=function(){return this.option==null},i.prototype.restoreData=function(){},i.prototype.clone=function(){var r=this.constructor;return new r(clone$2(this.option))},i.prototype.parsePath=function(r){return typeof r=="string"?r.split("."):r},i.prototype.resolveParentPath=function(r){return r},i.prototype.isAnimationEnabled=function(){if(!env$1.node&&this.option){if(this.option.animation!=null)return!!this.option.animation;if(this.parentModel)return this.parentModel.isAnimationEnabled()}},i.prototype._doGet=function(r,n){var o=this.option;if(!r)return o;for(var a=0;a<r.length&&!(r[a]&&(o=o&&typeof o=="object"?o[r[a]]:null,o==null));a++);return o==null&&n&&(o=n._doGet(this.resolveParentPath(r),n.parentModel)),o},i}();enableClassExtend(Model),enableClassCheck(Model),mixin(Model,LineStyleMixin),mixin(Model,ItemStyleMixin),mixin(Model,AreaStyleMixin),mixin(Model,TextStyleMixin$1);const Model$1=Model;var base=Math.round(Math.random()*10);function getUID(i){return[i||"",base++].join("_")}function enableSubTypeDefaulter(i){var r={};i.registerSubTypeDefaulter=function(n,o){var a=parseClassType(n);r[a.main]=o},i.determineSubType=function(n,o){var a=o.type;if(!a){var u=parseClassType(n).main;i.hasSubTypes(n)&&r[u]&&(a=r[u](o))}return a}}function enableTopologicalTravel(i,r){i.topologicalTravel=function(u,c,d,f){if(!u.length)return;var h=n(c),y=h.graph,g=h.noEntryList,p={};for(each$4(u,function(S){p[S]=!0});g.length;){var v=g.pop(),_=y[v],b=!!p[v];b&&(d.call(f,v,_.originalDeps.slice()),delete p[v]),each$4(_.successor,b?w:A)}each$4(p,function(){var S="";throw process.env.NODE_ENV!=="production"&&(S=makePrintable("Circular dependency may exists: ",p,u,c)),new Error(S)});function A(S){y[S].entryCount--,y[S].entryCount===0&&g.push(S)}function w(S){p[S]=!0,A(S)}};function n(u){var c={},d=[];return each$4(u,function(f){var h=o(c,f),y=h.originalDeps=r(f),g=a(y,u);h.entryCount=g.length,h.entryCount===0&&d.push(f),each$4(g,function(p){indexOf(h.predecessor,p)<0&&h.predecessor.push(p);var v=o(c,p);indexOf(v.successor,p)<0&&v.successor.push(f)})}),{graph:c,noEntryList:d}}function o(u,c){return u[c]||(u[c]={predecessor:[],successor:[]}),u[c]}function a(u,c){var d=[];return each$4(u,function(f){indexOf(c,f)>=0&&d.push(f)}),d}}function inheritDefaultOption(i,r){return merge(merge({},i,!0),r,!0)}const langEN={time:{month:["January","February","March","April","May","June","July","August","September","October","November","December"],monthAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayOfWeek:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayOfWeekAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},legend:{selector:{all:"All",inverse:"Inv"}},toolbox:{brush:{title:{rect:"Box Select",polygon:"Lasso Select",lineX:"Horizontally Select",lineY:"Vertically Select",keep:"Keep Selections",clear:"Clear Selections"}},dataView:{title:"Data View",lang:["Data View","Close","Refresh"]},dataZoom:{title:{zoom:"Zoom",back:"Zoom Reset"}},magicType:{title:{line:"Switch to Line Chart",bar:"Switch to Bar Chart",stack:"Stack",tiled:"Tile"}},restore:{title:"Restore"},saveAsImage:{title:"Save as Image",lang:["Right Click to Save Image"]}},series:{typeNames:{pie:"Pie chart",bar:"Bar chart",line:"Line chart",scatter:"Scatter plot",effectScatter:"Ripple scatter plot",radar:"Radar chart",tree:"Tree",treemap:"Treemap",boxplot:"Boxplot",candlestick:"Candlestick",k:"K line chart",heatmap:"Heat map",map:"Map",parallel:"Parallel coordinate map",lines:"Line graph",graph:"Relationship graph",sankey:"Sankey diagram",funnel:"Funnel chart",gauge:"Gauge",pictorialBar:"Pictorial bar",themeRiver:"Theme River Map",sunburst:"Sunburst",custom:"Custom chart",chart:"Chart"}},aria:{general:{withTitle:'This is a chart about "{title}"',withoutTitle:"This is a chart"},series:{single:{prefix:"",withName:" with type {seriesType} named {seriesName}.",withoutName:" with type {seriesType}."},multiple:{prefix:". It consists of {seriesCount} series count.",withName:" The {seriesId} series is a {seriesType} representing {seriesName}.",withoutName:" The {seriesId} series is a {seriesType}.",separator:{middle:"",end:""}}},data:{allData:"The data is as follows: ",partialData:"The first {displayCnt} items are: ",withName:"the data for {name} is {value}",withoutName:"{value}",separator:{middle:", ",end:". "}}}},langZH={time:{month:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthAbbr:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],dayOfWeek:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayOfWeekAbbr:["日","一","二","三","四","五","六"]},legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图",custom:"自定义图表",chart:"图表"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}};var LOCALE_ZH="ZH",LOCALE_EN="EN",DEFAULT_LOCALE=LOCALE_EN,localeStorage={},localeModels={},SYSTEM_LANG=env$1.domSupported?function(){var i=(document.documentElement.lang||navigator.language||navigator.browserLanguage||DEFAULT_LOCALE).toUpperCase();return i.indexOf(LOCALE_ZH)>-1?LOCALE_ZH:DEFAULT_LOCALE}():DEFAULT_LOCALE;function registerLocale(i,r){i=i.toUpperCase(),localeModels[i]=new Model$1(r),localeStorage[i]=r}function createLocaleObject(i){if(isString$2(i)){var r=localeStorage[i.toUpperCase()]||{};return i===LOCALE_ZH||i===LOCALE_EN?clone$2(r):merge(clone$2(r),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}else return merge(clone$2(i),clone$2(localeStorage[DEFAULT_LOCALE]),!1)}function getLocaleModel(i){return localeModels[i]}function getDefaultLocaleModel(){return localeModels[DEFAULT_LOCALE]}registerLocale(LOCALE_EN,langEN),registerLocale(LOCALE_ZH,langZH);function pad(i,r){return i+="","0000".substr(0,r-i.length)+i}function format$1(i,r,n,o){var a=parseDate(i),u=a[fullYearGetterName(n)](),c=a[monthGetterName(n)]()+1,d=Math.floor((c-1)/3)+1,f=a[dateGetterName(n)](),h=a["get"+(n?"UTC":"")+"Day"](),y=a[hoursGetterName(n)](),g=(y-1)%12+1,p=a[minutesGetterName(n)](),v=a[secondsGetterName(n)](),_=a[millisecondsGetterName(n)](),b=y>=12?"pm":"am",A=b.toUpperCase(),w=o instanceof Model$1?o:getLocaleModel(o||SYSTEM_LANG)||getDefaultLocaleModel(),S=w.getModel("time"),T=S.get("month"),x=S.get("monthAbbr"),M=S.get("dayOfWeek"),L=S.get("dayOfWeekAbbr");return(r||"").replace(/{a}/g,b+"").replace(/{A}/g,A+"").replace(/{yyyy}/g,u+"").replace(/{yy}/g,pad(u%100+"",2)).replace(/{Q}/g,d+"").replace(/{MMMM}/g,T[c-1]).replace(/{MMM}/g,x[c-1]).replace(/{MM}/g,pad(c,2)).replace(/{M}/g,c+"").replace(/{dd}/g,pad(f,2)).replace(/{d}/g,f+"").replace(/{eeee}/g,M[h]).replace(/{ee}/g,L[h]).replace(/{e}/g,h+"").replace(/{HH}/g,pad(y,2)).replace(/{H}/g,y+"").replace(/{hh}/g,pad(g+"",2)).replace(/{h}/g,g+"").replace(/{mm}/g,pad(p,2)).replace(/{m}/g,p+"").replace(/{ss}/g,pad(v,2)).replace(/{s}/g,v+"").replace(/{SSS}/g,pad(_,3)).replace(/{S}/g,_+"")}function fullYearGetterName(i){return i?"getUTCFullYear":"getFullYear"}function monthGetterName(i){return i?"getUTCMonth":"getMonth"}function dateGetterName(i){return i?"getUTCDate":"getDate"}function hoursGetterName(i){return i?"getUTCHours":"getHours"}function minutesGetterName(i){return i?"getUTCMinutes":"getMinutes"}function secondsGetterName(i){return i?"getUTCSeconds":"getSeconds"}function millisecondsGetterName(i){return i?"getUTCMilliseconds":"getMilliseconds"}function addCommas(i){if(!isNumeric(i))return isString$2(i)?i:"-";var r=(i+"").split(".");return r[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(r.length>1?"."+r[1]:"")}function toCamelCase(i,r){return i=(i||"").toLowerCase().replace(/-(.)/g,function(n,o){return o.toUpperCase()}),r&&i&&(i=i.charAt(0).toUpperCase()+i.slice(1)),i}var normalizeCssArray=normalizeCssArray$1;function makeValueReadable(i,r,n){var o="{yyyy}-{MM}-{dd} {HH}:{mm}:{ss}";function a(y){return y&&trim(y)?y:"-"}function u(y){return!!(y!=null&&!isNaN(y)&&isFinite(y))}var c=r==="time",d=i instanceof Date;if(c||d){var f=c?parseDate(i):i;if(isNaN(+f)){if(d)return"-"}else return format$1(f,o,n)}if(r==="ordinal")return isStringSafe(i)?a(i):isNumber$1(i)&&u(i)?i+"":"-";var h=numericToNumber(i);return u(h)?addCommas(h):isStringSafe(i)?a(i):typeof i=="boolean"?i+"":"-"}var TPL_VAR_ALIAS=["a","b","c","d","e","f","g"],wrapVar=function(i,r){return"{"+i+(r??"")+"}"};function formatTpl(i,r,n){isArray$1(r)||(r=[r]);var o=r.length;if(!o)return"";for(var a=r[0].$vars||[],u=0;u<a.length;u++){var c=TPL_VAR_ALIAS[u];i=i.replace(wrapVar(c),wrapVar(c,0))}for(var d=0;d<o;d++)for(var f=0;f<a.length;f++){var h=r[d][a[f]];i=i.replace(wrapVar(TPL_VAR_ALIAS[f],d),n?encodeHTML(h):h)}return i}function getTooltipMarker(i,r){var n=isString$2(i)?{color:i,extraCssText:r}:i||{},o=n.color,a=n.type;r=n.extraCssText;var u=n.renderMode||"html";if(!o)return"";if(u==="html")return a==="subItem"?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+encodeHTML(o)+";"+(r||"")+'"></span>':'<span style="display:inline-block;margin-right:4px;border-radius:10px;width:10px;height:10px;background-color:'+encodeHTML(o)+";"+(r||"")+'"></span>';var c=n.markerId||"markerX";return{renderMode:u,content:"{"+c+"|}  ",style:a==="subItem"?{width:4,height:4,borderRadius:2,backgroundColor:o}:{width:10,height:10,borderRadius:5,backgroundColor:o}}}function convertToColorString(i,r){return r=r||"transparent",isString$2(i)?i:isObject$3(i)&&i.colorStops&&(i.colorStops[0]||{}).color||r}function windowOpen(i,r){if(r==="_blank"||r==="blank"){var n=window.open();n.opener=null,n.location.href=i}else window.open(i,r)}var each$3=each$4,LOCATION_PARAMS=["left","right","top","bottom","width","height"],HV_NAMES=[["width","left","right"],["height","top","bottom"]];function boxLayout(i,r,n,o,a){var u=0,c=0;o==null&&(o=1/0),a==null&&(a=1/0);var d=0;r.eachChild(function(f,h){var y=f.getBoundingRect(),g=r.childAt(h+1),p=g&&g.getBoundingRect(),v,_;if(i==="horizontal"){var b=y.width+(p?-p.x+y.x:0);v=u+b,v>o||f.newline?(u=0,v=b,c+=d+n,d=y.height):d=Math.max(d,y.height)}else{var A=y.height+(p?-p.y+y.y:0);_=c+A,_>a||f.newline?(u+=d+n,c=0,_=A,d=y.width):d=Math.max(d,y.width)}f.newline||(f.x=u,f.y=c,f.markRedraw(),i==="horizontal"?u=v+n:c=_+n)})}var box=boxLayout;curry$1(boxLayout,"vertical"),curry$1(boxLayout,"horizontal");function getLayoutRect(i,r,n){n=normalizeCssArray(n||0);var o=r.width,a=r.height,u=parsePercent(i.left,o),c=parsePercent(i.top,a),d=parsePercent(i.right,o),f=parsePercent(i.bottom,a),h=parsePercent(i.width,o),y=parsePercent(i.height,a),g=n[2]+n[0],p=n[1]+n[3],v=i.aspect;switch(isNaN(h)&&(h=o-d-p-u),isNaN(y)&&(y=a-f-g-c),v!=null&&(isNaN(h)&&isNaN(y)&&(v>o/a?h=o*.8:y=a*.8),isNaN(h)&&(h=v*y),isNaN(y)&&(y=h/v)),isNaN(u)&&(u=o-d-h-p),isNaN(c)&&(c=a-f-y-g),i.left||i.right){case"center":u=o/2-h/2-n[3];break;case"right":u=o-h-p;break}switch(i.top||i.bottom){case"middle":case"center":c=a/2-y/2-n[0];break;case"bottom":c=a-y-g;break}u=u||0,c=c||0,isNaN(h)&&(h=o-p-u-(d||0)),isNaN(y)&&(y=a-g-c-(f||0));var _=new BoundingRect$1(u+n[3],c+n[0],h,y);return _.margin=n,_}function fetchLayoutMode(i){var r=i.layoutMode||i.constructor.layoutMode;return isObject$3(r)?r:r?{type:r}:null}function mergeLayoutParam(i,r,n){var o=n&&n.ignoreSize;!isArray$1(o)&&(o=[o,o]);var a=c(HV_NAMES[0],0),u=c(HV_NAMES[1],1);h(HV_NAMES[0],i,a),h(HV_NAMES[1],i,u);function c(y,g){var p={},v=0,_={},b=0,A=2;if(each$3(y,function(T){_[T]=i[T]}),each$3(y,function(T){d(r,T)&&(p[T]=_[T]=r[T]),f(p,T)&&v++,f(_,T)&&b++}),o[g])return f(r,y[1])?_[y[2]]=null:f(r,y[2])&&(_[y[1]]=null),_;if(b===A||!v)return _;if(v>=A)return p;for(var w=0;w<y.length;w++){var S=y[w];if(!d(p,S)&&d(i,S)){p[S]=i[S];break}}return p}function d(y,g){return y.hasOwnProperty(g)}function f(y,g){return y[g]!=null&&y[g]!=="auto"}function h(y,g,p){each$3(y,function(v){g[v]=p[v]})}}function getLayoutParams(i){return copyLayoutParams({},i)}function copyLayoutParams(i,r){return r&&i&&each$3(LOCATION_PARAMS,function(n){r.hasOwnProperty(n)&&(i[n]=r[n])}),i}var inner$7=makeInner(),ComponentModel=function(i){__extends(r,i);function r(n,o,a){var u=i.call(this,n,o,a)||this;return u.uid=getUID("ec_cpt_model"),u}return r.prototype.init=function(n,o,a){this.mergeDefaultAndTheme(n,a)},r.prototype.mergeDefaultAndTheme=function(n,o){var a=fetchLayoutMode(this),u=a?getLayoutParams(n):{},c=o.getTheme();merge(n,c.get(this.mainType)),merge(n,this.getDefaultOption()),a&&mergeLayoutParam(n,u,a)},r.prototype.mergeOption=function(n,o){merge(this.option,n,!0);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,n,a)},r.prototype.optionUpdated=function(n,o){},r.prototype.getDefaultOption=function(){var n=this.constructor;if(!isExtendedClass(n))return n.defaultOption;var o=inner$7(this);if(!o.defaultOption){for(var a=[],u=n;u;){var c=u.prototype.defaultOption;c&&a.push(c),u=u.superClass}for(var d={},f=a.length-1;f>=0;f--)d=merge(d,a[f],!0);o.defaultOption=d}return o.defaultOption},r.prototype.getReferringComponents=function(n,o){var a=n+"Index",u=n+"Id";return queryReferringComponents(this.ecModel,n,{index:this.get(a,!0),id:this.get(u,!0)},o)},r.prototype.getBoxLayoutParams=function(){var n=this;return{left:n.get("left"),top:n.get("top"),right:n.get("right"),bottom:n.get("bottom"),width:n.get("width"),height:n.get("height")}},r.prototype.getZLevelKey=function(){return""},r.prototype.setZLevel=function(n){this.option.zlevel=n},r.protoInitialize=function(){var n=r.prototype;n.type="component",n.id="",n.name="",n.mainType="",n.subType="",n.componentIndex=0}(),r}(Model$1);mountExtend(ComponentModel,Model$1),enableClassManagement(ComponentModel),enableSubTypeDefaulter(ComponentModel),enableTopologicalTravel(ComponentModel,getDependencies);function getDependencies(i){var r=[];return each$4(ComponentModel.getClassesByMainType(i),function(n){r=r.concat(n.dependencies||n.prototype.dependencies||[])}),r=map$1(r,function(n){return parseClassType(n).main}),i!=="dataset"&&indexOf(r,"dataset")<=0&&r.unshift("dataset"),r}const ComponentModel$1=ComponentModel;var platform="";typeof navigator<"u"&&(platform=navigator.platform||"");var decalColor="rgba(0, 0, 0, 0.2)";const globalDefault={darkMode:"auto",colorBy:"series",color:["#5470c6","#91cc75","#fac858","#ee6666","#73c0de","#3ba272","#fc8452","#9a60b4","#ea7ccc"],gradientColor:["#f6efa6","#d88273","#bf444c"],aria:{decal:{decals:[{color:decalColor,dashArrayX:[1,0],dashArrayY:[2,5],symbolSize:1,rotation:Math.PI/6},{color:decalColor,symbol:"circle",dashArrayX:[[8,8],[0,8,8,0]],dashArrayY:[6,0],symbolSize:.8},{color:decalColor,dashArrayX:[1,0],dashArrayY:[4,3],rotation:-Math.PI/4},{color:decalColor,dashArrayX:[[6,6],[0,6,6,0]],dashArrayY:[6,0]},{color:decalColor,dashArrayX:[[1,0],[1,6]],dashArrayY:[1,0,6,0],rotation:Math.PI/4},{color:decalColor,symbol:"triangle",dashArrayX:[[9,9],[0,9,9,0]],dashArrayY:[7,2],symbolSize:.75}]}},textStyle:{fontFamily:platform.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,stateAnimation:{duration:300,easing:"cubicOut"},animation:"auto",animationDuration:1e3,animationDurationUpdate:500,animationEasing:"cubicInOut",animationEasingUpdate:"cubicInOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1};var VISUAL_DIMENSIONS=createHashMap(["tooltip","label","itemName","itemId","itemGroupId","itemChildGroupId","seriesName"]),SOURCE_FORMAT_ORIGINAL="original",SOURCE_FORMAT_ARRAY_ROWS="arrayRows",SOURCE_FORMAT_OBJECT_ROWS="objectRows",SOURCE_FORMAT_KEYED_COLUMNS="keyedColumns",SOURCE_FORMAT_TYPED_ARRAY="typedArray",SOURCE_FORMAT_UNKNOWN="unknown",SERIES_LAYOUT_BY_COLUMN="column",SERIES_LAYOUT_BY_ROW="row",BE_ORDINAL={Must:1,Might:2,Not:3},innerGlobalModel=makeInner();function resetSourceDefaulter(i){innerGlobalModel(i).datasetMap=createHashMap()}function makeSeriesEncodeForNameBased(i,r,n){var o={},a=querySeriesUpstreamDatasetModel(i);if(!a)return o;var u=r.sourceFormat,c=r.dimensionsDefine,d;(u===SOURCE_FORMAT_OBJECT_ROWS||u===SOURCE_FORMAT_KEYED_COLUMNS)&&each$4(c,function(y,g){(isObject$3(y)?y.name:y)==="name"&&(d=g)});var f=function(){for(var y={},g={},p=[],v=0,_=Math.min(5,n);v<_;v++){var b=doGuessOrdinal(r.data,u,r.seriesLayoutBy,c,r.startIndex,v);p.push(b);var A=b===BE_ORDINAL.Not;if(A&&y.v==null&&v!==d&&(y.v=v),(y.n==null||y.n===y.v||!A&&p[y.n]===BE_ORDINAL.Not)&&(y.n=v),w(y)&&p[y.n]!==BE_ORDINAL.Not)return y;A||(b===BE_ORDINAL.Might&&g.v==null&&v!==d&&(g.v=v),(g.n==null||g.n===g.v)&&(g.n=v))}function w(S){return S.v!=null&&S.n!=null}return w(y)?y:w(g)?g:null}();if(f){o.value=[f.v];var h=d??f.n;o.itemName=[h],o.seriesName=[h]}return o}function querySeriesUpstreamDatasetModel(i){var r=i.get("data",!0);if(!r)return queryReferringComponents(i.ecModel,"dataset",{index:i.get("datasetIndex",!0),id:i.get("datasetId",!0)},SINGLE_REFERRING).models[0]}function queryDatasetUpstreamDatasetModels(i){return!i.get("transform",!0)&&!i.get("fromTransformResult",!0)?[]:queryReferringComponents(i.ecModel,"dataset",{index:i.get("fromDatasetIndex",!0),id:i.get("fromDatasetId",!0)},SINGLE_REFERRING).models}function guessOrdinal(i,r){return doGuessOrdinal(i.data,i.sourceFormat,i.seriesLayoutBy,i.dimensionsDefine,i.startIndex,r)}function doGuessOrdinal(i,r,n,o,a,u){var c,d=5;if(isTypedArray(i))return BE_ORDINAL.Not;var f,h;if(o){var y=o[u];isObject$3(y)?(f=y.name,h=y.type):isString$2(y)&&(f=y)}if(h!=null)return h==="ordinal"?BE_ORDINAL.Must:BE_ORDINAL.Not;if(r===SOURCE_FORMAT_ARRAY_ROWS){var g=i;if(n===SERIES_LAYOUT_BY_ROW){for(var p=g[u],v=0;v<(p||[]).length&&v<d;v++)if((c=x(p[a+v]))!=null)return c}else for(var v=0;v<g.length&&v<d;v++){var _=g[a+v];if(_&&(c=x(_[u]))!=null)return c}}else if(r===SOURCE_FORMAT_OBJECT_ROWS){var b=i;if(!f)return BE_ORDINAL.Not;for(var v=0;v<b.length&&v<d;v++){var A=b[v];if(A&&(c=x(A[f]))!=null)return c}}else if(r===SOURCE_FORMAT_KEYED_COLUMNS){var w=i;if(!f)return BE_ORDINAL.Not;var p=w[f];if(!p||isTypedArray(p))return BE_ORDINAL.Not;for(var v=0;v<p.length&&v<d;v++)if((c=x(p[v]))!=null)return c}else if(r===SOURCE_FORMAT_ORIGINAL)for(var S=i,v=0;v<S.length&&v<d;v++){var A=S[v],T=getDataItemValue(A);if(!isArray$1(T))return BE_ORDINAL.Not;if((c=x(T[u]))!=null)return c}function x(M){var L=isString$2(M);if(M!=null&&Number.isFinite(Number(M))&&M!=="")return L?BE_ORDINAL.Might:BE_ORDINAL.Not;if(L&&M!=="-")return BE_ORDINAL.Must}return BE_ORDINAL.Not}var internalOptionCreatorMap=createHashMap();function concatInternalOptions(i,r,n){var o=internalOptionCreatorMap.get(r);if(!o)return n;var a=o(i);if(!a)return n;if(process.env.NODE_ENV!=="production")for(var u=0;u<a.length;u++)assert(isComponentIdInternal(a[u]));return n.concat(a)}var innerColor=makeInner();makeInner();var PaletteMixin=function(){function i(){}return i.prototype.getColorFromPalette=function(r,n,o){var a=normalizeToArray(this.get("color",!0)),u=this.get("colorLayer",!0);return getFromPalette(this,innerColor,a,u,r,n,o)},i.prototype.clearColorPalette=function(){clearPalette(this,innerColor)},i}();function getNearestPalette(i,r){for(var n=i.length,o=0;o<n;o++)if(i[o].length>r)return i[o];return i[n-1]}function getFromPalette(i,r,n,o,a,u,c){u=u||i;var d=r(u),f=d.paletteIdx||0,h=d.paletteNameMap=d.paletteNameMap||{};if(h.hasOwnProperty(a))return h[a];var y=c==null||!o?n:getNearestPalette(o,c);if(y=y||n,!(!y||!y.length)){var g=y[f];return a&&(h[a]=g),d.paletteIdx=(f+1)%y.length,g}}function clearPalette(i,r){r(i).paletteIdx=0,r(i).paletteNameMap={}}var reCreateSeriesIndices,assertSeriesInitialized,initBase,OPTION_INNER_KEY="\0_ec_inner",OPTION_INNER_VALUE=1,BUITIN_COMPONENTS_MAP={grid:"GridComponent",polar:"PolarComponent",geo:"GeoComponent",singleAxis:"SingleAxisComponent",parallel:"ParallelComponent",calendar:"CalendarComponent",graphic:"GraphicComponent",toolbox:"ToolboxComponent",tooltip:"TooltipComponent",axisPointer:"AxisPointerComponent",brush:"BrushComponent",title:"TitleComponent",timeline:"TimelineComponent",markPoint:"MarkPointComponent",markLine:"MarkLineComponent",markArea:"MarkAreaComponent",legend:"LegendComponent",dataZoom:"DataZoomComponent",visualMap:"VisualMapComponent",xAxis:"GridComponent",yAxis:"GridComponent",angleAxis:"PolarComponent",radiusAxis:"PolarComponent"},BUILTIN_CHARTS_MAP={line:"LineChart",bar:"BarChart",pie:"PieChart",scatter:"ScatterChart",radar:"RadarChart",map:"MapChart",tree:"TreeChart",treemap:"TreemapChart",graph:"GraphChart",gauge:"GaugeChart",funnel:"FunnelChart",parallel:"ParallelChart",sankey:"SankeyChart",boxplot:"BoxplotChart",candlestick:"CandlestickChart",effectScatter:"EffectScatterChart",lines:"LinesChart",heatmap:"HeatmapChart",pictorialBar:"PictorialBarChart",themeRiver:"ThemeRiverChart",sunburst:"SunburstChart",custom:"CustomChart"},componetsMissingLogPrinted={};function checkMissingComponents(i){each$4(i,function(r,n){if(!ComponentModel$1.hasClass(n)){var o=BUITIN_COMPONENTS_MAP[n];o&&!componetsMissingLogPrinted[o]&&(error("Component "+n+` is used but not imported.
import { `+o+` } from 'echarts/components';
echarts.use([`+o+"]);"),componetsMissingLogPrinted[o]=!0)}})}var GlobalModel=function(i){__extends(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(n,o,a,u,c,d){u=u||{},this.option=null,this._theme=new Model$1(u),this._locale=new Model$1(c),this._optionManager=d},r.prototype.setOption=function(n,o,a){process.env.NODE_ENV!=="production"&&(assert(n!=null,"option is null/undefined"),assert(n[OPTION_INNER_KEY]!==OPTION_INNER_VALUE,"please use chart.getOption()"));var u=normalizeSetOptionInput(o);this._optionManager.setOption(n,a,u),this._resetOption(null,u)},r.prototype.resetOption=function(n,o){return this._resetOption(n,normalizeSetOptionInput(o))},r.prototype._resetOption=function(n,o){var a=!1,u=this._optionManager;if(!n||n==="recreate"){var c=u.mountOption(n==="recreate");process.env.NODE_ENV!=="production"&&checkMissingComponents(c),!this.option||n==="recreate"?initBase(this,c):(this.restoreData(),this._mergeOption(c,o)),a=!0}if((n==="timeline"||n==="media")&&this.restoreData(),!n||n==="recreate"||n==="timeline"){var d=u.getTimelineOption(this);d&&(a=!0,this._mergeOption(d,o))}if(!n||n==="recreate"||n==="media"){var f=u.getMediaOption(this);f.length&&each$4(f,function(h){a=!0,this._mergeOption(h,o)},this)}return a},r.prototype.mergeOption=function(n){this._mergeOption(n,null)},r.prototype._mergeOption=function(n,o){var a=this.option,u=this._componentsMap,c=this._componentsCount,d=[],f=createHashMap(),h=o&&o.replaceMergeMainTypeMap;resetSourceDefaulter(this),each$4(n,function(g,p){g!=null&&(ComponentModel$1.hasClass(p)?p&&(d.push(p),f.set(p,!0)):a[p]=a[p]==null?clone$2(g):merge(a[p],g,!0))}),h&&h.each(function(g,p){ComponentModel$1.hasClass(p)&&!f.get(p)&&(d.push(p),f.set(p,!0))}),ComponentModel$1.topologicalTravel(d,ComponentModel$1.getAllClassMainTypes(),y,this);function y(g){var p=concatInternalOptions(this,g,normalizeToArray(n[g])),v=u.get(g),_=v?h&&h.get(g)?"replaceMerge":"normalMerge":"replaceAll",b=mappingToExists(v,p,_);setComponentTypeToKeyInfo(b,g,ComponentModel$1),a[g]=null,u.set(g,null),c.set(g,0);var A=[],w=[],S=0,T,x;each$4(b,function(M,L){var k=M.existing,ie=M.newOption;if(!ie)k&&(k.mergeOption({},this),k.optionUpdated({},!1));else{var $=g==="series",z=ComponentModel$1.getClass(g,M.keyInfo.subType,!$);if(!z){if(process.env.NODE_ENV!=="production"){var V=M.keyInfo.subType,re=BUILTIN_CHARTS_MAP[V];componetsMissingLogPrinted[V]||(componetsMissingLogPrinted[V]=!0,error(re?"Series "+V+` is used but not imported.
import { `+re+` } from 'echarts/charts';
echarts.use([`+re+"]);":"Unknown series "+V))}return}if(g==="tooltip"){if(T){process.env.NODE_ENV!=="production"&&(x||(warn("Currently only one tooltip component is allowed."),x=!0));return}T=!0}if(k&&k.constructor===z)k.name=M.keyInfo.name,k.mergeOption(ie,this),k.optionUpdated(ie,!1);else{var D=extend({componentIndex:L},M.keyInfo);k=new z(ie,this,this,D),extend(k,D),M.brandNew&&(k.__requireNewView=!0),k.init(ie,this,this),k.optionUpdated(null,!0)}}k?(A.push(k.option),w.push(k),S++):(A.push(void 0),w.push(void 0))},this),a[g]=A,u.set(g,w),c.set(g,S),g==="series"&&reCreateSeriesIndices(this)}this._seriesIndices||reCreateSeriesIndices(this)},r.prototype.getOption=function(){var n=clone$2(this.option);return each$4(n,function(o,a){if(ComponentModel$1.hasClass(a)){for(var u=normalizeToArray(o),c=u.length,d=!1,f=c-1;f>=0;f--)u[f]&&!isComponentIdInternal(u[f])?d=!0:(u[f]=null,!d&&c--);u.length=c,n[a]=u}}),delete n[OPTION_INNER_KEY],n},r.prototype.getTheme=function(){return this._theme},r.prototype.getLocaleModel=function(){return this._locale},r.prototype.setUpdatePayload=function(n){this._payload=n},r.prototype.getUpdatePayload=function(){return this._payload},r.prototype.getComponent=function(n,o){var a=this._componentsMap.get(n);if(a){var u=a[o||0];if(u)return u;if(o==null){for(var c=0;c<a.length;c++)if(a[c])return a[c]}}},r.prototype.queryComponents=function(n){var o=n.mainType;if(!o)return[];var a=n.index,u=n.id,c=n.name,d=this._componentsMap.get(o);if(!d||!d.length)return[];var f;return a!=null?(f=[],each$4(normalizeToArray(a),function(h){d[h]&&f.push(d[h])})):u!=null?f=queryByIdOrName("id",u,d):c!=null?f=queryByIdOrName("name",c,d):f=filter(d,function(h){return!!h}),filterBySubType(f,n)},r.prototype.findComponents=function(n){var o=n.query,a=n.mainType,u=d(o),c=u?this.queryComponents(u):filter(this._componentsMap.get(a),function(h){return!!h});return f(filterBySubType(c,n));function d(h){var y=a+"Index",g=a+"Id",p=a+"Name";return h&&(h[y]!=null||h[g]!=null||h[p]!=null)?{mainType:a,index:h[y],id:h[g],name:h[p]}:null}function f(h){return n.filter?filter(h,n.filter):h}},r.prototype.eachComponent=function(n,o,a){var u=this._componentsMap;if(isFunction$1(n)){var c=o,d=n;u.each(function(g,p){for(var v=0;g&&v<g.length;v++){var _=g[v];_&&d.call(c,p,_,_.componentIndex)}})}else for(var f=isString$2(n)?u.get(n):isObject$3(n)?this.findComponents(n):null,h=0;f&&h<f.length;h++){var y=f[h];y&&o.call(a,y,y.componentIndex)}},r.prototype.getSeriesByName=function(n){var o=convertOptionIdName(n,null);return filter(this._componentsMap.get("series"),function(a){return!!a&&o!=null&&a.name===o})},r.prototype.getSeriesByIndex=function(n){return this._componentsMap.get("series")[n]},r.prototype.getSeriesByType=function(n){return filter(this._componentsMap.get("series"),function(o){return!!o&&o.subType===n})},r.prototype.getSeries=function(){return filter(this._componentsMap.get("series"),function(n){return!!n})},r.prototype.getSeriesCount=function(){return this._componentsCount.get("series")},r.prototype.eachSeries=function(n,o){assertSeriesInitialized(this),each$4(this._seriesIndices,function(a){var u=this._componentsMap.get("series")[a];n.call(o,u,a)},this)},r.prototype.eachRawSeries=function(n,o){each$4(this._componentsMap.get("series"),function(a){a&&n.call(o,a,a.componentIndex)})},r.prototype.eachSeriesByType=function(n,o,a){assertSeriesInitialized(this),each$4(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];c.subType===n&&o.call(a,c,u)},this)},r.prototype.eachRawSeriesByType=function(n,o,a){return each$4(this.getSeriesByType(n),o,a)},r.prototype.isSeriesFiltered=function(n){return assertSeriesInitialized(this),this._seriesIndicesMap.get(n.componentIndex)==null},r.prototype.getCurrentSeriesIndices=function(){return(this._seriesIndices||[]).slice()},r.prototype.filterSeries=function(n,o){assertSeriesInitialized(this);var a=[];each$4(this._seriesIndices,function(u){var c=this._componentsMap.get("series")[u];n.call(o,c,u)&&a.push(u)},this),this._seriesIndices=a,this._seriesIndicesMap=createHashMap(a)},r.prototype.restoreData=function(n){reCreateSeriesIndices(this);var o=this._componentsMap,a=[];o.each(function(u,c){ComponentModel$1.hasClass(c)&&a.push(c)}),ComponentModel$1.topologicalTravel(a,ComponentModel$1.getAllClassMainTypes(),function(u){each$4(o.get(u),function(c){c&&(u!=="series"||!isNotTargetSeries(c,n))&&c.restoreData()})})},r.internalField=function(){reCreateSeriesIndices=function(n){var o=n._seriesIndices=[];each$4(n._componentsMap.get("series"),function(a){a&&o.push(a.componentIndex)}),n._seriesIndicesMap=createHashMap(o)},assertSeriesInitialized=function(n){if(process.env.NODE_ENV!=="production"&&!n._seriesIndices)throw new Error("Option should contains series.")},initBase=function(n,o){n.option={},n.option[OPTION_INNER_KEY]=OPTION_INNER_VALUE,n._componentsMap=createHashMap({series:[]}),n._componentsCount=createHashMap();var a=o.aria;isObject$3(a)&&a.enabled==null&&(a.enabled=!0),mergeTheme(o,n._theme.option),merge(o,globalDefault,!1),n._mergeOption(o,null)}}(),r}(Model$1);function isNotTargetSeries(i,r){if(r){var n=r.seriesIndex,o=r.seriesId,a=r.seriesName;return n!=null&&i.componentIndex!==n||o!=null&&i.id!==o||a!=null&&i.name!==a}}function mergeTheme(i,r){var n=i.color&&!i.colorLayer;each$4(r,function(o,a){a==="colorLayer"&&n||ComponentModel$1.hasClass(a)||(typeof o=="object"?i[a]=i[a]?merge(i[a],o,!1):clone$2(o):i[a]==null&&(i[a]=o))})}function queryByIdOrName(i,r,n){if(isArray$1(r)){var o=createHashMap();return each$4(r,function(u){if(u!=null){var c=convertOptionIdName(u,null);c!=null&&o.set(u,!0)}}),filter(n,function(u){return u&&o.get(u[i])})}else{var a=convertOptionIdName(r,null);return filter(n,function(u){return u&&a!=null&&u[i]===a})}}function filterBySubType(i,r){return r.hasOwnProperty("subType")?filter(i,function(n){return n&&n.subType===r.subType}):i}function normalizeSetOptionInput(i){var r=createHashMap();return i&&each$4(normalizeToArray(i.replaceMerge),function(n){process.env.NODE_ENV!=="production"&&assert(ComponentModel$1.hasClass(n),'"'+n+'" is not valid component main type in "replaceMerge"'),r.set(n,!0)}),{replaceMergeMainTypeMap:r}}mixin(GlobalModel,PaletteMixin);const GlobalModel$1=GlobalModel;var availableMethods=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isSSR","isDisposed","on","off","getDataURL","getConnectedDataURL","getOption","getId","updateLabelLayout"],ExtensionAPI=function(){function i(r){each$4(availableMethods,function(n){this[n]=bind$1(r[n],r)},this)}return i}();const ExtensionAPI$1=ExtensionAPI;var coordinateSystemCreators={},CoordinateSystemManager=function(){function i(){this._coordinateSystems=[]}return i.prototype.create=function(r,n){var o=[];each$4(coordinateSystemCreators,function(a,u){var c=a.create(r,n);o=o.concat(c||[])}),this._coordinateSystems=o},i.prototype.update=function(r,n){each$4(this._coordinateSystems,function(o){o.update&&o.update(r,n)})},i.prototype.getCoordinateSystems=function(){return this._coordinateSystems.slice()},i.register=function(r,n){coordinateSystemCreators[r]=n},i.get=function(r){return coordinateSystemCreators[r]},i}();const CoordinateSystem=CoordinateSystemManager;var QUERY_REG=/^(min|max)?(.+)$/,OptionManager=function(){function i(r){this._timelineOptions=[],this._mediaList=[],this._currentMediaIndices=[],this._api=r}return i.prototype.setOption=function(r,n,o){r&&(each$4(normalizeToArray(r.series),function(c){c&&c.data&&isTypedArray(c.data)&&setAsPrimitive(c.data)}),each$4(normalizeToArray(r.dataset),function(c){c&&c.source&&isTypedArray(c.source)&&setAsPrimitive(c.source)})),r=clone$2(r);var a=this._optionBackup,u=parseRawOption(r,n,!a);this._newBaseOption=u.baseOption,a?(u.timelineOptions.length&&(a.timelineOptions=u.timelineOptions),u.mediaList.length&&(a.mediaList=u.mediaList),u.mediaDefault&&(a.mediaDefault=u.mediaDefault)):this._optionBackup=u},i.prototype.mountOption=function(r){var n=this._optionBackup;return this._timelineOptions=n.timelineOptions,this._mediaList=n.mediaList,this._mediaDefault=n.mediaDefault,this._currentMediaIndices=[],clone$2(r?n.baseOption:this._newBaseOption)},i.prototype.getTimelineOption=function(r){var n,o=this._timelineOptions;if(o.length){var a=r.getComponent("timeline");a&&(n=clone$2(o[a.getCurrentIndex()]))}return n},i.prototype.getMediaOption=function(r){var n=this._api.getWidth(),o=this._api.getHeight(),a=this._mediaList,u=this._mediaDefault,c=[],d=[];if(!a.length&&!u)return d;for(var f=0,h=a.length;f<h;f++)applyMediaQuery(a[f].query,n,o)&&c.push(f);return!c.length&&u&&(c=[-1]),c.length&&!indicesEquals(c,this._currentMediaIndices)&&(d=map$1(c,function(y){return clone$2(y===-1?u.option:a[y].option)})),this._currentMediaIndices=c,d},i}();function parseRawOption(i,r,n){var o=[],a,u,c=i.baseOption,d=i.timeline,f=i.options,h=i.media,y=!!i.media,g=!!(f||d||c&&c.timeline);c?(u=c,u.timeline||(u.timeline=d)):((g||y)&&(i.options=i.media=null),u=i),y&&(isArray$1(h)?each$4(h,function(v){process.env.NODE_ENV!=="production"&&v&&!v.option&&isObject$3(v.query)&&isObject$3(v.query.option)&&error("Illegal media option. Must be like { media: [ { query: {}, option: {} } ] }"),v&&v.option&&(v.query?o.push(v):a||(a=v))}):process.env.NODE_ENV!=="production"&&error("Illegal media option. Must be an array. Like { media: [ {...}, {...} ] }")),p(u),each$4(f,function(v){return p(v)}),each$4(o,function(v){return p(v.option)});function p(v){each$4(r,function(_){_(v,n)})}return{baseOption:u,timelineOptions:f||[],mediaDefault:a,mediaList:o}}function applyMediaQuery(i,r,n){var o={width:r,height:n,aspectratio:r/n},a=!0;return each$4(i,function(u,c){var d=c.match(QUERY_REG);if(!(!d||!d[1]||!d[2])){var f=d[1],h=d[2].toLowerCase();compare(o[h],u,f)||(a=!1)}}),a}function compare(i,r,n){return n==="min"?i>=r:n==="max"?i<=r:i===r}function indicesEquals(i,r){return i.join(",")===r.join(",")}const OptionManager$1=OptionManager;var each$2=each$4,isObject$2=isObject$3,POSSIBLE_STYLES=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function compatEC2ItemStyle(i){var r=i&&i.itemStyle;if(r)for(var n=0,o=POSSIBLE_STYLES.length;n<o;n++){var a=POSSIBLE_STYLES[n],u=r.normal,c=r.emphasis;u&&u[a]&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("itemStyle.normal."+a,a),i[a]=i[a]||{},i[a].normal?merge(i[a].normal,u[a]):i[a].normal=u[a],u[a]=null),c&&c[a]&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("itemStyle.emphasis."+a,"emphasis."+a),i[a]=i[a]||{},i[a].emphasis?merge(i[a].emphasis,c[a]):i[a].emphasis=c[a],c[a]=null)}}function convertNormalEmphasis(i,r,n){if(i&&i[r]&&(i[r].normal||i[r].emphasis)){var o=i[r].normal,a=i[r].emphasis;o&&(process.env.NODE_ENV!=="production"&&deprecateLog("'normal' hierarchy in "+r+" has been removed since 4.0. All style properties are configured in "+r+" directly now."),n?(i[r].normal=i[r].emphasis=null,defaults(i[r],o)):i[r]=o),a&&(process.env.NODE_ENV!=="production"&&deprecateLog(r+".emphasis has been changed to emphasis."+r+" since 4.0"),i.emphasis=i.emphasis||{},i.emphasis[r]=a,a.focus&&(i.emphasis.focus=a.focus),a.blurScope&&(i.emphasis.blurScope=a.blurScope))}}function removeEC3NormalStatus(i){convertNormalEmphasis(i,"itemStyle"),convertNormalEmphasis(i,"lineStyle"),convertNormalEmphasis(i,"areaStyle"),convertNormalEmphasis(i,"label"),convertNormalEmphasis(i,"labelLine"),convertNormalEmphasis(i,"upperLabel"),convertNormalEmphasis(i,"edgeLabel")}function compatTextStyle(i,r){var n=isObject$2(i)&&i[r],o=isObject$2(n)&&n.textStyle;if(o){process.env.NODE_ENV!=="production"&&deprecateLog("textStyle hierarchy in "+r+" has been removed since 4.0. All textStyle properties are configured in "+r+" directly now.");for(var a=0,u=TEXT_STYLE_OPTIONS.length;a<u;a++){var c=TEXT_STYLE_OPTIONS[a];o.hasOwnProperty(c)&&(n[c]=o[c])}}}function compatEC3CommonStyles(i){i&&(removeEC3NormalStatus(i),compatTextStyle(i,"label"),i.emphasis&&compatTextStyle(i.emphasis,"label"))}function processSeries(i){if(isObject$2(i)){compatEC2ItemStyle(i),removeEC3NormalStatus(i),compatTextStyle(i,"label"),compatTextStyle(i,"upperLabel"),compatTextStyle(i,"edgeLabel"),i.emphasis&&(compatTextStyle(i.emphasis,"label"),compatTextStyle(i.emphasis,"upperLabel"),compatTextStyle(i.emphasis,"edgeLabel"));var r=i.markPoint;r&&(compatEC2ItemStyle(r),compatEC3CommonStyles(r));var n=i.markLine;n&&(compatEC2ItemStyle(n),compatEC3CommonStyles(n));var o=i.markArea;o&&compatEC3CommonStyles(o);var a=i.data;if(i.type==="graph"){a=a||i.nodes;var u=i.links||i.edges;if(u&&!isTypedArray(u))for(var c=0;c<u.length;c++)compatEC3CommonStyles(u[c]);each$4(i.categories,function(h){removeEC3NormalStatus(h)})}if(a&&!isTypedArray(a))for(var c=0;c<a.length;c++)compatEC3CommonStyles(a[c]);if(r=i.markPoint,r&&r.data)for(var d=r.data,c=0;c<d.length;c++)compatEC3CommonStyles(d[c]);if(n=i.markLine,n&&n.data)for(var f=n.data,c=0;c<f.length;c++)isArray$1(f[c])?(compatEC3CommonStyles(f[c][0]),compatEC3CommonStyles(f[c][1])):compatEC3CommonStyles(f[c]);i.type==="gauge"?(compatTextStyle(i,"axisLabel"),compatTextStyle(i,"title"),compatTextStyle(i,"detail")):i.type==="treemap"?(convertNormalEmphasis(i.breadcrumb,"itemStyle"),each$4(i.levels,function(h){removeEC3NormalStatus(h)})):i.type==="tree"&&removeEC3NormalStatus(i.leaves)}}function toArr(i){return isArray$1(i)?i:i?[i]:[]}function toObj(i){return(isArray$1(i)?i[0]:i)||{}}function globalCompatStyle(i,r){each$2(toArr(i.series),function(o){isObject$2(o)&&processSeries(o)});var n=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];r&&n.push("valueAxis","categoryAxis","logAxis","timeAxis"),each$2(n,function(o){each$2(toArr(i[o]),function(a){a&&(compatTextStyle(a,"axisLabel"),compatTextStyle(a.axisPointer,"label"))})}),each$2(toArr(i.parallel),function(o){var a=o&&o.parallelAxisDefault;compatTextStyle(a,"axisLabel"),compatTextStyle(a&&a.axisPointer,"label")}),each$2(toArr(i.calendar),function(o){convertNormalEmphasis(o,"itemStyle"),compatTextStyle(o,"dayLabel"),compatTextStyle(o,"monthLabel"),compatTextStyle(o,"yearLabel")}),each$2(toArr(i.radar),function(o){compatTextStyle(o,"name"),o.name&&o.axisName==null&&(o.axisName=o.name,delete o.name,process.env.NODE_ENV!=="production"&&deprecateLog("name property in radar component has been changed to axisName")),o.nameGap!=null&&o.axisNameGap==null&&(o.axisNameGap=o.nameGap,delete o.nameGap,process.env.NODE_ENV!=="production"&&deprecateLog("nameGap property in radar component has been changed to axisNameGap")),process.env.NODE_ENV!=="production"&&each$2(o.indicator,function(a){a.text&&deprecateReplaceLog("text","name","radar.indicator")})}),each$2(toArr(i.geo),function(o){isObject$2(o)&&(compatEC3CommonStyles(o),each$2(toArr(o.regions),function(a){compatEC3CommonStyles(a)}))}),each$2(toArr(i.timeline),function(o){compatEC3CommonStyles(o),convertNormalEmphasis(o,"label"),convertNormalEmphasis(o,"itemStyle"),convertNormalEmphasis(o,"controlStyle",!0);var a=o.data;isArray$1(a)&&each$4(a,function(u){isObject$3(u)&&(convertNormalEmphasis(u,"label"),convertNormalEmphasis(u,"itemStyle"))})}),each$2(toArr(i.toolbox),function(o){convertNormalEmphasis(o,"iconStyle"),each$2(o.feature,function(a){convertNormalEmphasis(a,"iconStyle")})}),compatTextStyle(toObj(i.axisPointer),"label"),compatTextStyle(toObj(i.tooltip).axisPointer,"label")}function get(i,r){for(var n=r.split(","),o=i,a=0;a<n.length&&(o=o&&o[n[a]],o!=null);a++);return o}function set(i,r,n,o){for(var a=r.split(","),u=i,c,d=0;d<a.length-1;d++)c=a[d],u[c]==null&&(u[c]={}),u=u[c];(o||u[a[d]]==null)&&(u[a[d]]=n)}function compatLayoutProperties(i){i&&each$4(LAYOUT_PROPERTIES,function(r){r[0]in i&&!(r[1]in i)&&(i[r[1]]=i[r[0]])})}var LAYOUT_PROPERTIES=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],COMPATITABLE_COMPONENTS=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],BAR_ITEM_STYLE_MAP=[["borderRadius","barBorderRadius"],["borderColor","barBorderColor"],["borderWidth","barBorderWidth"]];function compatBarItemStyle(i){var r=i&&i.itemStyle;if(r)for(var n=0;n<BAR_ITEM_STYLE_MAP.length;n++){var o=BAR_ITEM_STYLE_MAP[n][1],a=BAR_ITEM_STYLE_MAP[n][0];r[o]!=null&&(r[a]=r[o],process.env.NODE_ENV!=="production"&&deprecateReplaceLog(o,a))}}function compatPieLabel(i){i&&i.alignTo==="edge"&&i.margin!=null&&i.edgeDistance==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("label.margin","label.edgeDistance","pie"),i.edgeDistance=i.margin)}function compatSunburstState(i){i&&i.downplay&&!i.blur&&(i.blur=i.downplay,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("downplay","blur","sunburst"))}function compatGraphFocus(i){i&&i.focusNodeAdjacency!=null&&(i.emphasis=i.emphasis||{},i.emphasis.focus==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("focusNodeAdjacency","emphasis: { focus: 'adjacency'}","graph/sankey"),i.emphasis.focus="adjacency"))}function traverseTree(i,r){if(i)for(var n=0;n<i.length;n++)r(i[n]),i[n]&&traverseTree(i[n].children,r)}function globalBackwardCompat(i,r){globalCompatStyle(i,r),i.series=normalizeToArray(i.series),each$4(i.series,function(n){if(isObject$3(n)){var o=n.type;if(o==="line")n.clipOverflow!=null&&(n.clip=n.clipOverflow,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("clipOverflow","clip","line"));else if(o==="pie"||o==="gauge"){n.clockWise!=null&&(n.clockwise=n.clockWise,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("clockWise","clockwise")),compatPieLabel(n.label);var a=n.data;if(a&&!isTypedArray(a))for(var u=0;u<a.length;u++)compatPieLabel(a[u]);n.hoverOffset!=null&&(n.emphasis=n.emphasis||{},(n.emphasis.scaleSize=null)&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("hoverOffset","emphasis.scaleSize"),n.emphasis.scaleSize=n.hoverOffset))}else if(o==="gauge"){var c=get(n,"pointer.color");c!=null&&set(n,"itemStyle.color",c)}else if(o==="bar"){compatBarItemStyle(n),compatBarItemStyle(n.backgroundStyle),compatBarItemStyle(n.emphasis);var a=n.data;if(a&&!isTypedArray(a))for(var u=0;u<a.length;u++)typeof a[u]=="object"&&(compatBarItemStyle(a[u]),compatBarItemStyle(a[u]&&a[u].emphasis))}else if(o==="sunburst"){var d=n.highlightPolicy;d&&(n.emphasis=n.emphasis||{},n.emphasis.focus||(n.emphasis.focus=d,process.env.NODE_ENV!=="production"&&deprecateReplaceLog("highlightPolicy","emphasis.focus","sunburst"))),compatSunburstState(n),traverseTree(n.data,compatSunburstState)}else o==="graph"||o==="sankey"?compatGraphFocus(n):o==="map"&&(n.mapType&&!n.map&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("mapType","map","map"),n.map=n.mapType),n.mapLocation&&(process.env.NODE_ENV!=="production"&&deprecateLog("`mapLocation` is not used anymore."),defaults(n,n.mapLocation)));n.hoverAnimation!=null&&(n.emphasis=n.emphasis||{},n.emphasis&&n.emphasis.scale==null&&(process.env.NODE_ENV!=="production"&&deprecateReplaceLog("hoverAnimation","emphasis.scale"),n.emphasis.scale=n.hoverAnimation)),compatLayoutProperties(n)}}),i.dataRange&&(i.visualMap=i.dataRange),each$4(COMPATITABLE_COMPONENTS,function(n){var o=i[n];o&&(isArray$1(o)||(o=[o]),each$4(o,function(a){compatLayoutProperties(a)}))})}function dataStack(i){var r=createHashMap();i.eachSeries(function(n){var o=n.get("stack");if(o){var a=r.get(o)||r.set(o,[]),u=n.getData(),c={stackResultDimension:u.getCalculationInfo("stackResultDimension"),stackedOverDimension:u.getCalculationInfo("stackedOverDimension"),stackedDimension:u.getCalculationInfo("stackedDimension"),stackedByDimension:u.getCalculationInfo("stackedByDimension"),isStackedByIndex:u.getCalculationInfo("isStackedByIndex"),data:u,seriesModel:n};if(!c.stackedDimension||!(c.isStackedByIndex||c.stackedByDimension))return;a.length&&u.setCalculationInfo("stackedOnSeries",a[a.length-1].seriesModel),a.push(c)}}),r.each(calculateStack)}function calculateStack(i){each$4(i,function(r,n){var o=[],a=[NaN,NaN],u=[r.stackResultDimension,r.stackedOverDimension],c=r.data,d=r.isStackedByIndex,f=r.seriesModel.get("stackStrategy")||"samesign";c.modify(u,function(h,y,g){var p=c.get(r.stackedDimension,g);if(isNaN(p))return a;var v,_;d?_=c.getRawIndex(g):v=c.get(r.stackedByDimension,g);for(var b=NaN,A=n-1;A>=0;A--){var w=i[A];if(d||(_=w.data.rawIndexOf(w.stackedByDimension,v)),_>=0){var S=w.data.getByRawIndex(w.stackResultDimension,_);if(f==="all"||f==="positive"&&S>0||f==="negative"&&S<0||f==="samesign"&&p>=0&&S>0||f==="samesign"&&p<=0&&S<0){p=addSafe(p,S),b=S;break}}}return o[0]=p,o[1]=b,o})})}var SourceImpl=function(){function i(r){this.data=r.data||(r.sourceFormat===SOURCE_FORMAT_KEYED_COLUMNS?{}:[]),this.sourceFormat=r.sourceFormat||SOURCE_FORMAT_UNKNOWN,this.seriesLayoutBy=r.seriesLayoutBy||SERIES_LAYOUT_BY_COLUMN,this.startIndex=r.startIndex||0,this.dimensionsDetectedCount=r.dimensionsDetectedCount,this.metaRawOption=r.metaRawOption;var n=this.dimensionsDefine=r.dimensionsDefine;if(n)for(var o=0;o<n.length;o++){var a=n[o];a.type==null&&guessOrdinal(this,o)===BE_ORDINAL.Must&&(a.type="ordinal")}}return i}();function isSourceInstance(i){return i instanceof SourceImpl}function createSource(i,r,n){n=n||detectSourceFormat(i);var o=r.seriesLayoutBy,a=determineSourceDimensions(i,n,o,r.sourceHeader,r.dimensions),u=new SourceImpl({data:i,sourceFormat:n,seriesLayoutBy:o,dimensionsDefine:a.dimensionsDefine,startIndex:a.startIndex,dimensionsDetectedCount:a.dimensionsDetectedCount,metaRawOption:clone$2(r)});return u}function createSourceFromSeriesDataOption(i){return new SourceImpl({data:i,sourceFormat:isTypedArray(i)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL})}function cloneSourceShallow(i){return new SourceImpl({data:i.data,sourceFormat:i.sourceFormat,seriesLayoutBy:i.seriesLayoutBy,dimensionsDefine:clone$2(i.dimensionsDefine),startIndex:i.startIndex,dimensionsDetectedCount:i.dimensionsDetectedCount})}function detectSourceFormat(i){var r=SOURCE_FORMAT_UNKNOWN;if(isTypedArray(i))r=SOURCE_FORMAT_TYPED_ARRAY;else if(isArray$1(i)){i.length===0&&(r=SOURCE_FORMAT_ARRAY_ROWS);for(var n=0,o=i.length;n<o;n++){var a=i[n];if(a!=null){if(isArray$1(a)||isTypedArray(a)){r=SOURCE_FORMAT_ARRAY_ROWS;break}else if(isObject$3(a)){r=SOURCE_FORMAT_OBJECT_ROWS;break}}}}else if(isObject$3(i)){for(var u in i)if(hasOwn$1(i,u)&&isArrayLike(i[u])){r=SOURCE_FORMAT_KEYED_COLUMNS;break}}return r}function determineSourceDimensions(i,r,n,o,a){var u,c;if(!i)return{dimensionsDefine:normalizeDimensionsOption(a),startIndex:c,dimensionsDetectedCount:u};if(r===SOURCE_FORMAT_ARRAY_ROWS){var d=i;o==="auto"||o==null?arrayRowsTravelFirst(function(h){h!=null&&h!=="-"&&(isString$2(h)?c==null&&(c=1):c=0)},n,d,10):c=isNumber$1(o)?o:o?1:0,!a&&c===1&&(a=[],arrayRowsTravelFirst(function(h,y){a[y]=h!=null?h+"":""},n,d,1/0)),u=a?a.length:n===SERIES_LAYOUT_BY_ROW?d.length:d[0]?d[0].length:null}else if(r===SOURCE_FORMAT_OBJECT_ROWS)a||(a=objectRowsCollectDimensions(i));else if(r===SOURCE_FORMAT_KEYED_COLUMNS)a||(a=[],each$4(i,function(h,y){a.push(y)}));else if(r===SOURCE_FORMAT_ORIGINAL){var f=getDataItemValue(i[0]);u=isArray$1(f)&&f.length||1}else r===SOURCE_FORMAT_TYPED_ARRAY&&process.env.NODE_ENV!=="production"&&assert(!!a,"dimensions must be given if data is TypedArray.");return{startIndex:c,dimensionsDefine:normalizeDimensionsOption(a),dimensionsDetectedCount:u}}function objectRowsCollectDimensions(i){for(var r=0,n;r<i.length&&!(n=i[r++]););if(n)return keys(n)}function normalizeDimensionsOption(i){if(i){var r=createHashMap();return map$1(i,function(n,o){n=isObject$3(n)?n:{name:n};var a={name:n.name,displayName:n.displayName,type:n.type};if(a.name==null)return a;a.name+="",a.displayName==null&&(a.displayName=a.name);var u=r.get(a.name);return u?a.name+="-"+u.count++:r.set(a.name,{count:1}),a})}}function arrayRowsTravelFirst(i,r,n,o){if(r===SERIES_LAYOUT_BY_ROW)for(var a=0;a<n.length&&a<o;a++)i(n[a]?n[a][0]:null,a);else for(var u=n[0]||[],a=0;a<u.length&&a<o;a++)i(u[a],a)}function shouldRetrieveDataByName(i){var r=i.sourceFormat;return r===SOURCE_FORMAT_OBJECT_ROWS||r===SOURCE_FORMAT_KEYED_COLUMNS}var _a$1,_b,_c,providerMethods,mountMethods,DefaultDataProvider=function(){function i(r,n){var o=isSourceInstance(r)?r:createSourceFromSeriesDataOption(r);this._source=o;var a=this._data=o.data;if(o.sourceFormat===SOURCE_FORMAT_TYPED_ARRAY){if(process.env.NODE_ENV!=="production"&&n==null)throw new Error("Typed array data must specify dimension size");this._offset=0,this._dimSize=n,this._data=a}mountMethods(this,a,o)}return i.prototype.getSource=function(){return this._source},i.prototype.count=function(){return 0},i.prototype.getItem=function(r,n){},i.prototype.appendData=function(r){},i.prototype.clean=function(){},i.protoInitialize=function(){var r=i.prototype;r.pure=!1,r.persistent=!0}(),i.internalField=function(){var r;mountMethods=function(c,d,f){var h=f.sourceFormat,y=f.seriesLayoutBy,g=f.startIndex,p=f.dimensionsDefine,v=providerMethods[getMethodMapKey(h,y)];if(process.env.NODE_ENV!=="production"&&assert(v,"Invalide sourceFormat: "+h),extend(c,v),h===SOURCE_FORMAT_TYPED_ARRAY)c.getItem=n,c.count=a,c.fillStorage=o;else{var _=getRawSourceItemGetter(h,y);c.getItem=bind$1(_,null,d,g,p);var b=getRawSourceDataCounter(h,y);c.count=bind$1(b,null,d,g,p)}};var n=function(c,d){c=c-this._offset,d=d||[];for(var f=this._data,h=this._dimSize,y=h*c,g=0;g<h;g++)d[g]=f[y+g];return d},o=function(c,d,f,h){for(var y=this._data,g=this._dimSize,p=0;p<g;p++){for(var v=h[p],_=v[0]==null?1/0:v[0],b=v[1]==null?-1/0:v[1],A=d-c,w=f[p],S=0;S<A;S++){var T=y[S*g+p];w[c+S]=T,T<_&&(_=T),T>b&&(b=T)}v[0]=_,v[1]=b}},a=function(){return this._data?this._data.length/this._dimSize:0};providerMethods=(r={},r[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]={pure:!0,appendData:u},r[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]={pure:!0,appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},r[SOURCE_FORMAT_OBJECT_ROWS]={pure:!0,appendData:u},r[SOURCE_FORMAT_KEYED_COLUMNS]={pure:!0,appendData:function(c){var d=this._data;each$4(c,function(f,h){for(var y=d[h]||(d[h]=[]),g=0;g<(f||[]).length;g++)y.push(f[g])})}},r[SOURCE_FORMAT_ORIGINAL]={appendData:u},r[SOURCE_FORMAT_TYPED_ARRAY]={persistent:!1,pure:!0,appendData:function(c){process.env.NODE_ENV!=="production"&&assert(isTypedArray(c),"Added data must be TypedArray if data in initialization is TypedArray"),this._data=c},clean:function(){this._offset+=this.count(),this._data=null}},r);function u(c){for(var d=0;d<c.length;d++)this._data.push(c[d])}}(),i}(),getItemSimply=function(i,r,n,o){return i[o]},rawSourceItemGetterMap=(_a$1={},_a$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(i,r,n,o){return i[o+r]},_a$1[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(i,r,n,o,a){o+=r;for(var u=a||[],c=i,d=0;d<c.length;d++){var f=c[d];u[d]=f?f[o]:null}return u},_a$1[SOURCE_FORMAT_OBJECT_ROWS]=getItemSimply,_a$1[SOURCE_FORMAT_KEYED_COLUMNS]=function(i,r,n,o,a){for(var u=a||[],c=0;c<n.length;c++){var d=n[c].name;if(process.env.NODE_ENV!=="production"&&d==null)throw new Error;var f=i[d];u[c]=f?f[o]:null}return u},_a$1[SOURCE_FORMAT_ORIGINAL]=getItemSimply,_a$1);function getRawSourceItemGetter(i,r){var n=rawSourceItemGetterMap[getMethodMapKey(i,r)];return process.env.NODE_ENV!=="production"&&assert(n,'Do not support get item on "'+i+'", "'+r+'".'),n}var countSimply=function(i,r,n){return i.length},rawSourceDataCounterMap=(_b={},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_COLUMN]=function(i,r,n){return Math.max(0,i.length-r)},_b[SOURCE_FORMAT_ARRAY_ROWS+"_"+SERIES_LAYOUT_BY_ROW]=function(i,r,n){var o=i[0];return o?Math.max(0,o.length-r):0},_b[SOURCE_FORMAT_OBJECT_ROWS]=countSimply,_b[SOURCE_FORMAT_KEYED_COLUMNS]=function(i,r,n){var o=n[0].name;if(process.env.NODE_ENV!=="production"&&o==null)throw new Error;var a=i[o];return a?a.length:0},_b[SOURCE_FORMAT_ORIGINAL]=countSimply,_b);function getRawSourceDataCounter(i,r){var n=rawSourceDataCounterMap[getMethodMapKey(i,r)];return process.env.NODE_ENV!=="production"&&assert(n,'Do not support count on "'+i+'", "'+r+'".'),n}var getRawValueSimply=function(i,r,n){return i[r]},rawSourceValueGetterMap=(_c={},_c[SOURCE_FORMAT_ARRAY_ROWS]=getRawValueSimply,_c[SOURCE_FORMAT_OBJECT_ROWS]=function(i,r,n){return i[n]},_c[SOURCE_FORMAT_KEYED_COLUMNS]=getRawValueSimply,_c[SOURCE_FORMAT_ORIGINAL]=function(i,r,n){var o=getDataItemValue(i);return o instanceof Array?o[r]:o},_c[SOURCE_FORMAT_TYPED_ARRAY]=getRawValueSimply,_c);function getRawSourceValueGetter(i){var r=rawSourceValueGetterMap[i];return process.env.NODE_ENV!=="production"&&assert(r,'Do not support get value on "'+i+'".'),r}function getMethodMapKey(i,r){return i===SOURCE_FORMAT_ARRAY_ROWS?i+"_"+r:i}function retrieveRawValue(i,r,n){if(i){var o=i.getRawDataItem(r);if(o!=null){var a=i.getStore(),u=a.getSource().sourceFormat;if(n!=null){var c=i.getDimensionIndex(n),d=a.getDimensionProperty(c);return getRawSourceValueGetter(u)(o,c,d)}else{var f=o;return u===SOURCE_FORMAT_ORIGINAL&&(f=getDataItemValue(o)),f}}}}var DIMENSION_LABEL_REG=/\{@(.+?)\}/g,DataFormatMixin=function(){function i(){}return i.prototype.getDataParams=function(r,n){var o=this.getData(n),a=this.getRawValue(r,n),u=o.getRawIndex(r),c=o.getName(r),d=o.getRawDataItem(r),f=o.getItemVisual(r,"style"),h=f&&f[o.getItemVisual(r,"drawType")||"fill"],y=f&&f.stroke,g=this.mainType,p=g==="series",v=o.userOutput&&o.userOutput.get();return{componentType:g,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:p?this.subType:null,seriesIndex:this.seriesIndex,seriesId:p?this.id:null,seriesName:p?this.name:null,name:c,dataIndex:u,data:d,dataType:n,value:a,color:h,borderColor:y,dimensionNames:v?v.fullDimensions:null,encode:v?v.encode:null,$vars:["seriesName","name","value"]}},i.prototype.getFormattedLabel=function(r,n,o,a,u,c){n=n||"normal";var d=this.getData(o),f=this.getDataParams(r,o);if(c&&(f.value=c.interpolatedValue),a!=null&&isArray$1(f.value)&&(f.value=f.value[a]),!u){var h=d.getItemModel(r);u=h.get(n==="normal"?["label","formatter"]:[n,"label","formatter"])}if(isFunction$1(u))return f.status=n,f.dimensionIndex=a,u(f);if(isString$2(u)){var y=formatTpl(u,f);return y.replace(DIMENSION_LABEL_REG,function(g,p){var v=p.length,_=p;_.charAt(0)==="["&&_.charAt(v-1)==="]"&&(_=+_.slice(1,v-1),process.env.NODE_ENV!=="production"&&isNaN(_)&&error("Invalide label formatter: @"+p+", only support @[0], @[1], @[2], ..."));var b=retrieveRawValue(d,r,_);if(c&&isArray$1(c.interpolatedValue)){var A=d.getDimensionIndex(_);A>=0&&(b=c.interpolatedValue[A])}return b!=null?b+"":""})}},i.prototype.getRawValue=function(r,n){return retrieveRawValue(this.getData(n),r)},i.prototype.formatTooltip=function(r,n,o){},i}();function normalizeTooltipFormatResult(i){var r,n;return isObject$3(i)?i.type?n=i:process.env.NODE_ENV!=="production"&&console.warn("The return type of `formatTooltip` is not supported: "+makePrintable(i)):r=i,{text:r,frag:n}}function createTask(i){return new Task(i)}var Task=function(){function i(r){r=r||{},this._reset=r.reset,this._plan=r.plan,this._count=r.count,this._onDirty=r.onDirty,this._dirty=!0}return i.prototype.perform=function(r){var n=this._upstream,o=r&&r.skip;if(this._dirty&&n){var a=this.context;a.data=a.outputData=n.context.outputData}this.__pipeline&&(this.__pipeline.currentTask=this);var u;this._plan&&!o&&(u=this._plan(this.context));var c=y(this._modBy),d=this._modDataCount||0,f=y(r&&r.modBy),h=r&&r.modDataCount||0;(c!==f||d!==h)&&(u="reset");function y(S){return!(S>=1)&&(S=1),S}var g;(this._dirty||u==="reset")&&(this._dirty=!1,g=this._doReset(o)),this._modBy=f,this._modDataCount=h;var p=r&&r.step;if(n?(process.env.NODE_ENV!=="production"&&assert(n._outputDueEnd!=null),this._dueEnd=n._outputDueEnd):(process.env.NODE_ENV!=="production"&&assert(!this._progress||this._count),this._dueEnd=this._count?this._count(this.context):1/0),this._progress){var v=this._dueIndex,_=Math.min(p!=null?this._dueIndex+p:1/0,this._dueEnd);if(!o&&(g||v<_)){var b=this._progress;if(isArray$1(b))for(var A=0;A<b.length;A++)this._doProgress(b[A],v,_,f,h);else this._doProgress(b,v,_,f,h)}this._dueIndex=_;var w=this._settedOutputEnd!=null?this._settedOutputEnd:_;process.env.NODE_ENV!=="production"&&assert(w>=this._outputDueEnd),this._outputDueEnd=w}else this._dueIndex=this._outputDueEnd=this._settedOutputEnd!=null?this._settedOutputEnd:this._dueEnd;return this.unfinished()},i.prototype.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},i.prototype._doProgress=function(r,n,o,a,u){iterator.reset(n,o,a,u),this._callingProgress=r,this._callingProgress({start:n,end:o,count:o-n,next:iterator.next},this.context)},i.prototype._doReset=function(r){this._dueIndex=this._outputDueEnd=this._dueEnd=0,this._settedOutputEnd=null;var n,o;!r&&this._reset&&(n=this._reset(this.context),n&&n.progress&&(o=n.forceFirstProgress,n=n.progress),isArray$1(n)&&!n.length&&(n=null)),this._progress=n,this._modBy=this._modDataCount=null;var a=this._downstream;return a&&a.dirty(),o},i.prototype.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},i.prototype.pipe=function(r){process.env.NODE_ENV!=="production"&&assert(r&&!r._disposed&&r!==this),(this._downstream!==r||this._dirty)&&(this._downstream=r,r._upstream=this,r.dirty())},i.prototype.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},i.prototype.getUpstream=function(){return this._upstream},i.prototype.getDownstream=function(){return this._downstream},i.prototype.setOutputEnd=function(r){this._outputDueEnd=this._settedOutputEnd=r},i}(),iterator=function(){var i,r,n,o,a,u={reset:function(f,h,y,g){r=f,i=h,n=y,o=g,a=Math.ceil(o/n),u.next=n>1&&o>0?d:c}};return u;function c(){return r<i?r++:null}function d(){var f=r%a*n+Math.ceil(r/a),h=r>=i?null:f<o?f:r;return r++,h}}();function parseDataValue(i,r){var n=r&&r.type;return n==="ordinal"?i:(n==="time"&&!isNumber$1(i)&&i!=null&&i!=="-"&&(i=+parseDate(i)),i==null||i===""?NaN:Number(i))}createHashMap({number:function(i){return parseFloat(i)},time:function(i){return+parseDate(i)},trim:function(i){return isString$2(i)?trim(i):i}});var SortOrderComparator=function(){function i(r,n){var o=r==="desc";this._resultLT=o?1:-1,n==null&&(n=o?"min":"max"),this._incomparable=n==="min"?-1/0:1/0}return i.prototype.evaluate=function(r,n){var o=isNumber$1(r)?r:numericToNumber(r),a=isNumber$1(n)?n:numericToNumber(n),u=isNaN(o),c=isNaN(a);if(u&&(o=this._incomparable),c&&(a=this._incomparable),u&&c){var d=isString$2(r),f=isString$2(n);d&&(o=f?r:0),f&&(a=d?n:0)}return o<a?this._resultLT:o>a?-this._resultLT:0},i}(),ExternalSource=function(){function i(){}return i.prototype.getRawData=function(){throw new Error("not supported")},i.prototype.getRawDataItem=function(r){throw new Error("not supported")},i.prototype.cloneRawData=function(){},i.prototype.getDimensionInfo=function(r){},i.prototype.cloneAllDimensionInfo=function(){},i.prototype.count=function(){},i.prototype.retrieveValue=function(r,n){},i.prototype.retrieveValueFromItem=function(r,n){},i.prototype.convertValue=function(r,n){return parseDataValue(r,n)},i}();function createExternalSource(i,r){var n=new ExternalSource,o=i.data,a=n.sourceFormat=i.sourceFormat,u=i.startIndex,c="";i.seriesLayoutBy!==SERIES_LAYOUT_BY_COLUMN&&(process.env.NODE_ENV!=="production"&&(c='`seriesLayoutBy` of upstream dataset can only be "column" in data transform.'),throwError$1(c));var d=[],f={},h=i.dimensionsDefine;if(h)each$4(h,function(b,A){var w=b.name,S={index:A,name:w,displayName:b.displayName};if(d.push(S),w!=null){var T="";hasOwn$1(f,w)&&(process.env.NODE_ENV!=="production"&&(T='dimension name "'+w+'" duplicated.'),throwError$1(T)),f[w]=S}});else for(var y=0;y<i.dimensionsDetectedCount;y++)d.push({index:y});var g=getRawSourceItemGetter(a,SERIES_LAYOUT_BY_COLUMN);r.__isBuiltIn&&(n.getRawDataItem=function(b){return g(o,u,d,b)},n.getRawData=bind$1(getRawData,null,i)),n.cloneRawData=bind$1(cloneRawData,null,i);var p=getRawSourceDataCounter(a,SERIES_LAYOUT_BY_COLUMN);n.count=bind$1(p,null,o,u,d);var v=getRawSourceValueGetter(a);n.retrieveValue=function(b,A){var w=g(o,u,d,b);return _(w,A)};var _=n.retrieveValueFromItem=function(b,A){if(b!=null){var w=d[A];if(w)return v(b,A,w.name)}};return n.getDimensionInfo=bind$1(getDimensionInfo,null,d,f),n.cloneAllDimensionInfo=bind$1(cloneAllDimensionInfo,null,d),n}function getRawData(i){var r=i.sourceFormat;if(!isSupportedSourceFormat(r)){var n="";process.env.NODE_ENV!=="production"&&(n="`getRawData` is not supported in source format "+r),throwError$1(n)}return i.data}function cloneRawData(i){var r=i.sourceFormat,n=i.data;if(!isSupportedSourceFormat(r)){var o="";process.env.NODE_ENV!=="production"&&(o="`cloneRawData` is not supported in source format "+r),throwError$1(o)}if(r===SOURCE_FORMAT_ARRAY_ROWS){for(var a=[],u=0,c=n.length;u<c;u++)a.push(n[u].slice());return a}else if(r===SOURCE_FORMAT_OBJECT_ROWS){for(var a=[],u=0,c=n.length;u<c;u++)a.push(extend({},n[u]));return a}}function getDimensionInfo(i,r,n){if(n!=null){if(isNumber$1(n)||!isNaN(n)&&!hasOwn$1(r,n))return i[n];if(hasOwn$1(r,n))return r[n]}}function cloneAllDimensionInfo(i){return clone$2(i)}var externalTransformMap=createHashMap();function registerExternalTransform(i){i=clone$2(i);var r=i.type,n="";r||(process.env.NODE_ENV!=="production"&&(n="Must have a `type` when `registerTransform`."),throwError$1(n));var o=r.split(":");o.length!==2&&(process.env.NODE_ENV!=="production"&&(n='Name must include namespace like "ns:regression".'),throwError$1(n));var a=!1;o[0]==="echarts"&&(r=o[1],a=!0),i.__isBuiltIn=a,externalTransformMap.set(r,i)}function applyDataTransform(i,r,n){var o=normalizeToArray(i),a=o.length,u="";a||(process.env.NODE_ENV!=="production"&&(u="If `transform` declared, it should at least contain one transform."),throwError$1(u));for(var c=0,d=a;c<d;c++){var f=o[c];r=applySingleDataTransform(f,r,n,a===1?null:c),c!==d-1&&(r.length=Math.max(r.length,1))}return r}function applySingleDataTransform(i,r,n,o){var a="";r.length||(process.env.NODE_ENV!=="production"&&(a="Must have at least one upstream dataset."),throwError$1(a)),isObject$3(i)||(process.env.NODE_ENV!=="production"&&(a="transform declaration must be an object rather than "+typeof i+"."),throwError$1(a));var u=i.type,c=externalTransformMap.get(u);c||(process.env.NODE_ENV!=="production"&&(a='Can not find transform on type "'+u+'".'),throwError$1(a));var d=map$1(r,function(y){return createExternalSource(y,c)}),f=normalizeToArray(c.transform({upstream:d[0],upstreamList:d,config:clone$2(i.config)}));if(process.env.NODE_ENV!=="production"&&i.print){var h=map$1(f,function(y){var g=o!=null?" === pipe index: "+o:"";return["=== dataset index: "+n.datasetIndex+g+" ===","- transform result data:",makePrintable(y.data),"- transform result dimensions:",makePrintable(y.dimensions)].join(`
`)}).join(`
`);log(h)}return map$1(f,function(y,g){var p="";isObject$3(y)||(process.env.NODE_ENV!=="production"&&(p="A transform should not return some empty results."),throwError$1(p)),y.data||(process.env.NODE_ENV!=="production"&&(p="Transform result data should be not be null or undefined"),throwError$1(p));var v=detectSourceFormat(y.data);isSupportedSourceFormat(v)||(process.env.NODE_ENV!=="production"&&(p="Transform result data should be array rows or object rows."),throwError$1(p));var _,b=r[0];if(b&&g===0&&!y.dimensions){var A=b.startIndex;A&&(y.data=b.data.slice(0,A).concat(y.data)),_={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:A,dimensions:b.metaRawOption.dimensions}}else _={seriesLayoutBy:SERIES_LAYOUT_BY_COLUMN,sourceHeader:0,dimensions:y.dimensions};return createSource(y.data,_,null)})}function isSupportedSourceFormat(i){return i===SOURCE_FORMAT_ARRAY_ROWS||i===SOURCE_FORMAT_OBJECT_ROWS}var UNDEFINED="undefined",CtorUint32Array=typeof Uint32Array===UNDEFINED?Array:Uint32Array,CtorUint16Array=typeof Uint16Array===UNDEFINED?Array:Uint16Array,CtorInt32Array$1=typeof Int32Array===UNDEFINED?Array:Int32Array,CtorFloat64Array=typeof Float64Array===UNDEFINED?Array:Float64Array,dataCtors={float:CtorFloat64Array,int:CtorInt32Array$1,ordinal:Array,number:Array,time:CtorFloat64Array},defaultDimValueGetters;function getIndicesCtor(i){return i>65535?CtorUint32Array:CtorUint16Array}function getInitialExtent(){return[1/0,-1/0]}function cloneChunk(i){var r=i.constructor;return r===Array?i.slice():new r(i)}function prepareStore(i,r,n,o,a){var u=dataCtors[n||"float"];if(a){var c=i[r],d=c&&c.length;if(d!==o){for(var f=new u(o),h=0;h<d;h++)f[h]=c[h];i[r]=f}}else i[r]=new u(o)}var DataStore=function(){function i(){this._chunks=[],this._rawExtent=[],this._extent=[],this._count=0,this._rawCount=0,this._calcDimNameToIdx=createHashMap()}return i.prototype.initData=function(r,n,o){process.env.NODE_ENV!=="production"&&assert(isFunction$1(r.getItem)&&isFunction$1(r.count),"Invalid data provider."),this._provider=r,this._chunks=[],this._indices=null,this.getRawIndex=this._getRawIdxIdentity;var a=r.getSource(),u=this.defaultDimValueGetter=defaultDimValueGetters[a.sourceFormat];this._dimValueGetter=o||u,this._rawExtent=[];var c=shouldRetrieveDataByName(a);this._dimensions=map$1(n,function(d){return process.env.NODE_ENV!=="production"&&c&&assert(d.property!=null),{type:d.type,property:d.property}}),this._initDataFromProvider(0,r.count())},i.prototype.getProvider=function(){return this._provider},i.prototype.getSource=function(){return this._provider.getSource()},i.prototype.ensureCalculationDimension=function(r,n){var o=this._calcDimNameToIdx,a=this._dimensions,u=o.get(r);if(u!=null){if(a[u].type===n)return u}else u=a.length;return a[u]={type:n},o.set(r,u),this._chunks[u]=new dataCtors[n||"float"](this._rawCount),this._rawExtent[u]=getInitialExtent(),u},i.prototype.collectOrdinalMeta=function(r,n){var o=this._chunks[r],a=this._dimensions[r],u=this._rawExtent,c=a.ordinalOffset||0,d=o.length;c===0&&(u[r]=getInitialExtent());for(var f=u[r],h=c;h<d;h++){var y=o[h]=n.parseAndCollect(o[h]);isNaN(y)||(f[0]=Math.min(y,f[0]),f[1]=Math.max(y,f[1]))}a.ordinalMeta=n,a.ordinalOffset=d,a.type="ordinal"},i.prototype.getOrdinalMeta=function(r){var n=this._dimensions[r],o=n.ordinalMeta;return o},i.prototype.getDimensionProperty=function(r){var n=this._dimensions[r];return n&&n.property},i.prototype.appendData=function(r){process.env.NODE_ENV!=="production"&&assert(!this._indices,"appendData can only be called on raw data.");var n=this._provider,o=this.count();n.appendData(r);var a=n.count();return n.persistent||(a+=o),o<a&&this._initDataFromProvider(o,a,!0),[o,a]},i.prototype.appendValues=function(r,n){for(var o=this._chunks,a=this._dimensions,u=a.length,c=this._rawExtent,d=this.count(),f=d+Math.max(r.length,n||0),h=0;h<u;h++){var y=a[h];prepareStore(o,h,y.type,f,!0)}for(var g=[],p=d;p<f;p++)for(var v=p-d,_=0;_<u;_++){var y=a[_],b=defaultDimValueGetters.arrayRows.call(this,r[v]||g,y.property,v,_);o[_][p]=b;var A=c[_];b<A[0]&&(A[0]=b),b>A[1]&&(A[1]=b)}return this._rawCount=this._count=f,{start:d,end:f}},i.prototype._initDataFromProvider=function(r,n,o){for(var a=this._provider,u=this._chunks,c=this._dimensions,d=c.length,f=this._rawExtent,h=map$1(c,function(S){return S.property}),y=0;y<d;y++){var g=c[y];f[y]||(f[y]=getInitialExtent()),prepareStore(u,y,g.type,n,o)}if(a.fillStorage)a.fillStorage(r,n,u,f);else for(var p=[],v=r;v<n;v++){p=a.getItem(v,p);for(var _=0;_<d;_++){var b=u[_],A=this._dimValueGetter(p,h[_],v,_);b[v]=A;var w=f[_];A<w[0]&&(w[0]=A),A>w[1]&&(w[1]=A)}}!a.persistent&&a.clean&&a.clean(),this._rawCount=this._count=n,this._extent=[]},i.prototype.count=function(){return this._count},i.prototype.get=function(r,n){if(!(n>=0&&n<this._count))return NaN;var o=this._chunks[r];return o?o[this.getRawIndex(n)]:NaN},i.prototype.getValues=function(r,n){var o=[],a=[];if(n==null){n=r,r=[];for(var u=0;u<this._dimensions.length;u++)a.push(u)}else a=r;for(var u=0,c=a.length;u<c;u++)o.push(this.get(a[u],n));return o},i.prototype.getByRawIndex=function(r,n){if(!(n>=0&&n<this._rawCount))return NaN;var o=this._chunks[r];return o?o[n]:NaN},i.prototype.getSum=function(r){var n=this._chunks[r],o=0;if(n)for(var a=0,u=this.count();a<u;a++){var c=this.get(r,a);isNaN(c)||(o+=c)}return o},i.prototype.getMedian=function(r){var n=[];this.each([r],function(u){isNaN(u)||n.push(u)});var o=n.sort(function(u,c){return u-c}),a=this.count();return a===0?0:a%2===1?o[(a-1)/2]:(o[a/2]+o[a/2-1])/2},i.prototype.indexOfRawIndex=function(r){if(r>=this._rawCount||r<0)return-1;if(!this._indices)return r;var n=this._indices,o=n[r];if(o!=null&&o<this._count&&o===r)return r;for(var a=0,u=this._count-1;a<=u;){var c=(a+u)/2|0;if(n[c]<r)a=c+1;else if(n[c]>r)u=c-1;else return c}return-1},i.prototype.indicesOfNearest=function(r,n,o){var a=this._chunks,u=a[r],c=[];if(!u)return c;o==null&&(o=1/0);for(var d=1/0,f=-1,h=0,y=0,g=this.count();y<g;y++){var p=this.getRawIndex(y),v=n-u[p],_=Math.abs(v);_<=o&&((_<d||_===d&&v>=0&&f<0)&&(d=_,f=v,h=0),v===f&&(c[h++]=y))}return c.length=h,c},i.prototype.getIndices=function(){var r,n=this._indices;if(n){var o=n.constructor,a=this._count;if(o===Array){r=new o(a);for(var u=0;u<a;u++)r[u]=n[u]}else r=new o(n.buffer,0,a)}else{var o=getIndicesCtor(this._rawCount);r=new o(this.count());for(var u=0;u<r.length;u++)r[u]=u}return r},i.prototype.filter=function(r,n){if(!this._count)return this;for(var o=this.clone(),a=o.count(),u=getIndicesCtor(o._rawCount),c=new u(a),d=[],f=r.length,h=0,y=r[0],g=o._chunks,p=0;p<a;p++){var v=void 0,_=o.getRawIndex(p);if(f===0)v=n(p);else if(f===1){var b=g[y][_];v=n(b,p)}else{for(var A=0;A<f;A++)d[A]=g[r[A]][_];d[A]=p,v=n.apply(null,d)}v&&(c[h++]=_)}return h<a&&(o._indices=c),o._count=h,o._extent=[],o._updateGetRawIdx(),o},i.prototype.selectRange=function(r){var n=this.clone(),o=n._count;if(!o)return this;var a=keys(r),u=a.length;if(!u)return this;var c=n.count(),d=getIndicesCtor(n._rawCount),f=new d(c),h=0,y=a[0],g=r[y][0],p=r[y][1],v=n._chunks,_=!1;if(!n._indices){var b=0;if(u===1){for(var A=v[a[0]],w=0;w<o;w++){var S=A[w];(S>=g&&S<=p||isNaN(S))&&(f[h++]=b),b++}_=!0}else if(u===2){for(var A=v[a[0]],T=v[a[1]],x=r[a[1]][0],M=r[a[1]][1],w=0;w<o;w++){var S=A[w],L=T[w];(S>=g&&S<=p||isNaN(S))&&(L>=x&&L<=M||isNaN(L))&&(f[h++]=b),b++}_=!0}}if(!_)if(u===1)for(var w=0;w<c;w++){var k=n.getRawIndex(w),S=v[a[0]][k];(S>=g&&S<=p||isNaN(S))&&(f[h++]=k)}else for(var w=0;w<c;w++){for(var ie=!0,k=n.getRawIndex(w),$=0;$<u;$++){var z=a[$],S=v[z][k];(S<r[z][0]||S>r[z][1])&&(ie=!1)}ie&&(f[h++]=n.getRawIndex(w))}return h<c&&(n._indices=f),n._count=h,n._extent=[],n._updateGetRawIdx(),n},i.prototype.map=function(r,n){var o=this.clone(r);return this._updateDims(o,r,n),o},i.prototype.modify=function(r,n){this._updateDims(this,r,n)},i.prototype._updateDims=function(r,n,o){for(var a=r._chunks,u=[],c=n.length,d=r.count(),f=[],h=r._rawExtent,y=0;y<n.length;y++)h[n[y]]=getInitialExtent();for(var g=0;g<d;g++){for(var p=r.getRawIndex(g),v=0;v<c;v++)f[v]=a[n[v]][p];f[c]=g;var _=o&&o.apply(null,f);if(_!=null){typeof _!="object"&&(u[0]=_,_=u);for(var y=0;y<_.length;y++){var b=n[y],A=_[y],w=h[b],S=a[b];S&&(S[p]=A),A<w[0]&&(w[0]=A),A>w[1]&&(w[1]=A)}}}},i.prototype.lttbDownSample=function(r,n){var o=this.clone([r],!0),a=o._chunks,u=a[r],c=this.count(),d=0,f=Math.floor(1/n),h=this.getRawIndex(0),y,g,p,v=new(getIndicesCtor(this._rawCount))(Math.min((Math.ceil(c/f)+2)*2,c));v[d++]=h;for(var _=1;_<c-1;_+=f){for(var b=Math.min(_+f,c-1),A=Math.min(_+f*2,c),w=(A+b)/2,S=0,T=b;T<A;T++){var x=this.getRawIndex(T),M=u[x];isNaN(M)||(S+=M)}S/=A-b;var L=_,k=Math.min(_+f,c),ie=_-1,$=u[h];y=-1,p=L;for(var z=-1,V=0,T=L;T<k;T++){var x=this.getRawIndex(T),M=u[x];if(isNaN(M)){V++,z<0&&(z=x);continue}g=Math.abs((ie-w)*(M-$)-(ie-T)*(S-$)),g>y&&(y=g,p=x)}V>0&&V<k-L&&(v[d++]=Math.min(z,p),p=Math.max(z,p)),v[d++]=p,h=p}return v[d++]=this.getRawIndex(c-1),o._count=d,o._indices=v,o.getRawIndex=this._getRawIdx,o},i.prototype.downSample=function(r,n,o,a){for(var u=this.clone([r],!0),c=u._chunks,d=[],f=Math.floor(1/n),h=c[r],y=this.count(),g=u._rawExtent[r]=getInitialExtent(),p=new(getIndicesCtor(this._rawCount))(Math.ceil(y/f)),v=0,_=0;_<y;_+=f){f>y-_&&(f=y-_,d.length=f);for(var b=0;b<f;b++){var A=this.getRawIndex(_+b);d[b]=h[A]}var w=o(d),S=this.getRawIndex(Math.min(_+a(d,w)||0,y-1));h[S]=w,w<g[0]&&(g[0]=w),w>g[1]&&(g[1]=w),p[v++]=S}return u._count=v,u._indices=p,u._updateGetRawIdx(),u},i.prototype.each=function(r,n){if(this._count)for(var o=r.length,a=this._chunks,u=0,c=this.count();u<c;u++){var d=this.getRawIndex(u);switch(o){case 0:n(u);break;case 1:n(a[r[0]][d],u);break;case 2:n(a[r[0]][d],a[r[1]][d],u);break;default:for(var f=0,h=[];f<o;f++)h[f]=a[r[f]][d];h[f]=u,n.apply(null,h)}}},i.prototype.getDataExtent=function(r){var n=this._chunks[r],o=getInitialExtent();if(!n)return o;var a=this.count(),u=!this._indices,c;if(u)return this._rawExtent[r].slice();if(c=this._extent[r],c)return c.slice();c=o;for(var d=c[0],f=c[1],h=0;h<a;h++){var y=this.getRawIndex(h),g=n[y];g<d&&(d=g),g>f&&(f=g)}return c=[d,f],this._extent[r]=c,c},i.prototype.getRawDataItem=function(r){var n=this.getRawIndex(r);if(this._provider.persistent)return this._provider.getItem(n);for(var o=[],a=this._chunks,u=0;u<a.length;u++)o.push(a[u][n]);return o},i.prototype.clone=function(r,n){var o=new i,a=this._chunks,u=r&&reduce(r,function(d,f){return d[f]=!0,d},{});if(u)for(var c=0;c<a.length;c++)o._chunks[c]=u[c]?cloneChunk(a[c]):a[c];else o._chunks=a;return this._copyCommonProps(o),n||(o._indices=this._cloneIndices()),o._updateGetRawIdx(),o},i.prototype._copyCommonProps=function(r){r._count=this._count,r._rawCount=this._rawCount,r._provider=this._provider,r._dimensions=this._dimensions,r._extent=clone$2(this._extent),r._rawExtent=clone$2(this._rawExtent)},i.prototype._cloneIndices=function(){if(this._indices){var r=this._indices.constructor,n=void 0;if(r===Array){var o=this._indices.length;n=new r(o);for(var a=0;a<o;a++)n[a]=this._indices[a]}else n=new r(this._indices);return n}return null},i.prototype._getRawIdxIdentity=function(r){return r},i.prototype._getRawIdx=function(r){return r<this._count&&r>=0?this._indices[r]:-1},i.prototype._updateGetRawIdx=function(){this.getRawIndex=this._indices?this._getRawIdx:this._getRawIdxIdentity},i.internalField=function(){function r(n,o,a,u){return parseDataValue(n[u],this._dimensions[u])}defaultDimValueGetters={arrayRows:r,objectRows:function(n,o,a,u){return parseDataValue(n[o],this._dimensions[u])},keyedColumns:r,original:function(n,o,a,u){var c=n&&(n.value==null?n:n.value);return parseDataValue(c instanceof Array?c[u]:c,this._dimensions[u])},typedArray:function(n,o,a,u){return n[u]}}}(),i}(),SourceManager=function(){function i(r){this._sourceList=[],this._storeList=[],this._upstreamSignList=[],this._versionSignBase=0,this._dirty=!0,this._sourceHost=r}return i.prototype.dirty=function(){this._setLocalSource([],[]),this._storeList=[],this._dirty=!0},i.prototype._setLocalSource=function(r,n){this._sourceList=r,this._upstreamSignList=n,this._versionSignBase++,this._versionSignBase>9e10&&(this._versionSignBase=0)},i.prototype._getVersionSign=function(){return this._sourceHost.uid+"_"+this._versionSignBase},i.prototype.prepareSource=function(){this._isDirty()&&(this._createSource(),this._dirty=!1)},i.prototype._createSource=function(){this._setLocalSource([],[]);var r=this._sourceHost,n=this._getUpstreamSourceManagers(),o=!!n.length,a,u;if(isSeries(r)){var c=r,d=void 0,f=void 0,h=void 0;if(o){var y=n[0];y.prepareSource(),h=y.getSource(),d=h.data,f=h.sourceFormat,u=[y._getVersionSign()]}else d=c.get("data",!0),f=isTypedArray(d)?SOURCE_FORMAT_TYPED_ARRAY:SOURCE_FORMAT_ORIGINAL,u=[];var g=this._getSourceMetaRawOption()||{},p=h&&h.metaRawOption||{},v=retrieve2(g.seriesLayoutBy,p.seriesLayoutBy)||null,_=retrieve2(g.sourceHeader,p.sourceHeader),b=retrieve2(g.dimensions,p.dimensions),A=v!==p.seriesLayoutBy||!!_!=!!p.sourceHeader||b;a=A?[createSource(d,{seriesLayoutBy:v,sourceHeader:_,dimensions:b},f)]:[]}else{var w=r;if(o){var S=this._applyTransform(n);a=S.sourceList,u=S.upstreamSignList}else{var T=w.get("source",!0);a=[createSource(T,this._getSourceMetaRawOption(),null)],u=[]}}process.env.NODE_ENV!=="production"&&assert(a&&u),this._setLocalSource(a,u)},i.prototype._applyTransform=function(r){var n=this._sourceHost,o=n.get("transform",!0),a=n.get("fromTransformResult",!0);if(process.env.NODE_ENV!=="production"&&assert(a!=null||o!=null),a!=null){var u="";r.length!==1&&(process.env.NODE_ENV!=="production"&&(u="When using `fromTransformResult`, there should be only one upstream dataset"),doThrow(u))}var c,d=[],f=[];return each$4(r,function(h){h.prepareSource();var y=h.getSource(a||0),g="";a!=null&&!y&&(process.env.NODE_ENV!=="production"&&(g="Can not retrieve result by `fromTransformResult`: "+a),doThrow(g)),d.push(y),f.push(h._getVersionSign())}),o?c=applyDataTransform(o,d,{datasetIndex:n.componentIndex}):a!=null&&(c=[cloneSourceShallow(d[0])]),{sourceList:c,upstreamSignList:f}},i.prototype._isDirty=function(){if(this._dirty)return!0;for(var r=this._getUpstreamSourceManagers(),n=0;n<r.length;n++){var o=r[n];if(o._isDirty()||this._upstreamSignList[n]!==o._getVersionSign())return!0}},i.prototype.getSource=function(r){r=r||0;var n=this._sourceList[r];if(!n){var o=this._getUpstreamSourceManagers();return o[0]&&o[0].getSource(r)}return n},i.prototype.getSharedDataStore=function(r){process.env.NODE_ENV!=="production"&&assert(isSeries(this._sourceHost),"Can only call getDataStore on series source manager.");var n=r.makeStoreSchema();return this._innerGetDataStore(n.dimensions,r.source,n.hash)},i.prototype._innerGetDataStore=function(r,n,o){var a=0,u=this._storeList,c=u[a];c||(c=u[a]={});var d=c[o];if(!d){var f=this._getUpstreamSourceManagers()[0];isSeries(this._sourceHost)&&f?d=f._innerGetDataStore(r,n,o):(d=new DataStore,d.initData(new DefaultDataProvider(n,r.length),r)),c[o]=d}return d},i.prototype._getUpstreamSourceManagers=function(){var r=this._sourceHost;if(isSeries(r)){var n=querySeriesUpstreamDatasetModel(r);return n?[n.getSourceManager()]:[]}else return map$1(queryDatasetUpstreamDatasetModels(r),function(o){return o.getSourceManager()})},i.prototype._getSourceMetaRawOption=function(){var r=this._sourceHost,n,o,a;if(isSeries(r))n=r.get("seriesLayoutBy",!0),o=r.get("sourceHeader",!0),a=r.get("dimensions",!0);else if(!this._getUpstreamSourceManagers().length){var u=r;n=u.get("seriesLayoutBy",!0),o=u.get("sourceHeader",!0),a=u.get("dimensions",!0)}return{seriesLayoutBy:n,sourceHeader:o,dimensions:a}},i}();function isSeries(i){return i.mainType==="series"}function doThrow(i){throw new Error(i)}var TOOLTIP_LINE_HEIGHT_CSS="line-height:1";function getTooltipTextStyle(i,r){var n=i.color||"#6e7079",o=i.fontSize||12,a=i.fontWeight||"400",u=i.color||"#464646",c=i.fontSize||14,d=i.fontWeight||"900";return r==="html"?{nameStyle:"font-size:"+encodeHTML(o+"")+"px;color:"+encodeHTML(n)+";font-weight:"+encodeHTML(a+""),valueStyle:"font-size:"+encodeHTML(c+"")+"px;color:"+encodeHTML(u)+";font-weight:"+encodeHTML(d+"")}:{nameStyle:{fontSize:o,fill:n,fontWeight:a},valueStyle:{fontSize:c,fill:u,fontWeight:d}}}var HTML_GAPS=[0,10,20,30],RICH_TEXT_GAPS=["",`
`,`

`,`


`];function createTooltipMarkup(i,r){return r.type=i,r}function isSectionFragment(i){return i.type==="section"}function getBuilder(i){return isSectionFragment(i)?buildSection:buildNameValue}function getBlockGapLevel(i){if(isSectionFragment(i)){var r=0,n=i.blocks.length,o=n>1||n>0&&!i.noHeader;return each$4(i.blocks,function(a){var u=getBlockGapLevel(a);u>=r&&(r=u+ +(o&&(!u||isSectionFragment(a)&&!a.noHeader)))}),r}return 0}function buildSection(i,r,n,o){var a=r.noHeader,u=getGap(getBlockGapLevel(r)),c=[],d=r.blocks||[];assert(!d||isArray$1(d)),d=d||[];var f=i.orderMode;if(r.sortBlocks&&f){d=d.slice();var h={valueAsc:"asc",valueDesc:"desc"};if(hasOwn$1(h,f)){var y=new SortOrderComparator(h[f],null);d.sort(function(_,b){return y.evaluate(_.sortParam,b.sortParam)})}else f==="seriesDesc"&&d.reverse()}each$4(d,function(_,b){var A=r.valueFormatter,w=getBuilder(_)(A?extend(extend({},i),{valueFormatter:A}):i,_,b>0?u.html:0,o);w!=null&&c.push(w)});var g=i.renderMode==="richText"?c.join(u.richText):wrapBlockHTML(c.join(""),a?n:u.html);if(a)return g;var p=makeValueReadable(r.header,"ordinal",i.useUTC),v=getTooltipTextStyle(o,i.renderMode).nameStyle;return i.renderMode==="richText"?wrapInlineNameRichText(i,p,v)+u.richText+g:wrapBlockHTML('<div style="'+v+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+encodeHTML(p)+"</div>"+g,n)}function buildNameValue(i,r,n,o){var a=i.renderMode,u=r.noName,c=r.noValue,d=!r.markerType,f=r.name,h=i.useUTC,y=r.valueFormatter||i.valueFormatter||function(x){return x=isArray$1(x)?x:[x],map$1(x,function(M,L){return makeValueReadable(M,isArray$1(v)?v[L]:v,h)})};if(!(u&&c)){var g=d?"":i.markupStyleCreator.makeTooltipMarker(r.markerType,r.markerColor||"#333",a),p=u?"":makeValueReadable(f,"ordinal",h),v=r.valueType,_=c?[]:y(r.value,r.dataIndex),b=!d||!u,A=!d&&u,w=getTooltipTextStyle(o,a),S=w.nameStyle,T=w.valueStyle;return a==="richText"?(d?"":g)+(u?"":wrapInlineNameRichText(i,p,S))+(c?"":wrapInlineValueRichText(i,_,b,A,T)):wrapBlockHTML((d?"":g)+(u?"":wrapInlineNameHTML(p,!d,S))+(c?"":wrapInlineValueHTML(_,b,A,T)),n)}}function buildTooltipMarkup(i,r,n,o,a,u){if(i){var c=getBuilder(i),d={useUTC:a,renderMode:n,orderMode:o,markupStyleCreator:r,valueFormatter:i.valueFormatter};return c(d,i,0,u)}}function getGap(i){return{html:HTML_GAPS[i],richText:RICH_TEXT_GAPS[i]}}function wrapBlockHTML(i,r){var n='<div style="clear:both"></div>',o="margin: "+r+"px 0 0";return'<div style="'+o+";"+TOOLTIP_LINE_HEIGHT_CSS+';">'+i+n+"</div>"}function wrapInlineNameHTML(i,r,n){var o=r?"margin-left:2px":"";return'<span style="'+n+";"+o+'">'+encodeHTML(i)+"</span>"}function wrapInlineValueHTML(i,r,n,o){var a=n?"10px":"20px",u=r?"float:right;margin-left:"+a:"";return i=isArray$1(i)?i:[i],'<span style="'+u+";"+o+'">'+map$1(i,function(c){return encodeHTML(c)}).join("&nbsp;&nbsp;")+"</span>"}function wrapInlineNameRichText(i,r,n){return i.markupStyleCreator.wrapRichTextStyle(r,n)}function wrapInlineValueRichText(i,r,n,o,a){var u=[a],c=o?10:20;return n&&u.push({padding:[0,0,0,c],align:"right"}),i.markupStyleCreator.wrapRichTextStyle(isArray$1(r)?r.join("  "):r,u)}function retrieveVisualColorForTooltipMarker(i,r){var n=i.getData().getItemVisual(r,"style"),o=n[i.visualDrawType];return convertToColorString(o)}function getPaddingFromTooltipModel(i,r){var n=i.get("padding");return n??(r==="richText"?[8,10]:10)}var TooltipMarkupStyleCreator=function(){function i(){this.richTextStyles={},this._nextStyleNameId=getRandomIdBase()}return i.prototype._generateStyleName=function(){return"__EC_aUTo_"+this._nextStyleNameId++},i.prototype.makeTooltipMarker=function(r,n,o){var a=o==="richText"?this._generateStyleName():null,u=getTooltipMarker({color:n,type:r,renderMode:o,markerId:a});return isString$2(u)?u:(process.env.NODE_ENV!=="production"&&assert(a),this.richTextStyles[a]=u.style,u.content)},i.prototype.wrapRichTextStyle=function(r,n){var o={};isArray$1(n)?each$4(n,function(u){return extend(o,u)}):extend(o,n);var a=this._generateStyleName();return this.richTextStyles[a]=o,"{"+a+"|"+r+"}"},i}();function defaultSeriesFormatTooltip(i){var r=i.series,n=i.dataIndex,o=i.multipleSeries,a=r.getData(),u=a.mapDimensionsAll("defaultedTooltip"),c=u.length,d=r.getRawValue(n),f=isArray$1(d),h=retrieveVisualColorForTooltipMarker(r,n),y,g,p,v;if(c>1||f&&!c){var _=formatTooltipArrayValue(d,r,n,u,h);y=_.inlineValues,g=_.inlineValueTypes,p=_.blocks,v=_.inlineValues[0]}else if(c){var b=a.getDimensionInfo(u[0]);v=y=retrieveRawValue(a,n,u[0]),g=b.type}else v=y=f?d[0]:d;var A=isNameSpecified(r),w=A&&r.name||"",S=a.getName(n),T=o?w:S;return createTooltipMarkup("section",{header:w,noHeader:o||!A,sortParam:v,blocks:[createTooltipMarkup("nameValue",{markerType:"item",markerColor:h,name:T,noName:!trim(T),value:y,valueType:g,dataIndex:n})].concat(p||[])})}function formatTooltipArrayValue(i,r,n,o,a){var u=r.getData(),c=reduce(i,function(g,p,v){var _=u.getDimensionInfo(v);return g=g||_&&_.tooltip!==!1&&_.displayName!=null},!1),d=[],f=[],h=[];o.length?each$4(o,function(g){y(retrieveRawValue(u,n,g),g)}):each$4(i,y);function y(g,p){var v=u.getDimensionInfo(p);!v||v.otherDims.tooltip===!1||(c?h.push(createTooltipMarkup("nameValue",{markerType:"subItem",markerColor:a,name:v.displayName,value:g,valueType:v.type})):(d.push(g),f.push(v.type)))}return{inlineValues:d,inlineValueTypes:f,blocks:h}}var inner$6=makeInner();function getSelectionKey(i,r){return i.getName(r)||i.getId(r)}var SERIES_UNIVERSAL_TRANSITION_PROP="__universalTransitionEnabled",SeriesModel=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n._selectedDataIndicesMap={},n}return r.prototype.init=function(n,o,a){this.seriesIndex=this.componentIndex,this.dataTask=createTask({count:dataTaskCount,reset:dataTaskReset}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(n,a);var u=inner$6(this).sourceManager=new SourceManager(this);u.prepareSource();var c=this.getInitialData(n,a);wrapData(c,this),this.dataTask.context.data=c,process.env.NODE_ENV!=="production"&&assert(c,"getInitialData returned invalid data."),inner$6(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},r.prototype.mergeDefaultAndTheme=function(n,o){var a=fetchLayoutMode(this),u=a?getLayoutParams(n):{},c=this.subType;ComponentModel$1.hasClass(c)&&(c+="Series"),merge(n,o.getTheme().get(this.subType)),merge(n,this.getDefaultOption()),defaultEmphasis(n,"label",["show"]),this.fillDataTextStyle(n.data),a&&mergeLayoutParam(n,u,a)},r.prototype.mergeOption=function(n,o){n=merge(this.option,n,!0),this.fillDataTextStyle(n.data);var a=fetchLayoutMode(this);a&&mergeLayoutParam(this.option,n,a);var u=inner$6(this).sourceManager;u.dirty(),u.prepareSource();var c=this.getInitialData(n,o);wrapData(c,this),this.dataTask.dirty(),this.dataTask.context.data=c,inner$6(this).dataBeforeProcessed=c,autoSeriesName(this),this._initSelectedMapFromData(c)},r.prototype.fillDataTextStyle=function(n){if(n&&!isTypedArray(n))for(var o=["show"],a=0;a<n.length;a++)n[a]&&n[a].label&&defaultEmphasis(n[a],"label",o)},r.prototype.getInitialData=function(n,o){},r.prototype.appendData=function(n){var o=this.getRawData();o.appendData(n.data)},r.prototype.getData=function(n){var o=getCurrentTask(this);if(o){var a=o.context.data;return n==null||!a.getLinkedData?a:a.getLinkedData(n)}else return inner$6(this).data},r.prototype.getAllData=function(){var n=this.getData();return n&&n.getLinkedDataAll?n.getLinkedDataAll():[{data:n}]},r.prototype.setData=function(n){var o=getCurrentTask(this);if(o){var a=o.context;a.outputData=n,o!==this.dataTask&&(a.data=n)}inner$6(this).data=n},r.prototype.getEncode=function(){var n=this.get("encode",!0);if(n)return createHashMap(n)},r.prototype.getSourceManager=function(){return inner$6(this).sourceManager},r.prototype.getSource=function(){return this.getSourceManager().getSource()},r.prototype.getRawData=function(){return inner$6(this).dataBeforeProcessed},r.prototype.getColorBy=function(){var n=this.get("colorBy");return n||"series"},r.prototype.isColorBySeries=function(){return this.getColorBy()==="series"},r.prototype.getBaseAxis=function(){var n=this.coordinateSystem;return n&&n.getBaseAxis&&n.getBaseAxis()},r.prototype.formatTooltip=function(n,o,a){return defaultSeriesFormatTooltip({series:this,dataIndex:n,multipleSeries:o})},r.prototype.isAnimationEnabled=function(){var n=this.ecModel;if(env$1.node&&!(n&&n.ssr))return!1;var o=this.getShallow("animation");return o&&this.getData().count()>this.getShallow("animationThreshold")&&(o=!1),!!o},r.prototype.restoreData=function(){this.dataTask.dirty()},r.prototype.getColorFromPalette=function(n,o,a){var u=this.ecModel,c=PaletteMixin.prototype.getColorFromPalette.call(this,n,o,a);return c||(c=u.getColorFromPalette(n,o,a)),c},r.prototype.coordDimToDataDim=function(n){return this.getRawData().mapDimensionsAll(n)},r.prototype.getProgressive=function(){return this.get("progressive")},r.prototype.getProgressiveThreshold=function(){return this.get("progressiveThreshold")},r.prototype.select=function(n,o){this._innerSelect(this.getData(o),n)},r.prototype.unselect=function(n,o){var a=this.option.selectedMap;if(a){var u=this.option.selectedMode,c=this.getData(o);if(u==="series"||a==="all"){this.option.selectedMap={},this._selectedDataIndicesMap={};return}for(var d=0;d<n.length;d++){var f=n[d],h=getSelectionKey(c,f);a[h]=!1,this._selectedDataIndicesMap[h]=-1}}},r.prototype.toggleSelect=function(n,o){for(var a=[],u=0;u<n.length;u++)a[0]=n[u],this.isSelected(n[u],o)?this.unselect(a,o):this.select(a,o)},r.prototype.getSelectedDataIndices=function(){if(this.option.selectedMap==="all")return[].slice.call(this.getData().getIndices());for(var n=this._selectedDataIndicesMap,o=keys(n),a=[],u=0;u<o.length;u++){var c=n[o[u]];c>=0&&a.push(c)}return a},r.prototype.isSelected=function(n,o){var a=this.option.selectedMap;if(!a)return!1;var u=this.getData(o);return(a==="all"||a[getSelectionKey(u,n)])&&!u.getItemModel(n).get(["select","disabled"])},r.prototype.isUniversalTransitionEnabled=function(){if(this[SERIES_UNIVERSAL_TRANSITION_PROP])return!0;var n=this.option.universalTransition;return n?n===!0?!0:n&&n.enabled:!1},r.prototype._innerSelect=function(n,o){var a,u,c=this.option,d=c.selectedMode,f=o.length;if(!(!d||!f)){if(d==="series")c.selectedMap="all";else if(d==="multiple"){isObject$3(c.selectedMap)||(c.selectedMap={});for(var h=c.selectedMap,y=0;y<f;y++){var g=o[y],p=getSelectionKey(n,g);h[p]=!0,this._selectedDataIndicesMap[p]=n.getRawIndex(g)}}else if(d==="single"||d===!0){var v=o[f-1],p=getSelectionKey(n,v);c.selectedMap=(a={},a[p]=!0,a),this._selectedDataIndicesMap=(u={},u[p]=n.getRawIndex(v),u)}}},r.prototype._initSelectedMapFromData=function(n){if(!this.option.selectedMap){var o=[];n.hasItemOption&&n.each(function(a){var u=n.getRawDataItem(a);u&&u.selected&&o.push(a)}),o.length>0&&this._innerSelect(n,o)}},r.registerClass=function(n){return ComponentModel$1.registerClass(n)},r.protoInitialize=function(){var n=r.prototype;n.type="series.__base__",n.seriesIndex=0,n.ignoreStyleOnData=!1,n.hasSymbolVisual=!1,n.defaultSymbol="circle",n.visualStyleAccessPath="itemStyle",n.visualDrawType="fill"}(),r}(ComponentModel$1);mixin(SeriesModel,DataFormatMixin),mixin(SeriesModel,PaletteMixin),mountExtend(SeriesModel,ComponentModel$1);function autoSeriesName(i){var r=i.name;isNameSpecified(i)||(i.name=getSeriesAutoName(i)||r)}function getSeriesAutoName(i){var r=i.getRawData(),n=r.mapDimensionsAll("seriesName"),o=[];return each$4(n,function(a){var u=r.getDimensionInfo(a);u.displayName&&o.push(u.displayName)}),o.join(" ")}function dataTaskCount(i){return i.model.getRawData().count()}function dataTaskReset(i){var r=i.model;return r.setData(r.getRawData().cloneShallow()),dataTaskProgress}function dataTaskProgress(i,r){r.outputData&&i.end>r.outputData.count()&&r.model.getRawData().cloneShallow(r.outputData)}function wrapData(i,r){each$4(concatArray(i.CHANGABLE_METHODS,i.DOWNSAMPLE_METHODS),function(n){i.wrapMethod(n,curry$1(onDataChange,r))})}function onDataChange(i,r){var n=getCurrentTask(i);return n&&n.setOutputEnd((r||this).count()),r}function getCurrentTask(i){var r=(i.ecModel||{}).scheduler,n=r&&r.getPipeline(i.uid);if(n){var o=n.currentTask;if(o){var a=o.agentStubMap;a&&(o=a.get(i.uid))}return o}}const SeriesModel$1=SeriesModel;var ComponentView=function(){function i(){this.group=new Group$3,this.uid=getUID("viewComponent")}return i.prototype.init=function(r,n){},i.prototype.render=function(r,n,o,a){},i.prototype.dispose=function(r,n){},i.prototype.updateView=function(r,n,o,a){},i.prototype.updateLayout=function(r,n,o,a){},i.prototype.updateVisual=function(r,n,o,a){},i.prototype.toggleBlurSeries=function(r,n,o){},i.prototype.eachRendered=function(r){var n=this.group;n&&n.traverse(r)},i}();enableClassExtend(ComponentView),enableClassManagement(ComponentView);const ComponentView$1=ComponentView;function createRenderPlanner(){var i=makeInner();return function(r){var n=i(r),o=r.pipelineContext,a=!!n.large,u=!!n.progressiveRender,c=n.large=!!(o&&o.large),d=n.progressiveRender=!!(o&&o.progressiveRender);return(a!==c||u!==d)&&"reset"}}var inner$5=makeInner(),renderPlanner=createRenderPlanner(),ChartView=function(){function i(){this.group=new Group$3,this.uid=getUID("viewChart"),this.renderTask=createTask({plan:renderTaskPlan,reset:renderTaskReset}),this.renderTask.context={view:this}}return i.prototype.init=function(r,n){},i.prototype.render=function(r,n,o,a){if(process.env.NODE_ENV!=="production")throw new Error("render method must been implemented")},i.prototype.highlight=function(r,n,o,a){var u=r.getData(a&&a.dataType);if(!u){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+a.dataType);return}toggleHighlight(u,a,"emphasis")},i.prototype.downplay=function(r,n,o,a){var u=r.getData(a&&a.dataType);if(!u){process.env.NODE_ENV!=="production"&&error("Unknown dataType "+a.dataType);return}toggleHighlight(u,a,"normal")},i.prototype.remove=function(r,n){this.group.removeAll()},i.prototype.dispose=function(r,n){},i.prototype.updateView=function(r,n,o,a){this.render(r,n,o,a)},i.prototype.updateLayout=function(r,n,o,a){this.render(r,n,o,a)},i.prototype.updateVisual=function(r,n,o,a){this.render(r,n,o,a)},i.prototype.eachRendered=function(r){traverseElements(this.group,r)},i.markUpdateMethod=function(r,n){inner$5(r).updateMethod=n},i.protoInitialize=function(){var r=i.prototype;r.type="chart"}(),i}();function elSetState(i,r,n){i&&isHighDownDispatcher(i)&&(r==="emphasis"?enterEmphasis:leaveEmphasis)(i,n)}function toggleHighlight(i,r,n){var o=queryDataIndex(i,r),a=r&&r.highlightKey!=null?getHighlightDigit(r.highlightKey):null;o!=null?each$4(normalizeToArray(o),function(u){elSetState(i.getItemGraphicEl(u),n,a)}):i.eachItemGraphicEl(function(u){elSetState(u,n,a)})}enableClassExtend(ChartView,["dispose"]),enableClassManagement(ChartView);function renderTaskPlan(i){return renderPlanner(i.model)}function renderTaskReset(i){var r=i.model,n=i.ecModel,o=i.api,a=i.payload,u=r.pipelineContext.progressiveRender,c=i.view,d=a&&inner$5(a).updateMethod,f=u?"incrementalPrepareRender":d&&c[d]?d:"render";return f!=="render"&&c[f](r,n,o,a),progressMethodMap[f]}var progressMethodMap={incrementalPrepareRender:{progress:function(i,r){r.view.incrementalRender(i,r.model,r.ecModel,r.api,r.payload)}},render:{forceFirstProgress:!0,progress:function(i,r){r.view.render(r.model,r.ecModel,r.api,r.payload)}}};const ChartView$1=ChartView;var ORIGIN_METHOD="\0__throttleOriginMethod",RATE="\0__throttleRate",THROTTLE_TYPE="\0__throttleType";function throttle$1(i,r,n){var o,a=0,u=0,c=null,d,f,h,y;r=r||0;function g(){u=new Date().getTime(),c=null,i.apply(f,h||[])}var p=function(){for(var v=[],_=0;_<arguments.length;_++)v[_]=arguments[_];o=new Date().getTime(),f=this,h=v;var b=y||r,A=y||n;y=null,d=o-(A?a:u)-b,clearTimeout(c),A?c=setTimeout(g,b):d>=0?g():c=setTimeout(g,-d),a=o};return p.clear=function(){c&&(clearTimeout(c),c=null)},p.debounceNextCall=function(v){y=v},p}function createOrUpdate(i,r,n,o){var a=i[r];if(a){var u=a[ORIGIN_METHOD]||a,c=a[THROTTLE_TYPE],d=a[RATE];if(d!==n||c!==o){if(n==null||!o)return i[r]=u;a=i[r]=throttle$1(u,n,o==="debounce"),a[ORIGIN_METHOD]=u,a[THROTTLE_TYPE]=o,a[RATE]=n}return a}}function clear(i,r){var n=i[r];n&&n[ORIGIN_METHOD]&&(n.clear&&n.clear(),i[r]=n[ORIGIN_METHOD])}var inner$4=makeInner(),defaultStyleMappers={itemStyle:makeStyleMapper(ITEM_STYLE_KEY_MAP,!0),lineStyle:makeStyleMapper(LINE_STYLE_KEY_MAP,!0)},defaultColorKey={lineStyle:"stroke",itemStyle:"fill"};function getStyleMapper(i,r){var n=i.visualStyleMapper||defaultStyleMappers[r];return n||(console.warn("Unknown style type '"+r+"'."),defaultStyleMappers.itemStyle)}function getDefaultColorKey(i,r){var n=i.visualDrawType||defaultColorKey[r];return n||(console.warn("Unknown style type '"+r+"'."),"fill")}var seriesStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,r){var n=i.getData(),o=i.visualStyleAccessPath||"itemStyle",a=i.getModel(o),u=getStyleMapper(i,o),c=u(a),d=a.getShallow("decal");d&&(n.setVisual("decal",d),d.dirty=!0);var f=getDefaultColorKey(i,o),h=c[f],y=isFunction$1(h)?h:null,g=c.fill==="auto"||c.stroke==="auto";if(!c[f]||y||g){var p=i.getColorFromPalette(i.name,null,r.getSeriesCount());c[f]||(c[f]=p,n.setVisual("colorFromPalette",!0)),c.fill=c.fill==="auto"||isFunction$1(c.fill)?p:c.fill,c.stroke=c.stroke==="auto"||isFunction$1(c.stroke)?p:c.stroke}if(n.setVisual("style",c),n.setVisual("drawType",f),!r.isSeriesFiltered(i)&&y)return n.setVisual("colorFromPalette",!1),{dataEach:function(v,_){var b=i.getDataParams(_),A=extend({},c);A[f]=y(b),v.setItemVisual(_,"style",A)}}}},sharedModel=new Model$1,dataStyleTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,r){if(!(i.ignoreStyleOnData||r.isSeriesFiltered(i))){var n=i.getData(),o=i.visualStyleAccessPath||"itemStyle",a=getStyleMapper(i,o),u=n.getVisual("drawType");return{dataEach:n.hasItemOption?function(c,d){var f=c.getRawDataItem(d);if(f&&f[o]){sharedModel.option=f[o];var h=a(sharedModel),y=c.ensureUniqueItemVisual(d,"style");extend(y,h),sharedModel.option.decal&&(c.setItemVisual(d,"decal",sharedModel.option.decal),sharedModel.option.decal.dirty=!0),u in h&&c.setItemVisual(d,"colorFromPalette",!1)}}:null}}}},dataColorPaletteTask={performRawSeries:!0,overallReset:function(i){var r=createHashMap();i.eachSeries(function(n){var o=n.getColorBy();if(!n.isColorBySeries()){var a=n.type+"-"+o,u=r.get(a);u||(u={},r.set(a,u)),inner$4(n).scope=u}}),i.eachSeries(function(n){if(!(n.isColorBySeries()||i.isSeriesFiltered(n))){var o=n.getRawData(),a={},u=n.getData(),c=inner$4(n).scope,d=n.visualStyleAccessPath||"itemStyle",f=getDefaultColorKey(n,d);u.each(function(h){var y=u.getRawIndex(h);a[y]=h}),o.each(function(h){var y=a[h],g=u.getItemVisual(y,"colorFromPalette");if(g){var p=u.ensureUniqueItemVisual(y,"style"),v=o.getName(h)||h+"",_=o.count();p[f]=n.getColorFromPalette(v,c,_)}})}})}},PI$2=Math.PI;function defaultLoading(i,r){r=r||{},defaults(r,{text:"loading",textColor:"#000",fontSize:12,fontWeight:"normal",fontStyle:"normal",fontFamily:"sans-serif",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#5470c6",spinnerRadius:10,lineWidth:5,zlevel:0});var n=new Group$3,o=new Rect$1({style:{fill:r.maskColor},zlevel:r.zlevel,z:1e4});n.add(o);var a=new ZRText$1({style:{text:r.text,fill:r.textColor,fontSize:r.fontSize,fontWeight:r.fontWeight,fontStyle:r.fontStyle,fontFamily:r.fontFamily},zlevel:r.zlevel,z:10001}),u=new Rect$1({style:{fill:"none"},textContent:a,textConfig:{position:"right",distance:10},zlevel:r.zlevel,z:10001});n.add(u);var c;return r.showSpinner&&(c=new Arc$1({shape:{startAngle:-PI$2/2,endAngle:-PI$2/2+.1,r:r.spinnerRadius},style:{stroke:r.color,lineCap:"round",lineWidth:r.lineWidth},zlevel:r.zlevel,z:10001}),c.animateShape(!0).when(1e3,{endAngle:PI$2*3/2}).start("circularInOut"),c.animateShape(!0).when(1e3,{startAngle:PI$2*3/2}).delay(300).start("circularInOut"),n.add(c)),n.resize=function(){var d=a.getBoundingRect().width,f=r.showSpinner?r.spinnerRadius:0,h=(i.getWidth()-f*2-(r.showSpinner&&d?10:0)-d)/2-(r.showSpinner&&d?0:5+d/2)+(r.showSpinner?0:d/2)+(d?0:f),y=i.getHeight()/2;r.showSpinner&&c.setShape({cx:h,cy:y}),u.setShape({x:h-f,y:y-f,width:f*2,height:f*2}),o.setShape({x:0,y:0,width:i.getWidth(),height:i.getHeight()})},n.resize(),n}var Scheduler=function(){function i(r,n,o,a){this._stageTaskMap=createHashMap(),this.ecInstance=r,this.api=n,o=this._dataProcessorHandlers=o.slice(),a=this._visualHandlers=a.slice(),this._allHandlers=o.concat(a)}return i.prototype.restoreData=function(r,n){r.restoreData(n),this._stageTaskMap.each(function(o){var a=o.overallTask;a&&a.dirty()})},i.prototype.getPerformArgs=function(r,n){if(r.__pipeline){var o=this._pipelineMap.get(r.__pipeline.id),a=o.context,u=!n&&o.progressiveEnabled&&(!a||a.progressiveRender)&&r.__idxInPipeline>o.blockIndex,c=u?o.step:null,d=a&&a.modDataCount,f=d!=null?Math.ceil(d/c):null;return{step:c,modBy:f,modDataCount:d}}},i.prototype.getPipeline=function(r){return this._pipelineMap.get(r)},i.prototype.updateStreamModes=function(r,n){var o=this._pipelineMap.get(r.uid),a=r.getData(),u=a.count(),c=o.progressiveEnabled&&n.incrementalPrepareRender&&u>=o.threshold,d=r.get("large")&&u>=r.get("largeThreshold"),f=r.get("progressiveChunkMode")==="mod"?u:null;r.pipelineContext=o.context={progressiveRender:c,modDataCount:f,large:d}},i.prototype.restorePipelines=function(r){var n=this,o=n._pipelineMap=createHashMap();r.eachSeries(function(a){var u=a.getProgressive(),c=a.uid;o.set(c,{id:c,head:null,tail:null,threshold:a.getProgressiveThreshold(),progressiveEnabled:u&&!(a.preventIncremental&&a.preventIncremental()),blockIndex:-1,step:Math.round(u||700),count:0}),n._pipe(a,a.dataTask)})},i.prototype.prepareStageTasks=function(){var r=this._stageTaskMap,n=this.api.getModel(),o=this.api;each$4(this._allHandlers,function(a){var u=r.get(a.uid)||r.set(a.uid,{}),c="";process.env.NODE_ENV!=="production"&&(c='"reset" and "overallReset" must not be both specified.'),assert(!(a.reset&&a.overallReset),c),a.reset&&this._createSeriesStageTask(a,u,n,o),a.overallReset&&this._createOverallStageTask(a,u,n,o)},this)},i.prototype.prepareView=function(r,n,o,a){var u=r.renderTask,c=u.context;c.model=n,c.ecModel=o,c.api=a,u.__block=!r.incrementalPrepareRender,this._pipe(n,u)},i.prototype.performDataProcessorTasks=function(r,n){this._performStageTasks(this._dataProcessorHandlers,r,n,{block:!0})},i.prototype.performVisualTasks=function(r,n,o){this._performStageTasks(this._visualHandlers,r,n,o)},i.prototype._performStageTasks=function(r,n,o,a){a=a||{};var u=!1,c=this;each$4(r,function(f,h){if(!(a.visualType&&a.visualType!==f.visualType)){var y=c._stageTaskMap.get(f.uid),g=y.seriesTaskMap,p=y.overallTask;if(p){var v,_=p.agentStubMap;_.each(function(A){d(a,A)&&(A.dirty(),v=!0)}),v&&p.dirty(),c.updatePayload(p,o);var b=c.getPerformArgs(p,a.block);_.each(function(A){A.perform(b)}),p.perform(b)&&(u=!0)}else g&&g.each(function(A,w){d(a,A)&&A.dirty();var S=c.getPerformArgs(A,a.block);S.skip=!f.performRawSeries&&n.isSeriesFiltered(A.context.model),c.updatePayload(A,o),A.perform(S)&&(u=!0)})}});function d(f,h){return f.setDirty&&(!f.dirtyMap||f.dirtyMap.get(h.__pipeline.id))}this.unfinished=u||this.unfinished},i.prototype.performSeriesTasks=function(r){var n;r.eachSeries(function(o){n=o.dataTask.perform()||n}),this.unfinished=n||this.unfinished},i.prototype.plan=function(){this._pipelineMap.each(function(r){var n=r.tail;do{if(n.__block){r.blockIndex=n.__idxInPipeline;break}n=n.getUpstream()}while(n)})},i.prototype.updatePayload=function(r,n){n!=="remain"&&(r.context.payload=n)},i.prototype._createSeriesStageTask=function(r,n,o,a){var u=this,c=n.seriesTaskMap,d=n.seriesTaskMap=createHashMap(),f=r.seriesType,h=r.getTargetSeries;r.createOnAllSeries?o.eachRawSeries(y):f?o.eachRawSeriesByType(f,y):h&&h(o,a).each(y);function y(g){var p=g.uid,v=d.set(p,c&&c.get(p)||createTask({plan:seriesTaskPlan,reset:seriesTaskReset,count:seriesTaskCount}));v.context={model:g,ecModel:o,api:a,useClearVisual:r.isVisual&&!r.isLayout,plan:r.plan,reset:r.reset,scheduler:u},u._pipe(g,v)}},i.prototype._createOverallStageTask=function(r,n,o,a){var u=this,c=n.overallTask=n.overallTask||createTask({reset:overallTaskReset});c.context={ecModel:o,api:a,overallReset:r.overallReset,scheduler:u};var d=c.agentStubMap,f=c.agentStubMap=createHashMap(),h=r.seriesType,y=r.getTargetSeries,g=!0,p=!1,v="";process.env.NODE_ENV!=="production"&&(v='"createOnAllSeries" is not supported for "overallReset", because it will block all streams.'),assert(!r.createOnAllSeries,v),h?o.eachRawSeriesByType(h,_):y?y(o,a).each(_):(g=!1,each$4(o.getSeries(),_));function _(b){var A=b.uid,w=f.set(A,d&&d.get(A)||(p=!0,createTask({reset:stubReset,onDirty:stubOnDirty})));w.context={model:b,overallProgress:g},w.agent=c,w.__block=g,u._pipe(b,w)}p&&c.dirty()},i.prototype._pipe=function(r,n){var o=r.uid,a=this._pipelineMap.get(o);!a.head&&(a.head=n),a.tail&&a.tail.pipe(n),a.tail=n,n.__idxInPipeline=a.count++,n.__pipeline=a},i.wrapStageHandler=function(r,n){return isFunction$1(r)&&(r={overallReset:r,seriesType:detectSeriseType(r)}),r.uid=getUID("stageHandler"),n&&(r.visualType=n),r},i}();function overallTaskReset(i){i.overallReset(i.ecModel,i.api,i.payload)}function stubReset(i){return i.overallProgress&&stubProgress}function stubProgress(){this.agent.dirty(),this.getDownstream().dirty()}function stubOnDirty(){this.agent&&this.agent.dirty()}function seriesTaskPlan(i){return i.plan?i.plan(i.model,i.ecModel,i.api,i.payload):null}function seriesTaskReset(i){i.useClearVisual&&i.data.clearAllVisual();var r=i.resetDefines=normalizeToArray(i.reset(i.model,i.ecModel,i.api,i.payload));return r.length>1?map$1(r,function(n,o){return makeSeriesTaskProgress(o)}):singleSeriesTaskProgress}var singleSeriesTaskProgress=makeSeriesTaskProgress(0);function makeSeriesTaskProgress(i){return function(r,n){var o=n.data,a=n.resetDefines[i];if(a&&a.dataEach)for(var u=r.start;u<r.end;u++)a.dataEach(o,u);else a&&a.progress&&a.progress(r,o)}}function seriesTaskCount(i){return i.data.count()}function detectSeriseType(i){seriesType=null;try{i(ecModelMock,apiMock)}catch{}return seriesType}var ecModelMock={},apiMock={},seriesType;mockMethods(ecModelMock,GlobalModel$1),mockMethods(apiMock,ExtensionAPI$1),ecModelMock.eachSeriesByType=ecModelMock.eachRawSeriesByType=function(i){seriesType=i},ecModelMock.eachComponent=function(i){i.mainType==="series"&&i.subType&&(seriesType=i.subType)};function mockMethods(i,r){for(var n in r.prototype)i[n]=noop$1}const Scheduler$1=Scheduler;var colorAll=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"];const lightTheme={color:colorAll,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],colorAll]};var contrastColor="#B9B8CE",backgroundColor="#100C2A",axisCommon=function(){return{axisLine:{lineStyle:{color:contrastColor}},splitLine:{lineStyle:{color:"#484753"}},splitArea:{areaStyle:{color:["rgba(255,255,255,0.02)","rgba(255,255,255,0.05)"]}},minorSplitLine:{lineStyle:{color:"#20203B"}}}},colorPalette=["#4992ff","#7cffb2","#fddd60","#ff6e76","#58d9f9","#05c091","#ff8a45","#8d48e3","#dd79ff"],theme={darkMode:!0,color:colorPalette,backgroundColor,axisPointer:{lineStyle:{color:"#817f91"},crossStyle:{color:"#817f91"},label:{color:"#fff"}},legend:{textStyle:{color:contrastColor}},textStyle:{color:contrastColor},title:{textStyle:{color:"#EEF1FA"},subtextStyle:{color:"#B9B8CE"}},toolbox:{iconStyle:{borderColor:contrastColor}},dataZoom:{borderColor:"#71708A",textStyle:{color:contrastColor},brushStyle:{color:"rgba(135,163,206,0.3)"},handleStyle:{color:"#353450",borderColor:"#C5CBE3"},moveHandleStyle:{color:"#B0B6C3",opacity:.3},fillerColor:"rgba(135,163,206,0.2)",emphasis:{handleStyle:{borderColor:"#91B7F2",color:"#4D587D"},moveHandleStyle:{color:"#636D9A",opacity:.7}},dataBackground:{lineStyle:{color:"#71708A",width:1},areaStyle:{color:"#71708A"}},selectedDataBackground:{lineStyle:{color:"#87A3CE"},areaStyle:{color:"#87A3CE"}}},visualMap:{textStyle:{color:contrastColor}},timeline:{lineStyle:{color:contrastColor},label:{color:contrastColor},controlStyle:{color:contrastColor,borderColor:contrastColor}},calendar:{itemStyle:{color:backgroundColor},dayLabel:{color:contrastColor},monthLabel:{color:contrastColor},yearLabel:{color:contrastColor}},timeAxis:axisCommon(),logAxis:axisCommon(),valueAxis:axisCommon(),categoryAxis:axisCommon(),line:{symbol:"circle"},graph:{color:colorPalette},gauge:{title:{color:contrastColor},axisLine:{lineStyle:{color:[[1,"rgba(207,212,219,0.2)"]]}},axisLabel:{color:contrastColor},detail:{color:"#EEF1FA"}},candlestick:{itemStyle:{color:"#f64e56",color0:"#54ea92",borderColor:"#f64e56",borderColor0:"#54ea92"}}};theme.categoryAxis.splitLine.show=!1;const darkTheme=theme;var ECEventProcessor=function(){function i(){}return i.prototype.normalizeQuery=function(r){var n={},o={},a={};if(isString$2(r)){var u=parseClassType(r);n.mainType=u.main||null,n.subType=u.sub||null}else{var c=["Index","Name","Id"],d={name:1,dataIndex:1,dataType:1};each$4(r,function(f,h){for(var y=!1,g=0;g<c.length;g++){var p=c[g],v=h.lastIndexOf(p);if(v>0&&v===h.length-p.length){var _=h.slice(0,v);_!=="data"&&(n.mainType=_,n[p.toLowerCase()]=f,y=!0)}}d.hasOwnProperty(h)&&(o[h]=f,y=!0),y||(a[h]=f)})}return{cptQuery:n,dataQuery:o,otherQuery:a}},i.prototype.filter=function(r,n){var o=this.eventInfo;if(!o)return!0;var a=o.targetEl,u=o.packedEvent,c=o.model,d=o.view;if(!c||!d)return!0;var f=n.cptQuery,h=n.dataQuery;return y(f,c,"mainType")&&y(f,c,"subType")&&y(f,c,"index","componentIndex")&&y(f,c,"name")&&y(f,c,"id")&&y(h,u,"name")&&y(h,u,"dataIndex")&&y(h,u,"dataType")&&(!d.filterForExposedEvent||d.filterForExposedEvent(r,n.otherQuery,a,u));function y(g,p,v,_){return g[v]==null||p[_||v]===g[v]}},i.prototype.afterTrigger=function(){this.eventInfo=null},i}(),SYMBOL_PROPS_WITH_CB=["symbol","symbolSize","symbolRotate","symbolOffset"],SYMBOL_PROPS=SYMBOL_PROPS_WITH_CB.concat(["symbolKeepAspect"]),seriesSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,r){var n=i.getData();if(i.legendIcon&&n.setVisual("legendIcon",i.legendIcon),!i.hasSymbolVisual)return;for(var o={},a={},u=!1,c=0;c<SYMBOL_PROPS_WITH_CB.length;c++){var d=SYMBOL_PROPS_WITH_CB[c],f=i.get(d);isFunction$1(f)?(u=!0,a[d]=f):o[d]=f}if(o.symbol=o.symbol||i.defaultSymbol,n.setVisual(extend({legendIcon:i.legendIcon||o.symbol,symbolKeepAspect:i.get("symbolKeepAspect")},o)),r.isSeriesFiltered(i))return;var h=keys(a);function y(g,p){for(var v=i.getRawValue(p),_=i.getDataParams(p),b=0;b<h.length;b++){var A=h[b];g.setItemVisual(p,A,a[A](v,_))}}return{dataEach:u?y:null}}},dataSymbolTask={createOnAllSeries:!0,performRawSeries:!0,reset:function(i,r){if(!i.hasSymbolVisual||r.isSeriesFiltered(i))return;var n=i.getData();function o(a,u){for(var c=a.getItemModel(u),d=0;d<SYMBOL_PROPS.length;d++){var f=SYMBOL_PROPS[d],h=c.getShallow(f,!0);h!=null&&a.setItemVisual(u,f,h)}}return{dataEach:n.hasItemOption?o:null}}};function getItemVisualFromData(i,r,n){switch(n){case"color":var o=i.getItemVisual(r,"style");return o[i.getVisual("drawType")];case"opacity":return i.getItemVisual(r,"style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getItemVisual(r,n);default:process.env.NODE_ENV!=="production"&&console.warn("Unknown visual type "+n)}}function getVisualFromData(i,r){switch(r){case"color":var n=i.getVisual("style");return n[i.getVisual("drawType")];case"opacity":return i.getVisual("style").opacity;case"symbol":case"symbolSize":case"liftZ":return i.getVisual(r);default:process.env.NODE_ENV!=="production"&&console.warn("Unknown visual type "+r)}}function createLegacyDataSelectAction(i,r){function n(o,a){var u=[];return o.eachComponent({mainType:"series",subType:i,query:a},function(c){u.push(c.seriesIndex)}),u}each$4([[i+"ToggleSelect","toggleSelect"],[i+"Select","select"],[i+"UnSelect","unselect"]],function(o){r(o[0],function(a,u,c){a=extend({},a),process.env.NODE_ENV!=="production"&&deprecateReplaceLog(a.type,o[1]),c.dispatchAction(extend(a,{type:o[1],seriesIndex:n(u,a)}))})})}function handleSeriesLegacySelectEvents(i,r,n,o,a){var u=i+r;n.isSilent(u)||(process.env.NODE_ENV!=="production"&&deprecateLog("event "+u+" is deprecated."),o.eachComponent({mainType:"series",subType:"pie"},function(c){for(var d=c.seriesIndex,f=c.option.selectedMap,h=a.selected,y=0;y<h.length;y++)if(h[y].seriesIndex===d){var g=c.getData(),p=queryDataIndex(g,a.fromActionPayload);n.trigger(u,{type:u,seriesId:c.id,name:isArray$1(p)?g.getName(p[0]):g.getName(p),selected:isString$2(f)?f:extend({},f)})}}))}function handleLegacySelectEvents(i,r,n){i.on("selectchanged",function(o){var a=n.getModel();o.isFromClick?(handleSeriesLegacySelectEvents("map","selectchanged",r,a,o),handleSeriesLegacySelectEvents("pie","selectchanged",r,a,o)):o.fromAction==="select"?(handleSeriesLegacySelectEvents("map","selected",r,a,o),handleSeriesLegacySelectEvents("pie","selected",r,a,o)):o.fromAction==="unselect"&&(handleSeriesLegacySelectEvents("map","unselected",r,a,o),handleSeriesLegacySelectEvents("pie","unselected",r,a,o))})}function findEventDispatcher(i,r,n){for(var o;i&&!(r(i)&&(o=i,n));)i=i.__hostTarget||i.parent;return o}var wmUniqueIndex=Math.round(Math.random()*9),supportDefineProperty=typeof Object.defineProperty=="function",WeakMap$1=function(){function i(){this._id="__ec_inner_"+wmUniqueIndex++}return i.prototype.get=function(r){return this._guard(r)[this._id]},i.prototype.set=function(r,n){var o=this._guard(r);return supportDefineProperty?Object.defineProperty(o,this._id,{value:n,enumerable:!1,configurable:!0}):o[this._id]=n,this},i.prototype.delete=function(r){return this.has(r)?(delete this._guard(r)[this._id],!0):!1},i.prototype.has=function(r){return!!this._guard(r)[this._id]},i.prototype._guard=function(r){if(r!==Object(r))throw TypeError("Value of WeakMap is not a non-null object.");return r},i}();const WeakMap$2=WeakMap$1;var Triangle=Path$1.extend({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,r){var n=r.cx,o=r.cy,a=r.width/2,u=r.height/2;i.moveTo(n,o-u),i.lineTo(n+a,o+u),i.lineTo(n-a,o+u),i.closePath()}}),Diamond=Path$1.extend({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(i,r){var n=r.cx,o=r.cy,a=r.width/2,u=r.height/2;i.moveTo(n,o-u),i.lineTo(n+a,o),i.lineTo(n,o+u),i.lineTo(n-a,o),i.closePath()}}),Pin=Path$1.extend({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,r){var n=r.x,o=r.y,a=r.width/5*3,u=Math.max(a,r.height),c=a/2,d=c*c/(u-c),f=o-u+c+d,h=Math.asin(d/c),y=Math.cos(h)*c,g=Math.sin(h),p=Math.cos(h),v=c*.6,_=c*.7;i.moveTo(n-y,f+d),i.arc(n,f,c,Math.PI-h,Math.PI*2+h),i.bezierCurveTo(n+y-g*v,f+d+p*v,n,o-_,n,o),i.bezierCurveTo(n,o-_,n-y+g*v,f+d+p*v,n-y,f+d),i.closePath()}}),Arrow=Path$1.extend({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(i,r){var n=r.height,o=r.width,a=r.x,u=r.y,c=o/3*2;i.moveTo(a,u),i.lineTo(a+c,u+n),i.lineTo(a,u+n/4*3),i.lineTo(a-c,u+n),i.lineTo(a,u),i.closePath()}}),symbolCtors={line:Line$1,rect:Rect$1,roundRect:Rect$1,square:Rect$1,circle:Circle$1,diamond:Diamond,pin:Pin,arrow:Arrow,triangle:Triangle},symbolShapeMakers={line:function(i,r,n,o,a){a.x1=i,a.y1=r+o/2,a.x2=i+n,a.y2=r+o/2},rect:function(i,r,n,o,a){a.x=i,a.y=r,a.width=n,a.height=o},roundRect:function(i,r,n,o,a){a.x=i,a.y=r,a.width=n,a.height=o,a.r=Math.min(n,o)/4},square:function(i,r,n,o,a){var u=Math.min(n,o);a.x=i,a.y=r,a.width=u,a.height=u},circle:function(i,r,n,o,a){a.cx=i+n/2,a.cy=r+o/2,a.r=Math.min(n,o)/2},diamond:function(i,r,n,o,a){a.cx=i+n/2,a.cy=r+o/2,a.width=n,a.height=o},pin:function(i,r,n,o,a){a.x=i+n/2,a.y=r+o/2,a.width=n,a.height=o},arrow:function(i,r,n,o,a){a.x=i+n/2,a.y=r+o/2,a.width=n,a.height=o},triangle:function(i,r,n,o,a){a.cx=i+n/2,a.cy=r+o/2,a.width=n,a.height=o}},symbolBuildProxies={};each$4(symbolCtors,function(i,r){symbolBuildProxies[r]=new i});var SymbolClz=Path$1.extend({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(i,r,n){var o=calculateTextPosition(i,r,n),a=this.shape;return a&&a.symbolType==="pin"&&r.position==="inside"&&(o.y=n.y+n.height*.4),o},buildPath:function(i,r,n){var o=r.symbolType;if(o!=="none"){var a=symbolBuildProxies[o];a||(o="rect",a=symbolBuildProxies[o]),symbolShapeMakers[o](r.x,r.y,r.width,r.height,a.shape),a.buildPath(i,a.shape,n)}}});function symbolPathSetColor(i,r){if(this.type!=="image"){var n=this.style;this.__isEmptyBrush?(n.stroke=i,n.fill=r||"#fff",n.lineWidth=2):this.shape.symbolType==="line"?n.stroke=i:n.fill=i,this.markRedraw()}}function createSymbol(i,r,n,o,a,u,c){var d=i.indexOf("empty")===0;d&&(i=i.substr(5,1).toLowerCase()+i.substr(6));var f;return i.indexOf("image://")===0?f=makeImage(i.slice(8),new BoundingRect$1(r,n,o,a),c?"center":"cover"):i.indexOf("path://")===0?f=makePath(i.slice(7),{},new BoundingRect$1(r,n,o,a),c?"center":"cover"):f=new SymbolClz({shape:{symbolType:i,x:r,y:n,width:o,height:a}}),f.__isEmptyBrush=d,f.setColor=symbolPathSetColor,u&&f.setColor(u),f}function normalizeSymbolOffset(i,r){if(i!=null)return isArray$1(i)||(i=[i,i]),[parsePercent(i[0],r[0])||0,parsePercent(retrieve2(i[1],i[0]),r[1])||0]}function isSafeNum(i){return isFinite(i)}function createLinearGradient(i,r,n){var o=r.x==null?0:r.x,a=r.x2==null?1:r.x2,u=r.y==null?0:r.y,c=r.y2==null?0:r.y2;r.global||(o=o*n.width+n.x,a=a*n.width+n.x,u=u*n.height+n.y,c=c*n.height+n.y),o=isSafeNum(o)?o:0,a=isSafeNum(a)?a:1,u=isSafeNum(u)?u:0,c=isSafeNum(c)?c:0;var d=i.createLinearGradient(o,u,a,c);return d}function createRadialGradient(i,r,n){var o=n.width,a=n.height,u=Math.min(o,a),c=r.x==null?.5:r.x,d=r.y==null?.5:r.y,f=r.r==null?.5:r.r;r.global||(c=c*o+n.x,d=d*a+n.y,f=f*u),c=isSafeNum(c)?c:.5,d=isSafeNum(d)?d:.5,f=f>=0&&isSafeNum(f)?f:.5;var h=i.createRadialGradient(c,d,0,c,d,f);return h}function getCanvasGradient(i,r,n){for(var o=r.type==="radial"?createRadialGradient(i,r,n):createLinearGradient(i,r,n),a=r.colorStops,u=0;u<a.length;u++)o.addColorStop(a[u].offset,a[u].color);return o}function isClipPathChanged(i,r){if(i===r||!i&&!r)return!1;if(!i||!r||i.length!==r.length)return!0;for(var n=0;n<i.length;n++)if(i[n]!==r[n])return!0;return!1}function parseInt10(i){return parseInt(i,10)}function getSize(i,r,n){var o=["width","height"][r],a=["clientWidth","clientHeight"][r],u=["paddingLeft","paddingTop"][r],c=["paddingRight","paddingBottom"][r];if(n[o]!=null&&n[o]!=="auto")return parseFloat(n[o]);var d=document.defaultView.getComputedStyle(i);return(i[a]||parseInt10(d[o])||parseInt10(i.style[o]))-(parseInt10(d[u])||0)-(parseInt10(d[c])||0)|0}function normalizeLineDash(i,r){return!i||i==="solid"||!(r>0)?null:i==="dashed"?[4*r,2*r]:i==="dotted"?[r]:isNumber$1(i)?[i]:isArray$1(i)?i:null}function getLineDash(i){var r=i.style,n=r.lineDash&&r.lineWidth>0&&normalizeLineDash(r.lineDash,r.lineWidth),o=r.lineDashOffset;if(n){var a=r.strokeNoScale&&i.getLineScale?i.getLineScale():1;a&&a!==1&&(n=map$1(n,function(u){return u/a}),o/=a)}return[n,o]}var pathProxyForDraw=new PathProxy(!0);function styleHasStroke(i){var r=i.stroke;return!(r==null||r==="none"||!(i.lineWidth>0))}function isValidStrokeFillStyle(i){return typeof i=="string"&&i!=="none"}function styleHasFill(i){var r=i.fill;return r!=null&&r!=="none"}function doFillPath(i,r){if(r.fillOpacity!=null&&r.fillOpacity!==1){var n=i.globalAlpha;i.globalAlpha=r.fillOpacity*r.opacity,i.fill(),i.globalAlpha=n}else i.fill()}function doStrokePath(i,r){if(r.strokeOpacity!=null&&r.strokeOpacity!==1){var n=i.globalAlpha;i.globalAlpha=r.strokeOpacity*r.opacity,i.stroke(),i.globalAlpha=n}else i.stroke()}function createCanvasPattern(i,r,n){var o=createOrUpdateImage(r.image,r.__image,n);if(isImageReady(o)){var a=i.createPattern(o,r.repeat||"repeat");if(typeof DOMMatrix=="function"&&a&&a.setTransform){var u=new DOMMatrix;u.translateSelf(r.x||0,r.y||0),u.rotateSelf(0,0,(r.rotation||0)*RADIAN_TO_DEGREE),u.scaleSelf(r.scaleX||1,r.scaleY||1),a.setTransform(u)}return a}}function brushPath(i,r,n,o){var a,u=styleHasStroke(n),c=styleHasFill(n),d=n.strokePercent,f=d<1,h=!r.path;(!r.silent||f)&&h&&r.createPathProxy();var y=r.path||pathProxyForDraw,g=r.__dirty;if(!o){var p=n.fill,v=n.stroke,_=c&&!!p.colorStops,b=u&&!!v.colorStops,A=c&&!!p.image,w=u&&!!v.image,S=void 0,T=void 0,x=void 0,M=void 0,L=void 0;(_||b)&&(L=r.getBoundingRect()),_&&(S=g?getCanvasGradient(i,p,L):r.__canvasFillGradient,r.__canvasFillGradient=S),b&&(T=g?getCanvasGradient(i,v,L):r.__canvasStrokeGradient,r.__canvasStrokeGradient=T),A&&(x=g||!r.__canvasFillPattern?createCanvasPattern(i,p,r):r.__canvasFillPattern,r.__canvasFillPattern=x),w&&(M=g||!r.__canvasStrokePattern?createCanvasPattern(i,v,r):r.__canvasStrokePattern,r.__canvasStrokePattern=x),_?i.fillStyle=S:A&&(x?i.fillStyle=x:c=!1),b?i.strokeStyle=T:w&&(M?i.strokeStyle=M:u=!1)}var k=r.getGlobalScale();y.setScale(k[0],k[1],r.segmentIgnoreThreshold);var ie,$;i.setLineDash&&n.lineDash&&(a=getLineDash(r),ie=a[0],$=a[1]);var z=!0;(h||g&SHAPE_CHANGED_BIT)&&(y.setDPR(i.dpr),f?y.setContext(null):(y.setContext(i),z=!1),y.reset(),r.buildPath(y,r.shape,o),y.toStatic(),r.pathUpdated()),z&&y.rebuildPath(i,f?d:1),ie&&(i.setLineDash(ie),i.lineDashOffset=$),o||(n.strokeFirst?(u&&doStrokePath(i,n),c&&doFillPath(i,n)):(c&&doFillPath(i,n),u&&doStrokePath(i,n))),ie&&i.setLineDash([])}function brushImage(i,r,n){var o=r.__image=createOrUpdateImage(n.image,r.__image,r,r.onload);if(!(!o||!isImageReady(o))){var a=n.x||0,u=n.y||0,c=r.getWidth(),d=r.getHeight(),f=o.width/o.height;if(c==null&&d!=null?c=d*f:d==null&&c!=null?d=c/f:c==null&&d==null&&(c=o.width,d=o.height),n.sWidth&&n.sHeight){var h=n.sx||0,y=n.sy||0;i.drawImage(o,h,y,n.sWidth,n.sHeight,a,u,c,d)}else if(n.sx&&n.sy){var h=n.sx,y=n.sy,g=c-h,p=d-y;i.drawImage(o,h,y,g,p,a,u,c,d)}else i.drawImage(o,a,u,c,d)}}function brushText(i,r,n){var o,a=n.text;if(a!=null&&(a+=""),a){i.font=n.font||DEFAULT_FONT,i.textAlign=n.textAlign,i.textBaseline=n.textBaseline;var u=void 0,c=void 0;i.setLineDash&&n.lineDash&&(o=getLineDash(r),u=o[0],c=o[1]),u&&(i.setLineDash(u),i.lineDashOffset=c),n.strokeFirst?(styleHasStroke(n)&&i.strokeText(a,n.x,n.y),styleHasFill(n)&&i.fillText(a,n.x,n.y)):(styleHasFill(n)&&i.fillText(a,n.x,n.y),styleHasStroke(n)&&i.strokeText(a,n.x,n.y)),u&&i.setLineDash([])}}var SHADOW_NUMBER_PROPS=["shadowBlur","shadowOffsetX","shadowOffsetY"],STROKE_PROPS=[["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]];function bindCommonProps(i,r,n,o,a){var u=!1;if(!o&&(n=n||{},r===n))return!1;if(o||r.opacity!==n.opacity){flushPathDrawn(i,a),u=!0;var c=Math.max(Math.min(r.opacity,1),0);i.globalAlpha=isNaN(c)?DEFAULT_COMMON_STYLE.opacity:c}(o||r.blend!==n.blend)&&(u||(flushPathDrawn(i,a),u=!0),i.globalCompositeOperation=r.blend||DEFAULT_COMMON_STYLE.blend);for(var d=0;d<SHADOW_NUMBER_PROPS.length;d++){var f=SHADOW_NUMBER_PROPS[d];(o||r[f]!==n[f])&&(u||(flushPathDrawn(i,a),u=!0),i[f]=i.dpr*(r[f]||0))}return(o||r.shadowColor!==n.shadowColor)&&(u||(flushPathDrawn(i,a),u=!0),i.shadowColor=r.shadowColor||DEFAULT_COMMON_STYLE.shadowColor),u}function bindPathAndTextCommonStyle(i,r,n,o,a){var u=getStyle(r,a.inHover),c=o?null:n&&getStyle(n,a.inHover)||{};if(u===c)return!1;var d=bindCommonProps(i,u,c,o,a);if((o||u.fill!==c.fill)&&(d||(flushPathDrawn(i,a),d=!0),isValidStrokeFillStyle(u.fill)&&(i.fillStyle=u.fill)),(o||u.stroke!==c.stroke)&&(d||(flushPathDrawn(i,a),d=!0),isValidStrokeFillStyle(u.stroke)&&(i.strokeStyle=u.stroke)),(o||u.opacity!==c.opacity)&&(d||(flushPathDrawn(i,a),d=!0),i.globalAlpha=u.opacity==null?1:u.opacity),r.hasStroke()){var f=u.lineWidth,h=f/(u.strokeNoScale&&r.getLineScale?r.getLineScale():1);i.lineWidth!==h&&(d||(flushPathDrawn(i,a),d=!0),i.lineWidth=h)}for(var y=0;y<STROKE_PROPS.length;y++){var g=STROKE_PROPS[y],p=g[0];(o||u[p]!==c[p])&&(d||(flushPathDrawn(i,a),d=!0),i[p]=u[p]||g[1])}return d}function bindImageStyle(i,r,n,o,a){return bindCommonProps(i,getStyle(r,a.inHover),n&&getStyle(n,a.inHover),o,a)}function setContextTransform(i,r){var n=r.transform,o=i.dpr||1;n?i.setTransform(o*n[0],o*n[1],o*n[2],o*n[3],o*n[4],o*n[5]):i.setTransform(o,0,0,o,0,0)}function updateClipStatus(i,r,n){for(var o=!1,a=0;a<i.length;a++){var u=i[a];o=o||u.isZeroArea(),setContextTransform(r,u),r.beginPath(),u.buildPath(r,u.shape),r.clip()}n.allClipped=o}function isTransformChanged(i,r){return i&&r?i[0]!==r[0]||i[1]!==r[1]||i[2]!==r[2]||i[3]!==r[3]||i[4]!==r[4]||i[5]!==r[5]:!(!i&&!r)}var DRAW_TYPE_PATH=1,DRAW_TYPE_IMAGE=2,DRAW_TYPE_TEXT=3,DRAW_TYPE_INCREMENTAL=4;function canPathBatch(i){var r=styleHasFill(i),n=styleHasStroke(i);return!(i.lineDash||!(+r^+n)||r&&typeof i.fill!="string"||n&&typeof i.stroke!="string"||i.strokePercent<1||i.strokeOpacity<1||i.fillOpacity<1)}function flushPathDrawn(i,r){r.batchFill&&i.fill(),r.batchStroke&&i.stroke(),r.batchFill="",r.batchStroke=""}function getStyle(i,r){return r&&i.__hoverStyle||i.style}function brushSingle(i,r){brush$1(i,r,{inHover:!1,viewWidth:0,viewHeight:0},!0)}function brush$1(i,r,n,o){var a=r.transform;if(!r.shouldBePainted(n.viewWidth,n.viewHeight,!1,!1)){r.__dirty&=~REDRAW_BIT,r.__isRendered=!1;return}var u=r.__clipPaths,c=n.prevElClipPaths,d=!1,f=!1;if((!c||isClipPathChanged(u,c))&&(c&&c.length&&(flushPathDrawn(i,n),i.restore(),f=d=!0,n.prevElClipPaths=null,n.allClipped=!1,n.prevEl=null),u&&u.length&&(flushPathDrawn(i,n),i.save(),updateClipStatus(u,i,n),d=!0),n.prevElClipPaths=u),n.allClipped){r.__isRendered=!1;return}r.beforeBrush&&r.beforeBrush(),r.innerBeforeBrush();var h=n.prevEl;h||(f=d=!0);var y=r instanceof Path$1&&r.autoBatch&&canPathBatch(r.style);d||isTransformChanged(a,h.transform)?(flushPathDrawn(i,n),setContextTransform(i,r)):y||flushPathDrawn(i,n);var g=getStyle(r,n.inHover);r instanceof Path$1?(n.lastDrawType!==DRAW_TYPE_PATH&&(f=!0,n.lastDrawType=DRAW_TYPE_PATH),bindPathAndTextCommonStyle(i,r,h,f,n),(!y||!n.batchFill&&!n.batchStroke)&&i.beginPath(),brushPath(i,r,g,y),y&&(n.batchFill=g.fill||"",n.batchStroke=g.stroke||"")):r instanceof TSpan$1?(n.lastDrawType!==DRAW_TYPE_TEXT&&(f=!0,n.lastDrawType=DRAW_TYPE_TEXT),bindPathAndTextCommonStyle(i,r,h,f,n),brushText(i,r,g)):r instanceof ZRImage$1?(n.lastDrawType!==DRAW_TYPE_IMAGE&&(f=!0,n.lastDrawType=DRAW_TYPE_IMAGE),bindImageStyle(i,r,h,f,n),brushImage(i,r,g)):r.getTemporalDisplayables&&(n.lastDrawType!==DRAW_TYPE_INCREMENTAL&&(f=!0,n.lastDrawType=DRAW_TYPE_INCREMENTAL),brushIncremental(i,r,n)),y&&o&&flushPathDrawn(i,n),r.innerAfterBrush(),r.afterBrush&&r.afterBrush(),n.prevEl=r,r.__dirty=0,r.__isRendered=!0}function brushIncremental(i,r,n){var o=r.getDisplayables(),a=r.getTemporalDisplayables();i.save();var u={prevElClipPaths:null,prevEl:null,allClipped:!1,viewWidth:n.viewWidth,viewHeight:n.viewHeight,inHover:n.inHover},c,d;for(c=r.getCursor(),d=o.length;c<d;c++){var f=o[c];f.beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),brush$1(i,f,u,c===d-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),u.prevEl=f}for(var h=0,y=a.length;h<y;h++){var f=a[h];f.beforeBrush&&f.beforeBrush(),f.innerBeforeBrush(),brush$1(i,f,u,h===y-1),f.innerAfterBrush(),f.afterBrush&&f.afterBrush(),u.prevEl=f}r.clearTemporalDisplayables(),r.notClear=!0,i.restore()}var decalMap=new WeakMap$2,decalCache=new LRU$1(100),decalKeys=["symbol","symbolSize","symbolKeepAspect","color","backgroundColor","dashArrayX","dashArrayY","maxTileWidth","maxTileHeight"];function createOrUpdatePatternFromDecal(i,r){if(i==="none")return null;var n=r.getDevicePixelRatio(),o=r.getZr(),a=o.painter.type==="svg";i.dirty&&decalMap.delete(i);var u=decalMap.get(i);if(u)return u;var c=defaults(i,{symbol:"rect",symbolSize:1,symbolKeepAspect:!0,color:"rgba(0, 0, 0, 0.2)",backgroundColor:null,dashArrayX:5,dashArrayY:5,rotation:0,maxTileWidth:512,maxTileHeight:512});c.backgroundColor==="none"&&(c.backgroundColor=null);var d={repeat:"repeat"};return f(d),d.rotation=c.rotation,d.scaleX=d.scaleY=a?1:1/n,decalMap.set(i,d),i.dirty=!1,d;function f(h){for(var y=[n],g=!0,p=0;p<decalKeys.length;++p){var v=c[decalKeys[p]];if(v!=null&&!isArray$1(v)&&!isString$2(v)&&!isNumber$1(v)&&typeof v!="boolean"){g=!1;break}y.push(v)}var _;if(g){_=y.join(",")+(a?"-svg":"");var b=decalCache.get(_);b&&(a?h.svgElement=b:h.image=b)}var A=normalizeDashArrayX(c.dashArrayX),w=normalizeDashArrayY(c.dashArrayY),S=normalizeSymbolArray(c.symbol),T=getLineBlockLengthX(A),x=getLineBlockLengthY(w),M=!a&&platformApi.createCanvas(),L=a&&{tag:"g",attrs:{},key:"dcl",children:[]},k=$(),ie;M&&(M.width=k.width*n,M.height=k.height*n,ie=M.getContext("2d")),z(),g&&decalCache.put(_,M||L),h.image=M,h.svgElement=L,h.svgWidth=k.width,h.svgHeight=k.height;function $(){for(var V=1,re=0,D=T.length;re<D;++re)V=getLeastCommonMultiple(V,T[re]);for(var Ce=1,re=0,D=S.length;re<D;++re)Ce=getLeastCommonMultiple(Ce,S[re].length);V*=Ce;var le=x*T.length*S.length;if(process.env.NODE_ENV!=="production"){var de=function(Fe){console.warn("Calculated decal size is greater than "+Fe+" due to decal option settings so "+Fe+" is used for the decal size. Please consider changing the decal option to make a smaller decal or set "+Fe+" to be larger to avoid incontinuity.")};V>c.maxTileWidth&&de("maxTileWidth"),le>c.maxTileHeight&&de("maxTileHeight")}return{width:Math.max(1,Math.min(V,c.maxTileWidth)),height:Math.max(1,Math.min(le,c.maxTileHeight))}}function z(){ie&&(ie.clearRect(0,0,M.width,M.height),c.backgroundColor&&(ie.fillStyle=c.backgroundColor,ie.fillRect(0,0,M.width,M.height)));for(var V=0,re=0;re<w.length;++re)V+=w[re];if(V<=0)return;for(var D=-x,Ce=0,le=0,de=0;D<k.height;){if(Ce%2===0){for(var Fe=le/2%S.length,Ie=0,At=0,_e=0;Ie<k.width*2;){for(var qe=0,re=0;re<A[de].length;++re)qe+=A[de][re];if(qe<=0)break;if(At%2===0){var In=(1-c.symbolSize)*.5,vn=Ie+A[de][At]*In,Pt=D+w[Ce]*In,he=A[de][At]*c.symbolSize,Ue=w[Ce]*c.symbolSize,Dt=_e/2%S[Fe].length;jt(vn,Pt,he,Ue,S[Fe][Dt])}Ie+=A[de][At],++_e,++At,At===A[de].length&&(At=0)}++de,de===A.length&&(de=0)}D+=w[Ce],++le,++Ce,Ce===w.length&&(Ce=0)}function jt(Et,pe,ue,$e,Ne){var Oe=a?1:n,Lt=createSymbol(Ne,Et*Oe,pe*Oe,ue*Oe,$e*Oe,c.color,c.symbolKeepAspect);if(a){var kt=o.painter.renderOneToVNode(Lt);kt&&L.children.push(kt)}else brushSingle(ie,Lt)}}}}function normalizeSymbolArray(i){if(!i||i.length===0)return[["rect"]];if(isString$2(i))return[[i]];for(var r=!0,n=0;n<i.length;++n)if(!isString$2(i[n])){r=!1;break}if(r)return normalizeSymbolArray([i]);for(var o=[],n=0;n<i.length;++n)isString$2(i[n])?o.push([i[n]]):o.push(i[n]);return o}function normalizeDashArrayX(i){if(!i||i.length===0)return[[0,0]];if(isNumber$1(i)){var r=Math.ceil(i);return[[r,r]]}for(var n=!0,o=0;o<i.length;++o)if(!isNumber$1(i[o])){n=!1;break}if(n)return normalizeDashArrayX([i]);for(var a=[],o=0;o<i.length;++o)if(isNumber$1(i[o])){var r=Math.ceil(i[o]);a.push([r,r])}else{var r=map$1(i[o],function(d){return Math.ceil(d)});r.length%2===1?a.push(r.concat(r)):a.push(r)}return a}function normalizeDashArrayY(i){if(!i||typeof i=="object"&&i.length===0)return[0,0];if(isNumber$1(i)){var r=Math.ceil(i);return[r,r]}var n=map$1(i,function(o){return Math.ceil(o)});return i.length%2?n.concat(n):n}function getLineBlockLengthX(i){return map$1(i,function(r){return getLineBlockLengthY(r)})}function getLineBlockLengthY(i){for(var r=0,n=0;n<i.length;++n)r+=i[n];return i.length%2===1?r*2:r}function decalVisual(i,r){i.eachRawSeries(function(n){if(!i.isSeriesFiltered(n)){var o=n.getData();o.hasItemVisual()&&o.each(function(c){var d=o.getItemVisual(c,"decal");if(d){var f=o.ensureUniqueItemVisual(c,"style");f.decal=createOrUpdatePatternFromDecal(d,r)}});var a=o.getVisual("decal");if(a){var u=o.getVisual("style");u.decal=createOrUpdatePatternFromDecal(a,r)}}})}var lifecycle=new Eventful$1;const lifecycle$1=lifecycle;var implsStore={};function registerImpl(i,r){process.env.NODE_ENV!=="production"&&implsStore[i]&&error("Already has an implementation of "+i+"."),implsStore[i]=r}function getImpl(i){return process.env.NODE_ENV!=="production"&&(implsStore[i]||error("Implementation of "+i+" doesn't exists.")),implsStore[i]}var TEST_FRAME_REMAIN_TIME=1,PRIORITY_PROCESSOR_SERIES_FILTER=800,PRIORITY_PROCESSOR_DATASTACK=900,PRIORITY_PROCESSOR_FILTER=1e3,PRIORITY_PROCESSOR_DEFAULT=2e3,PRIORITY_PROCESSOR_STATISTIC=5e3,PRIORITY_VISUAL_LAYOUT=1e3,PRIORITY_VISUAL_PROGRESSIVE_LAYOUT=1100,PRIORITY_VISUAL_GLOBAL=2e3,PRIORITY_VISUAL_CHART=3e3,PRIORITY_VISUAL_COMPONENT=4e3,PRIORITY_VISUAL_CHART_DATA_CUSTOM=4500,PRIORITY_VISUAL_POST_CHART_LAYOUT=4600,PRIORITY_VISUAL_BRUSH=5e3,PRIORITY_VISUAL_ARIA=6e3,PRIORITY_VISUAL_DECAL=7e3,PRIORITY={PROCESSOR:{FILTER:PRIORITY_PROCESSOR_FILTER,SERIES_FILTER:PRIORITY_PROCESSOR_SERIES_FILTER,STATISTIC:PRIORITY_PROCESSOR_STATISTIC},VISUAL:{LAYOUT:PRIORITY_VISUAL_LAYOUT,PROGRESSIVE_LAYOUT:PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,GLOBAL:PRIORITY_VISUAL_GLOBAL,CHART:PRIORITY_VISUAL_CHART,POST_CHART_LAYOUT:PRIORITY_VISUAL_POST_CHART_LAYOUT,COMPONENT:PRIORITY_VISUAL_COMPONENT,BRUSH:PRIORITY_VISUAL_BRUSH,CHART_ITEM:PRIORITY_VISUAL_CHART_DATA_CUSTOM,ARIA:PRIORITY_VISUAL_ARIA,DECAL:PRIORITY_VISUAL_DECAL}},IN_MAIN_PROCESS_KEY="__flagInMainProcess",PENDING_UPDATE="__pendingUpdate",STATUS_NEEDS_UPDATE_KEY="__needsUpdateStatus",ACTION_REG=/^[a-zA-Z0-9_]+$/;function createRegisterEventWithLowercaseECharts(i){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(this.isDisposed()){disposedWarning(this.id);return}return toLowercaseNameAndCallEventful(this,i,r)}}function createRegisterEventWithLowercaseMessageCenter(i){return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return toLowercaseNameAndCallEventful(this,i,r)}}function toLowercaseNameAndCallEventful(i,r,n){return n[0]=n[0]&&n[0].toLowerCase(),Eventful$1.prototype[r].apply(i,n)}var MessageCenter=function(i){__extends(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r}(Eventful$1),messageCenterProto=MessageCenter.prototype;messageCenterProto.on=createRegisterEventWithLowercaseMessageCenter("on"),messageCenterProto.off=createRegisterEventWithLowercaseMessageCenter("off");var prepare,prepareView,updateDirectly,updateMethods,doConvertPixel,updateStreamModes,doDispatchAction,flushPendingActions,triggerUpdatedEvent,bindRenderedEvent,bindMouseEvent,render,renderComponents,renderSeries,createExtensionAPI,markStatusToUpdate,applyChangedStates,ECharts=function(i){__extends(r,i);function r(n,o,a){var u=i.call(this,new ECEventProcessor)||this;u._chartsViews=[],u._chartsMap={},u._componentsViews=[],u._componentsMap={},u._pendingActions=[],a=a||{},isString$2(o)&&(o=themeStorage[o]),u._dom=n;var c="canvas",d="auto",f=!1;if(process.env.NODE_ENV!=="production"){var h=env$1.hasGlobalWindow?window:global;h&&(c=retrieve2(h.__ECHARTS__DEFAULT__RENDERER__,c),d=retrieve2(h.__ECHARTS__DEFAULT__COARSE_POINTER,d),f=retrieve2(h.__ECHARTS__DEFAULT__USE_DIRTY_RECT__,f))}a.ssr&&registerSSRDataGetter(function(v){var _=getECData(v),b=_.dataIndex;if(b!=null){var A=createHashMap();return A.set("series_index",_.seriesIndex),A.set("data_index",b),_.ssrType&&A.set("ssr_type",_.ssrType),A}});var y=u._zr=init(n,{renderer:a.renderer||c,devicePixelRatio:a.devicePixelRatio,width:a.width,height:a.height,ssr:a.ssr,useDirtyRect:retrieve2(a.useDirtyRect,f),useCoarsePointer:retrieve2(a.useCoarsePointer,d),pointerSize:a.pointerSize});u._ssr=a.ssr,u._throttledZrFlush=throttle$1(bind$1(y.flush,y),17),o=clone$2(o),o&&globalBackwardCompat(o,!0),u._theme=o,u._locale=createLocaleObject(a.locale||SYSTEM_LANG),u._coordSysMgr=new CoordinateSystem;var g=u._api=createExtensionAPI(u);function p(v,_){return v.__prio-_.__prio}return sort(visualFuncs,p),sort(dataProcessorFuncs,p),u._scheduler=new Scheduler$1(u,g,dataProcessorFuncs,visualFuncs),u._messageCenter=new MessageCenter,u._initEvents(),u.resize=bind$1(u.resize,u),y.animation.on("frame",u._onframe,u),bindRenderedEvent(y,u),bindMouseEvent(y,u),setAsPrimitive(u),u}return r.prototype._onframe=function(){if(!this._disposed){applyChangedStates(this);var n=this._scheduler;if(this[PENDING_UPDATE]){var o=this[PENDING_UPDATE].silent;this[IN_MAIN_PROCESS_KEY]=!0;try{prepare(this),updateMethods.update.call(this,null,this[PENDING_UPDATE].updateParams)}catch(f){throw this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,f}this._zr.flush(),this[IN_MAIN_PROCESS_KEY]=!1,this[PENDING_UPDATE]=null,flushPendingActions.call(this,o),triggerUpdatedEvent.call(this,o)}else if(n.unfinished){var a=TEST_FRAME_REMAIN_TIME,u=this._model,c=this._api;n.unfinished=!1;do{var d=+new Date;n.performSeriesTasks(u),n.performDataProcessorTasks(u),updateStreamModes(this,u),n.performVisualTasks(u),renderSeries(this,this._model,c,"remain",{}),a-=+new Date-d}while(a>0&&n.unfinished);n.unfinished||this._zr.flush()}}},r.prototype.getDom=function(){return this._dom},r.prototype.getId=function(){return this.id},r.prototype.getZr=function(){return this._zr},r.prototype.isSSR=function(){return this._ssr},r.prototype.setOption=function(n,o,a){if(this[IN_MAIN_PROCESS_KEY]){process.env.NODE_ENV!=="production"&&error("`setOption` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}var u,c,d;if(isObject$3(o)&&(a=o.lazyUpdate,u=o.silent,c=o.replaceMerge,d=o.transition,o=o.notMerge),this[IN_MAIN_PROCESS_KEY]=!0,!this._model||o){var f=new OptionManager$1(this._api),h=this._theme,y=this._model=new GlobalModel$1;y.scheduler=this._scheduler,y.ssr=this._ssr,y.init(null,null,null,h,this._locale,f)}this._model.setOption(n,{replaceMerge:c},optionPreprocessorFuncs);var g={seriesTransition:d,optionChanged:!0};if(a)this[PENDING_UPDATE]={silent:u,updateParams:g},this[IN_MAIN_PROCESS_KEY]=!1,this.getZr().wakeUp();else{try{prepare(this),updateMethods.update.call(this,null,g)}catch(p){throw this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,p}this._ssr||this._zr.flush(),this[PENDING_UPDATE]=null,this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}},r.prototype.setTheme=function(){deprecateLog("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},r.prototype.getModel=function(){return this._model},r.prototype.getOption=function(){return this._model&&this._model.getOption()},r.prototype.getWidth=function(){return this._zr.getWidth()},r.prototype.getHeight=function(){return this._zr.getHeight()},r.prototype.getDevicePixelRatio=function(){return this._zr.painter.dpr||env$1.hasGlobalWindow&&window.devicePixelRatio||1},r.prototype.getRenderedCanvas=function(n){return process.env.NODE_ENV!=="production"&&deprecateReplaceLog("getRenderedCanvas","renderToCanvas"),this.renderToCanvas(n)},r.prototype.renderToCanvas=function(n){n=n||{};var o=this._zr.painter;if(process.env.NODE_ENV!=="production"&&o.type!=="canvas")throw new Error("renderToCanvas can only be used in the canvas renderer.");return o.getRenderedCanvas({backgroundColor:n.backgroundColor||this._model.get("backgroundColor"),pixelRatio:n.pixelRatio||this.getDevicePixelRatio()})},r.prototype.renderToSVGString=function(n){n=n||{};var o=this._zr.painter;if(process.env.NODE_ENV!=="production"&&o.type!=="svg")throw new Error("renderToSVGString can only be used in the svg renderer.");return o.renderToString({useViewBox:n.useViewBox})},r.prototype.getSvgDataURL=function(){if(env$1.svgSupported){var n=this._zr,o=n.storage.getDisplayList();return each$4(o,function(a){a.stopAnimation(null,!0)}),n.painter.toDataURL()}},r.prototype.getDataURL=function(n){if(this._disposed){disposedWarning(this.id);return}n=n||{};var o=n.excludeComponents,a=this._model,u=[],c=this;each$4(o,function(f){a.eachComponent({mainType:f},function(h){var y=c._componentsMap[h.__viewId];y.group.ignore||(u.push(y),y.group.ignore=!0)})});var d=this._zr.painter.getType()==="svg"?this.getSvgDataURL():this.renderToCanvas(n).toDataURL("image/"+(n&&n.type||"png"));return each$4(u,function(f){f.group.ignore=!1}),d},r.prototype.getConnectedDataURL=function(n){if(this._disposed){disposedWarning(this.id);return}var o=n.type==="svg",a=this.group,u=Math.min,c=Math.max,d=1/0;if(connectedGroups[a]){var f=d,h=d,y=-d,g=-d,p=[],v=n&&n.pixelRatio||this.getDevicePixelRatio();each$4(instances,function(T,x){if(T.group===a){var M=o?T.getZr().painter.getSvgDom().innerHTML:T.renderToCanvas(clone$2(n)),L=T.getDom().getBoundingClientRect();f=u(L.left,f),h=u(L.top,h),y=c(L.right,y),g=c(L.bottom,g),p.push({dom:M,left:L.left,top:L.top})}}),f*=v,h*=v,y*=v,g*=v;var _=y-f,b=g-h,A=platformApi.createCanvas(),w=init(A,{renderer:o?"svg":"canvas"});if(w.resize({width:_,height:b}),o){var S="";return each$4(p,function(T){var x=T.left-f,M=T.top-h;S+='<g transform="translate('+x+","+M+')">'+T.dom+"</g>"}),w.painter.getSvgRoot().innerHTML=S,n.connectedBackgroundColor&&w.painter.setBackgroundColor(n.connectedBackgroundColor),w.refreshImmediately(),w.painter.toDataURL()}else return n.connectedBackgroundColor&&w.add(new Rect$1({shape:{x:0,y:0,width:_,height:b},style:{fill:n.connectedBackgroundColor}})),each$4(p,function(T){var x=new ZRImage$1({style:{x:T.left*v-f,y:T.top*v-h,image:T.dom}});w.add(x)}),w.refreshImmediately(),A.toDataURL("image/"+(n&&n.type||"png"))}else return this.getDataURL(n)},r.prototype.convertToPixel=function(n,o){return doConvertPixel(this,"convertToPixel",n,o)},r.prototype.convertFromPixel=function(n,o){return doConvertPixel(this,"convertFromPixel",n,o)},r.prototype.containPixel=function(n,o){if(this._disposed){disposedWarning(this.id);return}var a=this._model,u,c=parseFinder(a,n);return each$4(c,function(d,f){f.indexOf("Models")>=0&&each$4(d,function(h){var y=h.coordinateSystem;if(y&&y.containPoint)u=u||!!y.containPoint(o);else if(f==="seriesModels"){var g=this._chartsMap[h.__viewId];g&&g.containPoint?u=u||g.containPoint(o,h):process.env.NODE_ENV!=="production"&&warn(f+": "+(g?"The found component do not support containPoint.":"No view mapping to the found component."))}else process.env.NODE_ENV!=="production"&&warn(f+": containPoint is not supported")},this)},this),!!u},r.prototype.getVisual=function(n,o){var a=this._model,u=parseFinder(a,n,{defaultMainType:"series"}),c=u.seriesModel;process.env.NODE_ENV!=="production"&&(c||warn("There is no specified series model"));var d=c.getData(),f=u.hasOwnProperty("dataIndexInside")?u.dataIndexInside:u.hasOwnProperty("dataIndex")?d.indexOfRawIndex(u.dataIndex):null;return f!=null?getItemVisualFromData(d,f,o):getVisualFromData(d,o)},r.prototype.getViewOfComponentModel=function(n){return this._componentsMap[n.__viewId]},r.prototype.getViewOfSeriesModel=function(n){return this._chartsMap[n.__viewId]},r.prototype._initEvents=function(){var n=this;each$4(MOUSE_EVENT_NAMES,function(o){var a=function(u){var c=n.getModel(),d=u.target,f,h=o==="globalout";if(h?f={}:d&&findEventDispatcher(d,function(_){var b=getECData(_);if(b&&b.dataIndex!=null){var A=b.dataModel||c.getSeriesByIndex(b.seriesIndex);return f=A&&A.getDataParams(b.dataIndex,b.dataType,d)||{},!0}else if(b.eventData)return f=extend({},b.eventData),!0},!0),f){var y=f.componentType,g=f.componentIndex;(y==="markLine"||y==="markPoint"||y==="markArea")&&(y="series",g=f.seriesIndex);var p=y&&g!=null&&c.getComponent(y,g),v=p&&n[p.mainType==="series"?"_chartsMap":"_componentsMap"][p.__viewId];process.env.NODE_ENV!=="production"&&!h&&!(p&&v)&&warn("model or view can not be found by params"),f.event=u,f.type=o,n._$eventProcessor.eventInfo={targetEl:d,packedEvent:f,model:p,view:v},n.trigger(o,f)}};a.zrEventfulCallAtLast=!0,n._zr.on(o,a,n)}),each$4(eventActionMap,function(o,a){n._messageCenter.on(a,function(u){this.trigger(a,u)},n)}),each$4(["selectchanged"],function(o){n._messageCenter.on(o,function(a){this.trigger(o,a)},n)}),handleLegacySelectEvents(this._messageCenter,this,this._api)},r.prototype.isDisposed=function(){return this._disposed},r.prototype.clear=function(){if(this._disposed){disposedWarning(this.id);return}this.setOption({series:[]},!0)},r.prototype.dispose=function(){if(this._disposed){disposedWarning(this.id);return}this._disposed=!0;var n=this.getDom();n&&setAttribute(this.getDom(),DOM_ATTRIBUTE_KEY,"");var o=this,a=o._api,u=o._model;each$4(o._componentsViews,function(c){c.dispose(u,a)}),each$4(o._chartsViews,function(c){c.dispose(u,a)}),o._zr.dispose(),o._dom=o._model=o._chartsMap=o._componentsMap=o._chartsViews=o._componentsViews=o._scheduler=o._api=o._zr=o._throttledZrFlush=o._theme=o._coordSysMgr=o._messageCenter=null,delete instances[o.id]},r.prototype.resize=function(n){if(this[IN_MAIN_PROCESS_KEY]){process.env.NODE_ENV!=="production"&&error("`resize` should not be called during main process.");return}if(this._disposed){disposedWarning(this.id);return}this._zr.resize(n);var o=this._model;if(this._loadingFX&&this._loadingFX.resize(),!!o){var a=o.resetOption("media"),u=n&&n.silent;this[PENDING_UPDATE]&&(u==null&&(u=this[PENDING_UPDATE].silent),a=!0,this[PENDING_UPDATE]=null),this[IN_MAIN_PROCESS_KEY]=!0;try{a&&prepare(this),updateMethods.update.call(this,{type:"resize",animation:extend({duration:0},n&&n.animation)})}catch(c){throw this[IN_MAIN_PROCESS_KEY]=!1,c}this[IN_MAIN_PROCESS_KEY]=!1,flushPendingActions.call(this,u),triggerUpdatedEvent.call(this,u)}},r.prototype.showLoading=function(n,o){if(this._disposed){disposedWarning(this.id);return}if(isObject$3(n)&&(o=n,n=""),n=n||"default",this.hideLoading(),!loadingEffects[n]){process.env.NODE_ENV!=="production"&&warn("Loading effects "+n+" not exists.");return}var a=loadingEffects[n](this._api,o),u=this._zr;this._loadingFX=a,u.add(a)},r.prototype.hideLoading=function(){if(this._disposed){disposedWarning(this.id);return}this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null},r.prototype.makeActionFromEvent=function(n){var o=extend({},n);return o.type=eventActionMap[n.type],o},r.prototype.dispatchAction=function(n,o){if(this._disposed){disposedWarning(this.id);return}if(isObject$3(o)||(o={silent:!!o}),!!actions[n.type]&&this._model){if(this[IN_MAIN_PROCESS_KEY]){this._pendingActions.push(n);return}var a=o.silent;doDispatchAction.call(this,n,a);var u=o.flush;u?this._zr.flush():u!==!1&&env$1.browser.weChat&&this._throttledZrFlush(),flushPendingActions.call(this,a),triggerUpdatedEvent.call(this,a)}},r.prototype.updateLabelLayout=function(){lifecycle$1.trigger("series:layoutlabels",this._model,this._api,{updatedSeries:[]})},r.prototype.appendData=function(n){if(this._disposed){disposedWarning(this.id);return}var o=n.seriesIndex,a=this.getModel(),u=a.getSeriesByIndex(o);process.env.NODE_ENV!=="production"&&assert(n.data&&u),u.appendData(n),this._scheduler.unfinished=!0,this.getZr().wakeUp()},r.internalField=function(){prepare=function(g){var p=g._scheduler;p.restorePipelines(g._model),p.prepareStageTasks(),prepareView(g,!0),prepareView(g,!1),p.plan()},prepareView=function(g,p){for(var v=g._model,_=g._scheduler,b=p?g._componentsViews:g._chartsViews,A=p?g._componentsMap:g._chartsMap,w=g._zr,S=g._api,T=0;T<b.length;T++)b[T].__alive=!1;p?v.eachComponent(function(L,k){L!=="series"&&x(k)}):v.eachSeries(x);function x(L){var k=L.__requireNewView;L.__requireNewView=!1;var ie="_ec_"+L.id+"_"+L.type,$=!k&&A[ie];if(!$){var z=parseClassType(L.type),V=p?ComponentView$1.getClass(z.main,z.sub):ChartView$1.getClass(z.sub);process.env.NODE_ENV!=="production"&&assert(V,z.sub+" does not exist."),$=new V,$.init(v,S),A[ie]=$,b.push($),w.add($.group)}L.__viewId=$.__id=ie,$.__alive=!0,$.__model=L,$.group.__ecComponentInfo={mainType:L.mainType,index:L.componentIndex},!p&&_.prepareView($,L,v,S)}for(var T=0;T<b.length;){var M=b[T];M.__alive?T++:(!p&&M.renderTask.dispose(),w.remove(M.group),M.dispose(v,S),b.splice(T,1),A[M.__id]===M&&delete A[M.__id],M.__id=M.group.__ecComponentInfo=null)}},updateDirectly=function(g,p,v,_,b){var A=g._model;if(A.setUpdatePayload(v),!_){each$4([].concat(g._componentsViews).concat(g._chartsViews),M);return}var w={};w[_+"Id"]=v[_+"Id"],w[_+"Index"]=v[_+"Index"],w[_+"Name"]=v[_+"Name"];var S={mainType:_,query:w};b&&(S.subType=b);var T=v.excludeSeriesId,x;T!=null&&(x=createHashMap(),each$4(normalizeToArray(T),function(L){var k=convertOptionIdName(L,null);k!=null&&x.set(k,!0)})),A&&A.eachComponent(S,function(L){var k=x&&x.get(L.id)!=null;if(!k)if(isHighDownPayload(v))if(L instanceof SeriesModel$1)v.type===HIGHLIGHT_ACTION_TYPE&&!v.notBlur&&!L.get(["emphasis","disabled"])&&blurSeriesFromHighlightPayload(L,v,g._api);else{var ie=findComponentHighDownDispatchers(L.mainType,L.componentIndex,v.name,g._api),$=ie.focusSelf,z=ie.dispatchers;v.type===HIGHLIGHT_ACTION_TYPE&&$&&!v.notBlur&&blurComponent(L.mainType,L.componentIndex,g._api),z&&each$4(z,function(V){v.type===HIGHLIGHT_ACTION_TYPE?enterEmphasis(V):leaveEmphasis(V)})}else isSelectChangePayload(v)&&L instanceof SeriesModel$1&&(toggleSelectionFromPayload(L,v,g._api),updateSeriesElementSelection(L),markStatusToUpdate(g))},g),A&&A.eachComponent(S,function(L){var k=x&&x.get(L.id)!=null;k||M(g[_==="series"?"_chartsMap":"_componentsMap"][L.__viewId])},g);function M(L){L&&L.__alive&&L[p]&&L[p](L.__model,A,g._api,v)}},updateMethods={prepareAndUpdate:function(g){prepare(this),updateMethods.update.call(this,g,{optionChanged:g.newOption!=null})},update:function(g,p){var v=this._model,_=this._api,b=this._zr,A=this._coordSysMgr,w=this._scheduler;if(v){v.setUpdatePayload(g),w.restoreData(v,g),w.performSeriesTasks(v),A.create(v,_),w.performDataProcessorTasks(v,g),updateStreamModes(this,v),A.update(v,_),n(v),w.performVisualTasks(v,g),render(this,v,_,g,p);var S=v.get("backgroundColor")||"transparent",T=v.get("darkMode");b.setBackgroundColor(S),T!=null&&T!=="auto"&&b.setDarkMode(T),lifecycle$1.trigger("afterupdate",v,_)}},updateTransform:function(g){var p=this,v=this._model,_=this._api;if(v){v.setUpdatePayload(g);var b=[];v.eachComponent(function(w,S){if(w!=="series"){var T=p.getViewOfComponentModel(S);if(T&&T.__alive)if(T.updateTransform){var x=T.updateTransform(S,v,_,g);x&&x.update&&b.push(T)}else b.push(T)}});var A=createHashMap();v.eachSeries(function(w){var S=p._chartsMap[w.__viewId];if(S.updateTransform){var T=S.updateTransform(w,v,_,g);T&&T.update&&A.set(w.uid,1)}else A.set(w.uid,1)}),n(v),this._scheduler.performVisualTasks(v,g,{setDirty:!0,dirtyMap:A}),renderSeries(this,v,_,g,{},A),lifecycle$1.trigger("afterupdate",v,_)}},updateView:function(g){var p=this._model;p&&(p.setUpdatePayload(g),ChartView$1.markUpdateMethod(g,"updateView"),n(p),this._scheduler.performVisualTasks(p,g,{setDirty:!0}),render(this,p,this._api,g,{}),lifecycle$1.trigger("afterupdate",p,this._api))},updateVisual:function(g){var p=this,v=this._model;v&&(v.setUpdatePayload(g),v.eachSeries(function(_){_.getData().clearAllVisual()}),ChartView$1.markUpdateMethod(g,"updateVisual"),n(v),this._scheduler.performVisualTasks(v,g,{visualType:"visual",setDirty:!0}),v.eachComponent(function(_,b){if(_!=="series"){var A=p.getViewOfComponentModel(b);A&&A.__alive&&A.updateVisual(b,v,p._api,g)}}),v.eachSeries(function(_){var b=p._chartsMap[_.__viewId];b.updateVisual(_,v,p._api,g)}),lifecycle$1.trigger("afterupdate",v,this._api))},updateLayout:function(g){updateMethods.update.call(this,g)}},doConvertPixel=function(g,p,v,_){if(g._disposed){disposedWarning(g.id);return}for(var b=g._model,A=g._coordSysMgr.getCoordinateSystems(),w,S=parseFinder(b,v),T=0;T<A.length;T++){var x=A[T];if(x[p]&&(w=x[p](b,S,_))!=null)return w}process.env.NODE_ENV!=="production"&&warn("No coordinate system that supports "+p+" found by the given finder.")},updateStreamModes=function(g,p){var v=g._chartsMap,_=g._scheduler;p.eachSeries(function(b){_.updateStreamModes(b,v[b.__viewId])})},doDispatchAction=function(g,p){var v=this,_=this.getModel(),b=g.type,A=g.escapeConnect,w=actions[b],S=w.actionInfo,T=(S.update||"update").split(":"),x=T.pop(),M=T[0]!=null&&parseClassType(T[0]);this[IN_MAIN_PROCESS_KEY]=!0;var L=[g],k=!1;g.batch&&(k=!0,L=map$1(g.batch,function(Ce){return Ce=defaults(extend({},Ce),g),Ce.batch=null,Ce}));var ie=[],$,z=isSelectChangePayload(g),V=isHighDownPayload(g);if(V&&allLeaveBlur(this._api),each$4(L,function(Ce){if($=w.action(Ce,v._model,v._api),$=$||extend({},Ce),$.type=S.event||$.type,ie.push($),V){var le=preParseFinder(g),de=le.queryOptionMap,Fe=le.mainTypeSpecified,Ie=Fe?de.keys()[0]:"series";updateDirectly(v,x,Ce,Ie),markStatusToUpdate(v)}else z?(updateDirectly(v,x,Ce,"series"),markStatusToUpdate(v)):M&&updateDirectly(v,x,Ce,M.main,M.sub)}),x!=="none"&&!V&&!z&&!M)try{this[PENDING_UPDATE]?(prepare(this),updateMethods.update.call(this,g),this[PENDING_UPDATE]=null):updateMethods[x].call(this,g)}catch(Ce){throw this[IN_MAIN_PROCESS_KEY]=!1,Ce}if(k?$={type:S.event||b,escapeConnect:A,batch:ie}:$=ie[0],this[IN_MAIN_PROCESS_KEY]=!1,!p){var re=this._messageCenter;if(re.trigger($.type,$),z){var D={type:"selectchanged",escapeConnect:A,selected:getAllSelectedIndices(_),isFromClick:g.isFromClick||!1,fromAction:g.type,fromActionPayload:g};re.trigger(D.type,D)}}},flushPendingActions=function(g){for(var p=this._pendingActions;p.length;){var v=p.shift();doDispatchAction.call(this,v,g)}},triggerUpdatedEvent=function(g){!g&&this.trigger("updated")},bindRenderedEvent=function(g,p){g.on("rendered",function(v){p.trigger("rendered",v),g.animation.isFinished()&&!p[PENDING_UPDATE]&&!p._scheduler.unfinished&&!p._pendingActions.length&&p.trigger("finished")})},bindMouseEvent=function(g,p){g.on("mouseover",function(v){var _=v.target,b=findEventDispatcher(_,isHighDownDispatcher);b&&(handleGlobalMouseOverForHighDown(b,v,p._api),markStatusToUpdate(p))}).on("mouseout",function(v){var _=v.target,b=findEventDispatcher(_,isHighDownDispatcher);b&&(handleGlobalMouseOutForHighDown(b,v,p._api),markStatusToUpdate(p))}).on("click",function(v){var _=v.target,b=findEventDispatcher(_,function(S){return getECData(S).dataIndex!=null},!0);if(b){var A=b.selected?"unselect":"select",w=getECData(b);p._api.dispatchAction({type:A,dataType:w.dataType,dataIndexInside:w.dataIndex,seriesIndex:w.seriesIndex,isFromClick:!0})}})};function n(g){g.clearColorPalette(),g.eachSeries(function(p){p.clearColorPalette()})}function o(g){var p=[],v=[],_=!1;if(g.eachComponent(function(S,T){var x=T.get("zlevel")||0,M=T.get("z")||0,L=T.getZLevelKey();_=_||!!L,(S==="series"?v:p).push({zlevel:x,z:M,idx:T.componentIndex,type:S,key:L})}),_){var b=p.concat(v),A,w;sort(b,function(S,T){return S.zlevel===T.zlevel?S.z-T.z:S.zlevel-T.zlevel}),each$4(b,function(S){var T=g.getComponent(S.type,S.idx),x=S.zlevel,M=S.key;A!=null&&(x=Math.max(A,x)),M?(x===A&&M!==w&&x++,w=M):w&&(x===A&&x++,w=""),A=x,T.setZLevel(x)})}}render=function(g,p,v,_,b){o(p),renderComponents(g,p,v,_,b),each$4(g._chartsViews,function(A){A.__alive=!1}),renderSeries(g,p,v,_,b),each$4(g._chartsViews,function(A){A.__alive||A.remove(p,v)})},renderComponents=function(g,p,v,_,b,A){each$4(A||g._componentsViews,function(w){var S=w.__model;h(S,w),w.render(S,p,v,_),d(S,w),y(S,w)})},renderSeries=function(g,p,v,_,b,A){var w=g._scheduler;b=extend(b||{},{updatedSeries:p.getSeries()}),lifecycle$1.trigger("series:beforeupdate",p,v,b);var S=!1;p.eachSeries(function(T){var x=g._chartsMap[T.__viewId];x.__alive=!0;var M=x.renderTask;w.updatePayload(M,_),h(T,x),A&&A.get(T.uid)&&M.dirty(),M.perform(w.getPerformArgs(M))&&(S=!0),x.group.silent=!!T.get("silent"),c(T,x),updateSeriesElementSelection(T)}),w.unfinished=S||w.unfinished,lifecycle$1.trigger("series:layoutlabels",p,v,b),lifecycle$1.trigger("series:transition",p,v,b),p.eachSeries(function(T){var x=g._chartsMap[T.__viewId];d(T,x),y(T,x)}),u(g,p),lifecycle$1.trigger("series:afterupdate",p,v,b)},markStatusToUpdate=function(g){g[STATUS_NEEDS_UPDATE_KEY]=!0,g.getZr().wakeUp()},applyChangedStates=function(g){g[STATUS_NEEDS_UPDATE_KEY]&&(g.getZr().storage.traverse(function(p){isElementRemoved(p)||a(p)}),g[STATUS_NEEDS_UPDATE_KEY]=!1)};function a(g){for(var p=[],v=g.currentStates,_=0;_<v.length;_++){var b=v[_];b==="emphasis"||b==="blur"||b==="select"||p.push(b)}g.selected&&g.states.select&&p.push("select"),g.hoverState===HOVER_STATE_EMPHASIS&&g.states.emphasis?p.push("emphasis"):g.hoverState===HOVER_STATE_BLUR&&g.states.blur&&p.push("blur"),g.useStates(p)}function u(g,p){var v=g._zr,_=v.storage,b=0;_.traverse(function(A){A.isGroup||b++}),b>p.get("hoverLayerThreshold")&&!env$1.node&&!env$1.worker&&p.eachSeries(function(A){if(!A.preventUsingHoverLayer){var w=g._chartsMap[A.__viewId];w.__alive&&w.eachRendered(function(S){S.states.emphasis&&(S.states.emphasis.hoverLayer=!0)})}})}function c(g,p){var v=g.get("blendMode")||null;p.eachRendered(function(_){_.isGroup||(_.style.blend=v)})}function d(g,p){if(!g.preventAutoZ){var v=g.get("z")||0,_=g.get("zlevel")||0;p.eachRendered(function(b){return f(b,v,_,-1/0),!0})}}function f(g,p,v,_){var b=g.getTextContent(),A=g.getTextGuideLine(),w=g.isGroup;if(w)for(var S=g.childrenRef(),T=0;T<S.length;T++)_=Math.max(f(S[T],p,v,_),_);else g.z=p,g.zlevel=v,_=Math.max(g.z2,_);if(b&&(b.z=p,b.zlevel=v,isFinite(_)&&(b.z2=_+2)),A){var x=g.textGuideLineConfig;A.z=p,A.zlevel=v,isFinite(_)&&(A.z2=_+(x&&x.showAbove?1:-1))}return _}function h(g,p){p.eachRendered(function(v){if(!isElementRemoved(v)){var _=v.getTextContent(),b=v.getTextGuideLine();v.stateTransition&&(v.stateTransition=null),_&&_.stateTransition&&(_.stateTransition=null),b&&b.stateTransition&&(b.stateTransition=null),v.hasState()?(v.prevStates=v.currentStates,v.clearStates()):v.prevStates&&(v.prevStates=null)}})}function y(g,p){var v=g.getModel("stateAnimation"),_=g.isAnimationEnabled(),b=v.get("duration"),A=b>0?{duration:b,delay:v.get("delay"),easing:v.get("easing")}:null;p.eachRendered(function(w){if(w.states&&w.states.emphasis){if(isElementRemoved(w))return;if(w instanceof Path$1&&savePathStates(w),w.__dirty){var S=w.prevStates;S&&w.useStates(S)}if(_){w.stateTransition=A;var T=w.getTextContent(),x=w.getTextGuideLine();T&&(T.stateTransition=A),x&&(x.stateTransition=A)}w.__dirty&&a(w)}})}createExtensionAPI=function(g){return new(function(p){__extends(v,p);function v(){return p!==null&&p.apply(this,arguments)||this}return v.prototype.getCoordinateSystems=function(){return g._coordSysMgr.getCoordinateSystems()},v.prototype.getComponentByElement=function(_){for(;_;){var b=_.__ecComponentInfo;if(b!=null)return g._model.getComponent(b.mainType,b.index);_=_.parent}},v.prototype.enterEmphasis=function(_,b){enterEmphasis(_,b),markStatusToUpdate(g)},v.prototype.leaveEmphasis=function(_,b){leaveEmphasis(_,b),markStatusToUpdate(g)},v.prototype.enterBlur=function(_){enterBlur(_),markStatusToUpdate(g)},v.prototype.leaveBlur=function(_){leaveBlur(_),markStatusToUpdate(g)},v.prototype.enterSelect=function(_){enterSelect(_),markStatusToUpdate(g)},v.prototype.leaveSelect=function(_){leaveSelect(_),markStatusToUpdate(g)},v.prototype.getModel=function(){return g.getModel()},v.prototype.getViewOfComponentModel=function(_){return g.getViewOfComponentModel(_)},v.prototype.getViewOfSeriesModel=function(_){return g.getViewOfSeriesModel(_)},v}(ExtensionAPI$1))(g)}}(),r}(Eventful$1),echartsProto=ECharts.prototype;echartsProto.on=createRegisterEventWithLowercaseECharts("on"),echartsProto.off=createRegisterEventWithLowercaseECharts("off"),echartsProto.one=function(i,r,n){var o=this;deprecateLog("ECharts#one is deprecated.");function a(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];r&&r.apply&&r.apply(this,u),o.off(i,a)}this.on.call(this,i,a,n)};var MOUSE_EVENT_NAMES=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function disposedWarning(i){process.env.NODE_ENV!=="production"&&warn("Instance "+i+" has been disposed")}var actions={},eventActionMap={},dataProcessorFuncs=[],optionPreprocessorFuncs=[],visualFuncs=[],themeStorage={},loadingEffects={},instances={},connectedGroups={},DOM_ATTRIBUTE_KEY="_echarts_instance_";function registerTheme(i,r){themeStorage[i]=r}function registerPreprocessor(i){indexOf(optionPreprocessorFuncs,i)<0&&optionPreprocessorFuncs.push(i)}function registerProcessor(i,r){normalizeRegister(dataProcessorFuncs,i,r,PRIORITY_PROCESSOR_DEFAULT)}function registerPostInit(i){registerUpdateLifecycle("afterinit",i)}function registerPostUpdate(i){registerUpdateLifecycle("afterupdate",i)}function registerUpdateLifecycle(i,r){lifecycle$1.on(i,r)}function registerAction(i,r,n){isFunction$1(r)&&(n=r,r="");var o=isObject$3(i)?i.type:[i,i={event:r}][0];i.event=(i.event||o).toLowerCase(),r=i.event,!eventActionMap[r]&&(assert(ACTION_REG.test(o)&&ACTION_REG.test(r)),actions[o]||(actions[o]={action:n,actionInfo:i}),eventActionMap[r]=o)}function registerCoordinateSystem(i,r){CoordinateSystem.register(i,r)}function registerLayout(i,r){normalizeRegister(visualFuncs,i,r,PRIORITY_VISUAL_LAYOUT,"layout")}function registerVisual(i,r){normalizeRegister(visualFuncs,i,r,PRIORITY_VISUAL_CHART,"visual")}var registeredTasks=[];function normalizeRegister(i,r,n,o,a){if((isFunction$1(r)||isObject$3(r))&&(n=r,r=o),process.env.NODE_ENV!=="production"){if(isNaN(r)||r==null)throw new Error("Illegal priority");each$4(i,function(c){assert(c.__raw!==n)})}if(!(indexOf(registeredTasks,n)>=0)){registeredTasks.push(n);var u=Scheduler$1.wrapStageHandler(n,a);u.__prio=r,u.__raw=n,i.push(u)}}function registerLoading(i,r){loadingEffects[i]=r}function registerMap(i,r,n){var o=getImpl("registerMap");o&&o(i,r,n)}var registerTransform=registerExternalTransform;registerVisual(PRIORITY_VISUAL_GLOBAL,seriesStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataStyleTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataColorPaletteTask),registerVisual(PRIORITY_VISUAL_GLOBAL,seriesSymbolTask),registerVisual(PRIORITY_VISUAL_CHART_DATA_CUSTOM,dataSymbolTask),registerVisual(PRIORITY_VISUAL_DECAL,decalVisual),registerPreprocessor(globalBackwardCompat),registerProcessor(PRIORITY_PROCESSOR_DATASTACK,dataStack),registerLoading("default",defaultLoading),registerAction({type:HIGHLIGHT_ACTION_TYPE,event:HIGHLIGHT_ACTION_TYPE,update:HIGHLIGHT_ACTION_TYPE},noop$1),registerAction({type:DOWNPLAY_ACTION_TYPE,event:DOWNPLAY_ACTION_TYPE,update:DOWNPLAY_ACTION_TYPE},noop$1),registerAction({type:SELECT_ACTION_TYPE,event:SELECT_ACTION_TYPE,update:SELECT_ACTION_TYPE},noop$1),registerAction({type:UNSELECT_ACTION_TYPE,event:UNSELECT_ACTION_TYPE,update:UNSELECT_ACTION_TYPE},noop$1),registerAction({type:TOGGLE_SELECT_ACTION_TYPE,event:TOGGLE_SELECT_ACTION_TYPE,update:TOGGLE_SELECT_ACTION_TYPE},noop$1),registerTheme("light",lightTheme),registerTheme("dark",darkTheme);function dataIndexMapValueLength(i){return i==null?0:i.length||1}function defaultKeyGetter(i){return i}var DataDiffer=function(){function i(r,n,o,a,u,c){this._old=r,this._new=n,this._oldKeyGetter=o||defaultKeyGetter,this._newKeyGetter=a||defaultKeyGetter,this.context=u,this._diffModeMultiple=c==="multiple"}return i.prototype.add=function(r){return this._add=r,this},i.prototype.update=function(r){return this._update=r,this},i.prototype.updateManyToOne=function(r){return this._updateManyToOne=r,this},i.prototype.updateOneToMany=function(r){return this._updateOneToMany=r,this},i.prototype.updateManyToMany=function(r){return this._updateManyToMany=r,this},i.prototype.remove=function(r){return this._remove=r,this},i.prototype.execute=function(){this[this._diffModeMultiple?"_executeMultiple":"_executeOneToOne"]()},i.prototype._executeOneToOne=function(){var r=this._old,n=this._new,o={},a=new Array(r.length),u=new Array(n.length);this._initIndexMap(r,null,a,"_oldKeyGetter"),this._initIndexMap(n,o,u,"_newKeyGetter");for(var c=0;c<r.length;c++){var d=a[c],f=o[d],h=dataIndexMapValueLength(f);if(h>1){var y=f.shift();f.length===1&&(o[d]=f[0]),this._update&&this._update(y,c)}else h===1?(o[d]=null,this._update&&this._update(f,c)):this._remove&&this._remove(c)}this._performRestAdd(u,o)},i.prototype._executeMultiple=function(){var r=this._old,n=this._new,o={},a={},u=[],c=[];this._initIndexMap(r,o,u,"_oldKeyGetter"),this._initIndexMap(n,a,c,"_newKeyGetter");for(var d=0;d<u.length;d++){var f=u[d],h=o[f],y=a[f],g=dataIndexMapValueLength(h),p=dataIndexMapValueLength(y);if(g>1&&p===1)this._updateManyToOne&&this._updateManyToOne(y,h),a[f]=null;else if(g===1&&p>1)this._updateOneToMany&&this._updateOneToMany(y,h),a[f]=null;else if(g===1&&p===1)this._update&&this._update(y,h),a[f]=null;else if(g>1&&p>1)this._updateManyToMany&&this._updateManyToMany(y,h),a[f]=null;else if(g>1)for(var v=0;v<g;v++)this._remove&&this._remove(h[v]);else this._remove&&this._remove(h)}this._performRestAdd(c,a)},i.prototype._performRestAdd=function(r,n){for(var o=0;o<r.length;o++){var a=r[o],u=n[a],c=dataIndexMapValueLength(u);if(c>1)for(var d=0;d<c;d++)this._add&&this._add(u[d]);else c===1&&this._add&&this._add(u);n[a]=null}},i.prototype._initIndexMap=function(r,n,o,a){for(var u=this._diffModeMultiple,c=0;c<r.length;c++){var d="_ec_"+this[a](r[c],c);if(u||(o[c]=d),!!n){var f=n[d],h=dataIndexMapValueLength(f);h===0?(n[d]=c,u&&o.push(d)):h===1?n[d]=[f,c]:f.push(c)}}},i}();const DataDiffer$1=DataDiffer;var DimensionUserOuput=function(){function i(r,n){this._encode=r,this._schema=n}return i.prototype.get=function(){return{fullDimensions:this._getFullDimensionNames(),encode:this._encode}},i.prototype._getFullDimensionNames=function(){return this._cachedDimNames||(this._cachedDimNames=this._schema?this._schema.makeOutputDimensionNames():[]),this._cachedDimNames},i}();function summarizeDimensions(i,r){var n={},o=n.encode={},a=createHashMap(),u=[],c=[],d={};each$4(i.dimensions,function(p){var v=i.getDimensionInfo(p),_=v.coordDim;if(_){process.env.NODE_ENV!=="production"&&assert(VISUAL_DIMENSIONS.get(_)==null);var b=v.coordDimIndex;getOrCreateEncodeArr(o,_)[b]=p,v.isExtraCoord||(a.set(_,1),mayLabelDimType(v.type)&&(u[0]=p),getOrCreateEncodeArr(d,_)[b]=i.getDimensionIndex(v.name)),v.defaultTooltip&&c.push(p)}VISUAL_DIMENSIONS.each(function(A,w){var S=getOrCreateEncodeArr(o,w),T=v.otherDims[w];T!=null&&T!==!1&&(S[T]=v.name)})});var f=[],h={};a.each(function(p,v){var _=o[v];h[v]=_[0],f=f.concat(_)}),n.dataDimsOnCoord=f,n.dataDimIndicesOnCoord=map$1(f,function(p){return i.getDimensionInfo(p).storeDimIndex}),n.encodeFirstDimNotExtra=h;var y=o.label;y&&y.length&&(u=y.slice());var g=o.tooltip;return g&&g.length?c=g.slice():c.length||(c=u.slice()),o.defaultedLabel=u,o.defaultedTooltip=c,n.userOutput=new DimensionUserOuput(d,r),n}function getOrCreateEncodeArr(i,r){return i.hasOwnProperty(r)||(i[r]=[]),i[r]}function mayLabelDimType(i){return!(i==="ordinal"||i==="time")}var SeriesDimensionDefine=function(){function i(r){this.otherDims={},r!=null&&extend(this,r)}return i}();const SeriesDimensionDefine$1=SeriesDimensionDefine;var inner$3=makeInner(),dimTypeShort={float:"f",int:"i",ordinal:"o",number:"n",time:"t"},SeriesDataSchema=function(){function i(r){this.dimensions=r.dimensions,this._dimOmitted=r.dimensionOmitted,this.source=r.source,this._fullDimCount=r.fullDimensionCount,this._updateDimOmitted(r.dimensionOmitted)}return i.prototype.isDimensionOmitted=function(){return this._dimOmitted},i.prototype._updateDimOmitted=function(r){this._dimOmitted=r,r&&(this._dimNameMap||(this._dimNameMap=ensureSourceDimNameMap(this.source)))},i.prototype.getSourceDimensionIndex=function(r){return retrieve2(this._dimNameMap.get(r),-1)},i.prototype.getSourceDimension=function(r){var n=this.source.dimensionsDefine;if(n)return n[r]},i.prototype.makeStoreSchema=function(){for(var r=this._fullDimCount,n=shouldRetrieveDataByName(this.source),o=!shouldOmitUnusedDimensions(r),a="",u=[],c=0,d=0;c<r;c++){var f=void 0,h=void 0,y=void 0,g=this.dimensions[d];if(g&&g.storeDimIndex===c)f=n?g.name:null,h=g.type,y=g.ordinalMeta,d++;else{var p=this.getSourceDimension(c);p&&(f=n?p.name:null,h=p.type)}u.push({property:f,type:h,ordinalMeta:y}),n&&f!=null&&(!g||!g.isCalculationCoord)&&(a+=o?f.replace(/\`/g,"`1").replace(/\$/g,"`2"):f),a+="$",a+=dimTypeShort[h]||"f",y&&(a+=y.uid),a+="$"}var v=this.source,_=[v.seriesLayoutBy,v.startIndex,a].join("$$");return{dimensions:u,hash:_}},i.prototype.makeOutputDimensionNames=function(){for(var r=[],n=0,o=0;n<this._fullDimCount;n++){var a=void 0,u=this.dimensions[o];if(u&&u.storeDimIndex===n)u.isCalculationCoord||(a=u.name),o++;else{var c=this.getSourceDimension(n);c&&(a=c.name)}r.push(a)}return r},i.prototype.appendCalculationDimension=function(r){this.dimensions.push(r),r.isCalculationCoord=!0,this._fullDimCount++,this._updateDimOmitted(!0)},i}();function isSeriesDataSchema(i){return i instanceof SeriesDataSchema}function createDimNameMap(i){for(var r=createHashMap(),n=0;n<(i||[]).length;n++){var o=i[n],a=isObject$3(o)?o.name:o;a!=null&&r.get(a)==null&&r.set(a,n)}return r}function ensureSourceDimNameMap(i){var r=inner$3(i);return r.dimNameMap||(r.dimNameMap=createDimNameMap(i.dimensionsDefine))}function shouldOmitUnusedDimensions(i){return i>30}var isObject$1=isObject$3,map=map$1,CtorInt32Array=typeof Int32Array>"u"?Array:Int32Array,ID_PREFIX="e\0\0",INDEX_NOT_FOUND=-1,TRANSFERABLE_PROPERTIES=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_dimSummary","userOutput","_rawData","_dimValueGetter","_nameDimIdx","_idDimIdx","_nameRepeatCount"],CLONE_PROPERTIES=["_approximateExtent"],prepareInvertedIndex,getId,getIdNameFromStore,normalizeDimensions,transferProperties,cloneListForMapAndSample,makeIdFromName,SeriesData=function(){function i(r,n){this.type="list",this._dimOmitted=!1,this._nameList=[],this._idList=[],this._visual={},this._layout={},this._itemVisuals=[],this._itemLayouts=[],this._graphicEls=[],this._approximateExtent={},this._calculationInfo={},this.hasItemOption=!1,this.TRANSFERABLE_METHODS=["cloneShallow","downSample","lttbDownSample","map"],this.CHANGABLE_METHODS=["filterSelf","selectRange"],this.DOWNSAMPLE_METHODS=["downSample","lttbDownSample"];var o,a=!1;isSeriesDataSchema(r)?(o=r.dimensions,this._dimOmitted=r.isDimensionOmitted(),this._schema=r):(a=!0,o=r),o=o||["x","y"];for(var u={},c=[],d={},f=!1,h={},y=0;y<o.length;y++){var g=o[y],p=isString$2(g)?new SeriesDimensionDefine$1({name:g}):g instanceof SeriesDimensionDefine$1?g:new SeriesDimensionDefine$1(g),v=p.name;p.type=p.type||"float",p.coordDim||(p.coordDim=v,p.coordDimIndex=0);var _=p.otherDims=p.otherDims||{};c.push(v),u[v]=p,h[v]!=null&&(f=!0),p.createInvertedIndices&&(d[v]=[]),_.itemName===0&&(this._nameDimIdx=y),_.itemId===0&&(this._idDimIdx=y),process.env.NODE_ENV!=="production"&&assert(a||p.storeDimIndex>=0),a&&(p.storeDimIndex=y)}if(this.dimensions=c,this._dimInfos=u,this._initGetDimensionInfo(f),this.hostModel=n,this._invertedIndicesMap=d,this._dimOmitted){var b=this._dimIdxToName=createHashMap();each$4(c,function(A){b.set(u[A].storeDimIndex,A)})}}return i.prototype.getDimension=function(r){var n=this._recognizeDimIndex(r);if(n==null)return r;if(n=r,!this._dimOmitted)return this.dimensions[n];var o=this._dimIdxToName.get(n);if(o!=null)return o;var a=this._schema.getSourceDimension(n);if(a)return a.name},i.prototype.getDimensionIndex=function(r){var n=this._recognizeDimIndex(r);if(n!=null)return n;if(r==null)return-1;var o=this._getDimInfo(r);return o?o.storeDimIndex:this._dimOmitted?this._schema.getSourceDimensionIndex(r):-1},i.prototype._recognizeDimIndex=function(r){if(isNumber$1(r)||r!=null&&!isNaN(r)&&!this._getDimInfo(r)&&(!this._dimOmitted||this._schema.getSourceDimensionIndex(r)<0))return+r},i.prototype._getStoreDimIndex=function(r){var n=this.getDimensionIndex(r);if(process.env.NODE_ENV!=="production"&&n==null)throw new Error("Unknown dimension "+r);return n},i.prototype.getDimensionInfo=function(r){return this._getDimInfo(this.getDimension(r))},i.prototype._initGetDimensionInfo=function(r){var n=this._dimInfos;this._getDimInfo=r?function(o){return n.hasOwnProperty(o)?n[o]:void 0}:function(o){return n[o]}},i.prototype.getDimensionsOnCoord=function(){return this._dimSummary.dataDimsOnCoord.slice()},i.prototype.mapDimension=function(r,n){var o=this._dimSummary;if(n==null)return o.encodeFirstDimNotExtra[r];var a=o.encode[r];return a?a[n]:null},i.prototype.mapDimensionsAll=function(r){var n=this._dimSummary,o=n.encode[r];return(o||[]).slice()},i.prototype.getStore=function(){return this._store},i.prototype.initData=function(r,n,o){var a=this,u;if(r instanceof DataStore&&(u=r),!u){var c=this.dimensions,d=isSourceInstance(r)||isArrayLike(r)?new DefaultDataProvider(r,c.length):r;u=new DataStore;var f=map(c,function(h){return{type:a._dimInfos[h].type,property:h}});u.initData(d,f,o)}this._store=u,this._nameList=(n||[]).slice(),this._idList=[],this._nameRepeatCount={},this._doInit(0,u.count()),this._dimSummary=summarizeDimensions(this,this._schema),this.userOutput=this._dimSummary.userOutput},i.prototype.appendData=function(r){var n=this._store.appendData(r);this._doInit(n[0],n[1])},i.prototype.appendValues=function(r,n){var o=this._store.appendValues(r,n.length),a=o.start,u=o.end,c=this._shouldMakeIdFromName();if(this._updateOrdinalMeta(),n)for(var d=a;d<u;d++){var f=d-a;this._nameList[d]=n[f],c&&makeIdFromName(this,d)}},i.prototype._updateOrdinalMeta=function(){for(var r=this._store,n=this.dimensions,o=0;o<n.length;o++){var a=this._dimInfos[n[o]];a.ordinalMeta&&r.collectOrdinalMeta(a.storeDimIndex,a.ordinalMeta)}},i.prototype._shouldMakeIdFromName=function(){var r=this._store.getProvider();return this._idDimIdx==null&&r.getSource().sourceFormat!==SOURCE_FORMAT_TYPED_ARRAY&&!r.fillStorage},i.prototype._doInit=function(r,n){if(!(r>=n)){var o=this._store,a=o.getProvider();this._updateOrdinalMeta();var u=this._nameList,c=this._idList,d=a.getSource().sourceFormat,f=d===SOURCE_FORMAT_ORIGINAL;if(f&&!a.pure)for(var h=[],y=r;y<n;y++){var g=a.getItem(y,h);if(!this.hasItemOption&&isDataItemOption(g)&&(this.hasItemOption=!0),g){var p=g.name;u[y]==null&&p!=null&&(u[y]=convertOptionIdName(p,null));var v=g.id;c[y]==null&&v!=null&&(c[y]=convertOptionIdName(v,null))}}if(this._shouldMakeIdFromName())for(var y=r;y<n;y++)makeIdFromName(this,y);prepareInvertedIndex(this)}},i.prototype.getApproximateExtent=function(r){return this._approximateExtent[r]||this._store.getDataExtent(this._getStoreDimIndex(r))},i.prototype.setApproximateExtent=function(r,n){n=this.getDimension(n),this._approximateExtent[n]=r.slice()},i.prototype.getCalculationInfo=function(r){return this._calculationInfo[r]},i.prototype.setCalculationInfo=function(r,n){isObject$1(r)?extend(this._calculationInfo,r):this._calculationInfo[r]=n},i.prototype.getName=function(r){var n=this.getRawIndex(r),o=this._nameList[n];return o==null&&this._nameDimIdx!=null&&(o=getIdNameFromStore(this,this._nameDimIdx,n)),o==null&&(o=""),o},i.prototype._getCategory=function(r,n){var o=this._store.get(r,n),a=this._store.getOrdinalMeta(r);return a?a.categories[o]:o},i.prototype.getId=function(r){return getId(this,this.getRawIndex(r))},i.prototype.count=function(){return this._store.count()},i.prototype.get=function(r,n){var o=this._store,a=this._dimInfos[r];if(a)return o.get(a.storeDimIndex,n)},i.prototype.getByRawIndex=function(r,n){var o=this._store,a=this._dimInfos[r];if(a)return o.getByRawIndex(a.storeDimIndex,n)},i.prototype.getIndices=function(){return this._store.getIndices()},i.prototype.getDataExtent=function(r){return this._store.getDataExtent(this._getStoreDimIndex(r))},i.prototype.getSum=function(r){return this._store.getSum(this._getStoreDimIndex(r))},i.prototype.getMedian=function(r){return this._store.getMedian(this._getStoreDimIndex(r))},i.prototype.getValues=function(r,n){var o=this,a=this._store;return isArray$1(r)?a.getValues(map(r,function(u){return o._getStoreDimIndex(u)}),n):a.getValues(r)},i.prototype.hasValue=function(r){for(var n=this._dimSummary.dataDimIndicesOnCoord,o=0,a=n.length;o<a;o++)if(isNaN(this._store.get(n[o],r)))return!1;return!0},i.prototype.indexOfName=function(r){for(var n=0,o=this._store.count();n<o;n++)if(this.getName(n)===r)return n;return-1},i.prototype.getRawIndex=function(r){return this._store.getRawIndex(r)},i.prototype.indexOfRawIndex=function(r){return this._store.indexOfRawIndex(r)},i.prototype.rawIndexOf=function(r,n){var o=r&&this._invertedIndicesMap[r];if(process.env.NODE_ENV!=="production"&&!o)throw new Error("Do not supported yet");var a=o[n];return a==null||isNaN(a)?INDEX_NOT_FOUND:a},i.prototype.indicesOfNearest=function(r,n,o){return this._store.indicesOfNearest(this._getStoreDimIndex(r),n,o)},i.prototype.each=function(r,n,o){isFunction$1(r)&&(o=n,n=r,r=[]);var a=o||this,u=map(normalizeDimensions(r),this._getStoreDimIndex,this);this._store.each(u,a?bind$1(n,a):n)},i.prototype.filterSelf=function(r,n,o){isFunction$1(r)&&(o=n,n=r,r=[]);var a=o||this,u=map(normalizeDimensions(r),this._getStoreDimIndex,this);return this._store=this._store.filter(u,a?bind$1(n,a):n),this},i.prototype.selectRange=function(r){var n=this,o={},a=keys(r);return each$4(a,function(u){var c=n._getStoreDimIndex(u);o[c]=r[u]}),this._store=this._store.selectRange(o),this},i.prototype.mapArray=function(r,n,o){isFunction$1(r)&&(o=n,n=r,r=[]),o=o||this;var a=[];return this.each(r,function(){a.push(n&&n.apply(this,arguments))},o),a},i.prototype.map=function(r,n,o,a){var u=o||a||this,c=map(normalizeDimensions(r),this._getStoreDimIndex,this),d=cloneListForMapAndSample(this);return d._store=this._store.map(c,u?bind$1(n,u):n),d},i.prototype.modify=function(r,n,o,a){var u=this,c=o||a||this;process.env.NODE_ENV!=="production"&&each$4(normalizeDimensions(r),function(f){var h=u.getDimensionInfo(f);h.isCalculationCoord||console.error("Danger: only stack dimension can be modified")});var d=map(normalizeDimensions(r),this._getStoreDimIndex,this);this._store.modify(d,c?bind$1(n,c):n)},i.prototype.downSample=function(r,n,o,a){var u=cloneListForMapAndSample(this);return u._store=this._store.downSample(this._getStoreDimIndex(r),n,o,a),u},i.prototype.lttbDownSample=function(r,n){var o=cloneListForMapAndSample(this);return o._store=this._store.lttbDownSample(this._getStoreDimIndex(r),n),o},i.prototype.getRawDataItem=function(r){return this._store.getRawDataItem(r)},i.prototype.getItemModel=function(r){var n=this.hostModel,o=this.getRawDataItem(r);return new Model$1(o,n,n&&n.ecModel)},i.prototype.diff=function(r){var n=this;return new DataDiffer$1(r?r.getStore().getIndices():[],this.getStore().getIndices(),function(o){return getId(r,o)},function(o){return getId(n,o)})},i.prototype.getVisual=function(r){var n=this._visual;return n&&n[r]},i.prototype.setVisual=function(r,n){this._visual=this._visual||{},isObject$1(r)?extend(this._visual,r):this._visual[r]=n},i.prototype.getItemVisual=function(r,n){var o=this._itemVisuals[r],a=o&&o[n];return a??this.getVisual(n)},i.prototype.hasItemVisual=function(){return this._itemVisuals.length>0},i.prototype.ensureUniqueItemVisual=function(r,n){var o=this._itemVisuals,a=o[r];a||(a=o[r]={});var u=a[n];return u==null&&(u=this.getVisual(n),isArray$1(u)?u=u.slice():isObject$1(u)&&(u=extend({},u)),a[n]=u),u},i.prototype.setItemVisual=function(r,n,o){var a=this._itemVisuals[r]||{};this._itemVisuals[r]=a,isObject$1(n)?extend(a,n):a[n]=o},i.prototype.clearAllVisual=function(){this._visual={},this._itemVisuals=[]},i.prototype.setLayout=function(r,n){isObject$1(r)?extend(this._layout,r):this._layout[r]=n},i.prototype.getLayout=function(r){return this._layout[r]},i.prototype.getItemLayout=function(r){return this._itemLayouts[r]},i.prototype.setItemLayout=function(r,n,o){this._itemLayouts[r]=o?extend(this._itemLayouts[r]||{},n):n},i.prototype.clearItemLayouts=function(){this._itemLayouts.length=0},i.prototype.setItemGraphicEl=function(r,n){var o=this.hostModel&&this.hostModel.seriesIndex;setCommonECData(o,this.dataType,r,n),this._graphicEls[r]=n},i.prototype.getItemGraphicEl=function(r){return this._graphicEls[r]},i.prototype.eachItemGraphicEl=function(r,n){each$4(this._graphicEls,function(o,a){o&&r&&r.call(n,o,a)})},i.prototype.cloneShallow=function(r){return r||(r=new i(this._schema?this._schema:map(this.dimensions,this._getDimInfo,this),this.hostModel)),transferProperties(r,this),r._store=this._store,r},i.prototype.wrapMethod=function(r,n){var o=this[r];isFunction$1(o)&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(r),this[r]=function(){var a=o.apply(this,arguments);return n.apply(this,[a].concat(slice(arguments)))})},i.internalField=function(){prepareInvertedIndex=function(r){var n=r._invertedIndicesMap;each$4(n,function(o,a){var u=r._dimInfos[a],c=u.ordinalMeta,d=r._store;if(c){o=n[a]=new CtorInt32Array(c.categories.length);for(var f=0;f<o.length;f++)o[f]=INDEX_NOT_FOUND;for(var f=0;f<d.count();f++)o[d.get(u.storeDimIndex,f)]=f}})},getIdNameFromStore=function(r,n,o){return convertOptionIdName(r._getCategory(n,o),null)},getId=function(r,n){var o=r._idList[n];return o==null&&r._idDimIdx!=null&&(o=getIdNameFromStore(r,r._idDimIdx,n)),o==null&&(o=ID_PREFIX+n),o},normalizeDimensions=function(r){return isArray$1(r)||(r=r!=null?[r]:[]),r},cloneListForMapAndSample=function(r){var n=new i(r._schema?r._schema:map(r.dimensions,r._getDimInfo,r),r.hostModel);return transferProperties(n,r),n},transferProperties=function(r,n){each$4(TRANSFERABLE_PROPERTIES.concat(n.__wrappedMethods||[]),function(o){n.hasOwnProperty(o)&&(r[o]=n[o])}),r.__wrappedMethods=n.__wrappedMethods,each$4(CLONE_PROPERTIES,function(o){r[o]=clone$2(n[o])}),r._calculationInfo=extend({},n._calculationInfo)},makeIdFromName=function(r,n){var o=r._nameList,a=r._idList,u=r._nameDimIdx,c=r._idDimIdx,d=o[n],f=a[n];if(d==null&&u!=null&&(o[n]=d=getIdNameFromStore(r,u,n)),f==null&&c!=null&&(a[n]=f=getIdNameFromStore(r,c,n)),f==null&&d!=null){var h=r._nameRepeatCount,y=h[d]=(h[d]||0)+1;f=d,y>1&&(f+="__ec__"+y),a[n]=f}}}(),i}();const SeriesData$1=SeriesData;function prepareSeriesDataSchema(i,r){isSourceInstance(i)||(i=createSourceFromSeriesDataOption(i)),r=r||{};var n=r.coordDimensions||[],o=r.dimensionsDefine||i.dimensionsDefine||[],a=createHashMap(),u=[],c=getDimCount(i,n,o,r.dimensionsCount),d=r.canOmitUnusedDimensions&&shouldOmitUnusedDimensions(c),f=o===i.dimensionsDefine,h=f?ensureSourceDimNameMap(i):createDimNameMap(o),y=r.encodeDefine;!y&&r.encodeDefaulter&&(y=r.encodeDefaulter(i,c));for(var g=createHashMap(y),p=new CtorInt32Array$1(c),v=0;v<p.length;v++)p[v]=-1;function _($){var z=p[$];if(z<0){var V=o[$],re=isObject$3(V)?V:{name:V},D=new SeriesDimensionDefine$1,Ce=re.name;Ce!=null&&h.get(Ce)!=null&&(D.name=D.displayName=Ce),re.type!=null&&(D.type=re.type),re.displayName!=null&&(D.displayName=re.displayName);var le=u.length;return p[$]=le,D.storeDimIndex=$,u.push(D),D}return u[z]}if(!d)for(var v=0;v<c;v++)_(v);g.each(function($,z){var V=normalizeToArray($).slice();if(V.length===1&&!isString$2(V[0])&&V[0]<0){g.set(z,!1);return}var re=g.set(z,[]);each$4(V,function(D,Ce){var le=isString$2(D)?h.get(D):D;le!=null&&le<c&&(re[Ce]=le,A(_(le),z,Ce))})});var b=0;each$4(n,function($){var z,V,re,D;if(isString$2($))z=$,D={};else{D=$,z=D.name;var Ce=D.ordinalMeta;D.ordinalMeta=null,D=extend({},D),D.ordinalMeta=Ce,V=D.dimsDef,re=D.otherDims,D.name=D.coordDim=D.coordDimIndex=D.dimsDef=D.otherDims=null}var le=g.get(z);if(le!==!1){if(le=normalizeToArray(le),!le.length)for(var de=0;de<(V&&V.length||1);de++){for(;b<c&&_(b).coordDim!=null;)b++;b<c&&le.push(b++)}each$4(le,function(Fe,Ie){var At=_(Fe);if(f&&D.type!=null&&(At.type=D.type),A(defaults(At,D),z,Ie),At.name==null&&V){var _e=V[Ie];!isObject$3(_e)&&(_e={name:_e}),At.name=At.displayName=_e.name,At.defaultTooltip=_e.defaultTooltip}re&&defaults(At.otherDims,re)})}});function A($,z,V){VISUAL_DIMENSIONS.get(z)!=null?$.otherDims[z]=V:($.coordDim=z,$.coordDimIndex=V,a.set(z,!0))}var w=r.generateCoord,S=r.generateCoordCount,T=S!=null;S=w?S||1:0;var x=w||"value";function M($){$.name==null&&($.name=$.coordDim)}if(d)each$4(u,function($){M($)}),u.sort(function($,z){return $.storeDimIndex-z.storeDimIndex});else for(var L=0;L<c;L++){var k=_(L),ie=k.coordDim;ie==null&&(k.coordDim=genCoordDimName(x,a,T),k.coordDimIndex=0,(!w||S<=0)&&(k.isExtraCoord=!0),S--),M(k),k.type==null&&(guessOrdinal(i,L)===BE_ORDINAL.Must||k.isExtraCoord&&(k.otherDims.itemName!=null||k.otherDims.seriesName!=null))&&(k.type="ordinal")}return removeDuplication(u),new SeriesDataSchema({source:i,dimensions:u,fullDimensionCount:c,dimensionOmitted:d})}function removeDuplication(i){for(var r=createHashMap(),n=0;n<i.length;n++){var o=i[n],a=o.name,u=r.get(a)||0;u>0&&(o.name=a+(u-1)),u++,r.set(a,u)}}function getDimCount(i,r,n,o){var a=Math.max(i.dimensionsDetectedCount||1,r.length,n.length,o||0);return each$4(r,function(u){var c;isObject$3(u)&&(c=u.dimsDef)&&(a=Math.max(a,c.length))}),a}function genCoordDimName(i,r,n){if(n||r.hasKey(i)){for(var o=0;r.hasKey(i+o);)o++;i+=o}return r.set(i,!0),i}function getAxisRawValue(i,r){return i.type==="category"?i.scale.getLabel(r):r.value}function getOptionCategoryInterval(i){var r=i.get("interval");return r??"auto"}function shouldShowAllLabels(i){return i.type==="category"&&getOptionCategoryInterval(i.getLabelModel())===0}var extensions=[],extensionRegisters={registerPreprocessor,registerProcessor,registerPostInit,registerPostUpdate,registerUpdateLifecycle,registerAction,registerCoordinateSystem,registerLayout,registerVisual,registerTransform,registerLoading,registerMap,registerImpl,PRIORITY,ComponentModel:ComponentModel$1,ComponentView:ComponentView$1,SeriesModel:SeriesModel$1,ChartView:ChartView$1,registerComponentModel:function(i){ComponentModel$1.registerClass(i)},registerComponentView:function(i){ComponentView$1.registerClass(i)},registerSeriesModel:function(i){SeriesModel$1.registerClass(i)},registerChartView:function(i){ChartView$1.registerClass(i)},registerSubTypeDefaulter:function(i,r){ComponentModel$1.registerSubTypeDefaulter(i,r)},registerPainter:function(i,r){registerPainter(i,r)}};function use(i){if(isArray$1(i)){each$4(i,function(r){use(r)});return}indexOf(extensions,i)>=0||(extensions.push(i),isFunction$1(i)&&(i={install:i}),i.install(extensionRegisters))}function projectPointToLine(i,r,n,o,a,u,c,d){var f=a-i,h=u-r,y=n-i,g=o-r,p=Math.sqrt(y*y+g*g);y/=p,g/=p;var v=f*y+h*g,_=v/p;d&&(_=Math.min(Math.max(_,0),1)),_*=p;var b=c[0]=i+_*y,A=c[1]=r+_*g;return Math.sqrt((b-a)*(b-a)+(A-u)*(A-u))}var pt0=new Point$1,pt1=new Point$1,pt2=new Point$1,dir=new Point$1,dir2=new Point$1,tmpArr=[],tmpProjPoint=new Point$1;function limitTurnAngle(i,r){if(r<=180&&r>0){r=r/180*Math.PI,pt0.fromArray(i[0]),pt1.fromArray(i[1]),pt2.fromArray(i[2]),Point$1.sub(dir,pt0,pt1),Point$1.sub(dir2,pt2,pt1);var n=dir.len(),o=dir2.len();if(!(n<.001||o<.001)){dir.scale(1/n),dir2.scale(1/o);var a=dir.dot(dir2),u=Math.cos(r);if(u<a){var c=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr),tmpProjPoint.scaleAndAdd(dir2,c/Math.tan(Math.PI-r));var d=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(d))return;d<0?Point$1.copy(tmpProjPoint,pt1):d>1&&Point$1.copy(tmpProjPoint,pt2),tmpProjPoint.toArray(i[1])}}}}function limitSurfaceAngle(i,r,n){if(n<=180&&n>0){n=n/180*Math.PI,pt0.fromArray(i[0]),pt1.fromArray(i[1]),pt2.fromArray(i[2]),Point$1.sub(dir,pt1,pt0),Point$1.sub(dir2,pt2,pt1);var o=dir.len(),a=dir2.len();if(!(o<.001||a<.001)){dir.scale(1/o),dir2.scale(1/a);var u=dir.dot(r),c=Math.cos(n);if(u<c){var d=projectPointToLine(pt1.x,pt1.y,pt2.x,pt2.y,pt0.x,pt0.y,tmpArr,!1);tmpProjPoint.fromArray(tmpArr);var f=Math.PI/2,h=Math.acos(dir2.dot(r)),y=f+h-n;if(y>=f)Point$1.copy(tmpProjPoint,pt2);else{tmpProjPoint.scaleAndAdd(dir2,d/Math.tan(Math.PI/2-y));var g=pt2.x!==pt1.x?(tmpProjPoint.x-pt1.x)/(pt2.x-pt1.x):(tmpProjPoint.y-pt1.y)/(pt2.y-pt1.y);if(isNaN(g))return;g<0?Point$1.copy(tmpProjPoint,pt1):g>1&&Point$1.copy(tmpProjPoint,pt2)}tmpProjPoint.toArray(i[1])}}}}function setLabelLineState(i,r,n,o){var a=n==="normal",u=a?i:i.ensureState(n);u.ignore=r;var c=o.get("smooth");c&&c===!0&&(c=.3),u.shape=u.shape||{},c>0&&(u.shape.smooth=c);var d=o.getModel("lineStyle").getLineStyle();a?i.useStyle(d):u.style=d}function buildLabelLinePath(i,r){var n=r.smooth,o=r.points;if(o)if(i.moveTo(o[0][0],o[0][1]),n>0&&o.length>=3){var a=dist$1(o[0],o[1]),u=dist$1(o[1],o[2]);if(!a||!u){i.lineTo(o[1][0],o[1][1]),i.lineTo(o[2][0],o[2][1]);return}var c=Math.min(a,u)*n,d=lerp([],o[1],o[0],c/a),f=lerp([],o[1],o[2],c/u),h=lerp([],d,f,.5);i.bezierCurveTo(d[0],d[1],d[0],d[1],h[0],h[1]),i.bezierCurveTo(f[0],f[1],f[0],f[1],o[2][0],o[2][1])}else for(var y=1;y<o.length;y++)i.lineTo(o[y][0],o[y][1])}function setLabelLineStyle(i,r,n){var o=i.getTextGuideLine(),a=i.getTextContent();if(!a){o&&i.removeTextGuideLine();return}for(var u=r.normal,c=u.get("show"),d=a.ignore,f=0;f<DISPLAY_STATES.length;f++){var h=DISPLAY_STATES[f],y=r[h],g=h==="normal";if(y){var p=y.get("show"),v=g?d:retrieve2(a.states[h]&&a.states[h].ignore,d);if(v||!retrieve2(p,c)){var _=g?o:o&&o.states[h];_&&(_.ignore=!0),o&&setLabelLineState(o,!0,h,y);continue}o||(o=new Polyline$1,i.setTextGuideLine(o),!g&&(d||!c)&&setLabelLineState(o,!0,"normal",r.normal),i.stateProxy&&(o.stateProxy=i.stateProxy)),setLabelLineState(o,!1,h,y)}}if(o){defaults(o.style,n),o.style.fill=null;var b=u.get("showAbove"),A=i.textGuideLineConfig=i.textGuideLineConfig||{};A.showAbove=b||!1,o.buildPath=buildLabelLinePath}}function getLabelLineStatesModels(i,r){r=r||"labelLine";for(var n={normal:i.getModel(r)},o=0;o<SPECIAL_STATES.length;o++){var a=SPECIAL_STATES[o];n[a]=i.getModel([a,r])}return n}function prepareLayoutList(i){for(var r=[],n=0;n<i.length;n++){var o=i[n];if(!o.defaultAttr.ignore){var a=o.label,u=a.getComputedTransform(),c=a.getBoundingRect(),d=!u||u[1]<1e-5&&u[2]<1e-5,f=a.style.margin||0,h=c.clone();h.applyTransform(u),h.x-=f/2,h.y-=f/2,h.width+=f,h.height+=f;var y=d?new OrientedBoundingRect$1(c,u):null;r.push({label:a,labelLine:o.labelLine,rect:h,localRect:c,obb:y,priority:o.priority,defaultAttr:o.defaultAttr,layoutOption:o.computedLayoutOption,axisAligned:d,transform:u})}}return r}function shiftLayout(i,r,n,o,a,u){var c=i.length;if(c<2)return;i.sort(function(ie,$){return ie.rect[r]-$.rect[r]});for(var d=0,f,h=!1,y=0,g=0;g<c;g++){var p=i[g],v=p.rect;f=v[r]-d,f<0&&(v[r]-=f,p.label[r]-=f,h=!0);var _=Math.max(-f,0);y+=_,d=v[r]+v[n]}y>0&&u&&M(-y/c,0,c);var b=i[0],A=i[c-1],w,S;T(),w<0&&L(-w,.8),S<0&&L(S,.8),T(),x(w,S,1),x(S,w,-1),T(),w<0&&k(-w),S<0&&k(S);function T(){w=b.rect[r]-o,S=a-A.rect[r]-A.rect[n]}function x(ie,$,z){if(ie<0){var V=Math.min($,-ie);if(V>0){M(V*z,0,c);var re=V+ie;re<0&&L(-re*z,1)}else L(-ie*z,1)}}function M(ie,$,z){ie!==0&&(h=!0);for(var V=$;V<z;V++){var re=i[V],D=re.rect;D[r]+=ie,re.label[r]+=ie}}function L(ie,$){for(var z=[],V=0,re=1;re<c;re++){var D=i[re-1].rect,Ce=Math.max(i[re].rect[r]-D[r]-D[n],0);z.push(Ce),V+=Ce}if(V){var le=Math.min(Math.abs(ie)/V,$);if(ie>0)for(var re=0;re<c-1;re++){var de=z[re]*le;M(de,0,re+1)}else for(var re=c-1;re>0;re--){var de=z[re-1]*le;M(-de,re,c)}}}function k(ie){var $=ie<0?-1:1;ie=Math.abs(ie);for(var z=Math.ceil(ie/(c-1)),V=0;V<c-1;V++)if($>0?M(z,0,V+1):M(-z,c-V-1,c),ie-=z,ie<=0)return}return h}function shiftLayoutOnY(i,r,n,o){return shiftLayout(i,"y","height",r,n,o)}function hideOverlap(i){var r=[];i.sort(function(b,A){return A.priority-b.priority});var n=new BoundingRect$1(0,0,0,0);function o(b){if(!b.ignore){var A=b.ensureState("emphasis");A.ignore==null&&(A.ignore=!1)}b.ignore=!0}for(var a=0;a<i.length;a++){var u=i[a],c=u.axisAligned,d=u.localRect,f=u.transform,h=u.label,y=u.labelLine;n.copy(u.rect),n.width-=.1,n.height-=.1,n.x+=.05,n.y+=.05;for(var g=u.obb,p=!1,v=0;v<r.length;v++){var _=r[v];if(n.intersect(_.rect)){if(c&&_.axisAligned){p=!0;break}if(_.obb||(_.obb=new OrientedBoundingRect$1(_.localRect,_.transform)),g||(g=new OrientedBoundingRect$1(d,f)),g.intersect(_.obb)){p=!0;break}}}p?(o(h),y&&o(y)):(h.attr("ignore",u.defaultAttr.ignore),y&&y.attr("ignore",u.defaultAttr.labelGuideIgnore),r.push(u))}}var mathSin=Math.sin,mathCos=Math.cos,PI$1=Math.PI,PI2$1=Math.PI*2,degree=180/PI$1,SVGPathRebuilder=function(){function i(){}return i.prototype.reset=function(r){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,r||4)},i.prototype.moveTo=function(r,n){this._add("M",r,n)},i.prototype.lineTo=function(r,n){this._add("L",r,n)},i.prototype.bezierCurveTo=function(r,n,o,a,u,c){this._add("C",r,n,o,a,u,c)},i.prototype.quadraticCurveTo=function(r,n,o,a){this._add("Q",r,n,o,a)},i.prototype.arc=function(r,n,o,a,u,c){this.ellipse(r,n,o,o,0,a,u,c)},i.prototype.ellipse=function(r,n,o,a,u,c,d,f){var h=d-c,y=!f,g=Math.abs(h),p=isAroundZero(g-PI2$1)||(y?h>=PI2$1:-h>=PI2$1),v=h>0?h%PI2$1:h%PI2$1+PI2$1,_=!1;p?_=!0:isAroundZero(g)?_=!1:_=v>=PI$1==!!y;var b=r+o*mathCos(c),A=n+a*mathSin(c);this._start&&this._add("M",b,A);var w=Math.round(u*degree);if(p){var S=1/this._p,T=(y?1:-1)*(PI2$1-S);this._add("A",o,a,w,1,+y,r+o*mathCos(c+T),n+a*mathSin(c+T)),S>.01&&this._add("A",o,a,w,0,+y,b,A)}else{var x=r+o*mathCos(d),M=n+a*mathSin(d);this._add("A",o,a,w,+_,+y,x,M)}},i.prototype.rect=function(r,n,o,a){this._add("M",r,n),this._add("l",o,0),this._add("l",0,a),this._add("l",-o,0),this._add("Z")},i.prototype.closePath=function(){this._d.length>0&&this._add("Z")},i.prototype._add=function(r,n,o,a,u,c,d,f,h){for(var y=[],g=this._p,p=1;p<arguments.length;p++){var v=arguments[p];if(isNaN(v)){this._invalid=!0;return}y.push(Math.round(v*g)/g)}this._d.push(r+y.join(" ")),this._start=r==="Z"},i.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},i.prototype.getStr=function(){return this._str},i}();const SVGPathRebuilder$1=SVGPathRebuilder;var NONE="none",mathRound=Math.round;function pathHasFill(i){var r=i.fill;return r!=null&&r!==NONE}function pathHasStroke(i){var r=i.stroke;return r!=null&&r!==NONE}var strokeProps=["lineCap","miterLimit","lineJoin"],svgStrokeProps=map$1(strokeProps,function(i){return"stroke-"+i.toLowerCase()});function mapStyleToAttrs(i,r,n,o){var a=r.opacity==null?1:r.opacity;if(n instanceof ZRImage$1){i("opacity",a);return}if(pathHasFill(r)){var u=normalizeColor(r.fill);i("fill",u.color);var c=r.fillOpacity!=null?r.fillOpacity*u.opacity*a:u.opacity*a;(o||c<1)&&i("fill-opacity",c)}else i("fill",NONE);if(pathHasStroke(r)){var d=normalizeColor(r.stroke);i("stroke",d.color);var f=r.strokeNoScale?n.getLineScale():1,h=f?(r.lineWidth||0)/f:0,y=r.strokeOpacity!=null?r.strokeOpacity*d.opacity*a:d.opacity*a,g=r.strokeFirst;if((o||h!==1)&&i("stroke-width",h),(o||g)&&i("paint-order",g?"stroke":"fill"),(o||y<1)&&i("stroke-opacity",y),r.lineDash){var p=getLineDash(n),v=p[0],_=p[1];v&&(_=mathRound(_||0),i("stroke-dasharray",v.join(",")),(_||o)&&i("stroke-dashoffset",_))}else o&&i("stroke-dasharray",NONE);for(var b=0;b<strokeProps.length;b++){var A=strokeProps[b];if(o||r[A]!==DEFAULT_PATH_STYLE[A]){var w=r[A]||DEFAULT_PATH_STYLE[A];w&&i(svgStrokeProps[b],w)}}}else o&&i("stroke",NONE)}var SVGNS="http://www.w3.org/2000/svg",XLINKNS="http://www.w3.org/1999/xlink",XMLNS="http://www.w3.org/2000/xmlns/",XML_NAMESPACE="http://www.w3.org/XML/1998/namespace",META_DATA_PREFIX="ecmeta_";function createElement(i){return document.createElementNS(SVGNS,i)}function createVNode(i,r,n,o,a){return{tag:i,attrs:n||{},children:o,text:a,key:r}}function createElementOpen(i,r){var n=[];if(r)for(var o in r){var a=r[o],u=o;a!==!1&&(a!==!0&&a!=null&&(u+='="'+a+'"'),n.push(u))}return"<"+i+" "+n.join(" ")+">"}function createElementClose(i){return"</"+i+">"}function vNodeToString(i,r){r=r||{};var n=r.newline?`
`:"";function o(a){var u=a.children,c=a.tag,d=a.attrs,f=a.text;return createElementOpen(c,d)+(c!=="style"?encodeHTML(f):f||"")+(u?""+n+map$1(u,function(h){return o(h)}).join(n)+n:"")+createElementClose(c)}return o(i)}function getCssString(i,r,n){n=n||{};var o=n.newline?`
`:"",a=" {"+o,u=o+"}",c=map$1(keys(i),function(f){return f+a+map$1(keys(i[f]),function(h){return h+":"+i[f][h]+";"}).join(o)+u}).join(o),d=map$1(keys(r),function(f){return"@keyframes "+f+a+map$1(keys(r[f]),function(h){return h+a+map$1(keys(r[f][h]),function(y){var g=r[f][h][y];return y==="d"&&(g='path("'+g+'")'),y+":"+g+";"}).join(o)+u}).join(o)+u}).join(o);return!c&&!d?"":["<![CDATA[",c,d,"]]>"].join(o)}function createBrushScope(i){return{zrId:i,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssStyleCache:{},cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function createSVGVNode(i,r,n,o){return createVNode("svg","root",{width:i,height:r,xmlns:SVGNS,"xmlns:xlink":XLINKNS,version:"1.1",baseProfile:"full",viewBox:o?"0 0 "+i+" "+r:!1},n)}var cssClassIdx=0;function getClassId(){return cssClassIdx++}var EASING_MAP={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},transformOriginKey="transform-origin";function buildPathString(i,r,n){var o=extend({},i.shape);extend(o,r),i.buildPath(n,o);var a=new SVGPathRebuilder$1;return a.reset(getPathPrecision(i)),n.rebuildPath(a,1),a.generateStr(),a.getStr()}function setTransformOrigin(i,r){var n=r.originX,o=r.originY;(n||o)&&(i[transformOriginKey]=n+"px "+o+"px")}var ANIMATE_STYLE_MAP={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function addAnimation(i,r){var n=r.zrId+"-ani-"+r.cssAnimIdx++;return r.cssAnims[n]=i,n}function createCompoundPathCSSAnimation(i,r,n){var o=i.shape.paths,a={},u,c;if(each$4(o,function(f){var h=createBrushScope(n.zrId);h.animation=!0,createCSSAnimation(f,{},h,!0);var y=h.cssAnims,g=h.cssNodes,p=keys(y),v=p.length;if(v){c=p[v-1];var _=y[c];for(var b in _){var A=_[b];a[b]=a[b]||{d:""},a[b].d+=A.d||""}for(var w in g){var S=g[w].animation;S.indexOf(c)>=0&&(u=S)}}}),!!u){r.d=!1;var d=addAnimation(a,n);return u.replace(c,d)}}function getEasingFunc(i){return isString$2(i)?EASING_MAP[i]?"cubic-bezier("+EASING_MAP[i]+")":createCubicEasingFunc(i)?i:"":""}function createCSSAnimation(i,r,n,o){var a=i.animators,u=a.length,c=[];if(i instanceof CompoundPath$1){var d=createCompoundPathCSSAnimation(i,r,n);if(d)c.push(d);else if(!u)return}else if(!u)return;for(var f={},h=0;h<u;h++){var y=a[h],g=[y.getMaxTime()/1e3+"s"],p=getEasingFunc(y.getClip().easing),v=y.getDelay();p?g.push(p):g.push("linear"),v&&g.push(v/1e3+"s"),y.getLoop()&&g.push("infinite");var _=g.join(" ");f[_]=f[_]||[_,[]],f[_][1].push(y)}function b(S){var T=S[1],x=T.length,M={},L={},k={},ie="animation-timing-function";function $(jt,Et,pe){for(var ue=jt.getTracks(),$e=jt.getMaxTime(),Ne=0;Ne<ue.length;Ne++){var Oe=ue[Ne];if(Oe.needsAnimate()){var Lt=Oe.keyframes,kt=Oe.propName;if(pe&&(kt=pe(kt)),kt)for(var Cn=0;Cn<Lt.length;Cn++){var oe=Lt[Cn],ae=Math.round(oe.time/$e*100)+"%",Y=getEasingFunc(oe.easing),O=oe.rawValue;(isString$2(O)||isNumber$1(O))&&(Et[ae]=Et[ae]||{},Et[ae][kt]=oe.rawValue,Y&&(Et[ae][ie]=Y))}}}}for(var z=0;z<x;z++){var V=T[z],re=V.targetName;re?re==="shape"&&$(V,L):!o&&$(V,M)}for(var D in M){var Ce={};copyTransform(Ce,i),extend(Ce,M[D]);var le=getSRTTransformString(Ce),de=M[D][ie];k[D]=le?{transform:le}:{},setTransformOrigin(k[D],Ce),de&&(k[D][ie]=de)}var Fe,Ie=!0;for(var D in L){k[D]=k[D]||{};var At=!Fe,de=L[D][ie];At&&(Fe=new PathProxy);var _e=Fe.len();Fe.reset(),k[D].d=buildPathString(i,L[D],Fe);var qe=Fe.len();if(!At&&_e!==qe){Ie=!1;break}de&&(k[D][ie]=de)}if(!Ie)for(var D in k)delete k[D].d;if(!o)for(var z=0;z<x;z++){var V=T[z],re=V.targetName;re==="style"&&$(V,k,function(ue){return ANIMATE_STYLE_MAP[ue]})}for(var In=keys(k),vn=!0,Pt,z=1;z<In.length;z++){var he=In[z-1],Ue=In[z];if(k[he][transformOriginKey]!==k[Ue][transformOriginKey]){vn=!1;break}Pt=k[he][transformOriginKey]}if(vn&&Pt){for(var D in k)k[D][transformOriginKey]&&delete k[D][transformOriginKey];r[transformOriginKey]=Pt}if(filter(In,function(jt){return keys(k[jt]).length>0}).length){var Dt=addAnimation(k,n);return Dt+" "+S[0]+" both"}}for(var A in f){var d=b(f[A]);d&&c.push(d)}if(c.length){var w=n.zrId+"-cls-"+getClassId();n.cssNodes["."+w]={animation:c.join(",")},r.class=w}}function createCSSEmphasis(i,r,n){if(!i.ignore)if(i.isSilent()){var o={"pointer-events":"none"};setClassAttribute(o,r,n,!0)}else{var a=i.states.emphasis&&i.states.emphasis.style?i.states.emphasis.style:{},u=a.fill;if(!u){var c=i.style&&i.style.fill,d=i.states.select&&i.states.select.style&&i.states.select.style.fill,f=i.currentStates.indexOf("select")>=0&&d||c;f&&(u=liftColor(f))}var h=a.lineWidth;if(h){var y=!a.strokeNoScale&&i.transform?i.transform[0]:1;h=h/y}var o={cursor:"pointer"};u&&(o.fill=u),a.stroke&&(o.stroke=a.stroke),h&&(o["stroke-width"]=h),setClassAttribute(o,r,n,!0)}}function setClassAttribute(i,r,n,o){var a=JSON.stringify(i),u=n.cssStyleCache[a];u||(u=n.zrId+"-cls-"+getClassId(),n.cssStyleCache[a]=u,n.cssNodes["."+u+(o?":hover":"")]=i),r.class=r.class?r.class+" "+u:u}var round=Math.round;function isImageLike(i){return i&&isString$2(i.src)}function isCanvasLike(i){return i&&isFunction$1(i.toDataURL)}function setStyleAttrs(i,r,n,o){mapStyleToAttrs(function(a,u){var c=a==="fill"||a==="stroke";c&&isGradient(u)?setGradient(r,i,a,o):c&&isPattern(u)?setPattern(n,i,a,o):c&&u==="none"?i[a]="transparent":i[a]=u},r,n,!1),setShadow(n,i,o)}function setMetaData(i,r){var n=getElementSSRData(r);n&&(n.each(function(o,a){o!=null&&(i[(META_DATA_PREFIX+a).toLowerCase()]=o+"")}),r.isSilent()&&(i[META_DATA_PREFIX+"silent"]="true"))}function noRotateScale(i){return isAroundZero(i[0]-1)&&isAroundZero(i[1])&&isAroundZero(i[2])&&isAroundZero(i[3]-1)}function noTranslate(i){return isAroundZero(i[4])&&isAroundZero(i[5])}function setTransform(i,r,n){if(r&&!(noTranslate(r)&&noRotateScale(r))){var o=n?10:1e4;i.transform=noRotateScale(r)?"translate("+round(r[4]*o)/o+" "+round(r[5]*o)/o+")":getMatrixStr(r)}}function convertPolyShape(i,r,n){for(var o=i.points,a=[],u=0;u<o.length;u++)a.push(round(o[u][0]*n)/n),a.push(round(o[u][1]*n)/n);r.points=a.join(" ")}function validatePolyShape(i){return!i.smooth}function createAttrsConvert(i){var r=map$1(i,function(n){return typeof n=="string"?[n,n]:n});return function(n,o,a){for(var u=0;u<r.length;u++){var c=r[u],d=n[c[0]];d!=null&&(o[c[1]]=round(d*a)/a)}}}var builtinShapesDef={circle:[createAttrsConvert(["cx","cy","r"])],polyline:[convertPolyShape,validatePolyShape],polygon:[convertPolyShape,validatePolyShape]};function hasShapeAnimation(i){for(var r=i.animators,n=0;n<r.length;n++)if(r[n].targetName==="shape")return!0;return!1}function brushSVGPath(i,r){var n=i.style,o=i.shape,a=builtinShapesDef[i.type],u={},c=r.animation,d="path",f=i.style.strokePercent,h=r.compress&&getPathPrecision(i)||4;if(a&&!r.willUpdate&&!(a[1]&&!a[1](o))&&!(c&&hasShapeAnimation(i))&&!(f<1)){d=i.type;var y=Math.pow(10,h);a[0](o,u,y)}else{var g=!i.path||i.shapeChanged();i.path||i.createPathProxy();var p=i.path;g&&(p.beginPath(),i.buildPath(p,i.shape),i.pathUpdated());var v=p.getVersion(),_=i,b=_.__svgPathBuilder;(_.__svgPathVersion!==v||!b||f!==_.__svgPathStrokePercent)&&(b||(b=_.__svgPathBuilder=new SVGPathRebuilder$1),b.reset(h),p.rebuildPath(b,f),b.generateStr(),_.__svgPathVersion=v,_.__svgPathStrokePercent=f),u.d=b.getStr()}return setTransform(u,i.transform),setStyleAttrs(u,n,i,r),setMetaData(u,i),r.animation&&createCSSAnimation(i,u,r),r.emphasis&&createCSSEmphasis(i,u,r),createVNode(d,i.id+"",u)}function brushSVGImage(i,r){var n=i.style,o=n.image;if(o&&!isString$2(o)&&(isImageLike(o)?o=o.src:isCanvasLike(o)&&(o=o.toDataURL())),!!o){var a=n.x||0,u=n.y||0,c=n.width,d=n.height,f={href:o,width:c,height:d};return a&&(f.x=a),u&&(f.y=u),setTransform(f,i.transform),setStyleAttrs(f,n,i,r),setMetaData(f,i),r.animation&&createCSSAnimation(i,f,r),createVNode("image",i.id+"",f)}}function brushSVGTSpan(i,r){var n=i.style,o=n.text;if(o!=null&&(o+=""),!(!o||isNaN(n.x)||isNaN(n.y))){var a=n.font||DEFAULT_FONT,u=n.x||0,c=adjustTextY$1(n.y||0,getLineHeight(a),n.textBaseline),d=TEXT_ALIGN_TO_ANCHOR[n.textAlign]||n.textAlign,f={"dominant-baseline":"central","text-anchor":d};if(hasSeparateFont(n)){var h="",y=n.fontStyle,g=parseFontSize(n.fontSize);if(!parseFloat(g))return;var p=n.fontFamily||DEFAULT_FONT_FAMILY,v=n.fontWeight;h+="font-size:"+g+";font-family:"+p+";",y&&y!=="normal"&&(h+="font-style:"+y+";"),v&&v!=="normal"&&(h+="font-weight:"+v+";"),f.style=h}else f.style="font: "+a;return o.match(/\s/)&&(f["xml:space"]="preserve"),u&&(f.x=u),c&&(f.y=c),setTransform(f,i.transform),setStyleAttrs(f,n,i,r),setMetaData(f,i),r.animation&&createCSSAnimation(i,f,r),createVNode("text",i.id+"",f,void 0,o)}}function brush(i,r){if(i instanceof Path$1)return brushSVGPath(i,r);if(i instanceof ZRImage$1)return brushSVGImage(i,r);if(i instanceof TSpan$1)return brushSVGTSpan(i,r)}function setShadow(i,r,n){var o=i.style;if(hasShadow(o)){var a=getShadowKey(i),u=n.shadowCache,c=u[a];if(!c){var d=i.getGlobalScale(),f=d[0],h=d[1];if(!f||!h)return;var y=o.shadowOffsetX||0,g=o.shadowOffsetY||0,p=o.shadowBlur,v=normalizeColor(o.shadowColor),_=v.opacity,b=v.color,A=p/2/f,w=p/2/h,S=A+" "+w;c=n.zrId+"-s"+n.shadowIdx++,n.defs[c]=createVNode("filter",c,{id:c,x:"-100%",y:"-100%",width:"300%",height:"300%"},[createVNode("feDropShadow","",{dx:y/f,dy:g/h,stdDeviation:S,"flood-color":b,"flood-opacity":_})]),u[a]=c}r.filter=getIdURL(c)}}function setGradient(i,r,n,o){var a=i[n],u,c={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if(isLinearGradient(a))u="linearGradient",c.x1=a.x,c.y1=a.y,c.x2=a.x2,c.y2=a.y2;else if(isRadialGradient(a))u="radialGradient",c.cx=retrieve2(a.x,.5),c.cy=retrieve2(a.y,.5),c.r=retrieve2(a.r,.5);else{process.env.NODE_ENV!=="production"&&logError("Illegal gradient type.");return}for(var d=a.colorStops,f=[],h=0,y=d.length;h<y;++h){var g=round4(d[h].offset)*100+"%",p=d[h].color,v=normalizeColor(p),_=v.color,b=v.opacity,A={offset:g};A["stop-color"]=_,b<1&&(A["stop-opacity"]=b),f.push(createVNode("stop",h+"",A))}var w=createVNode(u,"",c,f),S=vNodeToString(w),T=o.gradientCache,x=T[S];x||(x=o.zrId+"-g"+o.gradientIdx++,T[S]=x,c.id=x,o.defs[x]=createVNode(u,x,c,f)),r[n]=getIdURL(x)}function setPattern(i,r,n,o){var a=i.style[n],u=i.getBoundingRect(),c={},d=a.repeat,f=d==="no-repeat",h=d==="repeat-x",y=d==="repeat-y",g;if(isImagePattern(a)){var p=a.imageWidth,v=a.imageHeight,_=void 0,b=a.image;if(isString$2(b)?_=b:isImageLike(b)?_=b.src:isCanvasLike(b)&&(_=b.toDataURL()),typeof Image>"u"){var A="Image width/height must been given explictly in svg-ssr renderer.";assert(p,A),assert(v,A)}else if(p==null||v==null){var w=function(z,V){if(z){var re=z.elm,D=p||V.width,Ce=v||V.height;z.tag==="pattern"&&(h?(Ce=1,D/=u.width):y&&(D=1,Ce/=u.height)),z.attrs.width=D,z.attrs.height=Ce,re&&(re.setAttribute("width",D),re.setAttribute("height",Ce))}},S=createOrUpdateImage(_,null,i,function(z){f||w(L,z),w(g,z)});S&&S.width&&S.height&&(p=p||S.width,v=v||S.height)}g=createVNode("image","img",{href:_,width:p,height:v}),c.width=p,c.height=v}else a.svgElement&&(g=clone$2(a.svgElement),c.width=a.svgWidth,c.height=a.svgHeight);if(g){var T,x;f?T=x=1:h?(x=1,T=c.width/u.width):y?(T=1,x=c.height/u.height):c.patternUnits="userSpaceOnUse",T!=null&&!isNaN(T)&&(c.width=T),x!=null&&!isNaN(x)&&(c.height=x);var M=getSRTTransformString(a);M&&(c.patternTransform=M);var L=createVNode("pattern","",c,[g]),k=vNodeToString(L),ie=o.patternCache,$=ie[k];$||($=o.zrId+"-p"+o.patternIdx++,ie[k]=$,c.id=$,L=o.defs[$]=createVNode("pattern",$,c,[g])),r[n]=getIdURL($)}}function setClipPath(i,r,n){var o=n.clipPathCache,a=n.defs,u=o[i.id];if(!u){u=n.zrId+"-c"+n.clipPathIdx++;var c={id:u};o[i.id]=u,a[u]=createVNode("clipPath",u,c,[brushSVGPath(i,n)])}r["clip-path"]=getIdURL(u)}function createTextNode(i){return document.createTextNode(i)}function insertBefore(i,r,n){i.insertBefore(r,n)}function removeChild(i,r){i.removeChild(r)}function appendChild(i,r){i.appendChild(r)}function parentNode(i){return i.parentNode}function nextSibling(i){return i.nextSibling}function setTextContent(i,r){i.textContent=r}var colonChar=58,xChar=120,emptyNode=createVNode("","");function isUndef(i){return i===void 0}function isDef(i){return i!==void 0}function createKeyToOldIdx(i,r,n){for(var o={},a=r;a<=n;++a){var u=i[a].key;u!==void 0&&(process.env.NODE_ENV!=="production"&&o[u]!=null&&console.error("Duplicate key "+u),o[u]=a)}return o}function sameVnode(i,r){var n=i.key===r.key,o=i.tag===r.tag;return o&&n}function createElm(i){var r,n=i.children,o=i.tag;if(isDef(o)){var a=i.elm=createElement(o);if(updateAttrs(emptyNode,i),isArray$1(n))for(r=0;r<n.length;++r){var u=n[r];u!=null&&appendChild(a,createElm(u))}else isDef(i.text)&&!isObject$3(i.text)&&appendChild(a,createTextNode(i.text))}else i.elm=createTextNode(i.text);return i.elm}function addVnodes(i,r,n,o,a){for(;o<=a;++o){var u=n[o];u!=null&&insertBefore(i,createElm(u),r)}}function removeVnodes(i,r,n,o){for(;n<=o;++n){var a=r[n];if(a!=null)if(isDef(a.tag)){var u=parentNode(a.elm);removeChild(u,a.elm)}else removeChild(i,a.elm)}}function updateAttrs(i,r){var n,o=r.elm,a=i&&i.attrs||{},u=r.attrs||{};if(a!==u){for(n in u){var c=u[n],d=a[n];d!==c&&(c===!0?o.setAttribute(n,""):c===!1?o.removeAttribute(n):n==="style"?o.style.cssText=c:n.charCodeAt(0)!==xChar?o.setAttribute(n,c):n==="xmlns:xlink"||n==="xmlns"?o.setAttributeNS(XMLNS,n,c):n.charCodeAt(3)===colonChar?o.setAttributeNS(XML_NAMESPACE,n,c):n.charCodeAt(5)===colonChar?o.setAttributeNS(XLINKNS,n,c):o.setAttribute(n,c))}for(n in a)n in u||o.removeAttribute(n)}}function updateChildren(i,r,n){for(var o=0,a=0,u=r.length-1,c=r[0],d=r[u],f=n.length-1,h=n[0],y=n[f],g,p,v,_;o<=u&&a<=f;)c==null?c=r[++o]:d==null?d=r[--u]:h==null?h=n[++a]:y==null?y=n[--f]:sameVnode(c,h)?(patchVnode(c,h),c=r[++o],h=n[++a]):sameVnode(d,y)?(patchVnode(d,y),d=r[--u],y=n[--f]):sameVnode(c,y)?(patchVnode(c,y),insertBefore(i,c.elm,nextSibling(d.elm)),c=r[++o],y=n[--f]):sameVnode(d,h)?(patchVnode(d,h),insertBefore(i,d.elm,c.elm),d=r[--u],h=n[++a]):(isUndef(g)&&(g=createKeyToOldIdx(r,o,u)),p=g[h.key],isUndef(p)?insertBefore(i,createElm(h),c.elm):(v=r[p],v.tag!==h.tag?insertBefore(i,createElm(h),c.elm):(patchVnode(v,h),r[p]=void 0,insertBefore(i,v.elm,c.elm))),h=n[++a]);(o<=u||a<=f)&&(o>u?(_=n[f+1]==null?null:n[f+1].elm,addVnodes(i,_,n,a,f)):removeVnodes(i,r,o,u))}function patchVnode(i,r){var n=r.elm=i.elm,o=i.children,a=r.children;i!==r&&(updateAttrs(i,r),isUndef(r.text)?isDef(o)&&isDef(a)?o!==a&&updateChildren(n,o,a):isDef(a)?(isDef(i.text)&&setTextContent(n,""),addVnodes(n,null,a,0,a.length-1)):isDef(o)?removeVnodes(n,o,0,o.length-1):isDef(i.text)&&setTextContent(n,""):i.text!==r.text&&(isDef(o)&&removeVnodes(n,o,0,o.length-1),setTextContent(n,r.text)))}function patch(i,r){if(sameVnode(i,r))patchVnode(i,r);else{var n=i.elm,o=parentNode(n);createElm(r),o!==null&&(insertBefore(o,r.elm,nextSibling(n)),removeVnodes(o,[i],0,0))}return r}var svgId=0,SVGPainter=function(){function i(r,n,o){if(this.type="svg",this.refreshHover=createMethodNotSupport("refreshHover"),this.configLayer=createMethodNotSupport("configLayer"),this.storage=n,this._opts=o=extend({},o),this.root=r,this._id="zr"+svgId++,this._oldVNode=createSVGVNode(o.width,o.height),r&&!o.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var u=this._svgDom=this._oldVNode.elm=createElement("svg");updateAttrs(null,this._oldVNode),a.appendChild(u),r.appendChild(a)}this.resize(o.width,o.height)}return i.prototype.getType=function(){return this.type},i.prototype.getViewportRoot=function(){return this._viewport},i.prototype.getViewportRootOffset=function(){var r=this.getViewportRoot();if(r)return{offsetLeft:r.offsetLeft||0,offsetTop:r.offsetTop||0}},i.prototype.getSvgDom=function(){return this._svgDom},i.prototype.refresh=function(){if(this.root){var r=this.renderToVNode({willUpdate:!0});r.attrs.style="position:absolute;left:0;top:0;user-select:none",patch(this._oldVNode,r),this._oldVNode=r}},i.prototype.renderOneToVNode=function(r){return brush(r,createBrushScope(this._id))},i.prototype.renderToVNode=function(r){r=r||{};var n=this.storage.getDisplayList(!0),o=this._width,a=this._height,u=createBrushScope(this._id);u.animation=r.animation,u.willUpdate=r.willUpdate,u.compress=r.compress,u.emphasis=r.emphasis;var c=[],d=this._bgVNode=createBackgroundVNode(o,a,this._backgroundColor,u);d&&c.push(d);var f=r.compress?null:this._mainVNode=createVNode("g","main",{},[]);this._paintList(n,u,f?f.children:c),f&&c.push(f);var h=map$1(keys(u.defs),function(p){return u.defs[p]});if(h.length&&c.push(createVNode("defs","defs",{},h)),r.animation){var y=getCssString(u.cssNodes,u.cssAnims,{newline:!0});if(y){var g=createVNode("style","stl",{},[],y);c.push(g)}}return createSVGVNode(o,a,c,r.useViewBox)},i.prototype.renderToString=function(r){return r=r||{},vNodeToString(this.renderToVNode({animation:retrieve2(r.cssAnimation,!0),emphasis:retrieve2(r.cssEmphasis,!0),willUpdate:!1,compress:!0,useViewBox:retrieve2(r.useViewBox,!0)}),{newline:!0})},i.prototype.setBackgroundColor=function(r){this._backgroundColor=r},i.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},i.prototype._paintList=function(r,n,o){for(var a=r.length,u=[],c=0,d,f,h=0,y=0;y<a;y++){var g=r[y];if(!g.invisible){var p=g.__clipPaths,v=p&&p.length||0,_=f&&f.length||0,b=void 0;for(b=Math.max(v-1,_-1);b>=0&&!(p&&f&&p[b]===f[b]);b--);for(var A=_-1;A>b;A--)c--,d=u[c-1];for(var w=b+1;w<v;w++){var S={};setClipPath(p[w],S,n);var T=createVNode("g","clip-g-"+h++,S,[]);(d?d.children:o).push(T),u[c++]=T,d=T}f=p;var x=brush(g,n);x&&(d?d.children:o).push(x)}}},i.prototype.resize=function(r,n){var o=this._opts,a=this.root,u=this._viewport;if(r!=null&&(o.width=r),n!=null&&(o.height=n),a&&u&&(u.style.display="none",r=getSize(a,0,o),n=getSize(a,1,o),u.style.display=""),this._width!==r||this._height!==n){if(this._width=r,this._height=n,u){var c=u.style;c.width=r+"px",c.height=n+"px"}if(isPattern(this._backgroundColor))this.refresh();else{var d=this._svgDom;d&&(d.setAttribute("width",r),d.setAttribute("height",n));var f=this._bgVNode&&this._bgVNode.elm;f&&(f.setAttribute("width",r),f.setAttribute("height",n))}}},i.prototype.getWidth=function(){return this._width},i.prototype.getHeight=function(){return this._height},i.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},i.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},i.prototype.toDataURL=function(r){var n=this.renderToString(),o="data:image/svg+xml;";return r?(n=encodeBase64(n),n&&o+"base64,"+n):o+"charset=UTF-8,"+encodeURIComponent(n)},i}();function createMethodNotSupport(i){return function(){process.env.NODE_ENV!=="production"&&logError('In SVG mode painter not support method "'+i+'"')}}function createBackgroundVNode(i,r,n,o){var a;if(n&&n!=="none")if(a=createVNode("rect","bg",{width:i,height:r,x:"0",y:"0"}),isGradient(n))setGradient({fill:n},a.attrs,"fill",o);else if(isPattern(n))setPattern({style:{fill:n},dirty:noop$1,getBoundingRect:function(){return{width:i,height:r}}},a.attrs,"fill",o);else{var u=normalizeColor(n),c=u.color,d=u.opacity;a.attrs.fill=c,d<1&&(a.attrs["fill-opacity"]=d)}return a}const SVGPainter$1=SVGPainter;function install$7(i){i.registerPainter("svg",SVGPainter$1)}function getSectorCornerRadius(i,r,n){var o=i.get("borderRadius");if(o==null)return n?{cornerRadius:0}:null;isArray$1(o)||(o=[o,o,o,o]);var a=Math.abs(r.r||0-r.r0||0);return{cornerRadius:map$1(o,function(u){return parsePercent$1(u,a)})}}var PI2=Math.PI*2,RADIAN$1=Math.PI/180;function getViewRect(i,r){return getLayoutRect(i.getBoxLayoutParams(),{width:r.getWidth(),height:r.getHeight()})}function getBasicPieLayout(i,r){var n=getViewRect(i,r),o=i.get("center"),a=i.get("radius");isArray$1(a)||(a=[0,a]);var u=parsePercent(n.width,r.getWidth()),c=parsePercent(n.height,r.getHeight()),d=Math.min(u,c),f=parsePercent(a[0],d/2),h=parsePercent(a[1],d/2),y,g,p=i.coordinateSystem;if(p){var v=p.dataToPoint(o);y=v[0]||0,g=v[1]||0}else isArray$1(o)||(o=[o,o]),y=parsePercent(o[0],u)+n.x,g=parsePercent(o[1],c)+n.y;return{cx:y,cy:g,r0:f,r:h}}function pieLayout(i,r,n){r.eachSeriesByType(i,function(o){var a=o.getData(),u=a.mapDimension("value"),c=getViewRect(o,n),d=getBasicPieLayout(o,n),f=d.cx,h=d.cy,y=d.r,g=d.r0,p=-o.get("startAngle")*RADIAN$1,v=o.get("endAngle"),_=o.get("padAngle")*RADIAN$1;v=v==="auto"?p-PI2:-v*RADIAN$1;var b=o.get("minAngle")*RADIAN$1,A=b+_,w=0;a.each(u,function(Fe){!isNaN(Fe)&&w++});var S=a.getSum(u),T=Math.PI/(S||w)*2,x=o.get("clockwise"),M=o.get("roseType"),L=o.get("stillShowZeroSum"),k=a.getDataExtent(u);k[0]=0;var ie=x?1:-1,$=[p,v],z=ie*_/2;normalizeArcAngles($,!x),p=$[0],v=$[1];var V=getSeriesLayoutData(o);V.startAngle=p,V.endAngle=v,V.clockwise=x;var re=Math.abs(v-p),D=re,Ce=0,le=p;if(a.setLayout({viewRect:c,r:y}),a.each(u,function(Fe,Ie){var At;if(isNaN(Fe)){a.setItemLayout(Ie,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:x,cx:f,cy:h,r0:g,r:M?NaN:y});return}M!=="area"?At=S===0&&L?T:Fe*T:At=re/w,At<A?(At=A,D-=A):Ce+=Fe;var _e=le+ie*At,qe=0,In=0;_>At?(qe=le+ie*At/2,In=qe):(qe=le+z,In=_e-z),a.setItemLayout(Ie,{angle:At,startAngle:qe,endAngle:In,clockwise:x,cx:f,cy:h,r0:g,r:M?linearMap(Fe,k,[g,y]):y}),le=_e}),D<PI2&&w)if(D<=.001){var de=re/w;a.each(u,function(Fe,Ie){if(!isNaN(Fe)){var At=a.getItemLayout(Ie);At.angle=de;var _e=0,qe=0;de<_?(_e=p+ie*(Ie+1/2)*de,qe=_e):(_e=p+ie*Ie*de+z,qe=p+ie*(Ie+1)*de-z),At.startAngle=_e,At.endAngle=qe}})}else T=D/Ce,le=p,a.each(u,function(Fe,Ie){if(!isNaN(Fe)){var At=a.getItemLayout(Ie),_e=At.angle===A?A:Fe*T,qe=0,In=0;_e<_?(qe=le+ie*_e/2,In=qe):(qe=le+z,In=le+ie*_e-z),At.startAngle=qe,At.endAngle=In,le+=ie*_e}})})}var getSeriesLayoutData=makeInner();function dataFilter(i){return{seriesType:i,reset:function(r,n){var o=n.findComponents({mainType:"legend"});if(!(!o||!o.length)){var a=r.getData();a.filterSelf(function(u){for(var c=a.getName(u),d=0;d<o.length;d++)if(!o[d].isSelected(c))return!1;return!0})}}}}var RADIAN=Math.PI/180;function adjustSingleSide(i,r,n,o,a,u,c,d,f,h){if(i.length<2)return;function y(b){for(var A=b.rB,w=A*A,S=0;S<b.list.length;S++){var T=b.list[S],x=Math.abs(T.label.y-n),M=o+T.len,L=M*M,k=Math.sqrt((1-Math.abs(x*x/w))*L),ie=r+(k+T.len2)*a,$=ie-T.label.x,z=T.targetTextWidth-$*a;constrainTextWidth(T,z,!0),T.label.x=ie}}function g(b){for(var A={list:[],maxY:0},w={list:[],maxY:0},S=0;S<b.length;S++)if(b[S].labelAlignTo==="none"){var T=b[S],x=T.label.y>n?w:A,M=Math.abs(T.label.y-n);if(M>=x.maxY){var L=T.label.x-r-T.len2*a,k=o+T.len,ie=Math.abs(L)<k?Math.sqrt(M*M/(1-L*L/k/k)):k;x.rB=ie,x.maxY=M}x.list.push(T)}y(A),y(w)}for(var p=i.length,v=0;v<p;v++)if(i[v].position==="outer"&&i[v].labelAlignTo==="labelLine"){var _=i[v].label.x-h;i[v].linePoints[1][0]+=_,i[v].label.x=h}shiftLayoutOnY(i,f,f+c)&&g(i)}function avoidOverlap(i,r,n,o,a,u,c,d){for(var f=[],h=[],y=Number.MAX_VALUE,g=-Number.MAX_VALUE,p=0;p<i.length;p++){var v=i[p].label;isPositionCenter(i[p])||(v.x<r?(y=Math.min(y,v.x),f.push(i[p])):(g=Math.max(g,v.x),h.push(i[p])))}for(var p=0;p<i.length;p++){var _=i[p];if(!isPositionCenter(_)&&_.linePoints){if(_.labelStyleWidth!=null)continue;var v=_.label,b=_.linePoints,A=void 0;_.labelAlignTo==="edge"?v.x<r?A=b[2][0]-_.labelDistance-c-_.edgeDistance:A=c+a-_.edgeDistance-b[2][0]-_.labelDistance:_.labelAlignTo==="labelLine"?v.x<r?A=y-c-_.bleedMargin:A=c+a-g-_.bleedMargin:v.x<r?A=v.x-c-_.bleedMargin:A=c+a-v.x-_.bleedMargin,_.targetTextWidth=A,constrainTextWidth(_,A)}}adjustSingleSide(h,r,n,o,1,a,u,c,d,g),adjustSingleSide(f,r,n,o,-1,a,u,c,d,y);for(var p=0;p<i.length;p++){var _=i[p];if(!isPositionCenter(_)&&_.linePoints){var v=_.label,b=_.linePoints,w=_.labelAlignTo==="edge",S=v.style.padding,T=S?S[1]+S[3]:0,x=v.style.backgroundColor?0:T,M=_.rect.width+x,L=b[1][0]-b[2][0];w?v.x<r?b[2][0]=c+_.edgeDistance+M+_.labelDistance:b[2][0]=c+a-_.edgeDistance-M-_.labelDistance:(v.x<r?b[2][0]=v.x+_.labelDistance:b[2][0]=v.x-_.labelDistance,b[1][0]=b[2][0]+L),b[1][1]=b[2][1]=v.y}}}function constrainTextWidth(i,r,n){if(n===void 0&&(n=!1),i.labelStyleWidth==null){var o=i.label,a=o.style,u=i.rect,c=a.backgroundColor,d=a.padding,f=d?d[1]+d[3]:0,h=a.overflow,y=u.width+(c?0:f);if(r<y||n){var g=u.height;if(h&&h.match("break")){o.setStyle("backgroundColor",null),o.setStyle("width",r-f);var p=o.getBoundingRect();o.setStyle("width",Math.ceil(p.width)),o.setStyle("backgroundColor",c)}else{var v=r-f,_=r<y?v:n?v>i.unconstrainedWidth?null:v:null;o.setStyle("width",_)}var b=o.getBoundingRect();u.width=b.width;var A=(o.style.margin||0)+2.1;u.height=b.height+A,u.y-=(u.height-g)/2}}}function isPositionCenter(i){return i.position==="center"}function pieLabelLayout(i){var r=i.getData(),n=[],o,a,u=!1,c=(i.get("minShowLabelAngle")||0)*RADIAN,d=r.getLayout("viewRect"),f=r.getLayout("r"),h=d.width,y=d.x,g=d.y,p=d.height;function v(L){L.ignore=!0}function _(L){if(!L.ignore)return!0;for(var k in L.states)if(L.states[k].ignore===!1)return!0;return!1}r.each(function(L){var k=r.getItemGraphicEl(L),ie=k.shape,$=k.getTextContent(),z=k.getTextGuideLine(),V=r.getItemModel(L),re=V.getModel("label"),D=re.get("position")||V.get(["emphasis","label","position"]),Ce=re.get("distanceToLabelLine"),le=re.get("alignTo"),de=parsePercent(re.get("edgeDistance"),h),Fe=re.get("bleedMargin"),Ie=V.getModel("labelLine"),At=Ie.get("length");At=parsePercent(At,h);var _e=Ie.get("length2");if(_e=parsePercent(_e,h),Math.abs(ie.endAngle-ie.startAngle)<c){each$4($.states,v),$.ignore=!0,z&&(each$4(z.states,v),z.ignore=!0);return}if(_($)){var qe=(ie.startAngle+ie.endAngle)/2,In=Math.cos(qe),vn=Math.sin(qe),Pt,he,Ue,Dt;o=ie.cx,a=ie.cy;var jt=D==="inside"||D==="inner";if(D==="center")Pt=ie.cx,he=ie.cy,Dt="center";else{var Et=(jt?(ie.r+ie.r0)/2*In:ie.r*In)+o,pe=(jt?(ie.r+ie.r0)/2*vn:ie.r*vn)+a;if(Pt=Et+In*3,he=pe+vn*3,!jt){var ue=Et+In*(At+f-ie.r),$e=pe+vn*(At+f-ie.r),Ne=ue+(In<0?-1:1)*_e,Oe=$e;le==="edge"?Pt=In<0?y+de:y+h-de:Pt=Ne+(In<0?-Ce:Ce),he=Oe,Ue=[[Et,pe],[ue,$e],[Ne,Oe]]}Dt=jt?"center":le==="edge"?In>0?"right":"left":In>0?"left":"right"}var Lt=Math.PI,kt=0,Cn=re.get("rotate");if(isNumber$1(Cn))kt=Cn*(Lt/180);else if(D==="center")kt=0;else if(Cn==="radial"||Cn===!0){var oe=In<0?-qe+Lt:-qe;kt=oe}else if(Cn==="tangential"&&D!=="outside"&&D!=="outer"){var ae=Math.atan2(In,vn);ae<0&&(ae=Lt*2+ae);var Y=vn>0;Y&&(ae=Lt+ae),kt=ae-Lt}if(u=!!kt,$.x=Pt,$.y=he,$.rotation=kt,$.setStyle({verticalAlign:"middle"}),jt){$.setStyle({align:Dt});var j=$.states.select;j&&(j.x+=$.x,j.y+=$.y)}else{var O=$.getBoundingRect().clone();O.applyTransform($.getComputedTransform());var F=($.style.margin||0)+2.1;O.y-=F/2,O.height+=F,n.push({label:$,labelLine:z,position:D,len:At,len2:_e,minTurnAngle:Ie.get("minTurnAngle"),maxSurfaceAngle:Ie.get("maxSurfaceAngle"),surfaceNormal:new Point$1(In,vn),linePoints:Ue,textAlign:Dt,labelDistance:Ce,labelAlignTo:le,edgeDistance:de,bleedMargin:Fe,rect:O,unconstrainedWidth:O.width,labelStyleWidth:$.style.width})}k.setTextConfig({inside:jt})}}),!u&&i.get("avoidLabelOverlap")&&avoidOverlap(n,o,a,f,h,p,y,g);for(var b=0;b<n.length;b++){var A=n[b],w=A.label,S=A.labelLine,T=isNaN(w.x)||isNaN(w.y);if(w){w.setStyle({align:A.textAlign}),T&&(each$4(w.states,v),w.ignore=!0);var x=w.states.select;x&&(x.x+=w.x,x.y+=w.y)}if(S){var M=A.linePoints;T||!M?(each$4(S.states,v),S.ignore=!0):(limitTurnAngle(M,A.minTurnAngle),limitSurfaceAngle(M,A.surfaceNormal,A.maxSurfaceAngle),S.setShape({points:M}),w.__hostTarget.textGuideLineConfig={anchor:new Point$1(M[0][0],M[0][1])})}}}var PiePiece=function(i){__extends(r,i);function r(n,o,a){var u=i.call(this)||this;u.z2=2;var c=new ZRText$1;return u.setTextContent(c),u.updateData(n,o,a,!0),u}return r.prototype.updateData=function(n,o,a,u){var c=this,d=n.hostModel,f=n.getItemModel(o),h=f.getModel("emphasis"),y=n.getItemLayout(o),g=extend(getSectorCornerRadius(f.getModel("itemStyle"),y,!0),y);if(isNaN(g.startAngle)){c.setShape(g);return}if(u){c.setShape(g);var p=d.getShallow("animationType");d.ecModel.ssr?(initProps(c,{scaleX:0,scaleY:0},d,{dataIndex:o,isFrom:!0}),c.originX=g.cx,c.originY=g.cy):p==="scale"?(c.shape.r=y.r0,initProps(c,{shape:{r:y.r}},d,o)):a!=null?(c.setShape({startAngle:a,endAngle:a}),initProps(c,{shape:{startAngle:y.startAngle,endAngle:y.endAngle}},d,o)):(c.shape.endAngle=y.startAngle,updateProps$1(c,{shape:{endAngle:y.endAngle}},d,o))}else saveOldStyle(c),updateProps$1(c,{shape:g},d,o);c.useStyle(n.getItemVisual(o,"style")),setStatesStylesFromModel(c,f);var v=(y.startAngle+y.endAngle)/2,_=d.get("selectedOffset"),b=Math.cos(v)*_,A=Math.sin(v)*_,w=f.getShallow("cursor");w&&c.attr("cursor",w),this._updateLabel(d,n,o),c.ensureState("emphasis").shape=extend({r:y.r+(h.get("scale")&&h.get("scaleSize")||0)},getSectorCornerRadius(h.getModel("itemStyle"),y)),extend(c.ensureState("select"),{x:b,y:A,shape:getSectorCornerRadius(f.getModel(["select","itemStyle"]),y)}),extend(c.ensureState("blur"),{shape:getSectorCornerRadius(f.getModel(["blur","itemStyle"]),y)});var S=c.getTextGuideLine(),T=c.getTextContent();S&&extend(S.ensureState("select"),{x:b,y:A}),extend(T.ensureState("select"),{x:b,y:A}),toggleHoverEmphasis(this,h.get("focus"),h.get("blurScope"),h.get("disabled"))},r.prototype._updateLabel=function(n,o,a){var u=this,c=o.getItemModel(a),d=c.getModel("labelLine"),f=o.getItemVisual(a,"style"),h=f&&f.fill,y=f&&f.opacity;setLabelStyle(u,getLabelStatesModels(c),{labelFetcher:o.hostModel,labelDataIndex:a,inheritColor:h,defaultOpacity:y,defaultText:n.getFormattedLabel(a,"normal")||o.getName(a)});var g=u.getTextContent();u.setTextConfig({position:null,rotation:null}),g.attr({z2:10});var p=n.get(["label","position"]);if(p!=="outside"&&p!=="outer")u.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new Polyline$1,this.setTextGuideLine(v)),setLabelLineStyle(this,getLabelLineStatesModels(c),{stroke:h,opacity:retrieve3(d.get(["lineStyle","opacity"]),y,1)})}},r}(Sector$1),PieView=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.ignoreLabelLineUpdate=!0,n}return r.prototype.render=function(n,o,a,u){var c=n.getData(),d=this._data,f=this.group,h;if(!d&&c.count()>0){for(var y=c.getItemLayout(0),g=1;isNaN(y&&y.startAngle)&&g<c.count();++g)y=c.getItemLayout(g);y&&(h=y.startAngle)}if(this._emptyCircleSector&&f.remove(this._emptyCircleSector),c.count()===0&&n.get("showEmptyCircle")){var p=getSeriesLayoutData(n),v=new Sector$1({shape:extend(getBasicPieLayout(n,a),p)});v.useStyle(n.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=v,f.add(v)}c.diff(d).add(function(_){var b=new PiePiece(c,_,h);c.setItemGraphicEl(_,b),f.add(b)}).update(function(_,b){var A=d.getItemGraphicEl(b);A.updateData(c,_,h),A.off("click"),f.add(A),c.setItemGraphicEl(_,A)}).remove(function(_){var b=d.getItemGraphicEl(_);removeElementWithFadeOut(b,n,_)}).execute(),pieLabelLayout(n),n.get("animationTypeUpdate")!=="expansion"&&(this._data=c)},r.prototype.dispose=function(){},r.prototype.containPoint=function(n,o){var a=o.getData(),u=a.getItemLayout(0);if(u){var c=n[0]-u.cx,d=n[1]-u.cy,f=Math.sqrt(c*c+d*d);return f<=u.r&&f>=u.r0}},r.type="pie",r}(ChartView$1);const PieView$1=PieView;function createSeriesDataSimply(i,r,n){r=isArray$1(r)&&{coordDimensions:r}||extend({encodeDefine:i.getEncode()},r);var o=i.getSource(),a=prepareSeriesDataSchema(o,r).dimensions,u=new SeriesData$1(a,i);return u.initData(o,n),u}var LegendVisualProvider=function(){function i(r,n){this._getDataWithEncodedVisual=r,this._getRawData=n}return i.prototype.getAllNames=function(){var r=this._getRawData();return r.mapArray(r.getName)},i.prototype.containName=function(r){var n=this._getRawData();return n.indexOfName(r)>=0},i.prototype.indexOfName=function(r){var n=this._getDataWithEncodedVisual();return n.indexOfName(r)},i.prototype.getItemVisual=function(r,n){var o=this._getDataWithEncodedVisual();return o.getItemVisual(r,n)},i}();const LegendVisualProvider$1=LegendVisualProvider;var innerData=makeInner(),PieSeriesModel=function(i){__extends(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.init=function(n){i.prototype.init.apply(this,arguments),this.legendVisualProvider=new LegendVisualProvider$1(bind$1(this.getData,this),bind$1(this.getRawData,this)),this._defaultLabelLine(n)},r.prototype.mergeOption=function(){i.prototype.mergeOption.apply(this,arguments)},r.prototype.getInitialData=function(){return createSeriesDataSimply(this,{coordDimensions:["value"],encodeDefaulter:curry$1(makeSeriesEncodeForNameBased,this)})},r.prototype.getDataParams=function(n){var o=this.getData(),a=innerData(o),u=a.seats;if(!u){var c=[];o.each(o.mapDimension("value"),function(f){c.push(f)}),u=a.seats=getPercentSeats(c,o.hostModel.get("percentPrecision"))}var d=i.prototype.getDataParams.call(this,n);return d.percent=u[n]||0,d.$vars.push("percent"),d},r.prototype._defaultLabelLine=function(n){defaultEmphasis(n,"labelLine",["show"]);var o=n.labelLine,a=n.emphasis.labelLine;o.show=o.show&&n.label.show,a.show=a.show&&n.emphasis.label.show},r.type="series.pie",r.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,endAngle:"auto",padAngle:0,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},r}(SeriesModel$1);const PieSeriesModel$1=PieSeriesModel;function negativeDataFilter(i){return{seriesType:i,reset:function(r,n){var o=r.getData();o.filterSelf(function(a){var u=o.mapDimension("value"),c=o.get(u,a);return!(isNumber$1(c)&&!isNaN(c)&&c<0)})}}}function install$6(i){i.registerChartView(PieView$1),i.registerSeriesModel(PieSeriesModel$1),createLegacyDataSelectAction("pie",i.registerAction),i.registerLayout(curry$1(pieLayout,"pie")),i.registerProcessor(dataFilter("pie")),i.registerProcessor(negativeDataFilter("pie"))}function layout(i,r,n){n=n||{};var o=i.coordinateSystem,a=r.axis,u={},c=a.getAxesOnZeroOf()[0],d=a.position,f=c?"onZero":d,h=a.dim,y=o.getRect(),g=[y.x,y.x+y.width,y.y,y.y+y.height],p={left:0,right:1,top:0,bottom:1,onZero:2},v=r.get("offset")||0,_=h==="x"?[g[2]-v,g[3]+v]:[g[0]-v,g[1]+v];if(c){var b=c.toGlobalCoord(c.dataToCoord(0));_[p.onZero]=Math.max(Math.min(b,_[1]),_[0])}u.position=[h==="y"?_[p[f]]:g[0],h==="x"?_[p[f]]:g[3]],u.rotation=Math.PI/2*(h==="x"?0:1);var A={top:-1,bottom:1,left:-1,right:1};u.labelDirection=u.tickDirection=u.nameDirection=A[d],u.labelOffset=c?_[p[d]]-_[p.onZero]:0,r.get(["axisTick","inside"])&&(u.tickDirection=-u.tickDirection),retrieve(n.labelInside,r.get(["axisLabel","inside"]))&&(u.labelDirection=-u.labelDirection);var w=r.get(["axisLabel","rotate"]);return u.labelRotate=f==="top"?-w:w,u.z2=1,u}var PI=Math.PI,AxisBuilder=function(){function i(r,n){this.group=new Group$3,this.opt=n,this.axisModel=r,defaults(n,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0,handleAutoShown:function(){return!0}});var o=new Group$3({x:n.position[0],y:n.position[1],rotation:n.rotation});o.updateTransform(),this._transformGroup=o}return i.prototype.hasBuilder=function(r){return!!builders[r]},i.prototype.add=function(r){builders[r](this.opt,this.axisModel,this.group,this._transformGroup)},i.prototype.getGroup=function(){return this.group},i.innerTextLayout=function(r,n,o){var a=remRadian(n-r),u,c;return isRadianAroundZero(a)?(c=o>0?"top":"bottom",u="center"):isRadianAroundZero(a-PI)?(c=o>0?"bottom":"top",u="center"):(c="middle",a>0&&a<PI?u=o>0?"right":"left":u=o>0?"left":"right"),{rotation:a,textAlign:u,textVerticalAlign:c}},i.makeAxisEventDataBase=function(r){var n={componentType:r.mainType,componentIndex:r.componentIndex};return n[r.mainType+"Index"]=r.componentIndex,n},i.isLabelSilent=function(r){var n=r.get("tooltip");return r.get("silent")||!(r.get("triggerEvent")||n&&n.show)},i}(),builders={axisLine:function(i,r,n,o){var a=r.get(["axisLine","show"]);if(a==="auto"&&i.handleAutoShown&&(a=i.handleAutoShown("axisLine")),!!a){var u=r.axis.getExtent(),c=o.transform,d=[u[0],0],f=[u[1],0],h=d[0]>f[0];c&&(applyTransform$1(d,d,c),applyTransform$1(f,f,c));var y=extend({lineCap:"round"},r.getModel(["axisLine","lineStyle"]).getLineStyle()),g=new Line$1({shape:{x1:d[0],y1:d[1],x2:f[0],y2:f[1]},style:y,strokeContainThreshold:i.strokeContainThreshold||5,silent:!0,z2:1});subPixelOptimizeLine(g.shape,g.style.lineWidth),g.anid="line",n.add(g);var p=r.get(["axisLine","symbol"]);if(p!=null){var v=r.get(["axisLine","symbolSize"]);isString$2(p)&&(p=[p,p]),(isString$2(v)||isNumber$1(v))&&(v=[v,v]);var _=normalizeSymbolOffset(r.get(["axisLine","symbolOffset"])||0,v),b=v[0],A=v[1];each$4([{rotate:i.rotation+Math.PI/2,offset:_[0],r:0},{rotate:i.rotation-Math.PI/2,offset:_[1],r:Math.sqrt((d[0]-f[0])*(d[0]-f[0])+(d[1]-f[1])*(d[1]-f[1]))}],function(w,S){if(p[S]!=="none"&&p[S]!=null){var T=createSymbol(p[S],-b/2,-A/2,b,A,y.stroke,!0),x=w.r+w.offset,M=h?f:d;T.attr({rotation:w.rotate,x:M[0]+x*Math.cos(i.rotation),y:M[1]-x*Math.sin(i.rotation),silent:!0,z2:11}),n.add(T)}})}}},axisTickLabel:function(i,r,n,o){var a=buildAxisMajorTicks(n,o,r,i),u=buildAxisLabel(n,o,r,i);if(fixMinMaxLabelShow(r,u,a),buildAxisMinorTicks(n,o,r,i.tickDirection),r.get(["axisLabel","hideOverlap"])){var c=prepareLayoutList(map$1(u,function(d){return{label:d,priority:d.z2,defaultAttr:{ignore:d.ignore}}}));hideOverlap(c)}},axisName:function(i,r,n,o){var a=retrieve(i.axisName,r.get("name"));if(a){var u=r.get("nameLocation"),c=i.nameDirection,d=r.getModel("nameTextStyle"),f=r.get("nameGap")||0,h=r.axis.getExtent(),y=h[0]>h[1]?-1:1,g=[u==="start"?h[0]-y*f:u==="end"?h[1]+y*f:(h[0]+h[1])/2,isNameLocationCenter(u)?i.labelOffset+c*f:0],p,v=r.get("nameRotate");v!=null&&(v=v*PI/180);var _;isNameLocationCenter(u)?p=AxisBuilder.innerTextLayout(i.rotation,v??i.rotation,c):(p=endTextLayout(i.rotation,u,v||0,h),_=i.axisNameAvailableWidth,_!=null&&(_=Math.abs(_/Math.sin(p.rotation)),!isFinite(_)&&(_=null)));var b=d.getFont(),A=r.get("nameTruncate",!0)||{},w=A.ellipsis,S=retrieve(i.nameTruncateMaxWidth,A.maxWidth,_),T=new ZRText$1({x:g[0],y:g[1],rotation:p.rotation,silent:AxisBuilder.isLabelSilent(r),style:createTextStyle(d,{text:a,font:b,overflow:"truncate",width:S,ellipsis:w,fill:d.getTextColor()||r.get(["axisLine","lineStyle","color"]),align:d.get("align")||p.textAlign,verticalAlign:d.get("verticalAlign")||p.textVerticalAlign}),z2:1});if(setTooltipConfig({el:T,componentModel:r,itemName:a}),T.__fullText=a,T.anid="name",r.get("triggerEvent")){var x=AxisBuilder.makeAxisEventDataBase(r);x.targetType="axisName",x.name=a,getECData(T).eventData=x}o.add(T),T.updateTransform(),n.add(T),T.decomposeTransform()}}};function endTextLayout(i,r,n,o){var a=remRadian(n-i),u,c,d=o[0]>o[1],f=r==="start"&&!d||r!=="start"&&d;return isRadianAroundZero(a-PI/2)?(c=f?"bottom":"top",u="center"):isRadianAroundZero(a-PI*1.5)?(c=f?"top":"bottom",u="center"):(c="middle",a<PI*1.5&&a>PI/2?u=f?"left":"right":u=f?"right":"left"),{rotation:a,textAlign:u,textVerticalAlign:c}}function fixMinMaxLabelShow(i,r,n){if(!shouldShowAllLabels(i.axis)){var o=i.get(["axisLabel","showMinLabel"]),a=i.get(["axisLabel","showMaxLabel"]);r=r||[],n=n||[];var u=r[0],c=r[1],d=r[r.length-1],f=r[r.length-2],h=n[0],y=n[1],g=n[n.length-1],p=n[n.length-2];o===!1?(ignoreEl(u),ignoreEl(h)):isTwoLabelOverlapped(u,c)&&(o?(ignoreEl(c),ignoreEl(y)):(ignoreEl(u),ignoreEl(h))),a===!1?(ignoreEl(d),ignoreEl(g)):isTwoLabelOverlapped(f,d)&&(a?(ignoreEl(f),ignoreEl(p)):(ignoreEl(d),ignoreEl(g)))}}function ignoreEl(i){i&&(i.ignore=!0)}function isTwoLabelOverlapped(i,r){var n=i&&i.getBoundingRect().clone(),o=r&&r.getBoundingRect().clone();if(!(!n||!o)){var a=identity$1([]);return rotate(a,a,-i.rotation),n.applyTransform(mul([],a,i.getLocalTransform())),o.applyTransform(mul([],a,r.getLocalTransform())),n.intersect(o)}}function isNameLocationCenter(i){return i==="middle"||i==="center"}function createTicks(i,r,n,o,a){for(var u=[],c=[],d=[],f=0;f<i.length;f++){var h=i[f].coord;c[0]=h,c[1]=0,d[0]=h,d[1]=n,r&&(applyTransform$1(c,c,r),applyTransform$1(d,d,r));var y=new Line$1({shape:{x1:c[0],y1:c[1],x2:d[0],y2:d[1]},style:o,z2:2,autoBatch:!0,silent:!0});subPixelOptimizeLine(y.shape,y.style.lineWidth),y.anid=a+"_"+i[f].tickValue,u.push(y)}return u}function buildAxisMajorTicks(i,r,n,o){var a=n.axis,u=n.getModel("axisTick"),c=u.get("show");if(c==="auto"&&o.handleAutoShown&&(c=o.handleAutoShown("axisTick")),!(!c||a.scale.isBlank())){for(var d=u.getModel("lineStyle"),f=o.tickDirection*u.get("length"),h=a.getTicksCoords(),y=createTicks(h,r.transform,f,defaults(d.getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])}),"ticks"),g=0;g<y.length;g++)i.add(y[g]);return y}}function buildAxisMinorTicks(i,r,n,o){var a=n.axis,u=n.getModel("minorTick");if(!(!u.get("show")||a.scale.isBlank())){var c=a.getMinorTicksCoords();if(c.length)for(var d=u.getModel("lineStyle"),f=o*u.get("length"),h=defaults(d.getLineStyle(),defaults(n.getModel("axisTick").getLineStyle(),{stroke:n.get(["axisLine","lineStyle","color"])})),y=0;y<c.length;y++)for(var g=createTicks(c[y],r.transform,f,h,"minorticks_"+y),p=0;p<g.length;p++)i.add(g[p])}}function buildAxisLabel(i,r,n,o){var a=n.axis,u=retrieve(o.axisLabelShow,n.get(["axisLabel","show"]));if(!(!u||a.scale.isBlank())){var c=n.getModel("axisLabel"),d=c.get("margin"),f=a.getViewLabels(),h=(retrieve(o.labelRotate,c.get("rotate"))||0)*PI/180,y=AxisBuilder.innerTextLayout(o.rotation,h,o.labelDirection),g=n.getCategories&&n.getCategories(!0),p=[],v=AxisBuilder.isLabelSilent(n),_=n.get("triggerEvent");return each$4(f,function(b,A){var w=a.scale.type==="ordinal"?a.scale.getRawOrdinalNumber(b.tickValue):b.tickValue,S=b.formattedLabel,T=b.rawLabel,x=c;if(g&&g[w]){var M=g[w];isObject$3(M)&&M.textStyle&&(x=new Model$1(M.textStyle,c,n.ecModel))}var L=x.getTextColor()||n.get(["axisLine","lineStyle","color"]),k=a.dataToCoord(w),ie=x.getShallow("align",!0)||y.textAlign,$=retrieve2(x.getShallow("alignMinLabel",!0),ie),z=retrieve2(x.getShallow("alignMaxLabel",!0),ie),V=x.getShallow("verticalAlign",!0)||x.getShallow("baseline",!0)||y.textVerticalAlign,re=retrieve2(x.getShallow("verticalAlignMinLabel",!0),V),D=retrieve2(x.getShallow("verticalAlignMaxLabel",!0),V),Ce=new ZRText$1({x:k,y:o.labelOffset+o.labelDirection*d,rotation:y.rotation,silent:v,z2:10+(b.level||0),style:createTextStyle(x,{text:S,align:A===0?$:A===f.length-1?z:ie,verticalAlign:A===0?re:A===f.length-1?D:V,fill:isFunction$1(L)?L(a.type==="category"?T:a.type==="value"?w+"":w,A):L})});if(Ce.anid="label_"+w,_){var le=AxisBuilder.makeAxisEventDataBase(n);le.targetType="axisLabel",le.value=T,le.tickIndex=A,a.type==="category"&&(le.dataIndex=w),getECData(Ce).eventData=le}r.add(Ce),Ce.updateTransform(),p.push(Ce),i.add(Ce),Ce.decomposeTransform()}),p}}const AxisBuilder$1=AxisBuilder;function collect(i,r){var n={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return collectAxesInfo(n,i,r),n.seriesInvolved&&collectSeriesInfo(n,i),n}function collectAxesInfo(i,r,n){var o=r.getComponent("tooltip"),a=r.getComponent("axisPointer"),u=a.get("link",!0)||[],c=[];each$4(n.getCoordinateSystems(),function(d){if(!d.axisPointerEnabled)return;var f=makeKey(d.model),h=i.coordSysAxesInfo[f]={};i.coordSysMap[f]=d;var y=d.model,g=y.getModel("tooltip",o);if(each$4(d.getAxes(),curry$1(b,!1,null)),d.getTooltipAxes&&o&&g.get("show")){var p=g.get("trigger")==="axis",v=g.get(["axisPointer","type"])==="cross",_=d.getTooltipAxes(g.get(["axisPointer","axis"]));(p||v)&&each$4(_.baseAxes,curry$1(b,v?"cross":!0,p)),v&&each$4(_.otherAxes,curry$1(b,"cross",!1))}function b(A,w,S){var T=S.model.getModel("axisPointer",a),x=T.get("show");if(!(!x||x==="auto"&&!A&&!isHandleTrigger(T))){w==null&&(w=T.get("triggerTooltip")),T=A?makeAxisPointerModel(S,g,a,r,A,w):T;var M=T.get("snap"),L=T.get("triggerEmphasis"),k=makeKey(S.model),ie=w||M||S.type==="category",$=i.axesInfo[k]={key:k,axis:S,coordSys:d,axisPointerModel:T,triggerTooltip:w,triggerEmphasis:L,involveSeries:ie,snap:M,useHandle:isHandleTrigger(T),seriesModels:[],linkGroup:null};h[k]=$,i.seriesInvolved=i.seriesInvolved||ie;var z=getLinkGroupIndex(u,S);if(z!=null){var V=c[z]||(c[z]={axesInfo:{}});V.axesInfo[k]=$,V.mapper=u[z].mapper,$.linkGroup=V}}}})}function makeAxisPointerModel(i,r,n,o,a,u){var c=r.getModel("axisPointer"),d=["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],f={};each$4(d,function(p){f[p]=clone$2(c.get(p))}),f.snap=i.type!=="category"&&!!u,c.get("type")==="cross"&&(f.type="line");var h=f.label||(f.label={});if(h.show==null&&(h.show=!1),a==="cross"){var y=c.get(["label","show"]);if(h.show=y??!0,!u){var g=f.lineStyle=c.get("crossStyle");g&&defaults(h,g.textStyle)}}return i.model.getModel("axisPointer",new Model$1(f,n,o))}function collectSeriesInfo(i,r){r.eachSeries(function(n){var o=n.coordinateSystem,a=n.get(["tooltip","trigger"],!0),u=n.get(["tooltip","show"],!0);!o||a==="none"||a===!1||a==="item"||u===!1||n.get(["axisPointer","show"],!0)===!1||each$4(i.coordSysAxesInfo[makeKey(o.model)],function(c){var d=c.axis;o.getAxis(d.dim)===d&&(c.seriesModels.push(n),c.seriesDataCount==null&&(c.seriesDataCount=0),c.seriesDataCount+=n.getData().count())})})}function getLinkGroupIndex(i,r){for(var n=r.model,o=r.dim,a=0;a<i.length;a++){var u=i[a]||{};if(checkPropInLink(u[o+"AxisId"],n.id)||checkPropInLink(u[o+"AxisIndex"],n.componentIndex)||checkPropInLink(u[o+"AxisName"],n.name))return a}}function checkPropInLink(i,r){return i==="all"||isArray$1(i)&&indexOf(i,r)>=0||i===r}function fixValue(i){var r=getAxisInfo(i);if(r){var n=r.axisPointerModel,o=r.axis.scale,a=n.option,u=n.get("status"),c=n.get("value");c!=null&&(c=o.parse(c));var d=isHandleTrigger(n);u==null&&(a.status=d?"show":"hide");var f=o.getExtent().slice();f[0]>f[1]&&f.reverse(),(c==null||c>f[1])&&(c=f[1]),c<f[0]&&(c=f[0]),a.value=c,d&&(a.status=r.axis.scale.isBlank()?"hide":"show")}}function getAxisInfo(i){var r=(i.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return r&&r.axesInfo[makeKey(i)]}function getAxisPointerModel(i){var r=getAxisInfo(i);return r&&r.axisPointerModel}function isHandleTrigger(i){return!!i.get(["handle","show"])}function makeKey(i){return i.type+"||"+i.id}var axisPointerClazz={},AxisView=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,a,u){this.axisPointerClass&&fixValue(n),i.prototype.render.apply(this,arguments),this._doUpdateAxisPointerClass(n,a,!0)},r.prototype.updateAxisPointer=function(n,o,a,u){this._doUpdateAxisPointerClass(n,a,!1)},r.prototype.remove=function(n,o){var a=this._axisPointer;a&&a.remove(o)},r.prototype.dispose=function(n,o){this._disposeAxisPointer(o),i.prototype.dispose.apply(this,arguments)},r.prototype._doUpdateAxisPointerClass=function(n,o,a){var u=r.getAxisPointerClass(this.axisPointerClass);if(u){var c=getAxisPointerModel(n);c?(this._axisPointer||(this._axisPointer=new u)).render(n,c,o,a):this._disposeAxisPointer(o)}},r.prototype._disposeAxisPointer=function(n){this._axisPointer&&this._axisPointer.dispose(n),this._axisPointer=null},r.registerAxisPointerClass=function(n,o){if(process.env.NODE_ENV!=="production"&&axisPointerClazz[n])throw new Error("axisPointer "+n+" exists");axisPointerClazz[n]=o},r.getAxisPointerClass=function(n){return n&&axisPointerClazz[n]},r.type="axis",r}(ComponentView$1);const AxisView$1=AxisView;var inner$2=makeInner(),clone=clone$2,bind=bind$1,BaseAxisPointer=function(){function i(){this._dragging=!1,this.animationThreshold=15}return i.prototype.render=function(r,n,o,a){var u=n.get("value"),c=n.get("status");if(this._axisModel=r,this._axisPointerModel=n,this._api=o,!(!a&&this._lastValue===u&&this._lastStatus===c)){this._lastValue=u,this._lastStatus=c;var d=this._group,f=this._handle;if(!c||c==="hide"){d&&d.hide(),f&&f.hide();return}d&&d.show(),f&&f.show();var h={};this.makeElOption(h,u,r,n,o);var y=h.graphicKey;y!==this._lastGraphicKey&&this.clear(o),this._lastGraphicKey=y;var g=this._moveAnimation=this.determineAnimation(r,n);if(!d)d=this._group=new Group$3,this.createPointerEl(d,h,r,n),this.createLabelEl(d,h,r,n),o.getZr().add(d);else{var p=curry$1(updateProps,n,g);this.updatePointerEl(d,h,p),this.updateLabelEl(d,h,p,n)}updateMandatoryProps(d,n,!0),this._renderHandle(u)}},i.prototype.remove=function(r){this.clear(r)},i.prototype.dispose=function(r){this.clear(r)},i.prototype.determineAnimation=function(r,n){var o=n.get("animation"),a=r.axis,u=a.type==="category",c=n.get("snap");if(!c&&!u)return!1;if(o==="auto"||o==null){var d=this.animationThreshold;if(u&&a.getBandWidth()>d)return!0;if(c){var f=getAxisInfo(r).seriesDataCount,h=a.getExtent();return Math.abs(h[0]-h[1])/f>d}return!1}return o===!0},i.prototype.makeElOption=function(r,n,o,a,u){},i.prototype.createPointerEl=function(r,n,o,a){var u=n.pointer;if(u){var c=inner$2(r).pointerEl=new graphic[u.type](clone(n.pointer));r.add(c)}},i.prototype.createLabelEl=function(r,n,o,a){if(n.label){var u=inner$2(r).labelEl=new ZRText$1(clone(n.label));r.add(u),updateLabelShowHide(u,a)}},i.prototype.updatePointerEl=function(r,n,o){var a=inner$2(r).pointerEl;a&&n.pointer&&(a.setStyle(n.pointer.style),o(a,{shape:n.pointer.shape}))},i.prototype.updateLabelEl=function(r,n,o,a){var u=inner$2(r).labelEl;u&&(u.setStyle(n.label.style),o(u,{x:n.label.x,y:n.label.y}),updateLabelShowHide(u,a))},i.prototype._renderHandle=function(r){if(!(this._dragging||!this.updateHandleTransform)){var n=this._axisPointerModel,o=this._api.getZr(),a=this._handle,u=n.getModel("handle"),c=n.get("status");if(!u.get("show")||!c||c==="hide"){a&&o.remove(a),this._handle=null;return}var d;this._handle||(d=!0,a=this._handle=createIcon(u.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(h){stop(h.event)},onmousedown:bind(this._onHandleDragMove,this,0,0),drift:bind(this._onHandleDragMove,this),ondragend:bind(this._onHandleDragEnd,this)}),o.add(a)),updateMandatoryProps(a,n,!1),a.setStyle(u.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));var f=u.get("size");isArray$1(f)||(f=[f,f]),a.scaleX=f[0]/2,a.scaleY=f[1]/2,createOrUpdate(this,"_doDispatchAxisPointer",u.get("throttle")||0,"fixRate"),this._moveHandleToValue(r,d)}},i.prototype._moveHandleToValue=function(r,n){updateProps(this._axisPointerModel,!n&&this._moveAnimation,this._handle,getHandleTransProps(this.getHandleTransform(r,this._axisModel,this._axisPointerModel)))},i.prototype._onHandleDragMove=function(r,n){var o=this._handle;if(o){this._dragging=!0;var a=this.updateHandleTransform(getHandleTransProps(o),[r,n],this._axisModel,this._axisPointerModel);this._payloadInfo=a,o.stopAnimation(),o.attr(getHandleTransProps(a)),inner$2(o).lastProp=null,this._doDispatchAxisPointer()}},i.prototype._doDispatchAxisPointer=function(){var r=this._handle;if(r){var n=this._payloadInfo,o=this._axisModel;this._api.dispatchAction({type:"updateAxisPointer",x:n.cursorPoint[0],y:n.cursorPoint[1],tooltipOption:n.tooltipOption,axesInfo:[{axisDim:o.axis.dim,axisIndex:o.componentIndex}]})}},i.prototype._onHandleDragEnd=function(){this._dragging=!1;var r=this._handle;if(r){var n=this._axisPointerModel.get("value");this._moveHandleToValue(n),this._api.dispatchAction({type:"hideTip"})}},i.prototype.clear=function(r){this._lastValue=null,this._lastStatus=null;var n=r.getZr(),o=this._group,a=this._handle;n&&o&&(this._lastGraphicKey=null,o&&n.remove(o),a&&n.remove(a),this._group=null,this._handle=null,this._payloadInfo=null),clear(this,"_doDispatchAxisPointer")},i.prototype.doClear=function(){},i.prototype.buildLabel=function(r,n,o){return o=o||0,{x:r[o],y:r[1-o],width:n[o],height:n[1-o]}},i}();function updateProps(i,r,n,o){propsEqual(inner$2(n).lastProp,o)||(inner$2(n).lastProp=o,r?updateProps$1(n,o,i):(n.stopAnimation(),n.attr(o)))}function propsEqual(i,r){if(isObject$3(i)&&isObject$3(r)){var n=!0;return each$4(r,function(o,a){n=n&&propsEqual(i[a],o)}),!!n}else return i===r}function updateLabelShowHide(i,r){i[r.get(["label","show"])?"show":"hide"]()}function getHandleTransProps(i){return{x:i.x||0,y:i.y||0,rotation:i.rotation||0}}function updateMandatoryProps(i,r,n){var o=r.get("z"),a=r.get("zlevel");i&&i.traverse(function(u){u.type!=="group"&&(o!=null&&(u.z=o),a!=null&&(u.zlevel=a),u.silent=n)})}const BaseAxisPointer$1=BaseAxisPointer;function buildElStyle(i){var r=i.get("type"),n=i.getModel(r+"Style"),o;return r==="line"?(o=n.getLineStyle(),o.fill=null):r==="shadow"&&(o=n.getAreaStyle(),o.stroke=null),o}function buildLabelElOption(i,r,n,o,a){var u=n.get("value"),c=getValueLabel(u,r.axis,r.ecModel,n.get("seriesDataIndices"),{precision:n.get(["label","precision"]),formatter:n.get(["label","formatter"])}),d=n.getModel("label"),f=normalizeCssArray(d.get("padding")||0),h=d.getFont(),y=getBoundingRect(c,h),g=a.position,p=y.width+f[1]+f[3],v=y.height+f[0]+f[2],_=a.align;_==="right"&&(g[0]-=p),_==="center"&&(g[0]-=p/2);var b=a.verticalAlign;b==="bottom"&&(g[1]-=v),b==="middle"&&(g[1]-=v/2),confineInContainer(g,p,v,o);var A=d.get("backgroundColor");(!A||A==="auto")&&(A=r.get(["axisLine","lineStyle","color"])),i.label={x:g[0],y:g[1],style:createTextStyle(d,{text:c,font:h,fill:d.getTextColor(),padding:f,backgroundColor:A}),z2:10}}function confineInContainer(i,r,n,o){var a=o.getWidth(),u=o.getHeight();i[0]=Math.min(i[0]+r,a)-r,i[1]=Math.min(i[1]+n,u)-n,i[0]=Math.max(i[0],0),i[1]=Math.max(i[1],0)}function getValueLabel(i,r,n,o,a){i=r.scale.parse(i);var u=r.scale.getLabel({value:i},{precision:a.precision}),c=a.formatter;if(c){var d={value:getAxisRawValue(r,{value:i}),axisDimension:r.dim,axisIndex:r.index,seriesData:[]};each$4(o,function(f){var h=n.getSeriesByIndex(f.seriesIndex),y=f.dataIndexInside,g=h&&h.getDataParams(y);g&&d.seriesData.push(g)}),isString$2(c)?u=c.replace("{value}",u):isFunction$1(c)&&(u=c(d))}return u}function getTransformedPosition(i,r,n){var o=create();return rotate(o,o,n.rotation),translate$1(o,o,n.position),applyTransform([i.dataToCoord(r),(n.labelOffset||0)+(n.labelDirection||1)*(n.labelMargin||0)],o)}function buildCartesianSingleLabelElOption(i,r,n,o,a,u){var c=AxisBuilder$1.innerTextLayout(n.rotation,0,n.labelDirection);n.labelMargin=a.get(["label","margin"]),buildLabelElOption(r,o,a,u,{position:getTransformedPosition(o.axis,i,n),align:c.textAlign,verticalAlign:c.textVerticalAlign})}function makeLineShape(i,r,n){return n=n||0,{x1:i[n],y1:i[1-n],x2:r[n],y2:r[1-n]}}function makeRectShape(i,r,n){return n=n||0,{x:i[n],y:i[1-n],width:r[n],height:r[1-n]}}var CartesianAxisPointer=function(i){__extends(r,i);function r(){return i!==null&&i.apply(this,arguments)||this}return r.prototype.makeElOption=function(n,o,a,u,c){var d=a.axis,f=d.grid,h=u.get("type"),y=getCartesian(f,d).getOtherAxis(d).getGlobalExtent(),g=d.toGlobalCoord(d.dataToCoord(o,!0));if(h&&h!=="none"){var p=buildElStyle(u),v=pointerShapeBuilder[h](d,g,y);v.style=p,n.graphicKey=v.type,n.pointer=v}var _=layout(f.model,a);buildCartesianSingleLabelElOption(o,n,_,a,u,c)},r.prototype.getHandleTransform=function(n,o,a){var u=layout(o.axis.grid.model,o,{labelInside:!1});u.labelMargin=a.get(["handle","margin"]);var c=getTransformedPosition(o.axis,n,u);return{x:c[0],y:c[1],rotation:u.rotation+(u.labelDirection<0?Math.PI:0)}},r.prototype.updateHandleTransform=function(n,o,a,u){var c=a.axis,d=c.grid,f=c.getGlobalExtent(!0),h=getCartesian(d,c).getOtherAxis(c).getGlobalExtent(),y=c.dim==="x"?0:1,g=[n.x,n.y];g[y]+=o[y],g[y]=Math.min(f[1],g[y]),g[y]=Math.max(f[0],g[y]);var p=(h[1]+h[0])/2,v=[p,p];v[y]=g[y];var _=[{verticalAlign:"middle"},{align:"center"}];return{x:g[0],y:g[1],rotation:n.rotation,cursorPoint:v,tooltipOption:_[y]}},r}(BaseAxisPointer$1);function getCartesian(i,r){var n={};return n[r.dim+"AxisIndex"]=r.index,i.getCartesian(n)}var pointerShapeBuilder={line:function(i,r,n){var o=makeLineShape([r,n[0]],[r,n[1]],getAxisDimIndex(i));return{type:"Line",subPixelOptimize:!0,shape:o}},shadow:function(i,r,n){var o=Math.max(1,i.getBandWidth()),a=n[1]-n[0];return{type:"Rect",shape:makeRectShape([r-o/2,n[0]],[o,a],getAxisDimIndex(i))}}};function getAxisDimIndex(i){return i.dim==="x"?0:1}const CartesianAxisPointer$1=CartesianAxisPointer;var AxisPointerModel=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n}return r.type="axisPointer",r.defaultOption={show:"auto",z:50,type:"line",snap:!1,triggerTooltip:!0,triggerEmphasis:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#B9BEC9",width:1,type:"dashed"},shadowStyle:{color:"rgba(210,219,238,0.2)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,borderRadius:3},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}},r}(ComponentModel$1);const AxisPointerModel$1=AxisPointerModel;var inner$1=makeInner(),each$1=each$4;function register(i,r,n){if(!env$1.node){var o=r.getZr();inner$1(o).records||(inner$1(o).records={}),initGlobalListeners(o,r);var a=inner$1(o).records[i]||(inner$1(o).records[i]={});a.handler=n}}function initGlobalListeners(i,r){if(inner$1(i).initialized)return;inner$1(i).initialized=!0,n("click",curry$1(doEnter,"click")),n("mousemove",curry$1(doEnter,"mousemove")),n("globalout",onLeave);function n(o,a){i.on(o,function(u){var c=makeDispatchAction$1(r);each$1(inner$1(i).records,function(d){d&&a(d,u,c.dispatchAction)}),dispatchTooltipFinally(c.pendings,r)})}}function dispatchTooltipFinally(i,r){var n=i.showTip.length,o=i.hideTip.length,a;n?a=i.showTip[n-1]:o&&(a=i.hideTip[o-1]),a&&(a.dispatchAction=null,r.dispatchAction(a))}function onLeave(i,r,n){i.handler("leave",null,n)}function doEnter(i,r,n,o){r.handler(i,n,o)}function makeDispatchAction$1(i){var r={showTip:[],hideTip:[]},n=function(o){var a=r[o.type];a?a.push(o):(o.dispatchAction=n,i.dispatchAction(o))};return{dispatchAction:n,pendings:r}}function unregister(i,r){if(!env$1.node){var n=r.getZr(),o=(inner$1(n).records||{})[i];o&&(inner$1(n).records[i]=null)}}var AxisPointerView=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,a){var u=o.getComponent("tooltip"),c=n.get("triggerOn")||u&&u.get("triggerOn")||"mousemove|click";register("axisPointer",a,function(d,f,h){c!=="none"&&(d==="leave"||c.indexOf(d)>=0)&&h({type:"updateAxisPointer",currTrigger:d,x:f&&f.offsetX,y:f&&f.offsetY})})},r.prototype.remove=function(n,o){unregister("axisPointer",o)},r.prototype.dispose=function(n,o){unregister("axisPointer",o)},r.type="axisPointer",r}(ComponentView$1);const AxisPointerView$1=AxisPointerView;function findPointFromSeries(i,r){var n=[],o=i.seriesIndex,a;if(o==null||!(a=r.getSeriesByIndex(o)))return{point:[]};var u=a.getData(),c=queryDataIndex(u,i);if(c==null||c<0||isArray$1(c))return{point:[]};var d=u.getItemGraphicEl(c),f=a.coordinateSystem;if(a.getTooltipPosition)n=a.getTooltipPosition(c)||[];else if(f&&f.dataToPoint)if(i.isStacked){var h=f.getBaseAxis(),y=f.getOtherAxis(h),g=y.dim,p=h.dim,v=g==="x"||g==="radius"?1:0,_=u.mapDimension(p),b=[];b[v]=u.get(_,c),b[1-v]=u.get(u.getCalculationInfo("stackResultDimension"),c),n=f.dataToPoint(b)||[]}else n=f.dataToPoint(u.getValues(map$1(f.dimensions,function(w){return u.mapDimension(w)}),c))||[];else if(d){var A=d.getBoundingRect().clone();A.applyTransform(d.transform),n=[A.x+A.width/2,A.y+A.height/2]}return{point:n,el:d}}var inner=makeInner();function axisTrigger(i,r,n){var o=i.currTrigger,a=[i.x,i.y],u=i,c=i.dispatchAction||bind$1(n.dispatchAction,n),d=r.getComponent("axisPointer").coordSysAxesInfo;if(d){illegalPoint(a)&&(a=findPointFromSeries({seriesIndex:u.seriesIndex,dataIndex:u.dataIndex},r).point);var f=illegalPoint(a),h=u.axesInfo,y=d.axesInfo,g=o==="leave"||illegalPoint(a),p={},v={},_={list:[],map:{}},b={showPointer:curry$1(showPointer,v),showTooltip:curry$1(showTooltip,_)};each$4(d.coordSysMap,function(w,S){var T=f||w.containPoint(a);each$4(d.coordSysAxesInfo[S],function(x,M){var L=x.axis,k=findInputAxisInfo(h,x);if(!g&&T&&(!h||k)){var ie=k&&k.value;ie==null&&!f&&(ie=L.pointToData(a)),ie!=null&&processOnAxis(x,ie,b,!1,p)}})});var A={};return each$4(y,function(w,S){var T=w.linkGroup;T&&!v[S]&&each$4(T.axesInfo,function(x,M){var L=v[M];if(x!==w&&L){var k=L.value;T.mapper&&(k=w.axis.scale.parse(T.mapper(k,makeMapperParam(x),makeMapperParam(w)))),A[w.key]=k}})}),each$4(A,function(w,S){processOnAxis(y[S],w,b,!0,p)}),updateModelActually(v,y,p),dispatchTooltipActually(_,a,i,c),dispatchHighDownActually(y,c,n),p}}function processOnAxis(i,r,n,o,a){var u=i.axis;if(!(u.scale.isBlank()||!u.containData(r))){if(!i.involveSeries){n.showPointer(i,r);return}var c=buildPayloadsBySeries(r,i),d=c.payloadBatch,f=c.snapToValue;d[0]&&a.seriesIndex==null&&extend(a,d[0]),!o&&i.snap&&u.containData(f)&&f!=null&&(r=f),n.showPointer(i,r,d),n.showTooltip(i,c,f)}}function buildPayloadsBySeries(i,r){var n=r.axis,o=n.dim,a=i,u=[],c=Number.MAX_VALUE,d=-1;return each$4(r.seriesModels,function(f,h){var y=f.getData().mapDimensionsAll(o),g,p;if(f.getAxisTooltipData){var v=f.getAxisTooltipData(y,i,n);p=v.dataIndices,g=v.nestestValue}else{if(p=f.getData().indicesOfNearest(y[0],i,n.type==="category"?.5:null),!p.length)return;g=f.getData().get(y[0],p[0])}if(!(g==null||!isFinite(g))){var _=i-g,b=Math.abs(_);b<=c&&((b<c||_>=0&&d<0)&&(c=b,d=_,a=g,u.length=0),each$4(p,function(A){u.push({seriesIndex:f.seriesIndex,dataIndexInside:A,dataIndex:f.getData().getRawIndex(A)})}))}}),{payloadBatch:u,snapToValue:a}}function showPointer(i,r,n,o){i[r.key]={value:n,payloadBatch:o}}function showTooltip(i,r,n,o){var a=n.payloadBatch,u=r.axis,c=u.model,d=r.axisPointerModel;if(!(!r.triggerTooltip||!a.length)){var f=r.coordSys.model,h=makeKey(f),y=i.map[h];y||(y=i.map[h]={coordSysId:f.id,coordSysIndex:f.componentIndex,coordSysType:f.type,coordSysMainType:f.mainType,dataByAxis:[]},i.list.push(y)),y.dataByAxis.push({axisDim:u.dim,axisIndex:c.componentIndex,axisType:c.type,axisId:c.id,value:o,valueLabelOpt:{precision:d.get(["label","precision"]),formatter:d.get(["label","formatter"])},seriesDataIndices:a.slice()})}}function updateModelActually(i,r,n){var o=n.axesInfo=[];each$4(r,function(a,u){var c=a.axisPointerModel.option,d=i[u];d?(!a.useHandle&&(c.status="show"),c.value=d.value,c.seriesDataIndices=(d.payloadBatch||[]).slice()):!a.useHandle&&(c.status="hide"),c.status==="show"&&o.push({axisDim:a.axis.dim,axisIndex:a.axis.model.componentIndex,value:c.value})})}function dispatchTooltipActually(i,r,n,o){if(illegalPoint(r)||!i.list.length){o({type:"hideTip"});return}var a=((i.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};o({type:"showTip",escapeConnect:!0,x:r[0],y:r[1],tooltipOption:n.tooltipOption,position:n.position,dataIndexInside:a.dataIndexInside,dataIndex:a.dataIndex,seriesIndex:a.seriesIndex,dataByCoordSys:i.list})}function dispatchHighDownActually(i,r,n){var o=n.getZr(),a="axisPointerLastHighlights",u=inner(o)[a]||{},c=inner(o)[a]={};each$4(i,function(h,y){var g=h.axisPointerModel.option;g.status==="show"&&h.triggerEmphasis&&each$4(g.seriesDataIndices,function(p){var v=p.seriesIndex+" | "+p.dataIndex;c[v]=p})});var d=[],f=[];each$4(u,function(h,y){!c[y]&&f.push(h)}),each$4(c,function(h,y){!u[y]&&d.push(h)}),f.length&&n.dispatchAction({type:"downplay",escapeConnect:!0,notBlur:!0,batch:f}),d.length&&n.dispatchAction({type:"highlight",escapeConnect:!0,notBlur:!0,batch:d})}function findInputAxisInfo(i,r){for(var n=0;n<(i||[]).length;n++){var o=i[n];if(r.axis.dim===o.axisDim&&r.axis.model.componentIndex===o.axisIndex)return o}}function makeMapperParam(i){var r=i.axis.model,n={},o=n.axisDim=i.axis.dim;return n.axisIndex=n[o+"AxisIndex"]=r.componentIndex,n.axisName=n[o+"AxisName"]=r.name,n.axisId=n[o+"AxisId"]=r.id,n}function illegalPoint(i){return!i||i[0]==null||isNaN(i[0])||i[1]==null||isNaN(i[1])}function install$5(i){AxisView$1.registerAxisPointerClass("CartesianAxisPointer",CartesianAxisPointer$1),i.registerComponentModel(AxisPointerModel$1),i.registerComponentView(AxisPointerView$1),i.registerPreprocessor(function(r){if(r){(!r.axisPointer||r.axisPointer.length===0)&&(r.axisPointer={});var n=r.axisPointer.link;n&&!isArray$1(n)&&(r.axisPointer.link=[n])}}),i.registerProcessor(i.PRIORITY.PROCESSOR.STATISTIC,function(r,n){r.getComponent("axisPointer").coordSysAxesInfo=collect(r,n)}),i.registerAction({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},axisTrigger)}function makeBackground(i,r){var n=normalizeCssArray(r.get("padding")),o=r.getItemStyle(["color","opacity"]);return o.fill=r.get("backgroundColor"),i=new Rect$1({shape:{x:i.x-n[3],y:i.y-n[0],width:i.width+n[1]+n[3],height:i.height+n[0]+n[2],r:r.get("borderRadius")},style:o,silent:!0,z2:-1}),i}var TooltipModel=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n}return r.type="tooltip",r.dependencies=["axisPointer"],r.defaultOption={z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:null,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"#fff",shadowBlur:10,shadowColor:"rgba(0, 0, 0, .2)",shadowOffsetX:1,shadowOffsetY:2,borderRadius:4,borderWidth:1,padding:null,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#666",fontSize:14}},r}(ComponentModel$1);const TooltipModel$1=TooltipModel;function shouldTooltipConfine(i){var r=i.get("confine");return r!=null?!!r:i.get("renderMode")==="richText"}function testStyle(i){if(env$1.domSupported){for(var r=document.documentElement.style,n=0,o=i.length;n<o;n++)if(i[n]in r)return i[n]}}var TRANSFORM_VENDOR=testStyle(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),TRANSITION_VENDOR=testStyle(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);function toCSSVendorPrefix(i,r){if(!i)return r;r=toCamelCase(r,!0);var n=i.indexOf(r);return i=n===-1?r:"-"+i.slice(0,n)+"-"+r,i.toLowerCase()}function getComputedStyle$1(i,r){var n=i.currentStyle||document.defaultView&&document.defaultView.getComputedStyle(i);return n?r?n[r]:n:null}var CSS_TRANSITION_VENDOR=toCSSVendorPrefix(TRANSITION_VENDOR,"transition"),CSS_TRANSFORM_VENDOR=toCSSVendorPrefix(TRANSFORM_VENDOR,"transform"),gCssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+(env$1.transform3dSupported?"will-change:transform;":"");function mirrorPos(i){return i=i==="left"?"right":i==="right"?"left":i==="top"?"bottom":"top",i}function assembleArrow(i,r,n){if(!isString$2(n)||n==="inside")return"";var o=i.get("backgroundColor"),a=i.get("borderWidth");r=convertToColorString(r);var u=mirrorPos(n),c=Math.max(Math.round(a)*1.5,6),d="",f=CSS_TRANSFORM_VENDOR+":",h;indexOf(["left","right"],u)>-1?(d+="top:50%",f+="translateY(-50%) rotate("+(h=u==="left"?-225:-45)+"deg)"):(d+="left:50%",f+="translateX(-50%) rotate("+(h=u==="top"?225:45)+"deg)");var y=h*Math.PI/180,g=c+a,p=g*Math.abs(Math.cos(y))+g*Math.abs(Math.sin(y)),v=Math.round(((p-Math.SQRT2*a)/2+Math.SQRT2*a-(p-g)/2)*100)/100;d+=";"+u+":-"+v+"px";var _=r+" solid "+a+"px;",b=["position:absolute;width:"+c+"px;height:"+c+"px;z-index:-1;",d+";"+f+";","border-bottom:"+_,"border-right:"+_,"background-color:"+o+";"];return'<div style="'+b.join("")+'"></div>'}function assembleTransition(i,r){var n="cubic-bezier(0.23,1,0.32,1)",o=" "+i/2+"s "+n,a="opacity"+o+",visibility"+o;return r||(o=" "+i+"s "+n,a+=env$1.transformSupported?","+CSS_TRANSFORM_VENDOR+o:",left"+o+",top"+o),CSS_TRANSITION_VENDOR+":"+a}function assembleTransform(i,r,n){var o=i.toFixed(0)+"px",a=r.toFixed(0)+"px";if(!env$1.transformSupported)return n?"top:"+a+";left:"+o+";":[["top",a],["left",o]];var u=env$1.transform3dSupported,c="translate"+(u?"3d":"")+"("+o+","+a+(u?",0":"")+")";return n?"top:0;left:0;"+CSS_TRANSFORM_VENDOR+":"+c+";":[["top",0],["left",0],[TRANSFORM_VENDOR,c]]}function assembleFont(i){var r=[],n=i.get("fontSize"),o=i.getTextColor();o&&r.push("color:"+o),r.push("font:"+i.getFont()),n&&r.push("line-height:"+Math.round(n*3/2)+"px");var a=i.get("textShadowColor"),u=i.get("textShadowBlur")||0,c=i.get("textShadowOffsetX")||0,d=i.get("textShadowOffsetY")||0;return a&&u&&r.push("text-shadow:"+c+"px "+d+"px "+u+"px "+a),each$4(["decoration","align"],function(f){var h=i.get(f);h&&r.push("text-"+f+":"+h)}),r.join(";")}function assembleCssText(i,r,n){var o=[],a=i.get("transitionDuration"),u=i.get("backgroundColor"),c=i.get("shadowBlur"),d=i.get("shadowColor"),f=i.get("shadowOffsetX"),h=i.get("shadowOffsetY"),y=i.getModel("textStyle"),g=getPaddingFromTooltipModel(i,"html"),p=f+"px "+h+"px "+c+"px "+d;return o.push("box-shadow:"+p),r&&a&&o.push(assembleTransition(a,n)),u&&o.push("background-color:"+u),each$4(["width","color","radius"],function(v){var _="border-"+v,b=toCamelCase(_),A=i.get(b);A!=null&&o.push(_+":"+A+(v==="color"?"":"px"))}),o.push(assembleFont(y)),g!=null&&o.push("padding:"+normalizeCssArray(g).join("px ")+"px"),o.join(";")+";"}function makeStyleCoord$1(i,r,n,o,a){var u=r&&r.painter;if(n){var c=u&&u.getViewportRoot();c&&transformLocalCoord(i,c,n,o,a)}else{i[0]=o,i[1]=a;var d=u&&u.getViewportRootOffset();d&&(i[0]+=d.offsetLeft,i[1]+=d.offsetTop)}i[2]=i[0]/r.getWidth(),i[3]=i[1]/r.getHeight()}var TooltipHTMLContent=function(){function i(r,n){if(this._show=!1,this._styleCoord=[0,0,0,0],this._enterable=!0,this._alwaysShowContent=!1,this._firstShow=!0,this._longHide=!0,env$1.wxa)return null;var o=document.createElement("div");o.domBelongToZr=!0,this.el=o;var a=this._zr=r.getZr(),u=n.appendTo,c=u&&(isString$2(u)?document.querySelector(u):isDom(u)?u:isFunction$1(u)&&u(r.getDom()));makeStyleCoord$1(this._styleCoord,a,c,r.getWidth()/2,r.getHeight()/2),(c||r.getDom()).appendChild(o),this._api=r,this._container=c;var d=this;o.onmouseenter=function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0},o.onmousemove=function(f){if(f=f||window.event,!d._enterable){var h=a.handler,y=a.painter.getViewportRoot();normalizeEvent(y,f,!0),h.dispatch("mousemove",f)}},o.onmouseleave=function(){d._inContent=!1,d._enterable&&d._show&&d.hideLater(d._hideDelay)}}return i.prototype.update=function(r){if(!this._container){var n=this._api.getDom(),o=getComputedStyle$1(n,"position"),a=n.style;a.position!=="absolute"&&o!=="absolute"&&(a.position="relative")}var u=r.get("alwaysShowContent");u&&this._moveIfResized(),this._alwaysShowContent=u,this.el.className=r.get("className")||""},i.prototype.show=function(r,n){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var o=this.el,a=o.style,u=this._styleCoord;o.innerHTML?a.cssText=gCssText+assembleCssText(r,!this._firstShow,this._longHide)+assembleTransform(u[0],u[1],!0)+("border-color:"+convertToColorString(n)+";")+(r.get("extraCssText")||"")+(";pointer-events:"+(this._enterable?"auto":"none")):a.display="none",this._show=!0,this._firstShow=!1,this._longHide=!1},i.prototype.setContent=function(r,n,o,a,u){var c=this.el;if(r==null){c.innerHTML="";return}var d="";if(isString$2(u)&&o.get("trigger")==="item"&&!shouldTooltipConfine(o)&&(d=assembleArrow(o,a,u)),isString$2(r))c.innerHTML=r+d;else if(r){c.innerHTML="",isArray$1(r)||(r=[r]);for(var f=0;f<r.length;f++)isDom(r[f])&&r[f].parentNode!==c&&c.appendChild(r[f]);if(d&&c.childNodes.length){var h=document.createElement("div");h.innerHTML=d,c.appendChild(h)}}},i.prototype.setEnterable=function(r){this._enterable=r},i.prototype.getSize=function(){var r=this.el;return[r.offsetWidth,r.offsetHeight]},i.prototype.moveTo=function(r,n){var o=this._styleCoord;if(makeStyleCoord$1(o,this._zr,this._container,r,n),o[0]!=null&&o[1]!=null){var a=this.el.style,u=assembleTransform(o[0],o[1]);each$4(u,function(c){a[c[0]]=c[1]})}},i.prototype._moveIfResized=function(){var r=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),n*this._zr.getHeight())},i.prototype.hide=function(){var r=this,n=this.el.style;n.visibility="hidden",n.opacity="0",env$1.transform3dSupported&&(n.willChange=""),this._show=!1,this._longHideTimeout=setTimeout(function(){return r._longHide=!0},500)},i.prototype.hideLater=function(r){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),r)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){clearTimeout(this._hideTimeout),clearTimeout(this._longHideTimeout);var r=this.el.parentNode;r&&r.removeChild(this.el),this.el=this._container=null},i}();const TooltipHTMLContent$1=TooltipHTMLContent;var TooltipRichContent=function(){function i(r){this._show=!1,this._styleCoord=[0,0,0,0],this._alwaysShowContent=!1,this._enterable=!0,this._zr=r.getZr(),makeStyleCoord(this._styleCoord,this._zr,r.getWidth()/2,r.getHeight()/2)}return i.prototype.update=function(r){var n=r.get("alwaysShowContent");n&&this._moveIfResized(),this._alwaysShowContent=n},i.prototype.show=function(){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.show(),this._show=!0},i.prototype.setContent=function(r,n,o,a,u){var c=this;isObject$3(r)&&throwError$1(process.env.NODE_ENV!=="production"?"Passing DOM nodes as content is not supported in richText tooltip!":""),this.el&&this._zr.remove(this.el);var d=o.getModel("textStyle");this.el=new ZRText$1({style:{rich:n.richTextStyles,text:r,lineHeight:22,borderWidth:1,borderColor:a,textShadowColor:d.get("textShadowColor"),fill:o.get(["textStyle","color"]),padding:getPaddingFromTooltipModel(o,"richText"),verticalAlign:"top",align:"left"},z:o.get("z")}),each$4(["backgroundColor","borderRadius","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"],function(h){c.el.style[h]=o.get(h)}),each$4(["textShadowBlur","textShadowOffsetX","textShadowOffsetY"],function(h){c.el.style[h]=d.get(h)||0}),this._zr.add(this.el);var f=this;this.el.on("mouseover",function(){f._enterable&&(clearTimeout(f._hideTimeout),f._show=!0),f._inContent=!0}),this.el.on("mouseout",function(){f._enterable&&f._show&&f.hideLater(f._hideDelay),f._inContent=!1})},i.prototype.setEnterable=function(r){this._enterable=r},i.prototype.getSize=function(){var r=this.el,n=this.el.getBoundingRect(),o=calcShadowOuterSize(r.style);return[n.width+o.left+o.right,n.height+o.top+o.bottom]},i.prototype.moveTo=function(r,n){var o=this.el;if(o){var a=this._styleCoord;makeStyleCoord(a,this._zr,r,n),r=a[0],n=a[1];var u=o.style,c=mathMaxWith0(u.borderWidth||0),d=calcShadowOuterSize(u);o.x=r+c+d.left,o.y=n+c+d.top,o.markRedraw()}},i.prototype._moveIfResized=function(){var r=this._styleCoord[2],n=this._styleCoord[3];this.moveTo(r*this._zr.getWidth(),n*this._zr.getHeight())},i.prototype.hide=function(){this.el&&this.el.hide(),this._show=!1},i.prototype.hideLater=function(r){this._show&&!(this._inContent&&this._enterable)&&!this._alwaysShowContent&&(r?(this._hideDelay=r,this._show=!1,this._hideTimeout=setTimeout(bind$1(this.hide,this),r)):this.hide())},i.prototype.isShow=function(){return this._show},i.prototype.dispose=function(){this._zr.remove(this.el)},i}();function mathMaxWith0(i){return Math.max(0,i)}function calcShadowOuterSize(i){var r=mathMaxWith0(i.shadowBlur||0),n=mathMaxWith0(i.shadowOffsetX||0),o=mathMaxWith0(i.shadowOffsetY||0);return{left:mathMaxWith0(r-n),right:mathMaxWith0(r+n),top:mathMaxWith0(r-o),bottom:mathMaxWith0(r+o)}}function makeStyleCoord(i,r,n,o){i[0]=n,i[1]=o,i[2]=i[0]/r.getWidth(),i[3]=i[1]/r.getHeight()}const TooltipRichContent$1=TooltipRichContent;var proxyRect=new Rect$1({shape:{x:-1,y:-1,width:2,height:2}}),TooltipView=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.init=function(n,o){if(!(env$1.node||!o.getDom())){var a=n.getComponent("tooltip"),u=this._renderMode=getTooltipRenderMode(a.get("renderMode"));this._tooltipContent=u==="richText"?new TooltipRichContent$1(o):new TooltipHTMLContent$1(o,{appendTo:a.get("appendToBody",!0)?"body":a.get("appendTo",!0)})}},r.prototype.render=function(n,o,a){if(!(env$1.node||!a.getDom())){this.group.removeAll(),this._tooltipModel=n,this._ecModel=o,this._api=a;var u=this._tooltipContent;u.update(n),u.setEnterable(n.get("enterable")),this._initGlobalListener(),this._keepShow(),this._renderMode!=="richText"&&n.get("transitionDuration")?createOrUpdate(this,"_updatePosition",50,"fixRate"):clear(this,"_updatePosition")}},r.prototype._initGlobalListener=function(){var n=this._tooltipModel,o=n.get("triggerOn");register("itemTooltip",this._api,bind$1(function(a,u,c){o!=="none"&&(o.indexOf(a)>=0?this._tryShow(u,c):a==="leave"&&this._hide(c))},this))},r.prototype._keepShow=function(){var n=this._tooltipModel,o=this._ecModel,a=this._api,u=n.get("triggerOn");if(this._lastX!=null&&this._lastY!=null&&u!=="none"&&u!=="click"){var c=this;clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){!a.isDisposed()&&c.manuallyShowTip(n,o,a,{x:c._lastX,y:c._lastY,dataByCoordSys:c._lastDataByCoordSys})})}},r.prototype.manuallyShowTip=function(n,o,a,u){if(!(u.from===this.uid||env$1.node||!a.getDom())){var c=makeDispatchAction(u,a);this._ticket="";var d=u.dataByCoordSys,f=findComponentReference(u,o,a);if(f){var h=f.el.getBoundingRect().clone();h.applyTransform(f.el.transform),this._tryShow({offsetX:h.x+h.width/2,offsetY:h.y+h.height/2,target:f.el,position:u.position,positionDefault:"bottom"},c)}else if(u.tooltip&&u.x!=null&&u.y!=null){var y=proxyRect;y.x=u.x,y.y=u.y,y.update(),getECData(y).tooltipConfig={name:null,option:u.tooltip},this._tryShow({offsetX:u.x,offsetY:u.y,target:y},c)}else if(d)this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,dataByCoordSys:d,tooltipOption:u.tooltipOption},c);else if(u.seriesIndex!=null){if(this._manuallyAxisShowTip(n,o,a,u))return;var g=findPointFromSeries(u,o),p=g.point[0],v=g.point[1];p!=null&&v!=null&&this._tryShow({offsetX:p,offsetY:v,target:g.el,position:u.position,positionDefault:"bottom"},c)}else u.x!=null&&u.y!=null&&(a.dispatchAction({type:"updateAxisPointer",x:u.x,y:u.y}),this._tryShow({offsetX:u.x,offsetY:u.y,position:u.position,target:a.getZr().findHover(u.x,u.y).target},c))}},r.prototype.manuallyHideTip=function(n,o,a,u){var c=this._tooltipContent;this._tooltipModel&&c.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=this._lastDataByCoordSys=null,u.from!==this.uid&&this._hide(makeDispatchAction(u,a))},r.prototype._manuallyAxisShowTip=function(n,o,a,u){var c=u.seriesIndex,d=u.dataIndex,f=o.getComponent("axisPointer").coordSysAxesInfo;if(!(c==null||d==null||f==null)){var h=o.getSeriesByIndex(c);if(h){var y=h.getData(),g=buildTooltipModel([y.getItemModel(d),h,(h.coordinateSystem||{}).model],this._tooltipModel);if(g.get("trigger")==="axis")return a.dispatchAction({type:"updateAxisPointer",seriesIndex:c,dataIndex:d,position:u.position}),!0}}},r.prototype._tryShow=function(n,o){var a=n.target,u=this._tooltipModel;if(u){this._lastX=n.offsetX,this._lastY=n.offsetY;var c=n.dataByCoordSys;if(c&&c.length)this._showAxisTooltip(c,n);else if(a){var d=getECData(a);if(d.ssrType==="legend")return;this._lastDataByCoordSys=null;var f,h;findEventDispatcher(a,function(y){if(getECData(y).dataIndex!=null)return f=y,!0;if(getECData(y).tooltipConfig!=null)return h=y,!0},!0),f?this._showSeriesItemTooltip(n,f,o):h?this._showComponentItemTooltip(n,h,o):this._hide(o)}else this._lastDataByCoordSys=null,this._hide(o)}},r.prototype._showOrMove=function(n,o){var a=n.get("showDelay");o=bind$1(o,this),clearTimeout(this._showTimout),a>0?this._showTimout=setTimeout(o,a):o()},r.prototype._showAxisTooltip=function(n,o){var a=this._ecModel,u=this._tooltipModel,c=[o.offsetX,o.offsetY],d=buildTooltipModel([o.tooltipOption],u),f=this._renderMode,h=[],y=createTooltipMarkup("section",{blocks:[],noHeader:!0}),g=[],p=new TooltipMarkupStyleCreator;each$4(n,function(S){each$4(S.dataByAxis,function(T){var x=a.getComponent(T.axisDim+"Axis",T.axisIndex),M=T.value;if(!(!x||M==null)){var L=getValueLabel(M,x.axis,a,T.seriesDataIndices,T.valueLabelOpt),k=createTooltipMarkup("section",{header:L,noHeader:!trim(L),sortBlocks:!0,blocks:[]});y.blocks.push(k),each$4(T.seriesDataIndices,function(ie){var $=a.getSeriesByIndex(ie.seriesIndex),z=ie.dataIndexInside,V=$.getDataParams(z);if(!(V.dataIndex<0)){V.axisDim=T.axisDim,V.axisIndex=T.axisIndex,V.axisType=T.axisType,V.axisId=T.axisId,V.axisValue=getAxisRawValue(x.axis,{value:M}),V.axisValueLabel=L,V.marker=p.makeTooltipMarker("item",convertToColorString(V.color),f);var re=normalizeTooltipFormatResult($.formatTooltip(z,!0,null)),D=re.frag;if(D){var Ce=buildTooltipModel([$],u).get("valueFormatter");k.blocks.push(Ce?extend({valueFormatter:Ce},D):D)}re.text&&g.push(re.text),h.push(V)}})}})}),y.blocks.reverse(),g.reverse();var v=o.position,_=d.get("order"),b=buildTooltipMarkup(y,p,f,_,a.get("useUTC"),d.get("textStyle"));b&&g.unshift(b);var A=f==="richText"?`

`:"<br/>",w=g.join(A);this._showOrMove(d,function(){this._updateContentNotChangedOnAxis(n,h)?this._updatePosition(d,v,c[0],c[1],this._tooltipContent,h):this._showTooltipContent(d,w,h,Math.random()+"",c[0],c[1],v,null,p)})},r.prototype._showSeriesItemTooltip=function(n,o,a){var u=this._ecModel,c=getECData(o),d=c.seriesIndex,f=u.getSeriesByIndex(d),h=c.dataModel||f,y=c.dataIndex,g=c.dataType,p=h.getData(g),v=this._renderMode,_=n.positionDefault,b=buildTooltipModel([p.getItemModel(y),h,f&&(f.coordinateSystem||{}).model],this._tooltipModel,_?{position:_}:null),A=b.get("trigger");if(!(A!=null&&A!=="item")){var w=h.getDataParams(y,g),S=new TooltipMarkupStyleCreator;w.marker=S.makeTooltipMarker("item",convertToColorString(w.color),v);var T=normalizeTooltipFormatResult(h.formatTooltip(y,!1,g)),x=b.get("order"),M=b.get("valueFormatter"),L=T.frag,k=L?buildTooltipMarkup(M?extend({valueFormatter:M},L):L,S,v,x,u.get("useUTC"),b.get("textStyle")):T.text,ie="item_"+h.name+"_"+y;this._showOrMove(b,function(){this._showTooltipContent(b,k,w,ie,n.offsetX,n.offsetY,n.position,n.target,S)}),a({type:"showTip",dataIndexInside:y,dataIndex:p.getRawIndex(y),seriesIndex:d,from:this.uid})}},r.prototype._showComponentItemTooltip=function(n,o,a){var u=this._renderMode==="html",c=getECData(o),d=c.tooltipConfig,f=d.option||{},h=f.encodeHTMLContent;if(isString$2(f)){var y=f;f={content:y,formatter:y},h=!0}h&&u&&f.content&&(f=clone$2(f),f.content=encodeHTML(f.content));var g=[f],p=this._ecModel.getComponent(c.componentMainType,c.componentIndex);p&&g.push(p),g.push({formatter:f.content});var v=n.positionDefault,_=buildTooltipModel(g,this._tooltipModel,v?{position:v}:null),b=_.get("content"),A=Math.random()+"",w=new TooltipMarkupStyleCreator;this._showOrMove(_,function(){var S=clone$2(_.get("formatterParams")||{});this._showTooltipContent(_,b,S,A,n.offsetX,n.offsetY,n.position,o,w)}),a({type:"showTip",from:this.uid})},r.prototype._showTooltipContent=function(n,o,a,u,c,d,f,h,y){if(this._ticket="",!(!n.get("showContent")||!n.get("show"))){var g=this._tooltipContent;g.setEnterable(n.get("enterable"));var p=n.get("formatter");f=f||n.get("position");var v=o,_=this._getNearestPoint([c,d],a,n.get("trigger"),n.get("borderColor")),b=_.color;if(p)if(isString$2(p)){var A=n.ecModel.get("useUTC"),w=isArray$1(a)?a[0]:a,S=w&&w.axisType&&w.axisType.indexOf("time")>=0;v=p,S&&(v=format$1(w.axisValue,v,A)),v=formatTpl(v,a,!0)}else if(isFunction$1(p)){var T=bind$1(function(x,M){x===this._ticket&&(g.setContent(M,y,n,b,f),this._updatePosition(n,f,c,d,g,a,h))},this);this._ticket=u,v=p(a,u,T)}else v=p;g.setContent(v,y,n,b,f),g.show(n,b),this._updatePosition(n,f,c,d,g,a,h)}},r.prototype._getNearestPoint=function(n,o,a,u){if(a==="axis"||isArray$1(o))return{color:u||(this._renderMode==="html"?"#fff":"none")};if(!isArray$1(o))return{color:u||o.color||o.borderColor}},r.prototype._updatePosition=function(n,o,a,u,c,d,f){var h=this._api.getWidth(),y=this._api.getHeight();o=o||n.get("position");var g=c.getSize(),p=n.get("align"),v=n.get("verticalAlign"),_=f&&f.getBoundingRect().clone();if(f&&_.applyTransform(f.transform),isFunction$1(o)&&(o=o([a,u],d,c.el,_,{viewSize:[h,y],contentSize:g.slice()})),isArray$1(o))a=parsePercent(o[0],h),u=parsePercent(o[1],y);else if(isObject$3(o)){var b=o;b.width=g[0],b.height=g[1];var A=getLayoutRect(b,{width:h,height:y});a=A.x,u=A.y,p=null,v=null}else if(isString$2(o)&&f){var w=calcTooltipPosition(o,_,g,n.get("borderWidth"));a=w[0],u=w[1]}else{var w=refixTooltipPosition(a,u,c,h,y,p?null:20,v?null:20);a=w[0],u=w[1]}if(p&&(a-=isCenterAlign(p)?g[0]/2:p==="right"?g[0]:0),v&&(u-=isCenterAlign(v)?g[1]/2:v==="bottom"?g[1]:0),shouldTooltipConfine(n)){var w=confineTooltipPosition(a,u,c,h,y);a=w[0],u=w[1]}c.moveTo(a,u)},r.prototype._updateContentNotChangedOnAxis=function(n,o){var a=this._lastDataByCoordSys,u=this._cbParamsList,c=!!a&&a.length===n.length;return c&&each$4(a,function(d,f){var h=d.dataByAxis||[],y=n[f]||{},g=y.dataByAxis||[];c=c&&h.length===g.length,c&&each$4(h,function(p,v){var _=g[v]||{},b=p.seriesDataIndices||[],A=_.seriesDataIndices||[];c=c&&p.value===_.value&&p.axisType===_.axisType&&p.axisId===_.axisId&&b.length===A.length,c&&each$4(b,function(w,S){var T=A[S];c=c&&w.seriesIndex===T.seriesIndex&&w.dataIndex===T.dataIndex}),u&&each$4(p.seriesDataIndices,function(w){var S=w.seriesIndex,T=o[S],x=u[S];T&&x&&x.data!==T.data&&(c=!1)})})}),this._lastDataByCoordSys=n,this._cbParamsList=o,!!c},r.prototype._hide=function(n){this._lastDataByCoordSys=null,n({type:"hideTip",from:this.uid})},r.prototype.dispose=function(n,o){env$1.node||!o.getDom()||(clear(this,"_updatePosition"),this._tooltipContent.dispose(),unregister("itemTooltip",o))},r.type="tooltip",r}(ComponentView$1);function buildTooltipModel(i,r,n){var o=r.ecModel,a;n?(a=new Model$1(n,o,o),a=new Model$1(r.option,a,o)):a=r;for(var u=i.length-1;u>=0;u--){var c=i[u];c&&(c instanceof Model$1&&(c=c.get("tooltip",!0)),isString$2(c)&&(c={formatter:c}),c&&(a=new Model$1(c,a,o)))}return a}function makeDispatchAction(i,r){return i.dispatchAction||bind$1(r.dispatchAction,r)}function refixTooltipPosition(i,r,n,o,a,u,c){var d=n.getSize(),f=d[0],h=d[1];return u!=null&&(i+f+u+2>o?i-=f+u:i+=u),c!=null&&(r+h+c>a?r-=h+c:r+=c),[i,r]}function confineTooltipPosition(i,r,n,o,a){var u=n.getSize(),c=u[0],d=u[1];return i=Math.min(i+c,o)-c,r=Math.min(r+d,a)-d,i=Math.max(i,0),r=Math.max(r,0),[i,r]}function calcTooltipPosition(i,r,n,o){var a=n[0],u=n[1],c=Math.ceil(Math.SQRT2*o)+8,d=0,f=0,h=r.width,y=r.height;switch(i){case"inside":d=r.x+h/2-a/2,f=r.y+y/2-u/2;break;case"top":d=r.x+h/2-a/2,f=r.y-u-c;break;case"bottom":d=r.x+h/2-a/2,f=r.y+y+c;break;case"left":d=r.x-a-c,f=r.y+y/2-u/2;break;case"right":d=r.x+h+c,f=r.y+y/2-u/2}return[d,f]}function isCenterAlign(i){return i==="center"||i==="middle"}function findComponentReference(i,r,n){var o=preParseFinder(i).queryOptionMap,a=o.keys()[0];if(!(!a||a==="series")){var u=queryReferringComponents(r,a,o.get(a),{useDefault:!1,enableAll:!1,enableNone:!1}),c=u.models[0];if(c){var d=n.getViewOfComponentModel(c),f;if(d.group.traverse(function(h){var y=getECData(h).tooltipConfig;if(y&&y.name===i.name)return f=h,!0}),f)return{componentMainType:a,componentIndex:c.componentIndex,el:f}}}}const TooltipView$1=TooltipView;function install$4(i){use(install$5),i.registerComponentModel(TooltipModel$1),i.registerComponentView(TooltipView$1),i.registerAction({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},noop$1),i.registerAction({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},noop$1)}var TitleModel=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n.layoutMode={type:"box",ignoreSize:!0},n}return r.type="title",r.defaultOption={z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bold",color:"#464646"},subtextStyle:{fontSize:12,color:"#6E7079"}},r}(ComponentModel$1),TitleView=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.render=function(n,o,a){if(this.group.removeAll(),!!n.get("show")){var u=this.group,c=n.getModel("textStyle"),d=n.getModel("subtextStyle"),f=n.get("textAlign"),h=retrieve2(n.get("textBaseline"),n.get("textVerticalAlign")),y=new ZRText$1({style:createTextStyle(c,{text:n.get("text"),fill:c.getTextColor()},{disableBox:!0}),z2:10}),g=y.getBoundingRect(),p=n.get("subtext"),v=new ZRText$1({style:createTextStyle(d,{text:p,fill:d.getTextColor(),y:g.height+n.get("itemGap"),verticalAlign:"top"},{disableBox:!0}),z2:10}),_=n.get("link"),b=n.get("sublink"),A=n.get("triggerEvent",!0);y.silent=!_&&!A,v.silent=!b&&!A,_&&y.on("click",function(){windowOpen(_,"_"+n.get("target"))}),b&&v.on("click",function(){windowOpen(b,"_"+n.get("subtarget"))}),getECData(y).eventData=getECData(v).eventData=A?{componentType:"title",componentIndex:n.componentIndex}:null,u.add(y),p&&u.add(v);var w=u.getBoundingRect(),S=n.getBoxLayoutParams();S.width=w.width,S.height=w.height;var T=getLayoutRect(S,{width:a.getWidth(),height:a.getHeight()},n.get("padding"));f||(f=n.get("left")||n.get("right"),f==="middle"&&(f="center"),f==="right"?T.x+=T.width:f==="center"&&(T.x+=T.width/2)),h||(h=n.get("top")||n.get("bottom"),h==="center"&&(h="middle"),h==="bottom"?T.y+=T.height:h==="middle"&&(T.y+=T.height/2),h=h||"top"),u.x=T.x,u.y=T.y,u.markRedraw();var x={align:f,verticalAlign:h};y.setStyle(x),v.setStyle(x),w=u.getBoundingRect();var M=T.margin,L=n.getItemStyle(["color","opacity"]);L.fill=n.get("backgroundColor");var k=new Rect$1({shape:{x:w.x-M[3],y:w.y-M[0],width:w.width+M[1]+M[3],height:w.height+M[0]+M[2],r:n.get("borderRadius")},style:L,subPixelOptimize:!0,silent:!0});u.add(k)}},r.type="title",r}(ComponentView$1);function install$3(i){i.registerComponentModel(TitleModel),i.registerComponentView(TitleView)}var getDefaultSelectorOptions=function(i,r){if(r==="all")return{type:"all",title:i.getLocaleModel().get(["legend","selector","all"])};if(r==="inverse")return{type:"inverse",title:i.getLocaleModel().get(["legend","selector","inverse"])}},LegendModel=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n.layoutMode={type:"box",ignoreSize:!0},n}return r.prototype.init=function(n,o,a){this.mergeDefaultAndTheme(n,a),n.selected=n.selected||{},this._updateSelector(n)},r.prototype.mergeOption=function(n,o){i.prototype.mergeOption.call(this,n,o),this._updateSelector(n)},r.prototype._updateSelector=function(n){var o=n.selector,a=this.ecModel;o===!0&&(o=n.selector=["all","inverse"]),isArray$1(o)&&each$4(o,function(u,c){isString$2(u)&&(u={type:u}),o[c]=merge(u,getDefaultSelectorOptions(a,u.type))})},r.prototype.optionUpdated=function(){this._updateData(this.ecModel);var n=this._data;if(n[0]&&this.get("selectedMode")==="single"){for(var o=!1,a=0;a<n.length;a++){var u=n[a].get("name");if(this.isSelected(u)){this.select(u),o=!0;break}}!o&&this.select(n[0].get("name"))}},r.prototype._updateData=function(n){var o=[],a=[];n.eachRawSeries(function(f){var h=f.name;a.push(h);var y;if(f.legendVisualProvider){var g=f.legendVisualProvider,p=g.getAllNames();n.isSeriesFiltered(f)||(a=a.concat(p)),p.length?o=o.concat(p):y=!0}else y=!0;y&&isNameSpecified(f)&&o.push(f.name)}),this._availableNames=a;var u=this.get("data")||o,c=createHashMap(),d=map$1(u,function(f){return(isString$2(f)||isNumber$1(f))&&(f={name:f}),c.get(f.name)?null:(c.set(f.name,!0),new Model$1(f,this,this.ecModel))},this);this._data=filter(d,function(f){return!!f})},r.prototype.getData=function(){return this._data},r.prototype.select=function(n){var o=this.option.selected,a=this.get("selectedMode");if(a==="single"){var u=this._data;each$4(u,function(c){o[c.get("name")]=!1})}o[n]=!0},r.prototype.unSelect=function(n){this.get("selectedMode")!=="single"&&(this.option.selected[n]=!1)},r.prototype.toggleSelected=function(n){var o=this.option.selected;o.hasOwnProperty(n)||(o[n]=!0),this[o[n]?"unSelect":"select"](n)},r.prototype.allSelect=function(){var n=this._data,o=this.option.selected;each$4(n,function(a){o[a.get("name",!0)]=!0})},r.prototype.inverseSelect=function(){var n=this._data,o=this.option.selected;each$4(n,function(a){var u=a.get("name",!0);o.hasOwnProperty(u)||(o[u]=!0),o[u]=!o[u]})},r.prototype.isSelected=function(n){var o=this.option.selected;return!(o.hasOwnProperty(n)&&!o[n])&&indexOf(this._availableNames,n)>=0},r.prototype.getOrient=function(){return this.get("orient")==="vertical"?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},r.type="legend.plain",r.dependencies=["series"],r.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},r}(ComponentModel$1);const LegendModel$1=LegendModel;var curry=curry$1,each=each$4,Group$1=Group$3,LegendView=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n.newlineDisabled=!1,n}return r.prototype.init=function(){this.group.add(this._contentGroup=new Group$1),this.group.add(this._selectorGroup=new Group$1),this._isFirstRender=!0},r.prototype.getContentGroup=function(){return this._contentGroup},r.prototype.getSelectorGroup=function(){return this._selectorGroup},r.prototype.render=function(n,o,a){var u=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),!!n.get("show",!0)){var c=n.get("align"),d=n.get("orient");(!c||c==="auto")&&(c=n.get("left")==="right"&&d==="vertical"?"right":"left");var f=n.get("selector",!0),h=n.get("selectorPosition",!0);f&&(!h||h==="auto")&&(h=d==="horizontal"?"end":"start"),this.renderInner(c,n,o,a,f,d,h);var y=n.getBoxLayoutParams(),g={width:a.getWidth(),height:a.getHeight()},p=n.get("padding"),v=getLayoutRect(y,g,p),_=this.layoutInner(n,c,v,u,f,h),b=getLayoutRect(defaults({width:_.width,height:_.height},y),g,p);this.group.x=b.x-_.x,this.group.y=b.y-_.y,this.group.markRedraw(),this.group.add(this._backgroundEl=makeBackground(_,n))}},r.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},r.prototype.renderInner=function(n,o,a,u,c,d,f){var h=this.getContentGroup(),y=createHashMap(),g=o.get("selectedMode"),p=[];a.eachRawSeries(function(v){!v.get("legendHoverLink")&&p.push(v.id)}),each(o.getData(),function(v,_){var b=v.get("name");if(!this.newlineDisabled&&(b===""||b===`
`)){var A=new Group$1;A.newline=!0,h.add(A);return}var w=a.getSeriesByName(b)[0];if(!y.get(b)){if(w){var S=w.getData(),T=S.getVisual("legendLineStyle")||{},x=S.getVisual("legendIcon"),M=S.getVisual("style"),L=this._createItem(w,b,_,v,o,n,T,M,x,g,u);L.on("click",curry(dispatchSelectAction,b,null,u,p)).on("mouseover",curry(dispatchHighlightAction,w.name,null,u,p)).on("mouseout",curry(dispatchDownplayAction,w.name,null,u,p)),a.ssr&&L.eachChild(function(k){var ie=getECData(k);ie.seriesIndex=w.seriesIndex,ie.dataIndex=_,ie.ssrType="legend"}),y.set(b,!0)}else a.eachRawSeries(function(k){if(!y.get(b)&&k.legendVisualProvider){var ie=k.legendVisualProvider;if(!ie.containName(b))return;var $=ie.indexOfName(b),z=ie.getItemVisual($,"style"),V=ie.getItemVisual($,"legendIcon"),re=parse(z.fill);re&&re[3]===0&&(re[3]=.2,z=extend(extend({},z),{fill:stringify(re,"rgba")}));var D=this._createItem(k,b,_,v,o,n,{},z,V,g,u);D.on("click",curry(dispatchSelectAction,null,b,u,p)).on("mouseover",curry(dispatchHighlightAction,null,b,u,p)).on("mouseout",curry(dispatchDownplayAction,null,b,u,p)),a.ssr&&D.eachChild(function(Ce){var le=getECData(Ce);le.seriesIndex=k.seriesIndex,le.dataIndex=_,le.ssrType="legend"}),y.set(b,!0)}},this);process.env.NODE_ENV!=="production"&&(y.get(b)||console.warn(b+" series not exists. Legend data should be same with series name or data name."))}},this),c&&this._createSelector(c,o,u,d,f)},r.prototype._createSelector=function(n,o,a,u,c){var d=this.getSelectorGroup();each(n,function(h){var y=h.type,g=new ZRText$1({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:y==="all"?"legendAllSelect":"legendInverseSelect"})}});d.add(g);var p=o.getModel("selectorLabel"),v=o.getModel(["emphasis","selectorLabel"]);setLabelStyle(g,{normal:p,emphasis:v},{defaultText:h.title}),enableHoverEmphasis(g)})},r.prototype._createItem=function(n,o,a,u,c,d,f,h,y,g,p){var v=n.visualDrawType,_=c.get("itemWidth"),b=c.get("itemHeight"),A=c.isSelected(o),w=u.get("symbolRotate"),S=u.get("symbolKeepAspect"),T=u.get("icon");y=T||y||"roundRect";var x=getLegendStyle(y,u,f,h,v,A,p),M=new Group$1,L=u.getModel("textStyle");if(isFunction$1(n.getLegendIcon)&&(!T||T==="inherit"))M.add(n.getLegendIcon({itemWidth:_,itemHeight:b,icon:y,iconRotate:w,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:S}));else{var k=T==="inherit"&&n.getData().getVisual("symbol")?w==="inherit"?n.getData().getVisual("symbolRotate"):w:0;M.add(getDefaultLegendIcon({itemWidth:_,itemHeight:b,icon:y,iconRotate:k,itemStyle:x.itemStyle,lineStyle:x.lineStyle,symbolKeepAspect:S}))}var ie=d==="left"?_+5:-5,$=d,z=c.get("formatter"),V=o;isString$2(z)&&z?V=z.replace("{name}",o??""):isFunction$1(z)&&(V=z(o));var re=A?L.getTextColor():u.get("inactiveColor");M.add(new ZRText$1({style:createTextStyle(L,{text:V,x:ie,y:b/2,fill:re,align:$,verticalAlign:"middle"},{inheritColor:re})}));var D=new Rect$1({shape:M.getBoundingRect(),style:{fill:"transparent"}}),Ce=u.getModel("tooltip");return Ce.get("show")&&setTooltipConfig({el:D,componentModel:c,itemName:o,itemTooltipOption:Ce.option}),M.add(D),M.eachChild(function(le){le.silent=!0}),D.silent=!g,this.getContentGroup().add(M),enableHoverEmphasis(M),M.__legendDataIndex=a,M},r.prototype.layoutInner=function(n,o,a,u,c,d){var f=this.getContentGroup(),h=this.getSelectorGroup();box(n.get("orient"),f,n.get("itemGap"),a.width,a.height);var y=f.getBoundingRect(),g=[-y.x,-y.y];if(h.markRedraw(),f.markRedraw(),c){box("horizontal",h,n.get("selectorItemGap",!0));var p=h.getBoundingRect(),v=[-p.x,-p.y],_=n.get("selectorButtonGap",!0),b=n.getOrient().index,A=b===0?"width":"height",w=b===0?"height":"width",S=b===0?"y":"x";d==="end"?v[b]+=y[A]+_:g[b]+=p[A]+_,v[1-b]+=y[w]/2-p[w]/2,h.x=v[0],h.y=v[1],f.x=g[0],f.y=g[1];var T={x:0,y:0};return T[A]=y[A]+_+p[A],T[w]=Math.max(y[w],p[w]),T[S]=Math.min(0,p[S]+v[1-b]),T}else return f.x=g[0],f.y=g[1],this.group.getBoundingRect()},r.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},r.type="legend.plain",r}(ComponentView$1);function getLegendStyle(i,r,n,o,a,u,c){function d(A,w){A.lineWidth==="auto"&&(A.lineWidth=w.lineWidth>0?2:0),each(A,function(S,T){A[T]==="inherit"&&(A[T]=w[T])})}var f=r.getModel("itemStyle"),h=f.getItemStyle(),y=i.lastIndexOf("empty",0)===0?"fill":"stroke",g=f.getShallow("decal");h.decal=!g||g==="inherit"?o.decal:createOrUpdatePatternFromDecal(g,c),h.fill==="inherit"&&(h.fill=o[a]),h.stroke==="inherit"&&(h.stroke=o[y]),h.opacity==="inherit"&&(h.opacity=(a==="fill"?o:n).opacity),d(h,o);var p=r.getModel("lineStyle"),v=p.getLineStyle();if(d(v,n),h.fill==="auto"&&(h.fill=o.fill),h.stroke==="auto"&&(h.stroke=o.fill),v.stroke==="auto"&&(v.stroke=o.fill),!u){var _=r.get("inactiveBorderWidth"),b=h[y];h.lineWidth=_==="auto"?o.lineWidth>0&&b?2:0:h.lineWidth,h.fill=r.get("inactiveColor"),h.stroke=r.get("inactiveBorderColor"),v.stroke=p.get("inactiveColor"),v.lineWidth=p.get("inactiveWidth")}return{itemStyle:h,lineStyle:v}}function getDefaultLegendIcon(i){var r=i.icon||"roundRect",n=createSymbol(r,0,0,i.itemWidth,i.itemHeight,i.itemStyle.fill,i.symbolKeepAspect);return n.setStyle(i.itemStyle),n.rotation=(i.iconRotate||0)*Math.PI/180,n.setOrigin([i.itemWidth/2,i.itemHeight/2]),r.indexOf("empty")>-1&&(n.style.stroke=n.style.fill,n.style.fill="#fff",n.style.lineWidth=2),n}function dispatchSelectAction(i,r,n,o){dispatchDownplayAction(i,r,n,o),n.dispatchAction({type:"legendToggleSelect",name:i??r}),dispatchHighlightAction(i,r,n,o)}function isUseHoverLayer(i){for(var r=i.getZr().storage.getDisplayList(),n,o=0,a=r.length;o<a&&!(n=r[o].states.emphasis);)o++;return n&&n.hoverLayer}function dispatchHighlightAction(i,r,n,o){isUseHoverLayer(n)||n.dispatchAction({type:"highlight",seriesName:i,name:r,excludeSeriesId:o})}function dispatchDownplayAction(i,r,n,o){isUseHoverLayer(n)||n.dispatchAction({type:"downplay",seriesName:i,name:r,excludeSeriesId:o})}const LegendView$1=LegendView;function legendFilter(i){var r=i.findComponents({mainType:"legend"});r&&r.length&&i.filterSeries(function(n){for(var o=0;o<r.length;o++)if(!r[o].isSelected(n.name))return!1;return!0})}function legendSelectActionHandler(i,r,n){var o={},a=i==="toggleSelected",u;return n.eachComponent("legend",function(c){a&&u!=null?c[u?"select":"unSelect"](r.name):i==="allSelect"||i==="inverseSelect"?c[i]():(c[i](r.name),u=c.isSelected(r.name));var d=c.getData();each$4(d,function(f){var h=f.get("name");if(!(h===`
`||h==="")){var y=c.isSelected(h);o.hasOwnProperty(h)?o[h]=o[h]&&y:o[h]=y}})}),i==="allSelect"||i==="inverseSelect"?{selected:o}:{name:r.name,selected:o}}function installLegendAction(i){i.registerAction("legendToggleSelect","legendselectchanged",curry$1(legendSelectActionHandler,"toggleSelected")),i.registerAction("legendAllSelect","legendselectall",curry$1(legendSelectActionHandler,"allSelect")),i.registerAction("legendInverseSelect","legendinverseselect",curry$1(legendSelectActionHandler,"inverseSelect")),i.registerAction("legendSelect","legendselected",curry$1(legendSelectActionHandler,"select")),i.registerAction("legendUnSelect","legendunselected",curry$1(legendSelectActionHandler,"unSelect"))}function install$2(i){i.registerComponentModel(LegendModel$1),i.registerComponentView(LegendView$1),i.registerProcessor(i.PRIORITY.PROCESSOR.SERIES_FILTER,legendFilter),i.registerSubTypeDefaulter("legend",function(){return"plain"}),installLegendAction(i)}var ScrollableLegendModel=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n}return r.prototype.setScrollDataIndex=function(n){this.option.scrollDataIndex=n},r.prototype.init=function(n,o,a){var u=getLayoutParams(n);i.prototype.init.call(this,n,o,a),mergeAndNormalizeLayoutParams(this,n,u)},r.prototype.mergeOption=function(n,o){i.prototype.mergeOption.call(this,n,o),mergeAndNormalizeLayoutParams(this,this.option,n)},r.type="legend.scroll",r.defaultOption=inheritDefaultOption(LegendModel$1.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),r}(LegendModel$1);function mergeAndNormalizeLayoutParams(i,r,n){var o=i.getOrient(),a=[1,1];a[o.index]=0,mergeLayoutParam(r,n,{type:"box",ignoreSize:!!a})}const ScrollableLegendModel$1=ScrollableLegendModel;var Group=Group$3,WH=["width","height"],XY=["x","y"],ScrollableLegendView=function(i){__extends(r,i);function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.type=r.type,n.newlineDisabled=!0,n._currentIndex=0,n}return r.prototype.init=function(){i.prototype.init.call(this),this.group.add(this._containerGroup=new Group),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Group)},r.prototype.resetInner=function(){i.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},r.prototype.renderInner=function(n,o,a,u,c,d,f){var h=this;i.prototype.renderInner.call(this,n,o,a,u,c,d,f);var y=this._controllerGroup,g=o.get("pageIconSize",!0),p=isArray$1(g)?g:[g,g];_("pagePrev",0);var v=o.getModel("pageTextStyle");y.add(new ZRText$1({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),_("pageNext",1);function _(b,A){var w=b+"DataIndex",S=createIcon(o.get("pageIcons",!0)[o.getOrient().name][A],{onclick:bind$1(h._pageGo,h,w,o,u)},{x:-p[0]/2,y:-p[1]/2,width:p[0],height:p[1]});S.name=b,y.add(S)}},r.prototype.layoutInner=function(n,o,a,u,c,d){var f=this.getSelectorGroup(),h=n.getOrient().index,y=WH[h],g=XY[h],p=WH[1-h],v=XY[1-h];c&&box("horizontal",f,n.get("selectorItemGap",!0));var _=n.get("selectorButtonGap",!0),b=f.getBoundingRect(),A=[-b.x,-b.y],w=clone$2(a);c&&(w[y]=a[y]-b[y]-_);var S=this._layoutContentAndController(n,u,w,h,y,p,v,g);if(c){if(d==="end")A[h]+=S[y]+_;else{var T=b[y]+_;A[h]-=T,S[g]-=T}S[y]+=b[y]+_,A[1-h]+=S[v]+S[p]/2-b[p]/2,S[p]=Math.max(S[p],b[p]),S[v]=Math.min(S[v],b[v]+A[1-h]),f.x=A[0],f.y=A[1],f.markRedraw()}return S},r.prototype._layoutContentAndController=function(n,o,a,u,c,d,f,h){var y=this.getContentGroup(),g=this._containerGroup,p=this._controllerGroup;box(n.get("orient"),y,n.get("itemGap"),u?a.width:null,u?null:a.height),box("horizontal",p,n.get("pageButtonItemGap",!0));var v=y.getBoundingRect(),_=p.getBoundingRect(),b=this._showController=v[c]>a[c],A=[-v.x,-v.y];o||(A[u]=y[h]);var w=[0,0],S=[-_.x,-_.y],T=retrieve2(n.get("pageButtonGap",!0),n.get("itemGap",!0));if(b){var x=n.get("pageButtonPosition",!0);x==="end"?S[u]+=a[c]-_[c]:w[u]+=_[c]+T}S[1-u]+=v[d]/2-_[d]/2,y.setPosition(A),g.setPosition(w),p.setPosition(S);var M={x:0,y:0};if(M[c]=b?a[c]:v[c],M[d]=Math.max(v[d],_[d]),M[f]=Math.min(0,_[f]+S[1-u]),g.__rectSize=a[c],b){var L={x:0,y:0};L[c]=Math.max(a[c]-_[c]-T,0),L[d]=M[d],g.setClipPath(new Rect$1({shape:L})),g.__rectSize=L[c]}else p.eachChild(function(ie){ie.attr({invisible:!0,silent:!0})});var k=this._getPageInfo(n);return k.pageIndex!=null&&updateProps$1(y,{x:k.contentPosition[0],y:k.contentPosition[1]},b?n:null),this._updatePageInfoView(n,k),M},r.prototype._pageGo=function(n,o,a){var u=this._getPageInfo(o)[n];u!=null&&a.dispatchAction({type:"legendScroll",scrollDataIndex:u,legendId:o.id})},r.prototype._updatePageInfoView=function(n,o){var a=this._controllerGroup;each$4(["pagePrev","pageNext"],function(y){var g=y+"DataIndex",p=o[g]!=null,v=a.childOfName(y);v&&(v.setStyle("fill",p?n.get("pageIconColor",!0):n.get("pageIconInactiveColor",!0)),v.cursor=p?"pointer":"default")});var u=a.childOfName("pageText"),c=n.get("pageFormatter"),d=o.pageIndex,f=d!=null?d+1:0,h=o.pageCount;u&&c&&u.setStyle("text",isString$2(c)?c.replace("{current}",f==null?"":f+"").replace("{total}",h==null?"":h+""):c({current:f,total:h}))},r.prototype._getPageInfo=function(n){var o=n.get("scrollDataIndex",!0),a=this.getContentGroup(),u=this._containerGroup.__rectSize,c=n.getOrient().index,d=WH[c],f=XY[c],h=this._findTargetItemIndex(o),y=a.children(),g=y[h],p=y.length,v=p?1:0,_={contentPosition:[a.x,a.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!g)return _;var b=x(g);_.contentPosition[c]=-b.s;for(var A=h+1,w=b,S=b,T=null;A<=p;++A)T=x(y[A]),(!T&&S.e>w.s+u||T&&!M(T,w.s))&&(S.i>w.i?w=S:w=T,w&&(_.pageNextDataIndex==null&&(_.pageNextDataIndex=w.i),++_.pageCount)),S=T;for(var A=h-1,w=b,S=b,T=null;A>=-1;--A)T=x(y[A]),(!T||!M(S,T.s))&&w.i<S.i&&(S=w,_.pagePrevDataIndex==null&&(_.pagePrevDataIndex=w.i),++_.pageCount,++_.pageIndex),w=T;return _;function x(L){if(L){var k=L.getBoundingRect(),ie=k[f]+L[f];return{s:ie,e:ie+k[d],i:L.__legendDataIndex}}}function M(L,k){return L.e>=k&&L.s<=k+u}},r.prototype._findTargetItemIndex=function(n){if(!this._showController)return 0;var o,a=this.getContentGroup(),u;return a.eachChild(function(c,d){var f=c.__legendDataIndex;u==null&&f!=null&&(u=d),f===n&&(o=d)}),o??u},r.type="legend.scroll",r}(LegendView$1);const ScrollableLegendView$1=ScrollableLegendView;function installScrollableLegendAction(i){i.registerAction("legendScroll","legendscroll",function(r,n){var o=r.scrollDataIndex;o!=null&&n.eachComponent({mainType:"legend",subType:"scroll",query:r},function(a){a.setScrollDataIndex(o)})})}function install$1(i){use(install$2),i.registerComponentModel(ScrollableLegendModel$1),i.registerComponentView(ScrollableLegendView$1),installScrollableLegendAction(i)}function install(i){use(install$2),use(install$1)}const _sfc_main$I=vue.defineComponent({__name:"pie-charts",props:{title:{type:String,default:"标题"},seriesName:{type:String,default:"详情"},seriesData:{type:Array,default:()=>[]}},setup(i){use([install$7,install$6,install$3,install$4,install]),vue.provide(VChart.THEME_KEY,"dark");const r=i,n=vue.reactive({title:{text:r.title,left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{orient:"vertical",left:"left"},series:[{name:r.seriesName,type:"pie",radius:"55%",center:["50%","60%"],data:r.seriesData,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]});return vue.watch(r,o=>{n.title.text=o.title,n.series[0].name=o.seriesName,n.series[0].data=o.seriesData}),(o,a)=>(vue.openBlock(),vue.createBlock(vue.unref(VChart),{class:"chart",option:vue.unref(n),autoresize:""},null,8,["option"]))}}),pieCharts_vue_vue_type_style_index_0_scoped_fec2cbf2_lang="",PieCharts=_export_sfc$1(_sfc_main$I,[["__scopeId","data-v-fec2cbf2"]]),_hoisted_1$g=["id"],_hoisted_2$e=["id"],_hoisted_3$b=["fill"],_hoisted_4$9=["fill"],_hoisted_5$8=["fill"],_hoisted_6$7=vue.createElementVNode("path",{d:"M375.466667 709.214815l-25.6 137.481481c0 2.844444 1.896296 5.688889 7.585185 10.42963l65.422222 54.992593c5.688889 4.740741 15.17037 8.533333 23.703704 10.429629l36.029629-193.422222-107.14074-19.911111z",fill:"#2D4375"},null,-1),_hoisted_7$7=vue.createElementVNode("path",{d:"M482.607407 729.125926l-36.029629 193.422222c9.481481 1.896296 18.014815 1.896296 25.6-0.948148l80.592592-27.496296c6.637037-1.896296 10.42963-4.740741 11.377778-6.637037L589.748148 749.037037l-107.140741-19.911111z",fill:"#1E2D4F"},null,-1),_hoisted_8$6=["fill-opacity"],_hoisted_9$6=["fill-opacity"],_hoisted_10$5=["fill-opacity"],_hoisted_11$4=vue.createElementVNode("path",{d:"M593.540741 807.822222c1.896296-7.585185-3.792593-15.17037-11.377778-16.118518l-107.140741-19.911111-4.740741 27.496296 107.140741 19.911111c6.637037 0.948148 14.222222-3.792593 16.118519-11.377778z",fill:"#CEEFF6"},null,-1),_hoisted_12$3=vue.createElementVNode("path",{d:"M366.933333 750.933333c-7.585185-1.896296-15.17037 3.792593-16.118518 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.14074 19.911111 4.740741-27.496297-107.140741-19.911111zM356.503704 808.77037c-7.585185-1.896296-15.17037 3.792593-16.118519 11.377778-1.896296 7.585185 3.792593 15.17037 11.377778 16.118519l107.140741 19.911111 4.74074-27.496297-107.14074-19.911111z",fill:"#FFFFFF"},null,-1),_hoisted_13$3=vue.createElementVNode("path",{d:"M570.785185 848.592593l-107.140741-19.911112-4.74074 27.496297 107.14074 19.911111c7.585185 1.896296 15.17037-3.792593 16.118519-11.377778 1.896296-7.585185-2.844444-15.17037-11.377778-16.118518z",fill:"#CEEFF6"},null,-1),_hoisted_14$3=["xlink:href","width","height"],_sfc_main$H=vue.defineComponent({__name:"light-a",props:{id:{default:""},isOpen:{type:Boolean,default:!1},height:{default:100},width:{default:100}},emits:["onChange"],setup(i,{emit:r}){const n=i,o=r;return vue.watch(()=>n.isOpen,()=>{o("onChange")}),(a,u)=>(vue.openBlock(),vue.createElementBlock("g",{id:n.id,style:{cursor:"pointer"}},[vue.createElementVNode("symbol",{id:`${n.id}light-121`,viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{d:"M565.096296 289.185185s-0.948148 0 0 0c-110.933333-20.859259-208.592593 40.77037-237.985185 148.859259-14.222222 53.096296-24.651852 101.451852 44.562963 221.866667 14.222222 25.6 11.377778 70.162963 8.533333 95.762963-1.896296 14.222222 64.474074 36.02963 89.125926 42.666667l95.762963-509.155556z",fill:n.isOpen?"#FDB813":"#cccccc"},null,8,_hoisted_3$b),vue.createElementVNode("path",{d:"M732.918519 513.896296c11.377778-111.881481-56.888889-203.851852-166.874075-224.711111h-0.948148L469.333333 798.340741c25.6 2.844444 94.814815 6.637037 98.607408-7.585185 6.637037-25.6 20.859259-67.318519 42.666666-86.281482C719.644444 618.192593 727.22963 568.888889 732.918519 513.896296z",fill:n.isOpen?"#FD9B13":"#bbbbbb"},null,8,_hoisted_4$9),vue.createElementVNode("path",{d:"M467.437037 806.874074c-7.585185-0.948148-12.325926-7.585185-14.222222-14.222222l-38.874074-256c-0.948148-5.688889 0.948148-11.377778 4.74074-15.170371 3.792593-3.792593 9.481481-5.688889 15.170371-4.74074l167.822222 31.288889c5.688889 0.948148 10.42963 4.740741 12.325926 9.481481 1.896296 4.740741 1.896296 11.377778-0.948148 16.118519L486.4 798.340741c-3.792593 6.637037-11.377778 10.42963-18.962963 8.533333z m-14.222222-251.259259l27.496296 182.992592L572.681481 578.37037l-119.466666-22.755555z",fill:n.isOpen?"#F12A3F":"#666666"},null,8,_hoisted_5$8),_hoisted_6$7,_hoisted_7$7,vue.createElementVNode("path",{d:"M612.503704 217.125926c-3.792593 18.014815-20.859259 29.392593-38.874074 26.548148-18.014815-3.792593-30.340741-20.859259-26.548149-38.874074l18.962963-100.503704c3.792593-18.014815 20.859259-29.392593 38.874075-26.548148 18.014815 3.792593 30.340741 20.859259 26.548148 38.874074l-18.962963 100.503704z",fill:"#FDB813","fill-opacity":n.isOpen?1:0},null,8,_hoisted_8$6),vue.createElementVNode("path",{d:"M382.103704 228.503704c10.42963 15.17037 6.637037 36.02963-8.533334 46.459259-15.17037 10.42963-36.02963 6.637037-46.459259-8.533333l-57.837037-84.385186c-10.42963-15.17037-6.637037-36.02963 8.533333-46.459259 15.17037-10.42963 36.02963-6.637037 46.45926 8.533334l57.837037 84.385185zM757.57037 298.666667c-15.17037 10.42963-18.962963 31.288889-8.533333 46.459259 10.42963 15.17037 31.288889 18.962963 46.459259 8.533333l84.385185-57.837037c15.17037-10.42963 18.962963-31.288889 8.533334-46.459259-10.42963-15.17037-31.288889-18.962963-46.459259-8.533333l-84.385186 57.837037z",fill:"#FDB813","fill-opacity":n.isOpen?1:0},null,8,_hoisted_9$6),vue.createElementVNode("path",{d:"M252.207407 361.244444c18.014815 3.792593 30.340741 20.859259 26.548149 38.874075-3.792593 18.014815-20.859259 29.392593-38.874075 26.548148l-100.503703-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874074 3.792593-18.014815 20.859259-29.392593 38.874074-26.548149l100.503703 18.962963zM931.081481 488.296296c18.014815 3.792593 30.340741 20.859259 26.548149 38.874074-3.792593 18.014815-20.859259 29.392593-38.874074 26.548149l-100.503704-18.962963c-18.014815-3.792593-30.340741-20.859259-26.548148-38.874075 3.792593-18.014815 20.859259-29.392593 38.874074-26.548148l100.503703 18.962963z",fill:"#FDB813","fill-opacity":n.isOpen?1:0},null,8,_hoisted_10$5),_hoisted_11$4,_hoisted_12$3,_hoisted_13$3],8,_hoisted_2$e),vue.createElementVNode("use",{"xlink:href":`#${n.id}light-121`,width:a.width,height:a.height},null,8,_hoisted_14$3)],8,_hoisted_1$g))}}),_hoisted_1$f=["id"],_hoisted_2$d=["id"],_hoisted_3$a=["fill"],_hoisted_4$8=["fill"],_hoisted_5$7=["fill"],_hoisted_6$6=["from","to"],_hoisted_7$6=["fill"],_hoisted_8$5=["from","to"],_hoisted_9$5=["fill"],_hoisted_10$4=["fill"],_hoisted_11$3=["fill"],_hoisted_12$2=["from","to"],_hoisted_13$2=["fill"],_hoisted_14$2=["xlink:href"],_sfc_main$G=vue.defineComponent({__name:"clock-a",props:{id:{default:""},centerColor:{default:"#EBF257"},secondsColor:{default:"#E83E24"},circleColor:{default:"#F45AFC"},minutesColor:{default:"#50E68E"},hoursColor:{default:"#9A36E7"},scaleColor:{default:"#4942CF"},backgroundColor:{default:"#ffffff"},borderColor:{default:"#B3A7FF"}},setup(i){const r=i,n=new Date(Number(window.sessionStorage.getItem("editorLoadTime")||"0")),o=n.getSeconds()+1,a=n.getMinutes(),u=Math.floor((n.getHours()+(a+o/60)/60)*30);return(c,d)=>(vue.openBlock(),vue.createElementBlock("g",{id:r.id},[vue.createElementVNode("symbol",{id:`${r.id}clock-a-n`,viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{d:"M512.3 518.9m-469.2 0a469.2 469.2 0 1 0 938.4 0 469.2 469.2 0 1 0-938.4 0Z",fill:r.borderColor},null,8,_hoisted_3$a),vue.createElementVNode("path",{d:"M512.3 518.9m-392.5 0a392.5 392.5 0 1 0 785 0 392.5 392.5 0 1 0-785 0Z",fill:r.backgroundColor},null,8,_hoisted_4$8),vue.createElementVNode("path",{d:"M512.3 523.8c-4.5 0-9-1.7-12.4-5.1L318.3 337.1c-6.8-6.8-6.8-17.9 0-24.8 6.8-6.8 17.9-6.8 24.8 0L524.7 494c6.8 6.8 6.8 17.9 0 24.8-3.5 3.3-7.9 5-12.4 5z",fill:r.minutesColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${45+vue.unref(a)*6} 512.3 506.3`,to:`${405+vue.unref(a)*6} 512.3 506.3`,dur:"3600s",repeatCount:"indefinite"},null,8,_hoisted_6$6)],8,_hoisted_5$7),vue.createElementVNode("path",{d:"M512.3 523.8c-4.5 0-9-1.7-12.4-5.1-6.8-6.8-6.8-17.9 0-24.8l130.8-130.8c6.8-6.8 17.9-6.8 24.8 0 6.8 6.8 6.8 17.9 0 24.8L524.7 518.7c-3.5 3.4-7.9 5.1-12.4 5.1z",fill:r.hoursColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${-45+vue.unref(u)} 512.3 506.3`,to:`${315+vue.unref(u)} 512.3 506.3`,dur:"43200s",repeatCount:"indefinite"},null,8,_hoisted_8$5)],8,_hoisted_7$6),vue.createElementVNode("path",{d:"M512.3 506.3m-47.5 0a47.5 47.5 0 1 0 95 0 47.5 47.5 0 1 0-95 0Z",fill:r.circleColor},null,8,_hoisted_9$5),vue.createElementVNode("path",{d:"M512.3 218.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM512.3 880.8c-9 0-16.3-7.3-16.3-16.3v-29.1c0-9 7.3-16.3 16.3-16.3s16.3 7.3 16.3 16.3v29.1c0 9-7.4 16.3-16.3 16.3zM812.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3zM150.4 518.9c0-9 7.3-16.3 16.3-16.3h29.1c9 0 16.3 7.3 16.3 16.3s-7.3 16.3-16.3 16.3h-29.1c-8.9 0-16.3-7.3-16.3-16.3z",fill:r.scaleColor},null,8,_hoisted_10$4),vue.createElementVNode("path",{d:"M296.9 733.5c-2.2 0-4.5-0.9-6.2-2.6-3.4-3.4-3.4-9 0-12.4L540 469.2c3.4-3.4 9-3.4 12.4 0 3.4 3.4 3.4 9 0 12.4L303.1 731c-1.7 1.7-4 2.5-6.2 2.5z",fill:r.secondsColor},[vue.createElementVNode("animateTransform",{attributeName:"transform",attributeType:"XML",type:"rotate",from:`${135.5+o*6} 512.3 506.3`,to:`${495.5+o*6} 512.3 506.3`,dur:"60s",repeatCount:"indefinite"},null,8,_hoisted_12$2)],8,_hoisted_11$3),vue.createElementVNode("path",{d:"M512.3 506.3m-22.8 0a22.8 22.8 0 1 0 45.6 0 22.8 22.8 0 1 0-45.6 0Z",fill:r.centerColor},null,8,_hoisted_13$2)],8,_hoisted_2$d),vue.createElementVNode("use",{"xlink:href":`#${r.id}clock-a-n`,width:"100",height:"100"},null,8,_hoisted_14$2)],8,_hoisted_1$f))}}),_sfc_main$F=vue.defineComponent({__name:"text-box",props:{width:{default:250},height:{default:150},bgColor:{default:"#ffffff"},bgOpacity:{default:50},borderColor:{default:"#000000"},borderWidth:{default:1},borderRadius:{default:5},borderOpacity:{default:100}},setup(i){const r=i,n=vue.computed(()=>({width:(r.width>0?r.width:0)+"px",height:(r.height>0?r.height:0)+"px",borderRadius:(r.borderRadius>0?r.borderRadius:0)+"px"})),o=vue.computed(()=>({border:`${r.borderWidth>0?r.borderWidth:0}px solid ${r.borderColor}`,borderRadius:(r.borderRadius>0?r.borderRadius:0)+"px",opacity:(r.borderOpacity>0?r.borderOpacity<100?r.borderOpacity:100:0)/100})),a=vue.computed(()=>({backgroundColor:r.bgColor,opacity:(r.bgOpacity>0?r.bgOpacity<100?r.bgOpacity:100:0)/100,borderRadius:r.borderRadius+"px"}));return(u,c)=>(vue.openBlock(),vue.createElementBlock("div",{class:"outM",style:vue.normalizeStyle(n.value)},[vue.createElementVNode("div",{class:"wallI",style:vue.normalizeStyle(a.value)},null,4),vue.createElementVNode("div",{class:"borderB",style:vue.normalizeStyle(o.value)},null,4)],4))}}),textBox_vue_vue_type_style_index_0_scoped_4ab181ea_lang="",TextBox=_export_sfc$1(_sfc_main$F,[["__scopeId","data-v-4ab181ea"]]),vueComp={"svg-text":_sfc_main$L,"el-button":elementPlus.ElButton,"progress-a":_sfc_main$N,"el-tag":elementPlus.ElTag,"common-table":_sfc_main$K,"pie-charts":PieCharts,"switch-r":_sfc_main$M,"now-time":NowTime,"light-a":_sfc_main$H,"clock-a":_sfc_main$G,"text-box":TextBox},config=[...t$b,...t$1],useGlobalStore=pinia$1.defineStore("global-store",{state:()=>({config_center:config,intention:EGlobalStoreIntention.None,create_svg_info:null,done_json:[],mouse_info:{state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},handle_svg_info:null,scale_info:{type:EScaleInfoType.None,scale_times:{x:1,y:1},scale_item_info:{x:0,y:0},symmetric_point:{x:0,y:0}},rotate_info:{angle:0},connection_line_node_info:{init_pos:{x:0,y:0},point_index:0}}),actions:{setCreateInfo(i){this.intention=EGlobalStoreIntention.Create,this.create_svg_info=i},setDoneJson(i){isOfType(i,"id")?(this.done_json.push(i),vue.nextTick(()=>{setSvgActualInfo(i)})):this.done_json=objectDeepClone(i),vue.nextTick(()=>{useHistoryRecord(objectDeepClone(this.done_json))})},setHandleSvgInfo(i,r){let n=r;i?(!n&&n!=0&&(n=this.done_json.findIndex(o=>o.id===i.id)??-1),this.handle_svg_info={info:i,index:n}):this.handle_svg_info=i},spliceDoneJson(i){const r=useGlobalStore(),o=r.done_json.splice(i,1)[0];unbindAnchors(o.id),useHistoryRecord(r.done_json)}}}),useSvgEditLayoutStore=pinia$1.defineStore("svg-edit-layout-store",{state:()=>({left_nav:!0,right_nav:!0,center_offset:{x:0,y:0},canvasInfo:{with:0,height:0,top:0,left:0}})}),stopEvent=i=>{i.stopPropagation()},preventDefault=i=>{i.preventDefault()};function componentsRegister(i){var o,a;const r=vue.getCurrentInstance(),n=i?Object.assign(vueComp,i):vueComp;for(let u in n)!((o=r==null?void 0:r.appContext)!=null&&o.components.hasOwnProperty(u))&&vueComp.hasOwnProperty(u)&&((a=r==null?void 0:r.appContext)==null||a.app.component(u,vueComp[u]))}function setEditorLoadTime(){window.sessionStorage.setItem("editorLoadTime",new Date().getTime().toString())}const randomString=i=>{i=i||10;const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=r.length;let o="";for(let a=0;a<i;a++){let u=n;a===0&&(u=n-10),o+=r.charAt(Math.floor(Math.random()*u))}return o},isOfType=(i,r)=>i[r]!==void 0,getCoordinateOffset=(i,r)=>i/2*(r-1),angleToRadian=i=>i*Math.PI/180,calculateRotatedPointCoordinate=(i,r,n)=>({x:parseFloat(((i.x-r.x)*Math.cos(angleToRadian(n))-(i.y-r.y)*Math.sin(angleToRadian(n))+r.x).toFixed(1)),y:parseFloat(((i.x-r.x)*Math.sin(angleToRadian(n))+(i.y-r.y)*Math.cos(angleToRadian(n))+r.y).toFixed(1))}),getCenterPoint=(i,r)=>({x:i.x+(r.x-i.x)/2,y:i.y+(r.y-i.y)/2}),positionArrToPath=i=>{let r="";for(let n=0;n<i.length;n++)n===0?r+=`M ${i[n].x} ${i[n].y}`:r+=` L ${i[n].x} ${i[n].y}`;return r},getSvgNowPosition=(i,r,n)=>n+(r-i),objectDeepClone=(i,r={})=>i?JSON.parse(JSON.stringify(i)):r,setSvgActualInfo=(i,r)=>{var a,u;const n=document.querySelector(`#${i.id}`),o=document.querySelector(`#rect${i.id}`);if(n){let c=0,d=0,f=0,h=0;if(i.type===EDoneJsonType.Vue){f=((a=i.props.width)==null?void 0:a.val)||n.offsetWidth||100,h=((u=i.props.height)==null?void 0:u.val)||n.offsetHeight||100,c=50-f/2,d=50-h/2;const y=document.querySelector(`#foreign-object${i.id}`);y&&(y.getAttribute("x")==="0"&&y.getAttribute("y")==="0"&&y.getAttribute("width")==="0"&&y.getAttribute("height")==="0"||r)&&(y.setAttribute("x",c.toString()),y.setAttribute("y",d.toString()),y.setAttribute("width",f.toString()),y.setAttribute("height",h.toString()))}else{const y=n.getBBox();c=parseFloat(y.x.toFixed(0)),d=parseFloat(y.y.toFixed(0)),f=parseFloat(y.width.toFixed(0)),h=parseFloat(y.height.toFixed(0))}o&&(o.getAttribute("x")==="0"&&o.getAttribute("y")==="0"&&o.getAttribute("width")==="0"&&o.getAttribute("height")==="0"||r)&&(o.setAttribute("x",c.toString()),o.setAttribute("y",d.toString()),o.setAttribute("width",f.toString()),o.setAttribute("height",h.toString())),(i.actual_bound.x===0&&i.actual_bound.y===0&&i.actual_bound.width===0&&i.actual_bound.height===0||r)&&(i.actual_bound={x:c,y:d,width:f,height:h}),i.center_position={x:i.x+i.actual_bound.x+f/2,y:i.y+i.actual_bound.y+h/2},i.point_coordinate.tl={x:i.center_position.x-f*i.scale_x/2,y:i.center_position.y-h*i.scale_y/2},i.point_coordinate.tc={x:i.center_position.x,y:i.center_position.y-h*i.scale_y/2},i.point_coordinate.tr={x:i.center_position.x+f*i.scale_x/2,y:i.center_position.y-h*i.scale_y/2},i.point_coordinate.l={x:i.center_position.x-f*i.scale_x/2,y:i.center_position.y},i.point_coordinate.r={x:i.center_position.x+f*i.scale_x/2,y:i.center_position.y},i.point_coordinate.bl={x:i.center_position.x-f*i.scale_x/2,y:i.center_position.y+h*i.scale_y/2},i.point_coordinate.bc={x:i.center_position.x,y:i.center_position.y+h*i.scale_y/2},i.point_coordinate.br={x:i.center_position.x+f*i.scale_x/2,y:i.center_position.y+h*i.scale_y/2},i.rotate!==0&&setAfterRotationPointCoordinate(i),moveAnchors(i)}},resetHandlePointOld=i=>{for(const r of Object.keys(i.point_coordinate))i.point_coordinate_old&&(i.point_coordinate_old[r].x=0,i.point_coordinate_old[r].y=0)},moveHandlePoint=(i,r,n)=>{const o=useGlobalStore(pinia),a=r??o.mouse_info.new_position_x-o.mouse_info.position_x,u=n??o.mouse_info.new_position_y-o.mouse_info.position_y;for(const c of Object.keys(i.point_coordinate))r!==void 0&&n!==void 0?(i.point_coordinate[c].x+=a,i.point_coordinate[c].y+=u):i.point_coordinate_old&&(i.point_coordinate[c].x=i.point_coordinate_old[c].x+a,i.point_coordinate[c].y=i.point_coordinate_old[c].y+u)},moveAnchors=i=>{var n,o,a,u;const r=useGlobalStore(pinia);for(let c of r.done_json)if(c.type===EDoneJsonType.ConnectionLine){if(((o=(n=c.bind_anchors)==null?void 0:n.start)==null?void 0:o.target_id)===i.id){const d=getAnchorPosByAnchorType(c.bind_anchors.start.type,i);c.props.point_position.val[0]={x:d.x-c.x,y:d.y-c.y}}if(((u=(a=c.bind_anchors)==null?void 0:a.end)==null?void 0:u.target_id)===i.id){const d=getAnchorPosByAnchorType(c.bind_anchors.end.type,i);c.props.point_position.val[c.props.point_position.val.length-1]={x:d.x-c.x,y:d.y-c.y}}}},unbindAnchors=i=>{var n,o,a,u;const r=useGlobalStore(pinia);for(let c of r.done_json)c.type===EDoneJsonType.ConnectionLine&&(((o=(n=c.bind_anchors)==null?void 0:n.start)==null?void 0:o.target_id)===i&&(c.bind_anchors.start=null),((u=(a=c.bind_anchors)==null?void 0:a.end)==null?void 0:u.target_id)===i&&(c.bind_anchors.end=null))},getAnchorPosByAnchorType=(i,r)=>i===ELineBindAnchors.BottomCenter?r.point_coordinate.bc:i===ELineBindAnchors.Left?r.point_coordinate.l:i===ELineBindAnchors.Right?r.point_coordinate.r:r.point_coordinate.tc,setAfterRotationPointCoordinate=i=>{i.point_coordinate={tl:calculateRotatedPointCoordinate(i.point_coordinate.tl,i.center_position,i.rotate),tc:calculateRotatedPointCoordinate(i.point_coordinate.tc,i.center_position,i.rotate),tr:calculateRotatedPointCoordinate(i.point_coordinate.tr,i.center_position,i.rotate),l:calculateRotatedPointCoordinate(i.point_coordinate.l,i.center_position,i.rotate),r:calculateRotatedPointCoordinate(i.point_coordinate.r,i.center_position,i.rotate),bl:calculateRotatedPointCoordinate(i.point_coordinate.bl,i.center_position,i.rotate),bc:calculateRotatedPointCoordinate(i.point_coordinate.bc,i.center_position,i.rotate),br:calculateRotatedPointCoordinate(i.point_coordinate.br,i.center_position,i.rotate)}},prosToVBind=(i,r=[])=>{let n={};if(i.state){for(const o in i.state)if(i.state.hasOwnProperty(o)&&o===i.defaultState){for(let a in i.state[o])a!=="label"&&(n[lodashEs.kebabCase(a)]=i.state[o][a]);break}}for(const o in i.props)r.indexOf(o)<0&&(n[lodashEs.kebabCase(o)]=i.props[o].val);return n},setArrItemByID=(id,key,val,json_arr)=>new Promise(res=>{const find_item=json_arr.find(i=>i.id===id);find_item||res({status:!1,msg:"要设置的id不存在"}),eval(`find_item.${key} = val;`),res({status:!0,msg:"操作成功"})}),getCommonClass=i=>!i.common_animations||!i.common_animations.val?"":`common-ani animate__animated animate__${i.common_animations.val} animate__${i.common_animations.speed} animate__${i.common_animations.repeat} animate__${i.common_animations.delay}`,numberArray=i=>{let r=[];for(let n=0;n<i;n++)r.push(n);return r},getStringWidth=(i,r=12)=>{if(i.length>0){let n=document.createElement("span");n.style.fontSize=r+"px",n.style.fontFamily="inherit",n.innerHTML=i,n.style.opacity="0",n.style.position="fixed",n.style.top="3000px",document.body.append(n);const o=n.clientWidth;return document.body.removeChild(n),o}return 0},valFormat=i=>/false|true/.test(i)?i!=="false":/^\d+(\.\d+)?$/.test(i)?Number(i):i,createLine=(i,r,n)=>{i.preventDefault();const o=useGlobalStore(pinia),a=useConfigStore(pinia),u=useSvgEditLayoutStore(pinia),{clientX:c,clientY:d}=i;let f=objectDeepClone(a.connection_line),h=0,y=0;if(r&&n){f.bind_anchors.start={type:r,target_id:n.id};let p=getAnchorPosByAnchorType(r,n);h=p.x,y=p.y}else h=Math.round((c-u.canvasInfo.left)/a.svg.scale-u.center_offset.x),y=Math.round((d-u.canvasInfo.top)/a.svg.scale-u.center_offset.y);const g={id:randomString(),x:h,y,client:{x:h,y},scale_x:1,scale_y:1,rotate:0,actual_bound:{x:0,y:0,width:0,height:0},center_position:{x:0,y:0},point_coordinate:{tl:{x:0,y:0},tc:{x:0,y:0},tr:{x:0,y:0},l:{x:0,y:0},r:{x:0,y:0},bl:{x:0,y:0},bc:{x:0,y:0},br:{x:0,y:0}},...f};g.props.point_position.val.push({x:0,y:0}),o.setDoneJson(g),o.setHandleSvgInfo(g,o.done_json.length-1),o.intention=EGlobalStoreIntention.Connection,o.mouse_info={state:EMouseInfoState.Down,position_x:h,position_y:y,now_position_x:h,now_position_y:y,new_position_x:0,new_position_y:0}};Object.seal({name:"straight-line",title:"直线",type:EDoneJsonType.StraightLine,config:{can_zoom:!1,have_anchor:!1,actual_rect:!1},display:!0,props:{fill:{title:"填充色",type:EConfigItemPropsType.Color,val:"#ff0000"},start_x:{title:"起点x坐标",type:EConfigItemPropsType.InputNumber,val:0},start_y:{title:"起点y坐标",type:EConfigItemPropsType.InputNumber,val:0},end_x:{title:"终点x坐标",type:EConfigItemPropsType.InputNumber,val:0},end_y:{title:"终点y坐标",type:EConfigItemPropsType.InputNumber,val:0}},bind_anchors:{start:null,end:null},events:[]});const connection_line_system={name:"connection_line",title:"连接线",type:EDoneJsonType.ConnectionLine,config:{can_zoom:!1,have_anchor:!1,actual_rect:!1},display:!0,props:{stroke:{title:"线条颜色",type:EConfigItemPropsType.Color,val:"#ff0000"},"stroke-width":{title:"线条宽度",type:EConfigItemPropsType.InputNumber,val:2},point_r:{title:"节点半径",type:EConfigItemPropsType.InputNumber,val:4},point_position:{title:"点坐标",type:EConfigItemPropsType.JsonEdit,val:[]}},animations:{type:{title:"动画类型",type:EConfigItemPropsType.Select,val:EConfigAnimationsType.None,options:[{label:"无",value:EConfigAnimationsType.None},{label:"电流",value:EConfigAnimationsType.Electricity},{label:"轨迹",value:EConfigAnimationsType.Track},{label:"水珠",value:EConfigAnimationsType.WaterDrop}]},dur:{title:"持续时间",type:EConfigItemPropsType.InputNumber,val:20},repeatCount:{title:"循环次数",type:EConfigItemPropsType.Input,val:"indefinite",disabled:!0},color:{title:"颜色",type:EConfigItemPropsType.Color,val:"#602a00"},reverse:{title:"反转动画",type:EConfigItemPropsType.Switch,val:!1}},bind_anchors:{start:null,end:null},events:[]},common_animate_list=[{label:"进入",children:[{label:"渐显",value:"fadeIn"},{label:"向右进入",value:"fadeInLeft"},{label:"向左进入",value:"fadeInRight"},{label:"向上进入",value:"fadeInUp"},{label:"向下进入",value:"fadeInDown"},{label:"向右长距进入",value:"fadeInLeftBig"},{label:"向左长距进入",value:"fadeInRightBig"},{label:"向上长距进入",value:"fadeInUpBig"},{label:"向下长距进入",value:"fadeInDownBig"},{label:"旋转进入",value:"rotateIn"},{label:"左顺时针旋转",value:"rotateInDownLeft"},{label:"右逆时针旋转",value:"rotateInDownRight"},{label:"左逆时针旋转",value:"rotateInUpLeft"},{label:"右逆时针旋转",value:"rotateInUpRight"},{label:"弹入",value:"bounceIn"},{label:"向右弹入",value:"bounceInLeft"},{label:"向左弹入",value:"bounceInRight"},{label:"向上弹入",value:"bounceInUp"},{label:"向下弹入",value:"bounceInDown"},{label:"光速从右进入",value:"lightSpeedInRight"},{label:"光速从左进入",value:"lightSpeedInLeft"},{label:"光速从右退出",value:"lightSpeedOutRight"},{label:"光速从左退出",value:"lightSpeedOutLeft"},{label:"Y轴旋转",value:"flip"},{label:"中心X轴旋转",value:"flipInX"},{label:"中心Y轴旋转",value:"flipInY"},{label:"左长半径旋转",value:"rollIn"},{label:"由小变大进入",value:"zoomIn"},{label:"左变大进入",value:"zoomInLeft"},{label:"右变大进入",value:"zoomInRight"},{label:"向上变大进入",value:"zoomInUp"},{label:"向下变大进入",value:"zoomInDown"},{label:"向右滑动展开",value:"slideInLeft"},{label:"向左滑动展开",value:"slideInRight"},{label:"向上滑动展开",value:"slideInUp"},{label:"向下滑动展开",value:"slideInDown"}]},{label:"强调",children:[{label:"弹跳",value:"bounce"},{label:"闪烁",value:"flash"},{label:"放大缩小",value:"pulse"},{label:"放大缩小弹簧",value:"rubberBand"},{label:"左右晃动",value:"headShake"},{label:"左右扇形摇摆",value:"swing"},{label:"放大晃动缩小",value:"tada"},{label:"扇形摇摆",value:"wobble"},{label:"左右上下晃动",value:"jello"},{label:"Y轴旋转",value:"flip"}]},{label:"退出",children:[{label:"渐隐",value:"fadeOut"},{label:"向左退出",value:"fadeOutLeft"},{label:"向右退出",value:"fadeOutRight"},{label:"向上退出",value:"fadeOutUp"},{label:"向下退出",value:"fadeOutDown"},{label:"向左长距退出",value:"fadeOutLeftBig"},{label:"向右长距退出",value:"fadeOutRightBig"},{label:"向上长距退出",value:"fadeOutUpBig"},{label:"向下长距退出",value:"fadeOutDownBig"},{label:"旋转退出",value:"rotateOut"},{label:"左顺时针旋转",value:"rotateOutDownLeft"},{label:"右逆时针旋转",value:"rotateOutDownRight"},{label:"左逆时针旋转",value:"rotateOutUpLeft"},{label:"右逆时针旋转",value:"rotateOutUpRight"},{label:"弹出",value:"bounceOut"},{label:"向左弹出",value:"bounceOutLeft"},{label:"向右弹出",value:"bounceOutRight"},{label:"向上弹出",value:"bounceOutUp"},{label:"向下弹出",value:"bounceOutDown"},{label:"中心X轴旋转",value:"flipOutX"},{label:"中心Y轴旋转",value:"flipOutY"},{label:"左长半径旋转",value:"rollOut"},{label:"由小变大退出",value:"zoomOut"},{label:"左变大退出",value:"zoomOutLeft"},{label:"右变大退出",value:"zoomOutRight"},{label:"向上变大退出",value:"zoomOutUp"},{label:"向下变大退出",value:"zoomOutDown"},{label:"向左滑动收起",value:"slideOutLeft"},{label:"向右滑动收起",value:"slideOutRight"},{label:"向上滑动收起",value:"slideOutUp"},{label:"向下滑动收起",value:"slideOutDown"}]}];let l=localStorage.getItem("svg-editor-config"),s,t;if(l){let i=JSON.parse(l);t=i.connection_line,s=i.svg}else t=objectDeepClone(connection_line_system),s={background_color:"#fff",scale:1,grid:!0,grid_color:"#ebebeb",ruler:!0};const useConfigStore=pinia$1.defineStore("config-store",{state:()=>({svg:s,connection_line:t,net:{mqtt:{url:"",user:"",pwd:"",topics:""}}}),getters:{},actions:{}});var EContextMenuInfoType=(i=>(i.Copy="Copy",i.Delete="Delete",i.MoveUpOneLevel="MoveUpOneLevel",i.MoveDownOneLevel="MoveDownOneLevel",i.MoveUpTopLevel="MoveUpTopLevel",i.MoveDownTopLevel="MoveDownTopLevel",i))(EContextMenuInfoType||{});const useEditPrivateStore=pinia$1.defineStore("edit-private-store",{state:()=>({old_done_components:[],history_doneComponent:[],history_now_index:0,is_record_history:!0,max_record_times:10}),getters:{getTopBtnUndoStatus(i){return i.history_now_index>=1},getTopBtnRedoStatus(i){return i.history_now_index+1!=i.history_doneComponent.length}},actions:{topUndoBtnClick(){if(console.log("撤销"),this.history_now_index<1)return;const i=useGlobalStore();this.is_record_history=!1,this.history_now_index-=1,i.setDoneJson(this.history_doneComponent[this.history_now_index])},topRedoBtnClick(){if(console.log("重做"),this.history_now_index+1==this.history_doneComponent.length)return;const i=useGlobalStore();this.is_record_history=!1,this.history_now_index+=1,i.setDoneJson(this.history_doneComponent[this.history_now_index])}}}),useContextMenuStore=pinia$1.defineStore("context-menu-store",{state:()=>({display:!1,info:{[EContextMenuInfoType.Copy]:{title:"复制",hot_key:"Ctrl + c",enable:!0},[EContextMenuInfoType.Delete]:{title:"删除",hot_key:"Delete",enable:!0},[EContextMenuInfoType.MoveUpTopLevel]:{title:"置于顶层",hot_key:"Ctrl + →",enable:!0},[EContextMenuInfoType.MoveDownTopLevel]:{title:"置于底层",hot_key:"Ctrl + ←",enable:!0},[EContextMenuInfoType.MoveUpOneLevel]:{title:"置于上一层",hot_key:"Ctrl + ↑",enable:!0},[EContextMenuInfoType.MoveDownOneLevel]:{title:"置于下一层",hot_key:"Ctrl + ↓",enable:!0}}}),actions:{onContextMenuClick(i){const r=useGlobalStore();if(r.handle_svg_info)switch(r.intention=EGlobalStoreIntention.Select,i){case EContextMenuInfoType.Copy:const n=objectDeepClone(r.handle_svg_info.info);n.id=randomString(),n.title+="-copy",n.x+=10,n.y+=10,r.setDoneJson(n),this.display=!1,r.setHandleSvgInfo(n,r.done_json.length);break;case EContextMenuInfoType.Delete:r.spliceDoneJson(r.handle_svg_info.index),this.display=!1,r.setHandleSvgInfo(null),r.intention=EGlobalStoreIntention.None;break;case EContextMenuInfoType.MoveUpOneLevel:if(r.done_json.length===1||r.handle_svg_info.index===r.done_json.length-1)return;const o=r.handle_svg_info.info;r.done_json[r.handle_svg_info.index]=r.done_json[r.handle_svg_info.index+1],r.done_json[r.handle_svg_info.index+1]=o,useHistoryRecord(r.done_json),this.display=!1,r.setHandleSvgInfo(o,r.handle_svg_info.index+1);break;case EContextMenuInfoType.MoveDownOneLevel:if(r.done_json.length===1||r.handle_svg_info.index===0)return;const a=r.handle_svg_info.info;r.done_json[r.handle_svg_info.index]=r.done_json[r.handle_svg_info.index-1],r.done_json[r.handle_svg_info.index-1]=a,useHistoryRecord(r.done_json),this.display=!1,r.setHandleSvgInfo(a,r.handle_svg_info.index-1);break;case EContextMenuInfoType.MoveDownTopLevel:if(r.done_json.length===1||r.handle_svg_info.index===0)return;const u=r.handle_svg_info.info;r.done_json.splice(r.handle_svg_info.index,1),r.done_json.unshift(u),useHistoryRecord(r.done_json),this.display=!1,r.setHandleSvgInfo(u,0);break;case EContextMenuInfoType.MoveUpTopLevel:if(r.done_json.length===1||r.handle_svg_info.index===r.done_json.length)return;const c=r.handle_svg_info.info;r.done_json.splice(r.handle_svg_info.index,1),r.done_json.push(c),useHistoryRecord(r.done_json),this.display=!1,r.setHandleSvgInfo(c,r.done_json.length-1);break}}}}),pinia=pinia$1.createPinia(),useHistoryRecord=i=>{const r=useEditPrivateStore();r.is_record_history&&(r.history_now_index+1<r.history_doneComponent.length&&r.history_doneComponent.splice(r.history_now_index+1),r.history_doneComponent.push(i),r.history_now_index=r.history_doneComponent.length-1,r.history_doneComponent.length>r.max_record_times&&(r.history_doneComponent.shift(),r.history_now_index=r.history_doneComponent.length-1)),r.is_record_history=!0},useImportDataModel=i=>{try{const r=JSON.parse(i);if(!r.config||!r.layout_center||!r.done_json)return elementPlus.ElMessage.error("请导入正确的数据模型！"),!1;const n=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia);return a.$state=r.config,o.center_offset=r.layout_center,n.setDoneJson(r.done_json),!0}catch(r){return elementPlus.ElMessage.error("请导入正确的数据模型！"),console.error(r),!1}},_hoisted_1$e={"aria-hidden":"true"},_hoisted_2$c=["xlink:href"],_sfc_main$E=vue.defineComponent({__name:"svg-analysis",props:{name:{},props:{default:()=>({})}},setup(i){const r=i,n=vue.computed(()=>`#svg-${r.name}`);return(o,a)=>(vue.openBlock(),vue.createElementBlock("svg",_hoisted_1$e,[vue.createElementVNode("use",vue.mergeProps({"xlink:href":vue.unref(n)},r.props),null,16,_hoisted_2$c)]))}});var EVisibleConfKey=(i=>(i.ImportJson="ImportJson",i.ExportJson="ExportJson",i.ImportFile="ImportFile",i))(EVisibleConfKey||{});const _withScopeId$2=i=>(vue.pushScopeId("data-v-01c79e12"),i=i(),vue.popScopeId(),i),_hoisted_1$d={class:"flex justify-between",style:{width:"100%"}},_hoisted_2$b={class:"flex items-center justify-between",style:{width:"250px"}},_hoisted_3$9=_withScopeId$2(()=>vue.createElementVNode("div",{class:"flex items-center"},[vue.createElementVNode("span",{class:"logo-title"},"Svg Editor")],-1)),_hoisted_4$7={class:"flex justify-between",style:{width:"calc(100% - 440px)"}},_hoisted_5$6={class:"flex items-center"},_hoisted_6$5={class:"flex items-center mr-20px"},_hoisted_7$5={class:"flex items-center",style:{width:"250px"}},_hoisted_8$4=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title",style:{"padding-top":"16px"}},"多选",-1)),_hoisted_9$4=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区域按住鼠标左键可以框选（图形坐标在框选区域即判定被选中），也可以按住ctrl+鼠标左键点图形进行多选",-1)),_hoisted_10$3=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_11$2=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"拖动画布",-1)),_hoisted_12$1=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区域按住右键可拖动画布，右侧面板‘图纸’栏可微调或重置位置",-1)),_hoisted_13$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_14$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"画布缩放",-1)),_hoisted_15$1=_withScopeId$2(()=>vue.createElementVNode("div",null,"在画布空白区使用鼠标滚轮或者右侧面板‘图纸’栏可控制画布缩放",-1)),_hoisted_16$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_17$1=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"标尺辅助线",-1)),_hoisted_18$1=_withScopeId$2(()=>vue.createElementVNode("div",null,"在标尺区域按住鼠标左键并拖动即可创建标尺辅助线，将标尺辅助线拖动到标尺区域即可删除标尺辅助线",-1)),_hoisted_19=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_20=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"组件尺寸",-1)),_hoisted_21=_withScopeId$2(()=>vue.createElementVNode("div",null,[vue.createElementVNode("p",null," 大多数组件可以通过选中组件然后拖动交互点或在右侧‘外观’栏改变外形尺寸，或通过右侧‘数据’栏直接或间接改变外形尺寸；"),vue.createElementVNode("p",null,"少数特殊组件仅可通过右侧'数据'栏直接或间接改变外形尺寸")],-1)),_hoisted_22=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_23=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"连线样式",-1)),_hoisted_24=_withScopeId$2(()=>vue.createElementVNode("div",null,"在右侧‘连线’栏可以统一配置连线样式，配置后先增加的线会应用新样式，之前的线样式不变，如需改变，可选中线手动更改或删除重画 ",-1)),_hoisted_25=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_26=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"横线和竖线",-1)),_hoisted_27=_withScopeId$2(()=>vue.createElementVNode("div",{class:"guide-text"},[vue.createElementVNode("p",null," 点击编辑器顶部连线按钮会进入连线状态，该状态下在画板点击鼠标左键即可开始画线，移动并再次点击左键创建新的节点，右键结束画线并退出连线状态；"),vue.createElementVNode("p",null,"画线的时候按住ctrl即可画竖线，按住shift即可画横线")],-1)),_hoisted_28=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_29=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"绑定锚点",-1)),_hoisted_30=_withScopeId$2(()=>vue.createElementVNode("div",{class:"guide-text"},[vue.createElementVNode("p",null,"组件在未选中时，鼠标经过组件时会出现锚点，鼠标悬浮在锚点上时，会有交互样式，点击左键即可以锚点为起点创建连线；"),vue.createElementVNode("p",null,"同样，在连线时鼠标经过锚点时，会出现锚点交互样式，点击左键即可以锚点为连线终点结束连线；"),vue.createElementVNode("p",null,"这两种情况下的连线会绑定组件上的锚点，如需解绑，参考下面的‘锚点解绑’；"),vue.createElementVNode("p",null,"同样，也可先画线，再选中连线绑定想要绑定的组件锚点（连线只有首尾节点可以绑定锚点）")],-1)),_hoisted_31=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_32=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"线段选中",-1)),_hoisted_33=_withScopeId$2(()=>vue.createElementVNode("div",null," 若线段绑定了锚点，移动线段，绑定的锚点不会移动。若是想将线段整体移动，需要先解绑，参考下面的‘锚点解绑’ ",-1)),_hoisted_34=_withScopeId$2(()=>vue.createElementVNode("div",{class:"el-divider el-divider--horizontal",role:"separator",style:{"--el-border-style":"solid"}},null,-1)),_hoisted_35=_withScopeId$2(()=>vue.createElementVNode("div",{class:"font-bold mb-10px text-15px guide-title"},"锚点解绑",-1)),_hoisted_36=_withScopeId$2(()=>vue.createElementVNode("div",{style:{"padding-bottom":"14px"}}," 选中线段，在右侧‘数据’栏里解除绑定；或者鼠标左键拖拽连线上需要解绑的节点",-1)),_sfc_main$D=vue.defineComponent({__name:"top-panel",emits:["changeVisible","onReturn","onPreview","onSave"],setup(i,{emit:r}){const n=useSvgEditLayoutStore(pinia),o=useGlobalStore(pinia),a=useEditPrivateStore(pinia),u=useConfigStore(pinia),c=r,d=()=>{o.done_json.length<=0||o.setDoneJson([]),o.intention=EGlobalStoreIntention.None},f=g=>{const p={layout_center:n.center_offset,config:u.$state,done_json:o.done_json};c(g,p)},h=vue.ref(!1),y=vue.computed({get:()=>o.intention===EGlobalStoreIntention.Connection,set(g){o.intention=g?EGlobalStoreIntention.Connection:EGlobalStoreIntention.None,g&&o.setHandleSvgInfo(null)}});return(g,p)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("div",_hoisted_1$d,[vue.createElementVNode("div",_hoisted_2$b,[_hoisted_3$9,vue.createVNode(vue.unref(elementPlus.ElIcon),{size:24,class:"bt-Icon",onClick:p[0]||(p[0]=v=>vue.unref(n).left_nav=!vue.unref(n).left_nav),title:vue.unref(n).left_nav?"隐藏左侧菜单":"显示左侧菜单"},{default:vue.withCtx(()=>[vue.unref(n).left_nav?(vue.openBlock(),vue.createBlock(_sfc_main$E,{key:0,name:"menu-unfold"})):(vue.openBlock(),vue.createBlock(_sfc_main$E,{key:1,name:"menu-fold"}))]),_:1},8,["title"])]),vue.createElementVNode("div",_hoisted_4$7,[vue.createElementVNode("div",_hoisted_5$6,[vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"撤销 ctrl+z",size:24,class:vue.normalizeClass(`${vue.unref(a).getTopBtnUndoStatus?"bt-Icon":"icon-disable"} ml-20px`),onClick:p[1]||(p[1]=()=>vue.unref(a).topUndoBtnClick())},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:vue.unref(a).getTopBtnUndoStatus?"undo":"undo-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"重做 ctrl+shift+z",class:vue.normalizeClass(`${vue.unref(a).getTopBtnRedoStatus?"bt-Icon":"icon-disable"} ml-5px`),size:24,onClick:p[2]||(p[2]=()=>vue.unref(a).topRedoBtnClick())},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:vue.unref(a).getTopBtnRedoStatus?"redo":"redo-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"清空 ctrl+delete",class:vue.normalizeClass(vue.unref(o).done_json.length>0?"bt-Icon":"icon-disable"),size:24,onClick:d},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:vue.unref(o).done_json.length>0?"delete":"delete-gray"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"导入数据模型",class:"bt-Icon",size:24,onClick:p[3]||(p[3]=v=>c("changeVisible",vue.unref(EVisibleConfKey).ImportJson,!0))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"import"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"导出数据模型",size:24,class:"bt-Icon ml-5px",onClick:p[4]||(p[4]=v=>c("changeVisible",vue.unref(EVisibleConfKey).ExportJson,!0))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"export"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"创建连线",class:vue.normalizeClass(["bt-Icon",{active:vue.unref(y)}]),size:24,onClick:p[5]||(p[5]=v=>y.value=!vue.unref(y))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:vue.unref(y)?"line-active":"line"},null,8,["name"])]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"说明",class:"bt-Icon",size:24,onClick:p[6]||(p[6]=v=>h.value=!vue.unref(h))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"question"})]),_:1})]),vue.createElementVNode("div",_hoisted_6$5,[vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"返回",class:"bt-Icon",size:24,onClick:p[7]||(p[7]=v=>f("onReturn"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"return"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"保存",class:"bt-Icon",size:24,onClick:p[8]||(p[8]=v=>f("onSave"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"save"})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDivider),{direction:"vertical"}),vue.createVNode(vue.unref(elementPlus.ElIcon),{title:"预览",class:"bt-Icon",size:22,onClick:p[9]||(p[9]=v=>f("onPreview"))},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"preview"})]),_:1})])]),vue.createElementVNode("div",_hoisted_7$5,[vue.createVNode(vue.unref(elementPlus.ElIcon),{size:24,class:"bt-Icon",onClick:p[10]||(p[10]=v=>vue.unref(n).right_nav=!vue.unref(n).right_nav),title:vue.unref(n).right_nav?"隐藏右侧菜单":"显示右侧菜单"},{default:vue.withCtx(()=>[vue.unref(n).right_nav?(vue.openBlock(),vue.createBlock(_sfc_main$E,{key:0,name:"menu-fold"})):(vue.openBlock(),vue.createBlock(_sfc_main$E,{key:1,name:"menu-unfold"}))]),_:1},8,["title"])])]),vue.createVNode(vue.unref(elementPlus.ElDialog),{modelValue:vue.unref(h),"onUpdate:modelValue":p[11]||(p[11]=v=>vue.isRef(h)?h.value=v:null),title:"使用说明",width:"60%"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{"max-height":"60vh"},{default:vue.withCtx(()=>[_hoisted_8$4,_hoisted_9$4,_hoisted_10$3,_hoisted_11$2,_hoisted_12$1,_hoisted_13$1,_hoisted_14$1,_hoisted_15$1,_hoisted_16$1,_hoisted_17$1,_hoisted_18$1,_hoisted_19,_hoisted_20,_hoisted_21,_hoisted_22,_hoisted_23,_hoisted_24,_hoisted_25,_hoisted_26,_hoisted_27,_hoisted_28,_hoisted_29,_hoisted_30,_hoisted_31,_hoisted_32,_hoisted_33,_hoisted_34,_hoisted_35,_hoisted_36]),_:1})]),_:1},8,["modelValue"])],64))}}),topPanel_vue_vue_type_style_index_0_scoped_01c79e12_lang="",TopPanel=_export_sfc$1(_sfc_main$D,[["__scopeId","data-v-01c79e12"]]),_hoisted_1$c={class:"component-group flex flex-wrap"},_hoisted_2$a=["onDragstart","title"],_sfc_main$C=vue.defineComponent({__name:"left-panel",props:{customToolbar:{}},setup(i){const r=useGlobalStore(pinia),n=i,o=vue.ref(n.customToolbar&&Object.keys(n.customToolbar).length>0?n.customToolbar:r.config_center),a=vue.ref(["stateful","stateless","have_animation","custom_svg_group","element-ui","custom-vue","echarts"]),u=f=>{r.setCreateInfo(c(f))},c=f=>(f!=null&&f.props&&!lodashEs.isEmpty(f.props)&&Object.keys(f.props).forEach((h,y)=>{f.props[h].sort=String(y)}),f),d=f=>{var h;if(((h=f.dataTransfer)==null?void 0:h.dropEffect)!=="copy"){elementPlus.ElMessage.warning("请将组件拖到画布中!"),r.intention=EGlobalStoreIntention.None;return}};return(f,h)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(a),"onUpdate:modelValue":h[0]||(h[0]=y=>vue.isRef(a)?a.value=y:null),style:{"border-top":"none"}},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(o),y=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElCollapseItem),{name:y.groupType,key:y.title},{title:vue.withCtx(()=>[vue.createElementVNode("div",null,vue.toDisplayString(y.title),1)]),default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$c,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(y.list,g=>(vue.openBlock(),vue.createElementBlock("div",{class:"ideal",key:g.name,draggable:"true",onDragstart:p=>u(g),onDragend:d,title:g.title},[vue.createVNode(vue.unref(elementPlus.ElIcon),{size:35,class:"flex items-center"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:g.name,props:vue.unref(prosToVBind)(g,["width","height","maxHeight"])},null,8,["name","props"])]),_:2},1024)],40,_hoisted_2$a))),128))])]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]))}}),leftPanel_vue_vue_type_style_index_0_scoped_8aba8565_lang="",LeftPanel=_export_sfc$1(_sfc_main$C,[["__scopeId","data-v-8aba8565"]]),calculateLeftTop=(i,r,n)=>{const o=getCenterPoint(i,r),a=calculateRotatedPointCoordinate(i,o,-n),u=calculateRotatedPointCoordinate(r,o,-n);return{width:u.x-a.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateRightTop=(i,r,n)=>{const o=getCenterPoint(i,r),a=calculateRotatedPointCoordinate(i,o,-n),u=calculateRotatedPointCoordinate(r,o,-n);return{width:a.x-u.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateRightBottom=(i,r,n)=>{const o=getCenterPoint(i,r),a=calculateRotatedPointCoordinate(r,o,-n),u=calculateRotatedPointCoordinate(i,o,-n);return{width:u.x-a.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateLeftBottom=(i,r,n)=>{const o=getCenterPoint(i,r),a=calculateRotatedPointCoordinate(r,o,-n),u=calculateRotatedPointCoordinate(i,o,-n);return{width:a.x-u.x,height:u.y-a.y,is_old_width:!1,is_old_height:!1}},calculateTop=(i,r,n,o)=>{const a=calculateRotatedPointCoordinate(i,o,-n),u=calculateRotatedPointCoordinate({x:o.x,y:a.y},o,n),c=Math.sqrt((u.x-r.x)**2+(u.y-r.y)**2);return{width:1,height:Math.round(c),is_old_width:!0,is_old_height:!1}},calculateRight=(i,r,n,o)=>{const a=calculateRotatedPointCoordinate(i,o,-n),u=calculateRotatedPointCoordinate({x:a.x,y:o.y},o,n),c=Math.sqrt((u.x-r.x)**2+(u.y-r.y)**2);return{width:Math.round(c),height:1,is_old_width:!1,is_old_height:!0}},calculateBottom=(i,r,n,o)=>{const a=calculateRotatedPointCoordinate(i,o,-n),u=calculateRotatedPointCoordinate({x:o.x,y:a.y},o,n),c=Math.sqrt((u.x-r.x)**2+(u.y-r.y)**2);return{width:1,height:Math.round(c),is_old_width:!0,is_old_height:!1}},calculateLeft=(i,r,n,o)=>{const a=calculateRotatedPointCoordinate(i,o,-n),u=calculateRotatedPointCoordinate({x:a.x,y:o.y},o,n),c=Math.sqrt((u.x-r.x)**2+(u.y-r.y)**2);return{width:Math.round(c),height:1,is_old_width:!1,is_old_height:!0}},_hoisted_1$b={style:{"vector-effect":"non-scaling-stroke"}},_hoisted_2$9=["fill","x","y"],_hoisted_3$8=["cx","cy"],_hoisted_4$6=["x1","y1","x2","y2"],_hoisted_5$5=["fill","x","y"],_hoisted_6$4=["fill","x","y"],_hoisted_7$4=["fill","x","y"],_hoisted_8$3=["fill","x","y"],_hoisted_9$3=["fill","x","y"],_hoisted_10$2=["fill","x","y"],_hoisted_11$1=["fill","x","y"],_sfc_main$B=vue.defineComponent({__name:"handle-panel",props:{itemInfo:{}},setup(i){vue.useCssVars(p=>({"5c831aea":vue.unref(c)}));const r=i,n=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=vue.ref(4),c=vue.ref("#ab712e"),d=[{start:338,end:23,cursor:"nw",type:EScaleInfoType.TopLeft},{start:23,end:68,cursor:"n",type:EScaleInfoType.TopCenter},{start:68,end:113,cursor:"ne",type:EScaleInfoType.TopRight},{start:293,end:338,cursor:"w",type:EScaleInfoType.Left},{start:113,end:158,cursor:"e",type:EScaleInfoType.Right},{start:248,end:293,cursor:"sw",type:EScaleInfoType.BottomLeft},{start:203,end:248,cursor:"s",type:EScaleInfoType.BottomCenter},{start:158,end:203,cursor:"se",type:EScaleInfoType.BottomRight}],f=vue.computed(()=>r.itemInfo.config.can_zoom),h=(p,v)=>{console.log("handMousedown",v);const{clientX:_,clientY:b}=v;v.stopPropagation(),n.intention=EGlobalStoreIntention.Zoom;const A=Math.round((_-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),w=Math.round((b-a.canvasInfo.top)/o.svg.scale-a.center_offset.y);n.mouse_info={state:EMouseInfoState.Down,position_x:A,position_y:w,now_position_x:A,now_position_y:w,new_position_x:0,new_position_y:0},n.scale_info={type:p,scale_times:{x:r.itemInfo.scale_x,y:r.itemInfo.scale_y},scale_item_info:{x:r.itemInfo.x,y:r.itemInfo.y},symmetric_point:{x:A+Math.abs(A-r.itemInfo.center_position.x)*2*(A>r.itemInfo.center_position.x?-1:1),y:w+Math.abs(w-r.itemInfo.center_position.y)*2*(w>r.itemInfo.center_position.y?-1:1)}}},y=p=>{const{clientX:v,clientY:_}=p,b=Math.round((v-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),A=Math.round((_-a.canvasInfo.top)/o.svg.scale-a.center_offset.y);p.stopPropagation(),n.intention=EGlobalStoreIntention.Rotate,n.rotate_info={angle:r.itemInfo.rotate},n.mouse_info={state:EMouseInfoState.Down,position_x:b,position_y:A,now_position_x:b,now_position_y:A,new_position_x:0,new_position_y:0}},g=p=>{const v=(p+r.itemInfo.rotate)%360,_=d.find(b=>b.start<=v&&b.end>v);return _?{cursor:_.cursor+"-resize",type:_.type}:{cursor:"nw-resize",type:EScaleInfoType.TopLeft}};return(p,v)=>(vue.openBlock(),vue.createElementBlock("g",_hoisted_1$b,[vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tl",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(0).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:r.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.width,r.itemInfo.scale_x),y:r.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:v[0]||(v[0]=_=>h(vue.unref(EScaleInfoType).TopLeft,_))},null,44,_hoisted_2$9),[[vue.vShow,vue.unref(f)]]),vue.createElementVNode("circle",{cx:r.itemInfo.actual_bound.x+r.itemInfo.actual_bound.width/2,cy:r.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y)-24,r:4,class:"rotate-circle",onMousedown:y},null,40,_hoisted_3$8),vue.createElementVNode("line",{x1:r.itemInfo.actual_bound.x+r.itemInfo.actual_bound.width/2,y1:r.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y),x2:r.itemInfo.actual_bound.x+r.itemInfo.actual_bound.width/2,y2:r.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y)-20,style:vue.normalizeStyle({stroke:vue.unref(c),"stroke-width":2})},null,12,_hoisted_4$6),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tc",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(45).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:r.itemInfo.actual_bound.x+r.itemInfo.actual_bound.width/2-vue.unref(u),y:r.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:v[1]||(v[1]=_=>h(vue.unref(EScaleInfoType).TopCenter,_))},null,44,_hoisted_5$5),[[vue.vShow,vue.unref(f)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_tr",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(90).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:r.itemInfo.actual_bound.x+r.itemInfo.actual_bound.width-vue.unref(u)+vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.width,r.itemInfo.scale_x),y:r.itemInfo.actual_bound.y-vue.unref(u)-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:v[2]||(v[2]=_=>h(vue.unref(EScaleInfoType).TopRight,_))},null,44,_hoisted_6$4),[[vue.vShow,vue.unref(f)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_l",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(315).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:r.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.width,r.itemInfo.scale_x),y:r.itemInfo.actual_bound.y-vue.unref(u)+r.itemInfo.actual_bound.height*r.itemInfo.scale_y/2-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:v[3]||(v[3]=_=>h(vue.unref(EScaleInfoType).Left,_))},null,44,_hoisted_7$4),[[vue.vShow,vue.unref(f)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_r",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(135).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:r.itemInfo.actual_bound.x-vue.unref(u)+r.itemInfo.actual_bound.width+vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.width,r.itemInfo.scale_x),y:r.itemInfo.actual_bound.y-vue.unref(u)+r.itemInfo.actual_bound.height*r.itemInfo.scale_y/2-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:v[4]||(v[4]=_=>h(vue.unref(EScaleInfoType).Right,_))},null,44,_hoisted_8$3),[[vue.vShow,vue.unref(f)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_bl",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(270).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:r.itemInfo.actual_bound.x-vue.unref(u)-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.width,r.itemInfo.scale_x),y:r.itemInfo.actual_bound.y-vue.unref(u)+r.itemInfo.actual_bound.height*r.itemInfo.scale_y-vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:v[5]||(v[5]=_=>h(vue.unref(EScaleInfoType).BottomLeft,_))},null,44,_hoisted_9$3),[[vue.vShow,vue.unref(f)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_bc",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(225).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:r.itemInfo.actual_bound.x-vue.unref(u)+r.itemInfo.actual_bound.width/2,y:r.itemInfo.actual_bound.y-vue.unref(u)+r.itemInfo.actual_bound.height+vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:v[6]||(v[6]=_=>h(vue.unref(EScaleInfoType).BottomCenter,_))},null,44,_hoisted_10$2),[[vue.vShow,vue.unref(f)]]),vue.withDirectives(vue.createElementVNode("rect",{id:"resize_br",width:"8",height:"8",fill:vue.unref(c),style:vue.normalizeStyle({cursor:g(180).cursor,"vector-effect":"non-scaling-stroke"}),"pointer-events":"all",x:r.itemInfo.actual_bound.x-vue.unref(u)+r.itemInfo.actual_bound.width+vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.width,r.itemInfo.scale_x),y:r.itemInfo.actual_bound.y-vue.unref(u)+r.itemInfo.actual_bound.height+vue.unref(getCoordinateOffset)(r.itemInfo.actual_bound.height,r.itemInfo.scale_y),stroke:"rgba(0,0,0,0)",onMousedown:v[7]||(v[7]=_=>h(vue.unref(EScaleInfoType).BottomRight,_))},null,44,_hoisted_11$1),[[vue.vShow,vue.unref(f)]])]))}}),handlePanel_vue_vue_type_style_index_0_scoped_e6622df8_lang="",HandlePanel=_export_sfc$1(_sfc_main$B,[["__scopeId","data-v-e6622df8"]]),_hoisted_1$a=["fill"],_hoisted_2$8=["cx","cy","r"],_hoisted_3$7=["cx","cy","r"],_hoisted_4$5=["cx","cy","r"],_hoisted_5$4=["cx","cy","r"],_hoisted_6$3=["cx","cy","r"],_hoisted_7$3=["cx","cy","r"],_hoisted_8$2=["cx","cy","r"],_hoisted_9$2=["cx","cy","r"],_sfc_main$A=vue.defineComponent({__name:"connection-panel",props:{itemInfo:{}},setup(i){const r=i,n=vue.ref(4),o=vue.ref("#ab712e"),a=vue.ref(4),u=vue.ref(12),c=useGlobalStore(pinia),d=useSvgEditLayoutStore(pinia),f=vue.computed(()=>r.itemInfo.actual_bound.x+r.itemInfo.actual_bound.width/2-n.value+a.value),h=vue.computed(()=>r.itemInfo.actual_bound.y-n.value-getCoordinateOffset(r.itemInfo.actual_bound.height,r.itemInfo.scale_y)+a.value),y=vue.computed(()=>r.itemInfo.actual_bound.x-n.value+r.itemInfo.actual_bound.width+getCoordinateOffset(r.itemInfo.actual_bound.width,r.itemInfo.scale_x)+a.value),g=vue.computed(()=>r.itemInfo.actual_bound.y-n.value+r.itemInfo.actual_bound.height*r.itemInfo.scale_y/2-getCoordinateOffset(r.itemInfo.actual_bound.height,r.itemInfo.scale_y)+a.value),p=vue.computed(()=>r.itemInfo.actual_bound.x-n.value+r.itemInfo.actual_bound.width/2+a.value),v=vue.computed(()=>r.itemInfo.actual_bound.y-n.value+r.itemInfo.actual_bound.height+getCoordinateOffset(r.itemInfo.actual_bound.height,r.itemInfo.scale_y)+a.value),_=vue.computed(()=>r.itemInfo.actual_bound.x-n.value-getCoordinateOffset(r.itemInfo.actual_bound.width,r.itemInfo.scale_x)+a.value),b=vue.computed(()=>r.itemInfo.actual_bound.y-n.value+r.itemInfo.actual_bound.height*r.itemInfo.scale_y/2-getCoordinateOffset(r.itemInfo.actual_bound.height,r.itemInfo.scale_y)+a.value),A=(S,T)=>{var x;c.intention===EGlobalStoreIntention.SetConnectionLineNode&&(S.stopPropagation(),(x=c.handle_svg_info)!=null&&x.info.bind_anchors&&c.connection_line_node_info&&(c.connection_line_node_info.point_index===0?c.handle_svg_info.info.bind_anchors.start={type:T,target_id:r.itemInfo.id}:c.connection_line_node_info.point_index===c.handle_svg_info.info.props.point_position.val.length-1&&(c.handle_svg_info.info.bind_anchors.end={type:T,target_id:r.itemInfo.id}),c.intention=EGlobalStoreIntention.None,c.setHandleSvgInfo(null),vue.nextTick(function(){moveAnchors(r.itemInfo)})))},w=(S,T)=>{var x;c.intention===EGlobalStoreIntention.None?(createLine(S,T,r.itemInfo),c.handle_svg_info&&(c.handle_svg_info.info.props.point_position.val.length!==1?c.handle_svg_info.info.props.point_position.val.push({x:c.mouse_info.new_position_x-c.mouse_info.position_x-d.center_offset.x,y:c.mouse_info.new_position_y-c.mouse_info.position_y-d.center_offset.y}):c.handle_svg_info.info.props.point_position.val.push({x:0,y:0}))):c.intention===EGlobalStoreIntention.Connection&&(S.stopPropagation(),(x=c.handle_svg_info)!=null&&x.info.bind_anchors&&(c.handle_svg_info.info.bind_anchors.end={type:T,target_id:r.itemInfo.id},c.intention=EGlobalStoreIntention.None,c.setHandleSvgInfo(null),vue.nextTick(function(){moveAnchors(r.itemInfo)})))};return(S,T)=>(vue.openBlock(),vue.createElementBlock("g",{style:{"vector-effect":"non-scaling-stroke"},class:"connect-points",fill:vue.unref(o),"stroke-width":"2",stroke:"rgba(0,0,0,0)"},[vue.createElementVNode("g",{onMousedown:T[0]||(T[0]=x=>w(x,vue.unref(ELineBindAnchors).TopCenter)),onMouseup:T[1]||(T[1]=x=>A(x,vue.unref(ELineBindAnchors).TopCenter))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(f),cy:vue.unref(h),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_2$8),vue.createElementVNode("circle",{id:"connection_tc",cx:vue.unref(f),cy:vue.unref(h),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_3$7)],32),vue.createElementVNode("g",{onMousedown:T[2]||(T[2]=x=>w(x,vue.unref(ELineBindAnchors).Right)),onMouseup:T[3]||(T[3]=x=>A(x,vue.unref(ELineBindAnchors).Right))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(y),cy:vue.unref(g),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_4$5),vue.createElementVNode("circle",{id:"connection_r",cx:vue.unref(y),cy:vue.unref(g),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_5$4)],32),vue.createElementVNode("g",{onMousedown:T[4]||(T[4]=x=>w(x,vue.unref(ELineBindAnchors).BottomCenter)),onMouseup:T[5]||(T[5]=x=>A(x,vue.unref(ELineBindAnchors).BottomCenter))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(p),cy:vue.unref(v),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_6$3),vue.createElementVNode("circle",{id:"connection_bc",cx:vue.unref(p),cy:vue.unref(v),r:vue.unref(a),"pointer-events":"all"},null,8,_hoisted_7$3)],32),vue.createElementVNode("g",{onMousedown:T[6]||(T[6]=x=>w(x,vue.unref(ELineBindAnchors).Left)),onMouseup:T[7]||(T[7]=x=>A(x,vue.unref(ELineBindAnchors).Left))},[vue.createElementVNode("circle",{class:"out-circle",cx:vue.unref(_),cy:vue.unref(b),r:vue.unref(u),"fill-opacity":".3"},null,8,_hoisted_8$2),vue.createElementVNode("circle",{id:"connection_l",cx:vue.unref(_),cy:vue.unref(b),r:vue.unref(a),style:{cursor:"crosshair"},"pointer-events":"all"},null,8,_hoisted_9$2)],32)],8,_hoisted_1$a))}}),connectionPanel_vue_vue_type_style_index_0_scoped_fb729c7a_lang="",ConnectionPanel=_export_sfc$1(_sfc_main$A,[["__scopeId","data-v-fb729c7a"]]),_hoisted_1$9=["d","stroke-width"],_hoisted_2$7=["d","stroke-width"],_hoisted_3$6=["id","d","stroke","stroke-width","stroke-dasharray"],_hoisted_4$4=["from","to","dur","repeatCount"],_hoisted_5$3=["d","stroke","stroke-width","stroke-dasharray"],_hoisted_6$2=["from","to","dur","repeatCount"],_hoisted_7$2=["r","fill"],_hoisted_8$1=["path","dur","repeatCount"],_hoisted_9$1=["cx","cy","r","stroke-width"],_hoisted_10$1=["cx","cy","r","stroke","onMousedown"],_sfc_main$z=vue.defineComponent({__name:"connection-line",props:{itemInfo:{},pointVisible:{type:Boolean,default:!1}},setup(i){const r=i,n=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=(c,d,f,h)=>{if(n.intention===EGlobalStoreIntention.Connection)return;n.setHandleSvgInfo(r.itemInfo);const{clientX:y,clientY:g}=d;d.stopPropagation(),n.connection_line_node_info={init_pos:{x:f,y:h},point_index:c},n.intention=EGlobalStoreIntention.SetConnectionLineNode,n.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((y-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((g-a.canvasInfo.top)/o.svg.scale),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0}};return(c,d)=>{var f,h,y,g,p,v;return vue.openBlock(),vue.createElementBlock("g",{style:vue.normalizeStyle({cursor:vue.unref(n).intention===vue.unref(EGlobalStoreIntention).Connection?"crosshair":"move"})},[vue.withDirectives(vue.createElementVNode("path",{d:vue.unref(positionArrToPath)(r.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:"#DE4517","stroke-width":Math.ceil(r.itemInfo.props["stroke-width"].val*1.2)+1,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_1$9),[[vue.vShow,r.itemInfo.selected||r.itemInfo.id===((f=vue.unref(n).handle_svg_info)==null?void 0:f.info.id)]]),vue.createElementVNode("path",{d:vue.unref(positionArrToPath)(r.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:"#fff","stroke-opacity":".01","stroke-width":r.itemInfo.props["stroke-width"].val,"stroke-linecap":"round","stroke-linejoin":"round"},null,8,_hoisted_2$7),vue.createElementVNode("path",{id:r.itemInfo.id,d:vue.unref(positionArrToPath)(r.itemInfo.props.point_position.val),fill:"none",stroke:((h=r.itemInfo.animations)==null?void 0:h.type.val)===vue.unref(EConfigAnimationsType).Electricity?r.itemInfo.animations.color.val:r.itemInfo.props.stroke.val,"stroke-width":r.itemInfo.props["stroke-width"].val,"stroke-dashoffset":"0","stroke-dasharray":((y=r.itemInfo.animations)==null?void 0:y.type.val)===vue.unref(EConfigAnimationsType).Electricity?r.itemInfo.props["stroke-width"].val*3:0,"stroke-linejoin":"round"},[((g=r.itemInfo.animations)==null?void 0:g.type.val)===vue.unref(EConfigAnimationsType).Electricity?(vue.openBlock(),vue.createElementBlock("animate",{key:0,attributeName:"stroke-dashoffset",from:r.itemInfo.animations.reverse.val?0:1e3,to:r.itemInfo.animations.reverse.val?1e3:0,dur:`${r.itemInfo.animations.dur.val}s`,repeatCount:r.itemInfo.animations.repeatCount.val},null,8,_hoisted_4$4)):vue.createCommentVNode("",!0)],8,_hoisted_3$6),((p=r.itemInfo.animations)==null?void 0:p.type.val)===vue.unref(EConfigAnimationsType).WaterDrop?(vue.openBlock(),vue.createElementBlock("path",{key:0,d:vue.unref(positionArrToPath)(r.itemInfo.props.point_position.val),fill:"none","fill-opacity":"0",stroke:r.itemInfo.animations.color.val,"stroke-width":r.itemInfo.props["stroke-width"].val,"stroke-dasharray":r.itemInfo.props["stroke-width"].val*3,"stroke-dashoffset":"0","stroke-linecap":"round","stroke-linejoin":"round"},[vue.createElementVNode("animate",{attributeName:"stroke-dashoffset",from:r.itemInfo.animations.reverse.val?0:1e3,to:r.itemInfo.animations.reverse.val?1e3:0,dur:`${r.itemInfo.animations.dur.val}s`,repeatCount:r.itemInfo.animations.repeatCount.val,fill:"freeze"},null,8,_hoisted_6$2)],8,_hoisted_5$3)):((v=r.itemInfo.animations)==null?void 0:v.type.val)===vue.unref(EConfigAnimationsType).Track?(vue.openBlock(),vue.createElementBlock("circle",{key:1,cx:"0",cy:"0",r:Math.ceil(r.itemInfo.props["stroke-width"].val*.6)+2,fill:r.itemInfo.animations.color.val},[vue.createElementVNode("animateMotion",{path:vue.unref(positionArrToPath)(r.itemInfo.animations.reverse.val?[...r.itemInfo.props.point_position.val].reverse():r.itemInfo.props.point_position.val),dur:`${r.itemInfo.animations.dur.val}s`,repeatCount:r.itemInfo.animations.repeatCount.val},null,8,_hoisted_8$1)],8,_hoisted_7$2)):vue.createCommentVNode("",!0),vue.createElementVNode("g",null,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.itemInfo.props.point_position.val,(_,b)=>{var A;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("circle",{key:b,cx:_.x,cy:_.y,r:r.itemInfo.props.point_r.val+1,fill:"none","fill-opacity":"0","stroke-width":Math.ceil(r.itemInfo.props.point_r.val*.2)+1,stroke:"#DE4517"},null,8,_hoisted_9$1)),[[vue.vShow,r.itemInfo.selected||r.itemInfo.id===((A=vue.unref(n).handle_svg_info)==null?void 0:A.info.id)]])}),128)),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(r.itemInfo.props.point_position.val,(_,b)=>(vue.openBlock(),vue.createElementBlock("circle",{key:b,cx:_.x,cy:_.y,r:r.itemInfo.props.point_r.val,"stroke-width":"1",stroke:r.itemInfo.props.stroke.val,fill:"#fff",style:{cursor:"pointer"},onMousedown:A=>u(b,A,_.x,_.y)},null,40,_hoisted_10$1))),128))])],4)}}}),_hoisted_1$8={style:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0"}},_hoisted_2$6={xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},_hoisted_3$5={id:"pattern_grid",patternUnits:"userSpaceOnUse",x:"0",y:"0",width:"20",height:"20"},_hoisted_4$3=["stroke"],_hoisted_5$2=["stroke"],_hoisted_6$1=["stroke"],_hoisted_7$1=["stroke"],_hoisted_8={key:0,width:"100%",height:"100%",fill:"url(#pattern_grid)"},_hoisted_9=["transform"],_hoisted_10=["transform"],_hoisted_11=["transform","onMousedown","onMouseup","onMouseenter","onMouseleave","onContextmenu"],_hoisted_12=["xlink:href","width","height","id","transform"],_hoisted_13=["id"],_hoisted_14=["id","x1","y1","x2","y2"],_hoisted_15=["id"],_hoisted_16=["x","y","height","width"],_hoisted_17=["onClick"],_hoisted_18={class:"shortcut"},_sfc_main$y=vue.defineComponent({__name:"center-panel",props:{vueComp:{}},setup(i,{expose:r}){vue.useCssVars(Ie=>({"20fb3c82":vue.unref(g)}));const n=useGlobalStore(pinia),o=useConfigStore(pinia),a=useSvgEditLayoutStore(pinia),u=useEditPrivateStore(pinia),c=useContextMenuStore(pinia);componentsRegister(i.vueComp);const f=vue.ref(),h=vue.ref(),y={MoveCanvas:"grab",Rotate:"url('/src/assets/icons/rotate.svg'), auto",Connection:"crosshair",SetConnectionLineNode:"crosshair"},g=vue.computed(()=>Object.keys(y).indexOf(n.intention)>-1?y[n.intention]:"default"),p=vue.reactive({handle_panel:vue.computed(()=>n.intention===EGlobalStoreIntention.Select||n.intention===EGlobalStoreIntention.Zoom||n.intention===EGlobalStoreIntention.Rotate),connection_panel:!1,connection_line:!1,select_item:{info:null,index:-1}}),v=vue.ref({a:{x:0,y:0},b:{x:0,y:0}}),_=vue.computed(()=>n.intention===EGlobalStoreIntention.SelectArea&&v.value.b.x&&v.value.b.y?{with:Math.abs(v.value.b.x-v.value.a.x),height:Math.abs(v.value.b.y-v.value.a.y),x:v.value.a.x<v.value.b.x?v.value.a.x:v.value.b.x,y:v.value.a.y<v.value.b.y?v.value.a.y:v.value.b.y}:{with:0,height:0,x:0,y:0}),b=vue.computed(()=>{let Ie=0;for(let At of n.done_json)At.selected&&Ie++;return Ie>0});let A=!1,w=!1;const S=Ie=>{var At;if(n.intention!=EGlobalStoreIntention.None){if(n.intention==EGlobalStoreIntention.Create){if(!n.create_svg_info){console.error("要创建的数据获取失败");return}const _e=Math.floor(Ie.offsetX/o.svg.scale-a.center_offset.x),qe=Math.floor(Ie.offsetY/o.svg.scale-a.center_offset.y),In={id:randomString(),x:_e,y:qe,client:{x:_e,y:qe},scale_x:1,scale_y:1,rotate:0,actual_bound:{x:0,y:0,width:0,height:0},center_position:{x:0,y:0},point_coordinate:{tl:{x:0,y:0},tc:{x:0,y:0},tr:{x:0,y:0},l:{x:0,y:0},r:{x:0,y:0},bl:{x:0,y:0},bc:{x:0,y:0},br:{x:0,y:0}},selected:!1,...objectDeepClone(n.create_svg_info)};n.setDoneJson(In),n.setHandleSvgInfo(In,n.done_json.length),n.intention=EGlobalStoreIntention.None}(At=h.value)==null||At.focus()}},T=Ie=>{Ie.preventDefault()},x=Ie=>{Ie.preventDefault()},M=(Ie,At,_e)=>{var qe,In,vn;if((qe=h.value)==null||qe.focus(),n.intention===EGlobalStoreIntention.Connection){_e.stopPropagation();return}if(_e.preventDefault(),_e.stopPropagation(),_e.ctrlKey&&_e.button===0)((In=n.handle_svg_info)!=null&&In.index||((vn=n.handle_svg_info)==null?void 0:vn.index)===0)&&(n.done_json[n.handle_svg_info.index].selected=!0,n.setHandleSvgInfo(null),n.intention=EGlobalStoreIntention.None),Ie.selected=!Ie.selected;else if(b.value){n.intention=EGlobalStoreIntention.GroupMove,n.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((_e.clientX-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((_e.clientY-a.canvasInfo.top)/o.svg.scale),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0};for(let Pt of n.done_json)Pt.selected&&(Pt.old_position={x:Pt.x,y:Pt.y},Pt.point_coordinate_old=objectDeepClone(Pt.point_coordinate))}else n.intention=EGlobalStoreIntention.Select,n.setHandleSvgInfo(Ie,At),n.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((_e.clientX-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((_e.clientY-a.canvasInfo.top)/o.svg.scale),now_position_x:Ie.x,now_position_y:Ie.y,new_position_x:0,new_position_y:0},Ie.point_coordinate_old=objectDeepClone(Ie.point_coordinate)},L=(Ie,At,_e)=>{if(!(n.intention===EGlobalStoreIntention.Connection||n.mouse_info.state!=EMouseInfoState.Down)&&b.value&&!A&&["SelectArea","Move","Select"].indexOf(n.intention)<0){for(let qe of n.done_json)qe.selected=!1,qe.old_position={x:0,y:0},resetHandlePointOld(qe);n.intention=EGlobalStoreIntention.Select,n.setHandleSvgInfo(Ie,At),n.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((_e.clientX-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((_e.clientY-a.canvasInfo.top)/o.svg.scale),now_position_x:Ie.x,now_position_y:Ie.y,new_position_x:0,new_position_y:0}}},k=(Ie,At,_e)=>{_e.preventDefault(),_e.stopPropagation(),p.connection_panel=!0,p.connection_line=!0,!((n.intention===EGlobalStoreIntention.Connection||n.intention===EGlobalStoreIntention.SetConnectionLineNode)&&Ie.type===EDoneJsonType.ConnectionLine)&&(p.select_item.info=Ie,p.select_item.index=At)},ie=(Ie,At,_e)=>{_e.preventDefault(),_e.stopPropagation(),!((n.intention===EGlobalStoreIntention.Connection||n.intention===EGlobalStoreIntention.SetConnectionLineNode)&&Ie.type===EDoneJsonType.ConnectionLine)&&(p.connection_panel=!1,p.connection_line=!1,p.select_item.info=null,p.select_item.index=-1)},$=Ie=>{var vn,Pt,he,Ue,Dt,jt,Et,pe,ue,$e,Ne,Oe,Lt,kt,Cn,oe;if(n.mouse_info.state!=EMouseInfoState.Down&&n.intention!==EGlobalStoreIntention.Connection)return;const{clientX:At,clientY:_e}=Ie;n.mouse_info.new_position_x=Math.round((At-a.canvasInfo.left)/o.svg.scale),n.mouse_info.new_position_y=Math.round((_e-a.canvasInfo.top)/o.svg.scale);const qe=Math.round(n.mouse_info.new_position_x-n.mouse_info.position_x+n.mouse_info.now_position_x),In=Math.round(n.mouse_info.new_position_y-n.mouse_info.position_y+n.mouse_info.now_position_y);if((vn=n.handle_svg_info)!=null&&vn.info&&(n.intention===EGlobalStoreIntention.Select||n.intention===EGlobalStoreIntention.Move)){if(n.handle_svg_info.info.x=qe,n.handle_svg_info.info.y=In,n.handle_svg_info.info.client={x:qe,y:In},n.intention=EGlobalStoreIntention.Move,moveHandlePoint(n.handle_svg_info.info),moveAnchors(n.handle_svg_info.info),n.handle_svg_info.info.type===EDoneJsonType.ConnectionLine){if((Pt=n.handle_svg_info.info.bind_anchors)!=null&&Pt.start){let ae=null;for(let Y of n.done_json)Y.id===((Ue=(he=n.handle_svg_info.info.bind_anchors)==null?void 0:he.start)==null?void 0:Ue.target_id)&&(ae=Y);ae&&moveAnchors(ae)}if((Dt=n.handle_svg_info.info.bind_anchors)!=null&&Dt.end){let ae=null;for(let Y of n.done_json)Y.id===((Et=(jt=n.handle_svg_info.info.bind_anchors)==null?void 0:jt.end)==null?void 0:Et.target_id)&&(ae=Y);ae&&moveAnchors(ae)}}}else if(n.intention===EGlobalStoreIntention.MoveCanvas)a.center_offset.x=qe,a.center_offset.y=In;else if(n.intention===EGlobalStoreIntention.SelectArea)v.value.b.x=n.mouse_info.new_position_x-a.center_offset.x,v.value.b.y=n.mouse_info.new_position_y-a.center_offset.y;else if(n.intention===EGlobalStoreIntention.GroupMove){A=!0;for(let ae of n.done_json)if(ae.selected&&ae.old_position){const Y=Math.round(n.mouse_info.new_position_x-n.mouse_info.position_x+ae.old_position.x),O=Math.round(n.mouse_info.new_position_y-n.mouse_info.position_y+ae.old_position.y);if(ae.x=Y,ae.y=O,ae.client={x:Y,y:O},moveHandlePoint(ae),moveAnchors(ae),ae.type===EDoneJsonType.ConnectionLine&&((pe=ae.bind_anchors)!=null&&pe.end)){let F=null;for(let j of n.done_json)j.id===(($e=(ue=ae.bind_anchors)==null?void 0:ue.end)==null?void 0:$e.target_id)&&(F=j);F&&moveAnchors(F)}}}else if(n.intention===EGlobalStoreIntention.Zoom){if(!n.handle_svg_info)return;const ae={x:n.mouse_info.new_position_x-a.center_offset.x,y:n.mouse_info.new_position_y-a.center_offset.y};let Y={width:0,height:0,is_old_width:!1,is_old_height:!1};if(n.scale_info.type===EScaleInfoType.TopLeft?Y=calculateLeftTop(ae,n.scale_info.symmetric_point,n.handle_svg_info.info.rotate):n.scale_info.type===EScaleInfoType.TopRight?Y=calculateRightTop(ae,n.scale_info.symmetric_point,n.handle_svg_info.info.rotate):n.scale_info.type===EScaleInfoType.BottomRight?Y=calculateRightBottom(ae,n.scale_info.symmetric_point,n.handle_svg_info.info.rotate):n.scale_info.type===EScaleInfoType.BottomLeft?Y=calculateLeftBottom(ae,n.scale_info.symmetric_point,n.handle_svg_info.info.rotate):n.scale_info.type===EScaleInfoType.TopCenter?Y=calculateTop(ae,n.scale_info.symmetric_point,n.handle_svg_info.info.rotate,n.handle_svg_info.info.client):n.scale_info.type===EScaleInfoType.Right?Y=calculateRight(ae,n.scale_info.symmetric_point,n.handle_svg_info.info.rotate,n.handle_svg_info.info.client):n.scale_info.type===EScaleInfoType.BottomCenter?Y=calculateBottom(ae,n.scale_info.symmetric_point,n.handle_svg_info.info.rotate,n.handle_svg_info.info.client):n.scale_info.type===EScaleInfoType.Left&&(Y=calculateLeft(ae,n.scale_info.symmetric_point,n.handle_svg_info.info.rotate,n.handle_svg_info.info.client)),n.handle_svg_info&&Y.width>0&&Y.height>0){const O=Y.is_old_width?1:parseFloat((Y.width/n.handle_svg_info.info.actual_bound.width).toFixed(3)),F=Y.is_old_height?1:parseFloat((Y.height/n.handle_svg_info.info.actual_bound.height).toFixed(3)),j=getCenterPoint(ae,n.scale_info.symmetric_point);O>0&&n.scale_info.type!==EScaleInfoType.TopCenter&&n.scale_info.type!==EScaleInfoType.BottomCenter&&(n.handle_svg_info.info.scale_x=O,n.handle_svg_info.info.x=Math.round(getSvgNowPosition(n.handle_svg_info.info.center_position.x,j.x,n.handle_svg_info.info.client.x))),F>0&&n.scale_info.type!==EScaleInfoType.Left&&n.scale_info.type!==EScaleInfoType.Right&&(n.handle_svg_info.info.scale_y=F,n.handle_svg_info.info.y=Math.round(getSvgNowPosition(n.handle_svg_info.info.center_position.y,j.y,n.handle_svg_info.info.client.y)))}}else if(n.intention===EGlobalStoreIntention.Rotate){if(!n.handle_svg_info)return;const ae=Math.atan2(n.mouse_info.position_y-n.handle_svg_info.info.y,n.mouse_info.position_x-n.handle_svg_info.info.x)/(Math.PI/180),Y=Math.atan2(n.mouse_info.new_position_y-a.center_offset.y-n.handle_svg_info.info.y,n.mouse_info.new_position_x-a.center_offset.x-n.handle_svg_info.info.x)/(Math.PI/180);n.handle_svg_info.info.rotate=parseFloat((n.rotate_info.angle+Y-ae).toFixed(2))}else if(n.intention===EGlobalStoreIntention.Connection&&n.handle_svg_info){const ae=(Ne=n.handle_svg_info)==null?void 0:Ne.info.props.point_position.val.length,Y=n.mouse_info.new_position_x-n.mouse_info.position_x-a.center_offset.x,O=n.mouse_info.new_position_y-n.mouse_info.position_y-a.center_offset.y,F=n.handle_svg_info.info.props.point_position.val[ae-2],j=((Lt=(Oe=n.handle_svg_info)==null?void 0:Oe.info.props.point_r)==null?void 0:Lt.val)+2||4;let xe=F.x<Y?-j:F.x>Y?j:0,hn=F.y<O?-j:F.y>O?j:0;Ie.ctrlKey?n.handle_svg_info.info.props.point_position.val[ae-1]={x:F.x,y:O+hn}:Ie.shiftKey?n.handle_svg_info.info.props.point_position.val[ae-1]={x:Y+xe,y:F.y}:n.handle_svg_info.info.props.point_position.val[ae-1]={x:Y+xe,y:O+hn}}else if(n.intention===EGlobalStoreIntention.SetConnectionLineNode&&n.handle_svg_info){!w&&(n.connection_line_node_info.point_index===n.handle_svg_info.info.props.point_position.val.length-1||n.connection_line_node_info.point_index===0)&&(w=!0);const ae=(kt=n.handle_svg_info)==null?void 0:kt.info.props.point_position.val.length,Y=getSvgNowPosition(n.mouse_info.position_x,n.mouse_info.new_position_x,n.connection_line_node_info.init_pos.x),O=getSvgNowPosition(n.mouse_info.position_y,n.mouse_info.new_position_y,n.connection_line_node_info.init_pos.y),F=n.handle_svg_info.info.props.point_position.val[ae-2],j=((oe=(Cn=n.handle_svg_info)==null?void 0:Cn.info.props.point_r)==null?void 0:oe.val)+2||4;let xe=F.x<Y?-j:F.x>Y?j:0,hn=F.y<O?-j:F.y>O?j:0;n.handle_svg_info.info.props.point_position.val[n.connection_line_node_info.point_index]={x:Y+xe,y:O+hn}}},z=()=>{var Ie,At,_e,qe;if(n.mouse_info.state==EMouseInfoState.Down){if((Ie=n.handle_svg_info)!=null&&Ie.info&&n.intention==EGlobalStoreIntention.Move)setSvgActualInfo(n.done_json[n.handle_svg_info.index]),n.intention=EGlobalStoreIntention.None,n.setDoneJson(n.done_json);else if(n.intention==EGlobalStoreIntention.GroupMove)A&&(A=!1,n.intention=EGlobalStoreIntention.None);else if((At=n.handle_svg_info)!=null&&At.info&&n.intention==EGlobalStoreIntention.Zoom)n.handle_svg_info.info.client={x:n.handle_svg_info.info.x,y:n.handle_svg_info.info.y},n.intention=EGlobalStoreIntention.None,setSvgActualInfo(n.done_json[n.handle_svg_info.index]),n.setDoneJson(n.done_json);else if(n.intention===EGlobalStoreIntention.Rotate&&((_e=n.handle_svg_info)!=null&&_e.info))setSvgActualInfo(n.done_json[n.handle_svg_info.index]),n.setDoneJson(n.done_json),n.intention=EGlobalStoreIntention.None;else{if(n.intention===EGlobalStoreIntention.Connection)return;if(n.intention===EGlobalStoreIntention.SetConnectionLineNode)w&&((qe=n.handle_svg_info)!=null&&qe.info.bind_anchors)&&(n.connection_line_node_info.point_index===0?n.handle_svg_info.info.bind_anchors.start=null:n.handle_svg_info.info.bind_anchors.end=null),n.intention=EGlobalStoreIntention.None,w=!1;else if(n.intention===EGlobalStoreIntention.SelectArea){n.setHandleSvgInfo(null);for(let In of n.done_json){const vn=_.value;In.selected=In.x>vn.x&&In.x<vn.x+vn.with&&In.y>vn.y&&In.y<vn.y+vn.height}n.intention=EGlobalStoreIntention.None}else n.intention!=EGlobalStoreIntention.Select&&(n.intention=EGlobalStoreIntention.None)}n.mouse_info={state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},c.display=!1}},V=Ie=>{const{clientX:At,clientY:_e}=Ie;if(n.intention===EGlobalStoreIntention.Connection){n.handle_svg_info||createLine(Ie),n.handle_svg_info&&(Ie.button===0?n.handle_svg_info.info.props.point_position.val.length!==1?n.handle_svg_info.info.props.point_position.val.push({x:n.mouse_info.new_position_x-n.mouse_info.position_x-a.center_offset.x,y:n.mouse_info.new_position_y-n.mouse_info.position_y-a.center_offset.y}):n.handle_svg_info.info.props.point_position.val.push({x:0,y:0}):Ie.button===2&&(n.intention=EGlobalStoreIntention.None,setSvgActualInfo(n.done_json[n.handle_svg_info.index]),n.setHandleSvgInfo(null)));return}Ie.button===0?(n.intention=EGlobalStoreIntention.SelectArea,n.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((At-a.canvasInfo.left)/o.svg.scale-a.center_offset.x),position_y:Math.round((_e-a.canvasInfo.top)/o.svg.scale-a.center_offset.y),now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0},v.value={a:{x:n.mouse_info.position_x,y:n.mouse_info.position_y},b:{x:0,y:0}}):Ie.button===2&&(n.intention=EGlobalStoreIntention.MoveCanvas,n.mouse_info={state:EMouseInfoState.Down,position_x:Math.round((At-a.canvasInfo.left)/o.svg.scale),position_y:Math.round((_e-a.canvasInfo.top)/o.svg.scale),now_position_x:a.center_offset.x,now_position_y:a.center_offset.y,new_position_x:0,new_position_y:0})};function re(Ie){Ie!=null&&Ie.wheelDelta&&(Ie.wheelDelta>0?o.svg.scale=parseFloat((o.svg.scale+.1).toFixed(1)):o.svg.scale=parseFloat((o.svg.scale-.1).toFixed(1)))}const D=Ie=>{Ie.stopPropagation(),Ie.preventDefault()},Ce=(Ie,At,_e)=>{n.intention!==EGlobalStoreIntention.Connection&&f.value&&(n.intention=EGlobalStoreIntention.ContextMenu,n.setHandleSvgInfo(Ie,At),f.value.style.left=_e.pageX+"px",f.value.style.top=_e.pageY+"px",c.info.MoveUpOneLevel.enable=c.info.MoveUpTopLevel.enable=c.info.MoveDownOneLevel.enable=c.info.MoveDownTopLevel.enable=!0,At===n.done_json.length-1&&(c.info.MoveUpOneLevel.enable=c.info.MoveUpTopLevel.enable=!1),At===0&&(c.info.MoveDownOneLevel.enable=c.info.MoveDownTopLevel.enable=!1),c.display=!0)},le=(Ie,At,_e)=>({x:parseFloat((Ie.x-Ie.width/2*At+Ie.width/2).toFixed(1)),y:parseFloat((Ie.y-Ie.height/2*_e+Ie.height/2).toFixed(1)),width:parseFloat((Ie.width*At).toFixed(1)),height:parseFloat((Ie.height*_e).toFixed(1))}),de=Ie=>{Ie.preventDefault();let At=[];if(!Ie.ctrlKey&&["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"].indexOf(Ie.key)>-1&&(b.value?At=n.done_json.map((_e,qe)=>({selected:_e.selected,i:qe})).filter(_e=>_e.selected).map(_e=>_e.i):n.handle_svg_info&&At.push(n.handle_svg_info.index)),!Ie.ctrlKey&&Ie.key=="ArrowUp"){for(let _e of At)n.done_json[_e].y-=1,n.done_json[_e].client.y-=1,moveHandlePoint(n.done_json[_e],0,-1),moveAnchors(n.done_json[_e]);useHistoryRecord(n.done_json)}else if(!Ie.ctrlKey&&Ie.key=="ArrowDown"){for(let _e of At)n.done_json[_e].y+=1,n.done_json[_e].client.y+=1,moveHandlePoint(n.done_json[_e],0,1),moveAnchors(n.done_json[_e]);useHistoryRecord(n.done_json)}else if(!Ie.ctrlKey&&Ie.key=="ArrowLeft"){for(let _e of At)n.done_json[_e].x-=1,n.done_json[_e].client.x-=1,moveHandlePoint(n.done_json[_e],-1,0),moveAnchors(n.done_json[_e]);useHistoryRecord(n.done_json)}else if(!Ie.ctrlKey&&Ie.key=="ArrowRight"){for(let _e of At)n.done_json[_e].x+=1,n.done_json[_e].client.x+=1,moveHandlePoint(n.done_json[_e],1,0),moveAnchors(n.done_json[_e]);useHistoryRecord(n.done_json)}else Ie.ctrlKey&&Ie.key.toLowerCase()=="c"?c.onContextMenuClick(EContextMenuInfoType.Copy):!Ie.ctrlKey&&Ie.key=="Delete"?b.value?(n.setDoneJson(n.done_json.filter(_e=>!_e.selected)),n.setHandleSvgInfo(n.done_json[n.done_json.length-1],n.done_json.length-1)):c.onContextMenuClick(EContextMenuInfoType.Delete):Ie.ctrlKey&&Ie.key=="ArrowUp"?c.onContextMenuClick(EContextMenuInfoType.MoveUpOneLevel):Ie.ctrlKey&&Ie.key=="ArrowDown"?c.onContextMenuClick(EContextMenuInfoType.MoveDownOneLevel):Ie.ctrlKey&&Ie.key=="ArrowLeft"?c.onContextMenuClick(EContextMenuInfoType.MoveDownTopLevel):Ie.ctrlKey&&Ie.key=="ArrowRight"?c.onContextMenuClick(EContextMenuInfoType.MoveUpTopLevel):Ie.ctrlKey&&Ie.shiftKey&&Ie.key.toLowerCase()=="z"?u.topRedoBtnClick():Ie.ctrlKey&&Ie.key.toLowerCase()=="z"?u.topUndoBtnClick():Ie.ctrlKey&&Ie.key.toLowerCase()=="delete"&&(n.done_json.length<=0||n.setDoneJson([]))},Fe=()=>{setSvgActualInfo(n.done_json[n.handle_svg_info.index],!0)};return vue.onMounted(()=>{var Ie;(Ie=h.value)==null||Ie.focus(),vue.nextTick(function(){var _e;const At=(_e=h.value)==null?void 0:_e.getBoundingClientRect();a.canvasInfo={height:(At==null?void 0:At.height)||0,with:(At==null?void 0:At.width)||0,top:(At==null?void 0:At.top)||0,left:(At==null?void 0:At.left)||0}})}),r({onCanvasMouseUp:z}),(Ie,At)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createElementVNode("div",{ref_key:"canvasRef",ref:h,class:"canvas",style:vue.normalizeStyle({backgroundColor:vue.unref(o).svg.background_color,position:"relative"}),tabindex:"0",onDrop:S,onDragenter:T,onDragover:x,onMousedown:V,onMousemove:$,onMouseup:z,onContextmenu:D,onKeydown:de,onMousewheel:re},[vue.renderSlot(Ie.$slots,"background",{},void 0,!0),vue.createElementVNode("div",_hoisted_1$8,[(vue.openBlock(),vue.createElementBlock("svg",_hoisted_2$6,[vue.createElementVNode("defs",null,[vue.createElementVNode("pattern",_hoisted_3$5,[vue.createElementVNode("line",{x1:"0",y1:"0",x2:"0",y2:"20",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_4$3),vue.createElementVNode("line",{x1:"10",y1:"0",x2:"10",y2:"20",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_5$2),vue.createElementVNode("line",{x1:"0",y1:"0",x2:"20",y2:"0",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_6$1),vue.createElementVNode("line",{x1:"0",y1:"10",x2:"20",y2:"10",stroke:vue.unref(o).svg.grid_color},null,8,_hoisted_7$1)])]),vue.unref(o).svg.grid?(vue.openBlock(),vue.createElementBlock("rect",_hoisted_8)):vue.createCommentVNode("",!0),vue.createElementVNode("g",{transform:`translate(${vue.unref(a).center_offset.x*vue.unref(o).svg.scale},${vue.unref(a).center_offset.y*vue.unref(o).svg.scale})rotate(0)scale(${vue.unref(o).svg.scale})`},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(n).done_json,(_e,qe)=>{var In,vn,Pt,he,Ue,Dt,jt,Et,pe,ue,$e,Ne,Oe,Lt;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("g",{key:_e.id,transform:`translate(${_e.x},${_e.y})rotate(0)scale(1)`,onMousewheel:At[0]||(At[0]=(...kt)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...kt))},[vue.createElementVNode("g",{class:vue.normalizeClass(`${vue.unref(getCommonClass)(_e)}`)},[vue.createElementVNode("g",{transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2})rotate(${_e.rotate}) scale(1) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`,onMousedown:kt=>M(_e,qe,kt),onMouseup:kt=>L(_e,qe,kt),onMouseenter:kt=>k(_e,qe,kt),onMouseleave:kt=>ie(_e,qe,kt),onContextmenu:kt=>Ce(_e,qe,kt)},[_e.type===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$z,{key:0,"item-info":_e,"point-visible":vue.unref(p).connection_line&&((In=vue.unref(p).select_item.info)==null?void 0:In.id)==_e.id},null,8,["item-info","point-visible"])):_e.type===vue.unref(EDoneJsonType).File?(vue.openBlock(),vue.createElementBlock("use",vue.mergeProps({key:1,"xlink:href":`#svg-${_e.name}`,ref_for:!0},vue.unref(prosToVBind)(_e,["height","width"]),{width:((Pt=(vn=_e.props)==null?void 0:vn.width)==null?void 0:Pt.val)??100,height:((Ue=(he=_e.props)==null?void 0:he.height)==null?void 0:Ue.val)??100,id:_e.id,transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2}) scale(${_e.scale_x},${_e.scale_y}) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`}),null,16,_hoisted_12)):_e.type===vue.unref(EDoneJsonType).CustomSvg?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(_e.tag),vue.mergeProps({key:2,ref_for:!0},vue.unref(prosToVBind)(_e,["height","width"]),{width:((jt=(Dt=_e.props)==null?void 0:Dt.width)==null?void 0:jt.val)??100,height:((pe=(Et=_e.props)==null?void 0:Et.height)==null?void 0:pe.val)??100,id:_e.id,onResize:Fe,transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2}) scale(${_e.scale_x},${_e.scale_y}) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`}),null,16,["width","height","id","transform"])):_e.type===vue.unref(EDoneJsonType).Vue?(vue.openBlock(),vue.createElementBlock("foreignObject",vue.mergeProps({key:3,ref_for:!0},le(_e.actual_bound,_e.scale_x,_e.scale_y),{id:`foreign-object${_e.id}`,class:"foreignObject"}),[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(_e.tag),vue.mergeProps({ref_for:!0},vue.unref(prosToVBind)(_e),{id:_e.id,transform:`translate(${_e.actual_bound.x+_e.actual_bound.width/2},${_e.actual_bound.y+_e.actual_bound.height/2}) scale(${_e.scale_x},${_e.scale_y}) translate(${-(_e.actual_bound.x+_e.actual_bound.width/2)},${-(_e.actual_bound.y+_e.actual_bound.height/2)})`}),{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(_e.tag_slot),1)]),_:2},1040,["id","transform"]))],16,_hoisted_13)):_e.type===vue.unref(EDoneJsonType).StraightLine?(vue.openBlock(),vue.createElementBlock("line",{key:4,id:_e.id,x1:_e.props.start_x.val,y1:_e.props.start_y.val,x2:_e.props.end_x.val,y2:_e.props.end_y.val,fill:"#FF0000",stroke:"#FF0000","stroke-width":"2"},null,8,_hoisted_14)):vue.createCommentVNode("",!0),_e.config.actual_rect?(vue.openBlock(),vue.createElementBlock("rect",vue.mergeProps({key:5,id:`rect${_e.id}`,fill:"black","fill-opacity":"0",ref_for:!0},le(_e.actual_bound,_e.scale_x,_e.scale_y),{style:{stroke:"none","stroke-width":"2","stroke-miterlimit":"10"},class:{"svg-item-none":!_e.selected&&(vue.unref(n).intention==vue.unref(EGlobalStoreIntention).None||vue.unref(n).intention==vue.unref(EGlobalStoreIntention).Select),"svg-item-move":vue.unref(n).intention==vue.unref(EGlobalStoreIntention).Move&&((ue=vue.unref(n).handle_svg_info)==null?void 0:ue.info.id)==_e.id,"svg-item-select":vue.unref(n).intention==vue.unref(EGlobalStoreIntention).Select&&(($e=vue.unref(n).handle_svg_info)==null?void 0:$e.info.id)==_e.id,"svg-item-in-group":_e.selected}}),null,16,_hoisted_15)):vue.createCommentVNode("",!0),((Ne=vue.unref(n).handle_svg_info)==null?void 0:Ne.info.id)===_e.id&&vue.unref(p).handle_panel&&_e.type!==vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(HandlePanel,{key:6,"item-info":_e},null,8,["item-info"])):vue.createCommentVNode("",!0),!_e.selected&&((Oe=vue.unref(p).select_item.info)==null?void 0:Oe.id)==_e.id&&vue.unref(p).connection_panel&&_e.config.have_anchor&&vue.unref(n).intention!==vue.unref(EGlobalStoreIntention).SelectArea&&(vue.unref(n).intention!==vue.unref(EGlobalStoreIntention).Select||_e.id!==((Lt=vue.unref(n).handle_svg_info)==null?void 0:Lt.info.id))?(vue.openBlock(),vue.createBlock(ConnectionPanel,{key:7,onContextmenu:D,"item-info":_e},null,8,["item-info"])):vue.createCommentVNode("",!0)],40,_hoisted_11)],2)],40,_hoisted_10)),[[vue.vShow,_e.display]])}),128)),vue.createElementVNode("rect",{x:vue.unref(_).x,y:vue.unref(_).y,height:vue.unref(_).height,width:vue.unref(_).with,stroke:"#107cec",fill:"#107cec","fill-opacity":".2"},null,8,_hoisted_16)],8,_hoisted_9)]))])],36),vue.withDirectives(vue.createElementVNode("ul",{ref_key:"contextMenuRef",ref:f,class:"contextMenu"},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(c).info,(_e,qe)=>(vue.openBlock(),vue.createElementBlock("li",{key:_e.title,onClick:In=>vue.unref(c).onContextMenuClick(qe)},[vue.createElementVNode("p",{class:vue.normalizeClass(_e.enable?"":"disabled")},[vue.createTextVNode(vue.toDisplayString(_e.title)+" ",1),vue.createElementVNode("span",_hoisted_18,vue.toDisplayString(_e.hot_key),1)],2)],8,_hoisted_17))),128))],512),[[vue.vShow,vue.unref(c).display]])],64))}}),centerPanel_vue_vue_type_style_index_0_scoped_c77c0287_lang="",CenterPanel=_export_sfc$1(_sfc_main$y,[["__scopeId","data-v-c77c0287"]]);/*! Element Plus Icons Vue v2.3.1 */var aim_vue_vue_type_script_setup_true_lang_default=vue.defineComponent({name:"Aim",__name:"aim",setup(i){return(r,n)=>(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),vue.createElementVNode("path",{fill:"currentColor",d:"M512 96a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V128a32 32 0 0 1 32-32m0 576a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V704a32 32 0 0 1 32-32M96 512a32 32 0 0 1 32-32h192a32 32 0 0 1 0 64H128a32 32 0 0 1-32-32m576 0a32 32 0 0 1 32-32h192a32 32 0 1 1 0 64H704a32 32 0 0 1-32-32"})]))}}),aim_default=aim_vue_vue_type_script_setup_true_lang_default,arrow_down_vue_vue_type_script_setup_true_lang_default=vue.defineComponent({name:"ArrowDown",__name:"arrow-down",setup(i){return(r,n)=>(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),arrow_down_default=arrow_down_vue_vue_type_script_setup_true_lang_default,circle_check_vue_vue_type_script_setup_true_lang_default=vue.defineComponent({name:"CircleCheck",__name:"circle-check",setup(i){return(r,n)=>(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),vue.createElementVNode("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),circle_check_default=circle_check_vue_vue_type_script_setup_true_lang_default,circle_close_vue_vue_type_script_setup_true_lang_default=vue.defineComponent({name:"CircleClose",__name:"circle-close",setup(i){return(r,n)=>(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),vue.createElementVNode("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),circle_close_default=circle_close_vue_vue_type_script_setup_true_lang_default,close_vue_vue_type_script_setup_true_lang_default=vue.defineComponent({name:"Close",__name:"close",setup(i){return(r,n)=>(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),close_default=close_vue_vue_type_script_setup_true_lang_default,hide_vue_vue_type_script_setup_true_lang_default=vue.defineComponent({name:"Hide",__name:"hide",setup(i){return(r,n)=>(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),vue.createElementVNode("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),hide_default=hide_vue_vue_type_script_setup_true_lang_default,loading_vue_vue_type_script_setup_true_lang_default=vue.defineComponent({name:"Loading",__name:"loading",setup(i){return(r,n)=>(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),loading_default=loading_vue_vue_type_script_setup_true_lang_default,view_vue_vue_type_script_setup_true_lang_default=vue.defineComponent({name:"View",__name:"view",setup(i){return(r,n)=>(vue.openBlock(),vue.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[vue.createElementVNode("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),view_default=view_vue_vue_type_script_setup_true_lang_default,MapShim=function(){if(typeof Map<"u")return Map;function i(r,n){var o=-1;return r.some(function(a,u){return a[0]===n?(o=u,!0):!1}),o}return function(){function r(){this.__entries__=[]}return Object.defineProperty(r.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),r.prototype.get=function(n){var o=i(this.__entries__,n),a=this.__entries__[o];return a&&a[1]},r.prototype.set=function(n,o){var a=i(this.__entries__,n);~a?this.__entries__[a][1]=o:this.__entries__.push([n,o])},r.prototype.delete=function(n){var o=this.__entries__,a=i(o,n);~a&&o.splice(a,1)},r.prototype.has=function(n){return!!~i(this.__entries__,n)},r.prototype.clear=function(){this.__entries__.splice(0)},r.prototype.forEach=function(n,o){o===void 0&&(o=null);for(var a=0,u=this.__entries__;a<u.length;a++){var c=u[a];n.call(o,c[1],c[0])}},r}()}(),isBrowser=typeof window<"u"&&typeof document<"u"&&window.document===document,global$1=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),requestAnimationFrame$1=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(global$1):function(i){return setTimeout(function(){return i(Date.now())},1e3/60)}}(),trailingTimeout=2;function throttle(i,r){var n=!1,o=!1,a=0;function u(){n&&(n=!1,i()),o&&d()}function c(){requestAnimationFrame$1(u)}function d(){var f=Date.now();if(n){if(f-a<trailingTimeout)return;o=!0}else n=!0,o=!1,setTimeout(c,r);a=f}return d}var REFRESH_DELAY=20,transitionKeys=["top","right","bottom","left","width","height","size","weight"],mutationObserverSupported=typeof MutationObserver<"u",ResizeObserverController=function(){function i(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=throttle(this.refresh.bind(this),REFRESH_DELAY)}return i.prototype.addObserver=function(r){~this.observers_.indexOf(r)||this.observers_.push(r),this.connected_||this.connect_()},i.prototype.removeObserver=function(r){var n=this.observers_,o=n.indexOf(r);~o&&n.splice(o,1),!n.length&&this.connected_&&this.disconnect_()},i.prototype.refresh=function(){var r=this.updateObservers_();r&&this.refresh()},i.prototype.updateObservers_=function(){var r=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return r.forEach(function(n){return n.broadcastActive()}),r.length>0},i.prototype.connect_=function(){!isBrowser||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),mutationObserverSupported?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},i.prototype.disconnect_=function(){!isBrowser||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},i.prototype.onTransitionEnd_=function(r){var n=r.propertyName,o=n===void 0?"":n,a=transitionKeys.some(function(u){return!!~o.indexOf(u)});a&&this.refresh()},i.getInstance=function(){return this.instance_||(this.instance_=new i),this.instance_},i.instance_=null,i}(),defineConfigurable=function(i,r){for(var n=0,o=Object.keys(r);n<o.length;n++){var a=o[n];Object.defineProperty(i,a,{value:r[a],enumerable:!1,writable:!1,configurable:!0})}return i},getWindowOf=function(i){var r=i&&i.ownerDocument&&i.ownerDocument.defaultView;return r||global$1},emptyRect=createRectInit(0,0,0,0);function toFloat(i){return parseFloat(i)||0}function getBordersSize(i){for(var r=[],n=1;n<arguments.length;n++)r[n-1]=arguments[n];return r.reduce(function(o,a){var u=i["border-"+a+"-width"];return o+toFloat(u)},0)}function getPaddings(i){for(var r=["top","right","bottom","left"],n={},o=0,a=r;o<a.length;o++){var u=a[o],c=i["padding-"+u];n[u]=toFloat(c)}return n}function getSVGContentRect(i){var r=i.getBBox();return createRectInit(0,0,r.width,r.height)}function getHTMLElementContentRect(i){var r=i.clientWidth,n=i.clientHeight;if(!r&&!n)return emptyRect;var o=getWindowOf(i).getComputedStyle(i),a=getPaddings(o),u=a.left+a.right,c=a.top+a.bottom,d=toFloat(o.width),f=toFloat(o.height);if(o.boxSizing==="border-box"&&(Math.round(d+u)!==r&&(d-=getBordersSize(o,"left","right")+u),Math.round(f+c)!==n&&(f-=getBordersSize(o,"top","bottom")+c)),!isDocumentElement(i)){var h=Math.round(d+u)-r,y=Math.round(f+c)-n;Math.abs(h)!==1&&(d-=h),Math.abs(y)!==1&&(f-=y)}return createRectInit(a.left,a.top,d,f)}var isSVGGraphicsElement=function(){return typeof SVGGraphicsElement<"u"?function(i){return i instanceof getWindowOf(i).SVGGraphicsElement}:function(i){return i instanceof getWindowOf(i).SVGElement&&typeof i.getBBox=="function"}}();function isDocumentElement(i){return i===getWindowOf(i).document.documentElement}function getContentRect(i){return isBrowser?isSVGGraphicsElement(i)?getSVGContentRect(i):getHTMLElementContentRect(i):emptyRect}function createReadOnlyRect(i){var r=i.x,n=i.y,o=i.width,a=i.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,c=Object.create(u.prototype);return defineConfigurable(c,{x:r,y:n,width:o,height:a,top:n,right:r+o,bottom:a+n,left:r}),c}function createRectInit(i,r,n,o){return{x:i,y:r,width:n,height:o}}var ResizeObservation=function(){function i(r){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=createRectInit(0,0,0,0),this.target=r}return i.prototype.isActive=function(){var r=getContentRect(this.target);return this.contentRect_=r,r.width!==this.broadcastWidth||r.height!==this.broadcastHeight},i.prototype.broadcastRect=function(){var r=this.contentRect_;return this.broadcastWidth=r.width,this.broadcastHeight=r.height,r},i}(),ResizeObserverEntry=function(){function i(r,n){var o=createReadOnlyRect(n);defineConfigurable(this,{target:r,contentRect:o})}return i}(),ResizeObserverSPI=function(){function i(r,n,o){if(this.activeObservations_=[],this.observations_=new MapShim,typeof r!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=r,this.controller_=n,this.callbackCtx_=o}return i.prototype.observe=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof getWindowOf(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)||(n.set(r,new ResizeObservation(r)),this.controller_.addObserver(this),this.controller_.refresh())}},i.prototype.unobserve=function(r){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(r instanceof getWindowOf(r).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(r)&&(n.delete(r),n.size||this.controller_.removeObserver(this))}},i.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},i.prototype.gatherActive=function(){var r=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&r.activeObservations_.push(n)})},i.prototype.broadcastActive=function(){if(this.hasActive()){var r=this.callbackCtx_,n=this.activeObservations_.map(function(o){return new ResizeObserverEntry(o.target,o.broadcastRect())});this.callback_.call(r,n,r),this.clearActive()}},i.prototype.clearActive=function(){this.activeObservations_.splice(0)},i.prototype.hasActive=function(){return this.activeObservations_.length>0},i}(),observers=typeof WeakMap<"u"?new WeakMap:new MapShim,ResizeObserver$1=function(){function i(r){if(!(this instanceof i))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=ResizeObserverController.getInstance(),o=new ResizeObserverSPI(r,n,this);observers.set(this,o)}return i}();["observe","unobserve","disconnect"].forEach(function(i){ResizeObserver$1.prototype[i]=function(){var r;return(r=observers.get(this))[i].apply(r,arguments)}});var index$1=function(){return typeof global$1.ResizeObserver<"u"?global$1.ResizeObserver:ResizeObserver$1}();const Events=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],VAceEditor=vue.defineComponent({name:"VAceEditor",props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0},minLines:Number,maxLines:Number},emits:["update:value","init",...Events],render(){return vue.h("div")},mounted(){const i=this._editor=vue.markRaw(ace.edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,minLines:this.minLines,maxLines:this.maxLines,...this.options}));this._contentBackup=this.value,this._isSettingContent=!1,i.on("change",()=>{if(this._isSettingContent)return;const r=i.getValue();this._contentBackup=r,this.$emit("update:value",r)}),Events.forEach(r=>{const n="on"+vue.capitalize(r);typeof this.$.vnode.props[n]=="function"&&i.on(r,this.$emit.bind(this,r))}),this._ro=new index$1(()=>i.resize()),this._ro.observe(this.$el),this.$emit("init",i)},beforeUnmount(){var i,r;(i=this._ro)===null||i===void 0||i.disconnect(),(r=this._editor)===null||r===void 0||r.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()},getAceInstance(){return this._editor}},watch:{value(i){if(this._contentBackup!==i){try{this._isSettingContent=!0,this._editor.setValue(i,1)}finally{this._isSettingContent=!1}this._contentBackup=i}},theme(i){this._editor.setTheme("ace/theme/"+i)},options(i){this._editor.setOptions(i)},readonly(i){this._editor.setReadOnly(i)},placeholder(i){this._editor.setOption("placeholder",i)},wrap(i){this._editor.setWrapBehavioursEnabled(i)},printMargin(i){this._editor.setOption("printMargin",i)},lang(i){this._editor.setOption("mode","ace/mode/"+i)},minLines(i){this._editor.setOption("minLines",i)},maxLines(i){this._editor.setOption("maxLines",i)}}}),themeUrl2="data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe21vZHVsZS5leHBvcnRzID0gIi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXIge1xuICBiYWNrZ3JvdW5kOiAjMWMxOTE3O1xuICBjb2xvcjogI0ZDRkZFMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfcHJpbnQtbWFyZ2luIHtcbiAgd2lkdGg6IDFweDtcbiAgYmFja2dyb3VuZDogIzFjMTkxN1xufVxuXG4uYWNlLWtyLXRoZW1lIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzBCMEEwOTtcbiAgY29sb3I6ICNGQ0ZGRTBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2N1cnNvciB7XG4gIGNvbG9yOiAjRkY5OTAwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zZWxlY3Rpb24ge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDE3MCwgMCwgMjU1LCAwLjQ1KVxufVxuXG4uYWNlLWtyLXRoZW1lLmFjZV9tdWx0aXNlbGVjdCAuYWNlX3NlbGVjdGlvbi5hY2Vfc3RhcnQge1xuICBib3gtc2hhZG93OiAwIDAgM3B4IDBweCAjMEIwQTA5O1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc3RlcCB7XG4gIGJhY2tncm91bmQ6IHJnYigxMDIsIDgyLCAwKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYnJhY2tldCB7XG4gIG1hcmdpbjogLTFweCAwIDAgLTFweDtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiAjMzg0MDNEXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9ndXR0ZXItYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kLWNvbG9yIDogIzM4NDAzRFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkIHJnYmEoMTcwLCAwLCAyNTUsIDAuNDUpXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9pbnZpc2libGUge1xuICBjb2xvcjogcmdiYSgyNTUsIDE3NywgMTExLCAwLjMyKVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfa2V5d29yZCxcbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhIHtcbiAgY29sb3I6ICM5NDlDOEJcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9jaGFyYWN0ZXIsXG4uYWNlLWtyLXRoZW1lIC5hY2VfY29uc3RhbnQuYWNlX2NoYXJhY3Rlci5hY2VfZXNjYXBlLFxuLmFjZS1rci10aGVtZSAuYWNlX2NvbnN0YW50LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2JhKDIxMCwgMTE3LCAyNCwgMC43Nilcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2ludmFsaWQge1xuICBjb2xvcjogI0Y4RjhGODtcbiAgYmFja2dyb3VuZC1jb2xvcjogI0E0MTMwMFxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2Vfc3VwcG9ydCB7XG4gIGNvbG9yOiAjOUZDMjhBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9jb25zdGFudCB7XG4gIGNvbG9yOiAjQzI3RTY2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9mb2xkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzk0OUM4QjtcbiAgYm9yZGVyLWNvbG9yOiAjRkNGRkUwXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiAjODU4NzNBXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9zdG9yYWdlIHtcbiAgY29sb3I6ICNGRkVFODBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZyB7XG4gIGNvbG9yOiByZ2JhKDE2NCwgMTYxLCAxODEsIDAuOClcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3N0cmluZy5hY2VfcmVnZXhwIHtcbiAgY29sb3I6IHJnYmEoMTI1LCAyNTUsIDE5MiwgMC42NSlcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX2NvbW1lbnQge1xuICBmb250LXN0eWxlOiBpdGFsaWM7XG4gIGNvbG9yOiAjNzA2RDVCXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV92YXJpYWJsZSB7XG4gIGNvbG9yOiAjRDFBNzk2XG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9saXN0LFxuLmFjZS1rci10aGVtZSAuYWNlX21hcmt1cC5hY2VfbGlzdCB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwRjAwNDBcbn1cblxuLmFjZS1rci10aGVtZSAuYWNlX3ZhcmlhYmxlLmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiAjRkY4MEUxXG59XG5cbi5hY2Uta3ItdGhlbWUgLmFjZV9tZXRhLmFjZV90YWcge1xuICBjb2xvcjogI0JBQkQ5Q1xufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlIHtcbiAgYmFja2dyb3VuZDogdXJsKGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFFa2xFUVZRSW1XTmdZR0JnWUZCWFYvOFBBQUpvQVhYNGtUMkVBQUFBQUVsRlRrU3VRbUNDKSByaWdodCByZXBlYXQteVxufVxuXG4uYWNlLWtyLXRoZW1lIC5hY2VfaW5kZW50LWd1aWRlLWFjdGl2ZSB7XG4gIGJhY2tncm91bmQ6IHVybChcImRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQUVBQUFBQ0NBWUFBQUNaZ2JZbkFBQUFDWEJJV1hNQUFBc1RBQUFMRXdFQW1wd1lBQUFBSUdOSVVrMEFBSG9sQUFDQWd3QUErZjhBQUlEcEFBQjFNQUFBNm1BQUFEcVlBQUFYYjVKZnhVWUFBQUFaU1VSQlZIamFZdmovLy85L2hpdkt5djhCQUFBQS8vOERBQ0xxQmhidmsrL2VBQUFBQUVsRlRrU3VRbUNDXCIpIHJpZ2h0IHJlcGVhdC15O1xufVxuIjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3RoZW1lL2tyX3RoZW1lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2tyX3RoZW1lLmNzcyIsImFjZS9saWIvZG9tIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7ZXhwb3J0cy5pc0RhcmsgPSB0cnVlOwpleHBvcnRzLmNzc0NsYXNzID0gImFjZS1rci10aGVtZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4va3JfdGhlbWUuY3NzIik7CnZhciBkb20gPSByZXF1aXJlKCIuLi9saWIvZG9tIik7CmRvbS5pbXBvcnRDc3NTdHJpbmcoZXhwb3J0cy5jc3NUZXh0LCBleHBvcnRzLmNzc0NsYXNzLCBmYWxzZSk7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL3RoZW1lL2tyX3RoZW1lIl0sIGZ1bmN0aW9uKG0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBtb2R1bGUgPT0gIm9iamVjdCIgJiYgdHlwZW9mIGV4cG9ydHMgPT0gIm9iamVjdCIgJiYgbW9kdWxlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG07CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pKCk7CiAgICAgICAgICAgIA==",modeJsonUrl="data:application/javascript;base64,YWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvbGliL29vcCIsImFjZS9tb2RlL3RleHRfaGlnaGxpZ2h0X3J1bGVzIl0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dEhpZ2hsaWdodFJ1bGVzID0gcmVxdWlyZSgiLi90ZXh0X2hpZ2hsaWdodF9ydWxlcyIpLlRleHRIaWdobGlnaHRSdWxlczsKdmFyIEpzb25IaWdobGlnaHRSdWxlcyA9IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuJHJ1bGVzID0gewogICAgICAgICJzdGFydCI6IFsKICAgICAgICAgICAgewogICAgICAgICAgICAgICAgdG9rZW46ICJ2YXJpYWJsZSIsCiAgICAgICAgICAgICAgICByZWdleDogJ1siXSg/Oig/OlxcXFwuKXwoPzpbXiJcXFxcXSkpKj9bIl1cXHMqKD89OiknCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAic3RyaW5nIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAnIicsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RyaW5nIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lm51bWVyaWMiLAogICAgICAgICAgICAgICAgcmVnZXg6ICIwW3hYXVswLTlhLWZBLUZdK1xcYiIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJjb25zdGFudC5udW1lcmljIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAiWystXT9cXGQrKD86KD86XFwuXFxkKik/KD86W2VFXVsrLV0/XFxkKyk/KT9cXGIiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29uc3RhbnQubGFuZ3VhZ2UuYm9vbGVhbiIsCiAgICAgICAgICAgICAgICByZWdleDogIig/OnRydWV8ZmFsc2UpXFxiIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbJ10oPzooPzpcXFxcLil8KD86W14nXFxcXF0pKSo/WyddIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbW1lbnQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXC9cXC8uKiQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5zdGFydCIsCiAgICAgICAgICAgICAgICByZWdleDogIlxcL1xcKiIsCiAgICAgICAgICAgICAgICBuZXh0OiAiY29tbWVudCIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5scGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbWyh7XSIKICAgICAgICAgICAgfSwgewogICAgICAgICAgICAgICAgdG9rZW46ICJwYXJlbi5ycGFyZW4iLAogICAgICAgICAgICAgICAgcmVnZXg6ICJbXFxdKX1dIgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInB1bmN0dWF0aW9uLm9wZXJhdG9yIiwKICAgICAgICAgICAgICAgIHJlZ2V4OiAvWyxdLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInRleHQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXHMrIgogICAgICAgICAgICB9CiAgICAgICAgXSwKICAgICAgICAic3RyaW5nIjogWwogICAgICAgICAgICB7CiAgICAgICAgICAgICAgICB0b2tlbjogImNvbnN0YW50Lmxhbmd1YWdlLmVzY2FwZSIsCiAgICAgICAgICAgICAgICByZWdleDogL1xcKD86eFswLTlhLWZBLUZdezJ9fHVbMC05YS1mQS1GXXs0fXxbIlxcXC9iZm5ydF0pLwogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICB0b2tlbjogInN0cmluZyIsCiAgICAgICAgICAgICAgICByZWdleDogJyJ8JCcsCiAgICAgICAgICAgICAgICBuZXh0OiAic3RhcnQiCiAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgIGRlZmF1bHRUb2tlbjogInN0cmluZyIKICAgICAgICAgICAgfQogICAgICAgIF0sCiAgICAgICAgImNvbW1lbnQiOiBbCiAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIHRva2VuOiAiY29tbWVudC5lbmQiLAogICAgICAgICAgICAgICAgcmVnZXg6ICJcXCpcXC8iLAogICAgICAgICAgICAgICAgbmV4dDogInN0YXJ0IgogICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICBkZWZhdWx0VG9rZW46ICJjb21tZW50IgogICAgICAgICAgICB9CiAgICAgICAgXQogICAgfTsKfTsKb29wLmluaGVyaXRzKEpzb25IaWdobGlnaHRSdWxlcywgVGV4dEhpZ2hsaWdodFJ1bGVzKTsKZXhwb3J0cy5Kc29uSGlnaGxpZ2h0UnVsZXMgPSBKc29uSGlnaGxpZ2h0UnVsZXM7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9tb2RlL21hdGNoaW5nX2JyYWNlX291dGRlbnQiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiLCJhY2UvcmFuZ2UiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBNYXRjaGluZ0JyYWNlT3V0ZGVudCA9IGZ1bmN0aW9uICgpIHsgfTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuY2hlY2tPdXRkZW50ID0gZnVuY3Rpb24gKGxpbmUsIGlucHV0KSB7CiAgICAgICAgaWYgKCEvXlxzKyQvLnRlc3QobGluZSkpCiAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICByZXR1cm4gL15ccypcfS8udGVzdChpbnB1dCk7CiAgICB9OwogICAgdGhpcy5hdXRvT3V0ZGVudCA9IGZ1bmN0aW9uIChkb2MsIHJvdykgewogICAgICAgIHZhciBsaW5lID0gZG9jLmdldExpbmUocm93KTsKICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eKFxzKlx9KS8pOwogICAgICAgIGlmICghbWF0Y2gpCiAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgIHZhciBjb2x1bW4gPSBtYXRjaFsxXS5sZW5ndGg7CiAgICAgICAgdmFyIG9wZW5CcmFjZVBvcyA9IGRvYy5maW5kTWF0Y2hpbmdCcmFja2V0KHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0pOwogICAgICAgIGlmICghb3BlbkJyYWNlUG9zIHx8IG9wZW5CcmFjZVBvcy5yb3cgPT0gcm93KQogICAgICAgICAgICByZXR1cm4gMDsKICAgICAgICB2YXIgaW5kZW50ID0gdGhpcy4kZ2V0SW5kZW50KGRvYy5nZXRMaW5lKG9wZW5CcmFjZVBvcy5yb3cpKTsKICAgICAgICBkb2MucmVwbGFjZShuZXcgUmFuZ2Uocm93LCAwLCByb3csIGNvbHVtbiAtIDEpLCBpbmRlbnQpOwogICAgfTsKICAgIHRoaXMuJGdldEluZGVudCA9IGZ1bmN0aW9uIChsaW5lKSB7CiAgICAgICAgcmV0dXJuIGxpbmUubWF0Y2goL15ccyovKVswXTsKICAgIH07Cn0pLmNhbGwoTWF0Y2hpbmdCcmFjZU91dGRlbnQucHJvdG90eXBlKTsKZXhwb3J0cy5NYXRjaGluZ0JyYWNlT3V0ZGVudCA9IE1hdGNoaW5nQnJhY2VPdXRkZW50OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9mb2xkaW5nL2NzdHlsZSIsWyJyZXF1aXJlIiwiZXhwb3J0cyIsIm1vZHVsZSIsImFjZS9saWIvb29wIiwiYWNlL3JhbmdlIiwiYWNlL21vZGUvZm9sZGluZy9mb2xkX21vZGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuLi8uLi9saWIvb29wIik7CnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uLy4uL3JhbmdlIikuUmFuZ2U7CnZhciBCYXNlRm9sZE1vZGUgPSByZXF1aXJlKCIuL2ZvbGRfbW9kZSIpLkZvbGRNb2RlOwp2YXIgRm9sZE1vZGUgPSBleHBvcnRzLkZvbGRNb2RlID0gZnVuY3Rpb24gKGNvbW1lbnRSZWdleCkgewogICAgaWYgKGNvbW1lbnRSZWdleCkgewogICAgICAgIHRoaXMuZm9sZGluZ1N0YXJ0TWFya2VyID0gbmV3IFJlZ0V4cCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LnN0YXJ0KSk7CiAgICAgICAgdGhpcy5mb2xkaW5nU3RvcE1hcmtlciA9IG5ldyBSZWdFeHAodGhpcy5mb2xkaW5nU3RvcE1hcmtlci5zb3VyY2UucmVwbGFjZSgvXHxbXnxdKj8kLywgInwiICsgY29tbWVudFJlZ2V4LmVuZCkpOwogICAgfQp9Owpvb3AuaW5oZXJpdHMoRm9sZE1vZGUsIEJhc2VGb2xkTW9kZSk7CihmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmZvbGRpbmdTdGFydE1hcmtlciA9IC8oW1x7XFtcKF0pW15cfVxdXCldKiR8XlxzKihcL1wqKS87CiAgICB0aGlzLmZvbGRpbmdTdG9wTWFya2VyID0gL15bXlxbXHtcKF0qKFtcfVxdXCldKXxeW1xzXCpdKihcKlwvKS87CiAgICB0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCopLipcKlwvXHMqJC87CiAgICB0aGlzLnRyaXBsZVN0YXJCbG9ja0NvbW1lbnRSZSA9IC9eXHMqKFwvXCpcKlwqKS4qXCpcL1xzKiQvOwogICAgdGhpcy5zdGFydFJlZ2lvblJlID0gL15ccyooXC9cKnxcL1wvKSM/cmVnaW9uXGIvOwogICAgdGhpcy5fZ2V0Rm9sZFdpZGdldEJhc2UgPSB0aGlzLmdldEZvbGRXaWRnZXQ7CiAgICB0aGlzLmdldEZvbGRXaWRnZXQgPSBmdW5jdGlvbiAoc2Vzc2lvbiwgZm9sZFN0eWxlLCByb3cpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnNpbmdsZUxpbmVCbG9ja0NvbW1lbnRSZS50ZXN0KGxpbmUpKSB7CiAgICAgICAgICAgIGlmICghdGhpcy5zdGFydFJlZ2lvblJlLnRlc3QobGluZSkgJiYgIXRoaXMudHJpcGxlU3RhckJsb2NrQ29tbWVudFJlLnRlc3QobGluZSkpCiAgICAgICAgICAgICAgICByZXR1cm4gIiI7CiAgICAgICAgfQogICAgICAgIHZhciBmdyA9IHRoaXMuX2dldEZvbGRXaWRnZXRCYXNlKHNlc3Npb24sIGZvbGRTdHlsZSwgcm93KTsKICAgICAgICBpZiAoIWZ3ICYmIHRoaXMuc3RhcnRSZWdpb25SZS50ZXN0KGxpbmUpKQogICAgICAgICAgICByZXR1cm4gInN0YXJ0IjsgLy8gbGluZUNvbW1lbnRSZWdpb25TdGFydAogICAgICAgIHJldHVybiBmdzsKICAgIH07CiAgICB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZSA9IGZ1bmN0aW9uIChzZXNzaW9uLCBmb2xkU3R5bGUsIHJvdywgZm9yY2VNdWx0aWxpbmUpIHsKICAgICAgICB2YXIgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgIGlmICh0aGlzLnN0YXJ0UmVnaW9uUmUudGVzdChsaW5lKSkKICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Q29tbWVudFJlZ2lvbkJsb2NrKHNlc3Npb24sIGxpbmUsIHJvdyk7CiAgICAgICAgdmFyIG1hdGNoID0gbGluZS5tYXRjaCh0aGlzLmZvbGRpbmdTdGFydE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLm9wZW5pbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHZhciByYW5nZSA9IHNlc3Npb24uZ2V0Q29tbWVudEZvbGRSYW5nZShyb3csIGkgKyBtYXRjaFswXS5sZW5ndGgsIDEpOwogICAgICAgICAgICBpZiAocmFuZ2UgJiYgIXJhbmdlLmlzTXVsdGlMaW5lKCkpIHsKICAgICAgICAgICAgICAgIGlmIChmb3JjZU11bHRpbGluZSkgewogICAgICAgICAgICAgICAgICAgIHJhbmdlID0gdGhpcy5nZXRTZWN0aW9uUmFuZ2Uoc2Vzc2lvbiwgcm93KTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKGZvbGRTdHlsZSAhPSAiYWxsIikKICAgICAgICAgICAgICAgICAgICByYW5nZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIHJhbmdlOwogICAgICAgIH0KICAgICAgICBpZiAoZm9sZFN0eWxlID09PSAibWFya2JlZ2luIikKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIHZhciBtYXRjaCA9IGxpbmUubWF0Y2godGhpcy5mb2xkaW5nU3RvcE1hcmtlcik7CiAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgIHZhciBpID0gbWF0Y2guaW5kZXggKyBtYXRjaFswXS5sZW5ndGg7CiAgICAgICAgICAgIGlmIChtYXRjaFsxXSkKICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmNsb3NpbmdCcmFja2V0QmxvY2soc2Vzc2lvbiwgbWF0Y2hbMV0sIHJvdywgaSk7CiAgICAgICAgICAgIHJldHVybiBzZXNzaW9uLmdldENvbW1lbnRGb2xkUmFuZ2Uocm93LCBpLCAtMSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuZ2V0U2VjdGlvblJhbmdlID0gZnVuY3Rpb24gKHNlc3Npb24sIHJvdykgewogICAgICAgIHZhciBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgdmFyIHN0YXJ0SW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gcm93OwogICAgICAgIHZhciBzdGFydENvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIHJvdyA9IHJvdyArIDE7CiAgICAgICAgdmFyIGVuZFJvdyA9IHJvdzsKICAgICAgICB2YXIgbWF4Um93ID0gc2Vzc2lvbi5nZXRMZW5ndGgoKTsKICAgICAgICB3aGlsZSAoKytyb3cgPCBtYXhSb3cpIHsKICAgICAgICAgICAgbGluZSA9IHNlc3Npb24uZ2V0TGluZShyb3cpOwogICAgICAgICAgICB2YXIgaW5kZW50ID0gbGluZS5zZWFyY2goL1xTLyk7CiAgICAgICAgICAgIGlmIChpbmRlbnQgPT09IC0xKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChzdGFydEluZGVudCA+IGluZGVudCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB2YXIgc3ViUmFuZ2UgPSB0aGlzLmdldEZvbGRXaWRnZXRSYW5nZShzZXNzaW9uLCAiYWxsIiwgcm93KTsKICAgICAgICAgICAgaWYgKHN1YlJhbmdlKSB7CiAgICAgICAgICAgICAgICBpZiAoc3ViUmFuZ2Uuc3RhcnQucm93IDw9IHN0YXJ0Um93KSB7CiAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBlbHNlIGlmIChzdWJSYW5nZS5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgICAgICAgICAgcm93ID0gc3ViUmFuZ2UuZW5kLnJvdzsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGVsc2UgaWYgKHN0YXJ0SW5kZW50ID09IGluZGVudCkgewogICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGVuZFJvdyA9IHJvdzsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgc2Vzc2lvbi5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgIH07CiAgICB0aGlzLmdldENvbW1lbnRSZWdpb25CbG9jayA9IGZ1bmN0aW9uIChzZXNzaW9uLCBsaW5lLCByb3cpIHsKICAgICAgICB2YXIgc3RhcnRDb2x1bW4gPSBsaW5lLnNlYXJjaCgvXHMqJC8pOwogICAgICAgIHZhciBtYXhSb3cgPSBzZXNzaW9uLmdldExlbmd0aCgpOwogICAgICAgIHZhciBzdGFydFJvdyA9IHJvdzsKICAgICAgICB2YXIgcmUgPSAvXlxzKig/OlwvXCp8XC9cL3wtLSkjPyhlbmQpP3JlZ2lvblxiLzsKICAgICAgICB2YXIgZGVwdGggPSAxOwogICAgICAgIHdoaWxlICgrK3JvdyA8IG1heFJvdykgewogICAgICAgICAgICBsaW5lID0gc2Vzc2lvbi5nZXRMaW5lKHJvdyk7CiAgICAgICAgICAgIHZhciBtID0gcmUuZXhlYyhsaW5lKTsKICAgICAgICAgICAgaWYgKCFtKQogICAgICAgICAgICAgICAgY29udGludWU7CiAgICAgICAgICAgIGlmIChtWzFdKQogICAgICAgICAgICAgICAgZGVwdGgtLTsKICAgICAgICAgICAgZWxzZQogICAgICAgICAgICAgICAgZGVwdGgrKzsKICAgICAgICAgICAgaWYgKCFkZXB0aCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICB2YXIgZW5kUm93ID0gcm93OwogICAgICAgIGlmIChlbmRSb3cgPiBzdGFydFJvdykgewogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBsaW5lLmxlbmd0aCk7CiAgICAgICAgfQogICAgfTsKfSkuY2FsbChGb2xkTW9kZS5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL2xpYi9vb3AiLCJhY2UvbW9kZS90ZXh0IiwiYWNlL21vZGUvanNvbl9oaWdobGlnaHRfcnVsZXMiLCJhY2UvbW9kZS9tYXRjaGluZ19icmFjZV9vdXRkZW50IiwiYWNlL21vZGUvYmVoYXZpb3VyL2NzdHlsZSIsImFjZS9tb2RlL2ZvbGRpbmcvY3N0eWxlIiwiYWNlL3dvcmtlci93b3JrZXJfY2xpZW50Il0sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi4vbGliL29vcCIpOwp2YXIgVGV4dE1vZGUgPSByZXF1aXJlKCIuL3RleHQiKS5Nb2RlOwp2YXIgSGlnaGxpZ2h0UnVsZXMgPSByZXF1aXJlKCIuL2pzb25faGlnaGxpZ2h0X3J1bGVzIikuSnNvbkhpZ2hsaWdodFJ1bGVzOwp2YXIgTWF0Y2hpbmdCcmFjZU91dGRlbnQgPSByZXF1aXJlKCIuL21hdGNoaW5nX2JyYWNlX291dGRlbnQiKS5NYXRjaGluZ0JyYWNlT3V0ZGVudDsKdmFyIENzdHlsZUJlaGF2aW91ciA9IHJlcXVpcmUoIi4vYmVoYXZpb3VyL2NzdHlsZSIpLkNzdHlsZUJlaGF2aW91cjsKdmFyIENTdHlsZUZvbGRNb2RlID0gcmVxdWlyZSgiLi9mb2xkaW5nL2NzdHlsZSIpLkZvbGRNb2RlOwp2YXIgV29ya2VyQ2xpZW50ID0gcmVxdWlyZSgiLi4vd29ya2VyL3dvcmtlcl9jbGllbnQiKS5Xb3JrZXJDbGllbnQ7CnZhciBNb2RlID0gZnVuY3Rpb24gKCkgewogICAgdGhpcy5IaWdobGlnaHRSdWxlcyA9IEhpZ2hsaWdodFJ1bGVzOwogICAgdGhpcy4kb3V0ZGVudCA9IG5ldyBNYXRjaGluZ0JyYWNlT3V0ZGVudCgpOwogICAgdGhpcy4kYmVoYXZpb3VyID0gbmV3IENzdHlsZUJlaGF2aW91cigpOwogICAgdGhpcy5mb2xkaW5nUnVsZXMgPSBuZXcgQ1N0eWxlRm9sZE1vZGUoKTsKfTsKb29wLmluaGVyaXRzKE1vZGUsIFRleHRNb2RlKTsKKGZ1bmN0aW9uICgpIHsKICAgIHRoaXMubGluZUNvbW1lbnRTdGFydCA9ICIvLyI7CiAgICB0aGlzLmJsb2NrQ29tbWVudCA9IHsgc3RhcnQ6ICIvKiIsIGVuZDogIiovIiB9OwogICAgdGhpcy5nZXROZXh0TGluZUluZGVudCA9IGZ1bmN0aW9uIChzdGF0ZSwgbGluZSwgdGFiKSB7CiAgICAgICAgdmFyIGluZGVudCA9IHRoaXMuJGdldEluZGVudChsaW5lKTsKICAgICAgICBpZiAoc3RhdGUgPT0gInN0YXJ0IikgewogICAgICAgICAgICB2YXIgbWF0Y2ggPSBsaW5lLm1hdGNoKC9eLipbXHtcKFxbXVxzKiQvKTsKICAgICAgICAgICAgaWYgKG1hdGNoKSB7CiAgICAgICAgICAgICAgICBpbmRlbnQgKz0gdGFiOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBpbmRlbnQ7CiAgICB9OwogICAgdGhpcy5jaGVja091dGRlbnQgPSBmdW5jdGlvbiAoc3RhdGUsIGxpbmUsIGlucHV0KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG91dGRlbnQuY2hlY2tPdXRkZW50KGxpbmUsIGlucHV0KTsKICAgIH07CiAgICB0aGlzLmF1dG9PdXRkZW50ID0gZnVuY3Rpb24gKHN0YXRlLCBkb2MsIHJvdykgewogICAgICAgIHRoaXMuJG91dGRlbnQuYXV0b091dGRlbnQoZG9jLCByb3cpOwogICAgfTsKICAgIHRoaXMuY3JlYXRlV29ya2VyID0gZnVuY3Rpb24gKHNlc3Npb24pIHsKICAgICAgICB2YXIgd29ya2VyID0gbmV3IFdvcmtlckNsaWVudChbImFjZSJdLCAiYWNlL21vZGUvanNvbl93b3JrZXIiLCAiSnNvbldvcmtlciIpOwogICAgICAgIHdvcmtlci5hdHRhY2hUb0RvY3VtZW50KHNlc3Npb24uZ2V0RG9jdW1lbnQoKSk7CiAgICAgICAgd29ya2VyLm9uKCJhbm5vdGF0ZSIsIGZ1bmN0aW9uIChlKSB7CiAgICAgICAgICAgIHNlc3Npb24uc2V0QW5ub3RhdGlvbnMoZS5kYXRhKTsKICAgICAgICB9KTsKICAgICAgICB3b3JrZXIub24oInRlcm1pbmF0ZSIsIGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgc2Vzc2lvbi5jbGVhckFubm90YXRpb25zKCk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHdvcmtlcjsKICAgIH07CiAgICB0aGlzLiRpZCA9ICJhY2UvbW9kZS9qc29uIjsKfSkuY2FsbChNb2RlLnByb3RvdHlwZSk7CmV4cG9ydHMuTW9kZSA9IE1vZGU7Cgp9KTsgICAgICAgICAgICAgICAgKGZ1bmN0aW9uKCkgewogICAgICAgICAgICAgICAgICAgIGFjZS5yZXF1aXJlKFsiYWNlL21vZGUvanNvbiJdLCBmdW5jdGlvbihtKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgbW9kdWxlID09ICJvYmplY3QiICYmIHR5cGVvZiBleHBvcnRzID09ICJvYmplY3QiICYmIG1vZHVsZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBtOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KSgpOwogICAgICAgICAgICA=",workerJsonUrl="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBjb21wYXJlUG9pbnRzID0gZnVuY3Rpb24gKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uIChzdGFydFJvdywgc3RhcnRDb2x1bW4sIGVuZFJvdywgZW5kQ29sdW1uKSB7CiAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgIHJvdzogc3RhcnRSb3csCiAgICAgICAgY29sdW1uOiBzdGFydENvbHVtbgogICAgfTsKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwooZnVuY3Rpb24gKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIHRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgiUmFuZ2U6IFsiICsgdGhpcy5zdGFydC5yb3cgKyAiLyIgKyB0aGlzLnN0YXJ0LmNvbHVtbiArCiAgICAgICAgICAgICJdIC0+IFsiICsgdGhpcy5lbmQucm93ICsgIi8iICsgdGhpcy5lbmQuY29sdW1uICsgIl0iKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMDsKICAgIH07CiAgICB0aGlzLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbiAocCkgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocC5yb3csIHAuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmNvbnRhaW5zUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlUG9pbnQocmFuZ2Uuc3RhcnQpID09IDAgJiYgdGhpcy5jb21wYXJlUG9pbnQocmFuZ2UuZW5kKSA9PSAwOwogICAgfTsKICAgIHRoaXMuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuaXNTdGFydCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uOwogICAgfTsKICAgIHRoaXMuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5zZXRFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgdGhpcy5lbmQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuaW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuY29tcGFyZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuc3RhcnQucm93KQogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgaWYgKHJvdyA+IHRoaXMuZW5kLnJvdykKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uIDw9IHRoaXMuZW5kLmNvbHVtbiA/IDAgOiAxOwogICAgICAgIHJldHVybiAwOwogICAgfTsKICAgIHRoaXMuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuY29tcGFyZUVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlSW5zaWRlID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAodGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gLTE7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5leHRlbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB2YXIgY21wID0gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICBpZiAoY21wID09IDApCiAgICAgICAgICAgIHJldHVybiB0aGlzOwogICAgICAgIGVsc2UgaWYgKGNtcCA9PSAtMSkKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgPT09IHRoaXMuZW5kLnJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PT0gdGhpcy5lbmQuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgdGhpcy5jbG9uZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLmNvbHVtbiA9PSAwKQogICAgICAgICAgICByZXR1cm4gbmV3IFJhbmdlKHRoaXMuc3RhcnQucm93LCAwLCBNYXRoLm1heCh0aGlzLnN0YXJ0LnJvdywgdGhpcy5lbmQucm93IC0gMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgdGhpcy5tb3ZlQnkgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cn0pLmNhbGwoUmFuZ2UucHJvdG90eXBlKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7ClJhbmdlLmNvbXBhcmVQb2ludHMgPSBmdW5jdGlvbiAocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKZXhwb3J0cy5SYW5nZSA9IFJhbmdlOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvYW5jaG9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBvb3AgPSByZXF1aXJlKCIuL2xpYi9vb3AiKTsKdmFyIEV2ZW50RW1pdHRlciA9IHJlcXVpcmUoIi4vbGliL2V2ZW50X2VtaXR0ZXIiKS5FdmVudEVtaXR0ZXI7CnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uIChkb2MsIHJvdywgY29sdW1uKSB7CiAgICB0aGlzLiRvbkNoYW5nZSA9IHRoaXMub25DaGFuZ2UuYmluZCh0aGlzKTsKICAgIHRoaXMuYXR0YWNoKGRvYyk7CiAgICBpZiAodHlwZW9mIGNvbHVtbiA9PSAidW5kZWZpbmVkIikKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdy5yb3csIHJvdy5jb2x1bW4pOwogICAgZWxzZQogICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwp9OwooZnVuY3Rpb24gKCkgewogICAgb29wLmltcGxlbWVudCh0aGlzLCBFdmVudEVtaXR0ZXIpOwogICAgdGhpcy5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID09IGRlbHRhLmVuZC5yb3cgJiYgZGVsdGEuc3RhcnQucm93ICE9IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIHBvaW50ID0gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHsgcm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbiB9LCB0aGlzLiRpbnNlcnRSaWdodCk7CiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihwb2ludC5yb3csIHBvaW50LmNvbHVtbiwgdHJ1ZSk7CiAgICB9OwogICAgZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgICAgIHZhciBiQ29sSXNBZnRlciA9IGVxdWFsUG9pbnRzSW5PcmRlciA/IHBvaW50MS5jb2x1bW4gPD0gcG9pbnQyLmNvbHVtbiA6IHBvaW50MS5jb2x1bW4gPCBwb2ludDIuY29sdW1uOwogICAgICAgIHJldHVybiAocG9pbnQxLnJvdyA8IHBvaW50Mi5yb3cpIHx8IChwb2ludDEucm93ID09IHBvaW50Mi5yb3cgJiYgYkNvbElzQWZ0ZXIpOwogICAgfQogICAgZnVuY3Rpb24gJGdldFRyYW5zZm9ybWVkUG9pbnQoZGVsdGEsIHBvaW50LCBtb3ZlSWZFcXVhbCkgewogICAgICAgIHZhciBkZWx0YUlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgICAgIHZhciBkZWx0YUNvbFNoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5jb2x1bW4gLSBkZWx0YS5zdGFydC5jb2x1bW4pOwogICAgICAgIHZhciBkZWx0YVN0YXJ0ID0gZGVsdGEuc3RhcnQ7CiAgICAgICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIocG9pbnQsIGRlbHRhU3RhcnQsIG1vdmVJZkVxdWFsKSkgewogICAgICAgICAgICByZXR1cm4gewogICAgICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBpZiAoJHBvaW50c0luT3JkZXIoZGVsdGFFbmQsIHBvaW50LCAhbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgICAgICBjb2x1bW46IHBvaW50LmNvbHVtbiArIChwb2ludC5yb3cgPT0gZGVsdGFFbmQucm93ID8gZGVsdGFDb2xTaGlmdCA6IDApCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJvdzogZGVsdGFTdGFydC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgICAgICB9OwogICAgfQogICAgdGhpcy5zZXRQb3NpdGlvbiA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbiwgbm9DbGlwKSB7CiAgICAgICAgdmFyIHBvczsKICAgICAgICBpZiAobm9DbGlwKSB7CiAgICAgICAgICAgIHBvcyA9IHsKICAgICAgICAgICAgICAgIHJvdzogcm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBjb2x1bW4KICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvcyA9IHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdmFyIG9sZCA9IHsKICAgICAgICAgICAgcm93OiB0aGlzLnJvdywKICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtbgogICAgICAgIH07CiAgICAgICAgdGhpcy5yb3cgPSBwb3Mucm93OwogICAgICAgIHRoaXMuY29sdW1uID0gcG9zLmNvbHVtbjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIHsKICAgICAgICAgICAgb2xkOiBvbGQsCiAgICAgICAgICAgIHZhbHVlOiBwb3MKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmRldGFjaCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9mZigiY2hhbmdlIiwgdGhpcy4kb25DaGFuZ2UpOwogICAgfTsKICAgIHRoaXMuYXR0YWNoID0gZnVuY3Rpb24gKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBwb3MgPSB7fTsKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KICAgICAgICBpZiAoY29sdW1uIDwgMCkKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgcmV0dXJuIHBvczsKICAgIH07Cn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gZnVuY3Rpb24gKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfQogICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheSh0ZXh0T3JMaW5lcykpIHsKICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiAwLCBjb2x1bW46IDAgfSwgdGV4dE9yTGluZXMpOwogICAgfQogICAgZWxzZSB7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICB9Cn07CihmdW5jdGlvbiAoKSB7CiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbGVuID0gdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdGhpcy5yZW1vdmUobmV3IFJhbmdlKDAsIDAsIGxlbiwgdGhpcy5nZXRMaW5lKGxlbikubGVuZ3RoKSk7CiAgICAgICAgdGhpcy5pbnNlcnQoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0IHx8ICIiKTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldEFsbExpbmVzKCkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgaWYgKCJhYWEiLnNwbGl0KC9hLykubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9CiAgICBlbHNlIHsKICAgICAgICB0aGlzLiRzcGxpdCA9IGZ1bmN0aW9uICh0ZXh0KSB7CiAgICAgICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICAgICAgfTsKICAgIH0KICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBtYXRjaCA9IHRleHQubWF0Y2goL14uKj8oXHJcbnxccnxcbikvbSk7CiAgICAgICAgdGhpcy4kYXV0b05ld0xpbmUgPSBtYXRjaCA/IG1hdGNoWzFdIDogIlxuIjsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gIiI7CiAgICB0aGlzLiRuZXdMaW5lTW9kZSA9ICJhdXRvIjsKICAgIHRoaXMuc2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAobmV3TGluZU1vZGUpIHsKICAgICAgICBpZiAodGhpcy4kbmV3TGluZU1vZGUgPT09IG5ld0xpbmVNb2RlKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgdGhpcy4kbmV3TGluZU1vZGUgPSBuZXdMaW5lTW9kZTsKICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZU5ld0xpbmVNb2RlIik7CiAgICB9OwogICAgdGhpcy5nZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbmV3TGluZU1vZGU7CiAgICB9OwogICAgdGhpcy5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24gKHJvdykgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lc1tyb3ddIHx8ICIiOwogICAgfTsKICAgIHRoaXMuZ2V0TGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICByZXR1cm4gdGhpcy4kbGluZXMuc2xpY2UoZmlyc3RSb3csIGxhc3RSb3cgKyAxKTsKICAgIH07CiAgICB0aGlzLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICB9OwogICAgdGhpcy5nZXRUZXh0UmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHJhbmdlKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TGluZXMgPSBmdW5jdGlvbiAocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQucmVtb3ZlTGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSByZW1vdmVGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMucmVtb3ZlRnVsbExpbmVzKGZpcnN0Um93LCBsYXN0Um93KTsKICAgIH07CiAgICB0aGlzLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICB0aGlzLmluc2VydCA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHRoaXMucG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uICsgdGV4dC5sZW5ndGgpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogImluc2VydCIsCiAgICAgICAgICAgIGxpbmVzOiBbdGV4dF0KICAgICAgICB9LCB0cnVlKTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLmNsb25lUG9zID0gZnVuY3Rpb24gKHBvcykgewogICAgICAgIHJldHVybiB7IHJvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1uIH07CiAgICB9OwogICAgdGhpcy5wb3MgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgcm93ID0gTWF0aC5taW4oTWF0aC5tYXgocm93LCAwKSwgdGhpcy5nZXRMZW5ndGgoKSk7CiAgICAgICAgdmFyIGNvbHVtbiA9IDA7CiAgICAgICAgaWYgKHJvdyA8IHRoaXMuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgbGluZXMgPSBsaW5lcy5jb25jYXQoWyIiXSk7CiAgICAgICAgICAgIGNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH0sIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzID0gZnVuY3Rpb24gKHBvc2l0aW9uLCBsaW5lcykgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbik7CiAgICAgICAgdmFyIGVuZCA9IHsKICAgICAgICAgICAgcm93OiBzdGFydC5yb3cgKyBsaW5lcy5sZW5ndGggLSAxLAogICAgICAgICAgICBjb2x1bW46IChsaW5lcy5sZW5ndGggPT0gMSA/IHN0YXJ0LmNvbHVtbiA6IDApICsgbGluZXNbbGluZXMubGVuZ3RoIC0gMV0ubGVuZ3RoCiAgICAgICAgfTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogbGluZXMKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhlbmQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIHRoaXMucmVtb3ZlSW5MaW5lID0gZnVuY3Rpb24gKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHsgc3RhcnQ6IHN0YXJ0LCBlbmQ6IGVuZCB9KQogICAgICAgIH0sIHRydWUpOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUZ1bGxMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGxhc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgdmFyIGRlbGV0ZUZpcnN0TmV3TGluZSA9IGxhc3RSb3cgPT0gdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgZmlyc3RSb3cgPiAwOwogICAgICAgIHZhciBkZWxldGVMYXN0TmV3TGluZSA9IGxhc3RSb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB2YXIgc3RhcnRSb3cgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gZmlyc3RSb3cgLSAxIDogZmlyc3RSb3cpOwogICAgICAgIHZhciBzdGFydENvbCA9IChkZWxldGVGaXJzdE5ld0xpbmUgPyB0aGlzLmdldExpbmUoc3RhcnRSb3cpLmxlbmd0aCA6IDApOwogICAgICAgIHZhciBlbmRSb3cgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyBsYXN0Um93ICsgMSA6IGxhc3RSb3cpOwogICAgICAgIHZhciBlbmRDb2wgPSAoZGVsZXRlTGFzdE5ld0xpbmUgPyAwIDogdGhpcy5nZXRMaW5lKGVuZFJvdykubGVuZ3RoKTsKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5yZXBsYWNlID0gZnVuY3Rpb24gKHJhbmdlLCB0ZXh0KSB7CiAgICAgICAgaWYgKCEocmFuZ2UgaW5zdGFuY2VvZiBSYW5nZSkpCiAgICAgICAgICAgIHJhbmdlID0gUmFuZ2UuZnJvbVBvaW50cyhyYW5nZS5zdGFydCwgcmFuZ2UuZW5kKTsKICAgICAgICBpZiAodGV4dC5sZW5ndGggPT09IDAgJiYgcmFuZ2UuaXNFbXB0eSgpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgaWYgKHRleHQgPT0gdGhpcy5nZXRUZXh0UmFuZ2UocmFuZ2UpKQogICAgICAgICAgICByZXR1cm4gcmFuZ2UuZW5kOwogICAgICAgIHRoaXMucmVtb3ZlKHJhbmdlKTsKICAgICAgICB2YXIgZW5kOwogICAgICAgIGlmICh0ZXh0KSB7CiAgICAgICAgICAgIGVuZCA9IHRoaXMuaW5zZXJ0KHJhbmdlLnN0YXJ0LCB0ZXh0KTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGVuZCA9IHJhbmdlLnN0YXJ0OwogICAgICAgIH0KICAgICAgICByZXR1cm4gZW5kOwogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YXMgPSBmdW5jdGlvbiAoZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgICAgICB2YXIgaXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgaWYgKGlzSW5zZXJ0ID8gZGVsdGEubGluZXMubGVuZ3RoIDw9IDEgJiYgIWRlbHRhLmxpbmVzWzBdCiAgICAgICAgICAgIDogIVJhbmdlLmNvbXBhcmVQb2ludHMoZGVsdGEuc3RhcnQsIGRlbHRhLmVuZCkpIHsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoaXNJbnNlcnQgJiYgZGVsdGEubGluZXMubGVuZ3RoID4gMjAwMDApIHsKICAgICAgICAgICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEoZGVsdGEsIDIwMDAwKTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGFwcGx5RGVsdGEodGhpcy4kbGluZXMsIGRlbHRhLCBkb05vdFZhbGlkYXRlKTsKICAgICAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2UiLCBkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24gKGRlbHRhKSB7CiAgICAgICAgdmFyIGRvY0xlbmd0aCA9IHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgICAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGEgPSBmdW5jdGlvbiAoZGVsdGEpIHsKICAgICAgICB0aGlzLiRzYWZlQXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiB0aGlzLmNsb25lUG9zKGRlbHRhLnN0YXJ0KSwKICAgICAgICAgICAgZW5kOiB0aGlzLmNsb25lUG9zKGRlbHRhLmVuZCksCiAgICAgICAgICAgIGFjdGlvbjogKGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiA/ICJyZW1vdmUiIDogImluc2VydCIpLAogICAgICAgICAgICBsaW5lczogZGVsdGEubGluZXMuc2xpY2UoKQogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuaW5kZXhUb1Bvc2l0aW9uID0gZnVuY3Rpb24gKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHsgcm93OiBpLCBjb2x1bW46IGluZGV4ICsgbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aCB9OwogICAgICAgIH0KICAgICAgICByZXR1cm4geyByb3c6IGwgLSAxLCBjb2x1bW46IGluZGV4ICsgbGluZXNbbCAtIDFdLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgIH07CiAgICB0aGlzLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKfSkuY2FsbChEb2N1bWVudC5wcm90b3R5cGUpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvbGFuZyIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpleHBvcnRzLmxhc3QgPSBmdW5jdGlvbiAoYSkgewogICAgcmV0dXJuIGFbYS5sZW5ndGggLSAxXTsKfTsKZXhwb3J0cy5zdHJpbmdSZXZlcnNlID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5zcGxpdCgiIikucmV2ZXJzZSgpLmpvaW4oIiIpOwp9OwpleHBvcnRzLnN0cmluZ1JlcGVhdCA9IGZ1bmN0aW9uIChzdHJpbmcsIGNvdW50KSB7CiAgICB2YXIgcmVzdWx0ID0gJyc7CiAgICB3aGlsZSAoY291bnQgPiAwKSB7CiAgICAgICAgaWYgKGNvdW50ICYgMSkKICAgICAgICAgICAgcmVzdWx0ICs9IHN0cmluZzsKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9Owp2YXIgdHJpbUJlZ2luUmVnZXhwID0gL15cc1xzKi87CnZhciB0cmltRW5kUmVnZXhwID0gL1xzXHMqJC87CmV4cG9ydHMuc3RyaW5nVHJpbUxlZnQgPSBmdW5jdGlvbiAoc3RyaW5nKSB7CiAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UodHJpbUJlZ2luUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKZXhwb3J0cy5jb3B5T2JqZWN0ID0gZnVuY3Rpb24gKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwpleHBvcnRzLmNvcHlBcnJheSA9IGZ1bmN0aW9uIChhcnJheSkgewogICAgdmFyIGNvcHkgPSBbXTsKICAgIGZvciAodmFyIGkgPSAwLCBsID0gYXJyYXkubGVuZ3RoOyBpIDwgbDsgaSsrKSB7CiAgICAgICAgaWYgKGFycmF5W2ldICYmIHR5cGVvZiBhcnJheVtpXSA9PSAib2JqZWN0IikKICAgICAgICAgICAgY29weVtpXSA9IHRoaXMuY29weU9iamVjdChhcnJheVtpXSk7CiAgICAgICAgZWxzZQogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5kZWVwQ29weSA9IGZ1bmN0aW9uIGRlZXBDb3B5KG9iaikgewogICAgaWYgKHR5cGVvZiBvYmogIT09ICJvYmplY3QiIHx8ICFvYmopCiAgICAgICAgcmV0dXJuIG9iajsKICAgIHZhciBjb3B5OwogICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkgewogICAgICAgIGNvcHkgPSBbXTsKICAgICAgICBmb3IgKHZhciBrZXkgPSAwOyBrZXkgPCBvYmoubGVuZ3RoOyBrZXkrKykgewogICAgICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBjb3B5OwogICAgfQogICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopICE9PSAiW29iamVjdCBPYmplY3RdIikKICAgICAgICByZXR1cm4gb2JqOwogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5hcnJheVRvTWFwID0gZnVuY3Rpb24gKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBtYXBbYXJyW2ldXSA9IDE7CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmNyZWF0ZU1hcCA9IGZ1bmN0aW9uIChwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24gKGFycmF5LCB2YWx1ZSkgewogICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAodmFsdWUgPT09IGFycmF5W2ldKSB7CiAgICAgICAgICAgIGFycmF5LnNwbGljZShpLCAxKTsKICAgICAgICB9CiAgICB9Cn07CmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oWy4qKz9eJHt9KCl8W1xdXC9cXF0pL2csICdcXCQxJyk7Cn07CmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uIChzdHIpIHsKICAgIHJldHVybiAoIiIgKyBzdHIpLnJlcGxhY2UoLyYvZywgIiYjMzg7IikucmVwbGFjZSgvIi9nLCAiJiMzNDsiKS5yZXBsYWNlKC8nL2csICImIzM5OyIpLnJlcGxhY2UoLzwvZywgIiYjNjA7Iik7Cn07CmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24gKHN0cmluZywgcmVnRXhwKSB7CiAgICB2YXIgbWF0Y2hlcyA9IFtdOwogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbiAoc3RyKSB7CiAgICAgICAgbWF0Y2hlcy5wdXNoKHsKICAgICAgICAgICAgb2Zmc2V0OiBhcmd1bWVudHNbYXJndW1lbnRzLmxlbmd0aCAtIDJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwogICAgcmV0dXJuIG1hdGNoZXM7Cn07CmV4cG9ydHMuZGVmZXJyZWRDYWxsID0gZnVuY3Rpb24gKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBkZWZlcnJlZC5jYW5jZWwoKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgMCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CiAgICBkZWZlcnJlZC5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKICAgIGRlZmVycmVkLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gZGVmZXJyZWQ7Cn07CmV4cG9ydHMuZGVsYXllZENhbGwgPSBmdW5jdGlvbiAoZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uICgpIHsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICBpZiAodGltZXIgPT0gbnVsbCkKICAgICAgICAgICAgdGltZXIgPSBzZXRUaW1lb3V0KGNhbGxiYWNrLCB0aW1lb3V0IHx8IGRlZmF1bHRUaW1lb3V0KTsKICAgIH07CiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uICh0aW1lb3V0KSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLnNjaGVkdWxlID0gX3NlbGY7CiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICB9OwogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyICYmIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgfTsKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwogICAgcmV0dXJuIF9zZWxmOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";ace.config.setModuleUrl("ace/theme/kr_theme",themeUrl2),ace.config.setModuleUrl("ace/mode/json",modeJsonUrl),ace.config.setModuleUrl("ace/mode/json_worker",workerJsonUrl);const _sfc_main$x=vue.defineComponent({__name:"code-edit-modal",props:{modelValue:{default:()=>({})},lang:{default:"json"},title:{default:"编辑"}},emits:["update:modelValue","close"],setup(i,{emit:r}){const n=i,o=vue.ref(!1),a=r,u=vue.computed({get(){return n.lang==="json"?JSON.stringify(n.modelValue,null,2):n.modelValue},set(c){n.lang==="json"?a("update:modelValue",JSON.parse(c)):a("update:modelValue",c)}});return(c,d)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElButton),{onClick:d[0]||(d[0]=f=>o.value=!0)},{default:vue.withCtx(()=>[vue.createTextVNode("···")]),_:1}),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(o),"onUpdate:modelValue":d[2]||(d[2]=f=>vue.isRef(o)?o.value=f:null),title:n.title,width:"60%",onClose:d[3]||(d[3]=f=>a("close"))},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(VAceEditor),{value:vue.unref(u),"onUpdate:value":d[1]||(d[1]=f=>vue.isRef(u)?u.value=f:null),lang:n.lang,theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value","lang"])]),_:1},8,["modelValue","title"])]))}}),_hoisted_1$7={class:"one-row-txt",style:{width:"78px"}},_hoisted_2$5={key:1},_hoisted_3$4={class:"one-row-txt",style:{width:"145px"}},_hoisted_4$2={key:1},_sfc_main$w=vue.defineComponent({__name:"dynamic-el-form-item",props:{objInfo:{default:()=>({})},hide:{default:()=>[]},code:{type:Boolean,default:!1}},emits:["change"],setup(i,{emit:r}){const n=r,o=i,a=vue.computed(()=>{var h;const c={};let d=0,f=[];for(let y of Object.keys(o.objInfo)){const g=(h=o.objInfo[y])==null?void 0:h.sort;if(g){const p=Number(g);p>d&&(d=p)}if(g)c[g]=y;else return Object.keys(o.objInfo).map(p=>({...o.objInfo[p],_key:p}))}for(let y=0;y<d+1;y++){const g=String(y);f.push({...o.objInfo[c[g]],_key:c[g]})}return f});function u(c){let d=window.setTimeout(function(){n("change",c),clearTimeout(d),d=null},200)}return(c,d)=>(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(a),f=>(vue.openBlock(),vue.createElementBlock("div",{key:f._key},[o.code?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,class:"props-row",size:"small"},{label:vue.withCtx(()=>[vue.unref(getStringWidth)(String(f._key))>78?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTooltip),{key:0,content:String(f._key),placement:"left","popper-class":"props-popper"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$7,vue.toDisplayString(f._key),1)]),_:2},1032,["content"])):(vue.openBlock(),vue.createElementBlock("span",_hoisted_2$5,vue.toDisplayString(f._key),1))]),default:vue.withCtx(()=>[vue.unref(getStringWidth)(String(f.val))>145?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTooltip),{key:0,content:JSON.stringify(f.val),placement:"left","popper-class":"props-popper"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$4,vue.toDisplayString(f.val),1)]),_:2},1032,["content"])):(vue.openBlock(),vue.createElementBlock("span",_hoisted_4$2,vue.toDisplayString(f.val),1))]),_:2},1024)):vue.createCommentVNode("",!0),o.hide.indexOf(String(f._key))<0?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:f.title,size:"small"},{default:vue.withCtx(()=>[f.type===vue.unref(EConfigItemPropsType).Select?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElSelect),{key:0,modelValue:o.objInfo[f._key].val,"onUpdate:modelValue":h=>o.objInfo[f._key].val=h,placeholder:"Select",size:"small",disabled:!!(f!=null&&f.disabled),onChange:u},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(f.options,h=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:h.value,label:h.label,value:h.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).InputNumber?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInputNumber),{key:1,modelValue:o.objInfo[f._key].val,"onUpdate:modelValue":h=>o.objInfo[f._key].val=h,disabled:!!(f!=null&&f.disabled),onChange:u},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Input?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInput),{key:2,modelValue:o.objInfo[f._key].val,"onUpdate:modelValue":h=>o.objInfo[f._key].val=h,disabled:!!(f!=null&&f.disabled),onChange:u},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Textarea?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElInput),{key:3,modelValue:o.objInfo[f._key].val,"onUpdate:modelValue":h=>o.objInfo[f._key].val=h,autosize:"",type:"textarea",disabled:!!(f!=null&&f.disabled),onChange:u},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Color?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElColorPicker),{key:4,modelValue:o.objInfo[f._key].val,"onUpdate:modelValue":h=>o.objInfo[f._key].val=h,disabled:!!(f!=null&&f.disabled),onChange:u},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).Switch?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElSwitch),{key:5,modelValue:o.objInfo[f._key].val,"onUpdate:modelValue":h=>o.objInfo[f._key].val=h,disabled:!!(f!=null&&f.disabled),onChange:u},null,8,["modelValue","onUpdate:modelValue","disabled"])):f.type===vue.unref(EConfigItemPropsType).JsonEdit?(vue.openBlock(),vue.createBlock(_sfc_main$x,{key:6,modelValue:o.objInfo[f._key].val,"onUpdate:modelValue":h=>o.objInfo[f._key].val=h,disabled:!!(f!=null&&f.disabled),onClose:u},null,8,["modelValue","onUpdate:modelValue","disabled"])):vue.createCommentVNode("",!0)]),_:2},1032,["label"])):vue.createCommentVNode("",!0)]))),128))}}),dynamicElFormItem_vue_vue_type_style_index_0_scoped_b2819020_lang="",dynamicElFormItem_vue_vue_type_style_index_1_lang="",DynamicElFormItem=_export_sfc$1(_sfc_main$w,[["__scopeId","data-v-b2819020"]]),_hoisted_1$6={style:{height:"100%"}},_hoisted_2$4={class:"flex flex-wrap"},_hoisted_3$3=["onMouseenter","onClick"],_sfc_main$v=vue.defineComponent({__name:"common-animate",props:{val:{}},emits:["updateCommonAniVal"],setup(i,{emit:r}){const n=i,o=r,a=vue.ref(n.val),u=vue.ref(!1),c=vue.ref("进入"),d=vue.ref(null),f=h=>{o("updateCommonAniVal",h),u.value=!1};return vue.watch(()=>n.val,h=>{a.value=h}),(h,y)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$6,[vue.unref(a)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTag),{key:0,closable:"",onClose:y[0]||(y[0]=g=>f("")),onClick:y[1]||(y[1]=g=>u.value=!0),style:{cursor:"pointer"}},{default:vue.withCtx(()=>{var g;return[vue.createTextVNode(vue.toDisplayString((g=vue.unref(common_animate_list).map(p=>p.children).reduce((p,v)=>p.concat(v)).find(p=>p.value==vue.unref(a)))==null?void 0:g.label)+" ",1),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:10},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"setting"})]),_:1})]}),_:1})):(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTag),{key:1,type:"success",style:{cursor:"pointer"},onClick:y[2]||(y[2]=g=>u.value=!0)},{default:vue.withCtx(()=>[vue.createTextVNode("新增")]),_:1})),vue.createVNode(vue.unref(elementPlus.ElDrawer),{modelValue:vue.unref(u),"onUpdate:modelValue":y[5]||(y[5]=g=>vue.isRef(u)?u.value=g:null),title:"选择动画",direction:"ltr"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabs),{modelValue:vue.unref(c),"onUpdate:modelValue":y[4]||(y[4]=g=>vue.isRef(c)?c.value=g:null)},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(common_animate_list),g=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabPane),{label:g.label,name:g.label,key:g.label},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{height:"500px"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_2$4,[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(g.children,(p,v)=>(vue.openBlock(),vue.createElementBlock("div",{class:"animate",key:v,onMouseenter:_=>d.value=v,onMouseleave:y[3]||(y[3]=_=>d.value=null),onClick:_=>f(p.value)},[vue.createElementVNode("div",{class:vue.normalizeClass(`${vue.unref(d)==v?`animate__animated animate__${p.value} animate__slow animate__infinite`:""}`)},vue.toDisplayString(p.label),3)],40,_hoisted_3$3))),128))])]),_:2},1024)]),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["modelValue"])]))}}),commonAnimate_vue_vue_type_style_index_0_scoped_2668f60c_lang="",CommonAnimate=_export_sfc$1(_sfc_main$v,[["__scopeId","data-v-2668f60c"]]),_sfc_main$u=vue.defineComponent({__name:"component-tree",setup(i){const r=useGlobalStore(pinia),n=vue.computed(()=>{var u;return((u=r.handle_svg_info)==null?void 0:u.info.id)??""}),o=u=>{for(let c of r.done_json)c.selected=!1,c.old_position={x:0,y:0};r.intention=EGlobalStoreIntention.Select,r.setHandleSvgInfo(u)},a={children:"children",label:"title"};return(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTree),{class:"tree-v",data:vue.unref(r).done_json,props:a,onNodeClick:o,"default-expand-all":!0,"expand-on-click-node":!1,"highlight-current":!!vue.unref(n),"node-key":"id","current-node-key":vue.unref(n)},null,8,["data","highlight-current","current-node-key"]))}}),_withScopeId$1=i=>(vue.pushScopeId("data-v-98320511"),i=i(),vue.popScopeId(),i),_hoisted_1$5={class:"wall-l"},_hoisted_2$3={class:"head-l"},_hoisted_3$2=_withScopeId$1(()=>vue.createElementVNode("span",null,"key",-1)),_hoisted_4$1=_withScopeId$1(()=>vue.createElementVNode("span",null,"value",-1)),_hoisted_5$1={class:"row-l"},_sfc_main$t=vue.defineComponent({__name:"list",props:{modelValue:{default:()=>[{key:"",val:""}]}},emits:["update:modelValue"],setup(i,{emit:r}){const n=i,o=r,a=vue.computed({get(){return n.modelValue},set(d){o("update:modelValue",d)}}),u=()=>{a.value.push({key:"",val:""})},c=d=>{a.value.splice(d,1)};return(d,f)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_1$5,[vue.createElementVNode("div",_hoisted_2$3,[_hoisted_3$2,_hoisted_4$1,vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:u},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"add"})]),_:1})]),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(a),(h,y)=>(vue.openBlock(),vue.createElementBlock("div",_hoisted_5$1,[vue.createVNode(vue.unref(elementPlus.ElInput),{class:"content-l",modelValue:h.key,"onUpdate:modelValue":g=>h.key=g,size:"small",placeholder:"key"},null,8,["modelValue","onUpdate:modelValue"]),vue.createVNode(vue.unref(elementPlus.ElInput),{class:"content-l",modelValue:h.val,"onUpdate:modelValue":g=>h.val=g,size:"small",placeholder:"value"},null,8,["modelValue","onUpdate:modelValue"]),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:g=>c(y)},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"delete"})]),_:2},1032,["onClick"])]))),256))]))}}),list_vue_vue_type_style_index_0_scoped_98320511_lang="",List=_export_sfc$1(_sfc_main$t,[["__scopeId","data-v-98320511"]]),composeEventHandlers=(i,r,{checkForDefaultPrevented:n=!0}={})=>a=>{const u=i==null?void 0:i(a);if(n===!1||!u)return r==null?void 0:r(a)};var _a;const isClient=typeof window<"u",isString$1=i=>typeof i=="string",noop=()=>{},isIOS=isClient&&((_a=window==null?void 0:window.navigator)==null?void 0:_a.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function resolveUnref(i){return typeof i=="function"?i():vue.unref(i)}function createFilterWrapper(i,r){function n(...o){return new Promise((a,u)=>{Promise.resolve(i(()=>r.apply(this,o),{fn:r,thisArg:this,args:o})).then(a).catch(u)})}return n}function debounceFilter(i,r={}){let n,o,a=noop;const u=d=>{clearTimeout(d),a(),a=noop};return d=>{const f=resolveUnref(i),h=resolveUnref(r.maxWait);return n&&u(n),f<=0||h!==void 0&&h<=0?(o&&(u(o),o=null),Promise.resolve(d())):new Promise((y,g)=>{a=r.rejectOnCancel?g:y,h&&!o&&(o=setTimeout(()=>{n&&u(n),o=null,y(d())},h)),n=setTimeout(()=>{o&&u(o),o=null,y(d())},f)})}}function identity(i){return i}function tryOnScopeDispose(i){return vue.getCurrentScope()?(vue.onScopeDispose(i),!0):!1}function useDebounceFn(i,r=200,n={}){return createFilterWrapper(debounceFilter(r,n),i)}function refDebounced(i,r=200,n={}){const o=vue.ref(i.value),a=useDebounceFn(()=>{o.value=i.value},r,n);return vue.watch(i,()=>a()),o}function tryOnMounted(i,r=!0){vue.getCurrentInstance()?vue.onMounted(i):r?i():vue.nextTick(i)}function unrefElement(i){var r;const n=resolveUnref(i);return(r=n==null?void 0:n.$el)!=null?r:n}const defaultWindow=isClient?window:void 0;function useEventListener(...i){let r,n,o,a;if(isString$1(i[0])||Array.isArray(i[0])?([n,o,a]=i,r=defaultWindow):[r,n,o,a]=i,!r)return noop;Array.isArray(n)||(n=[n]),Array.isArray(o)||(o=[o]);const u=[],c=()=>{u.forEach(y=>y()),u.length=0},d=(y,g,p,v)=>(y.addEventListener(g,p,v),()=>y.removeEventListener(g,p,v)),f=vue.watch(()=>[unrefElement(r),resolveUnref(a)],([y,g])=>{c(),y&&u.push(...n.flatMap(p=>o.map(v=>d(y,p,v,g))))},{immediate:!0,flush:"post"}),h=()=>{f(),c()};return tryOnScopeDispose(h),h}let _iOSWorkaround=!1;function onClickOutside(i,r,n={}){const{window:o=defaultWindow,ignore:a=[],capture:u=!0,detectIframe:c=!1}=n;if(!o)return;isIOS&&!_iOSWorkaround&&(_iOSWorkaround=!0,Array.from(o.document.body.children).forEach(p=>p.addEventListener("click",noop)));let d=!0;const f=p=>a.some(v=>{if(typeof v=="string")return Array.from(o.document.querySelectorAll(v)).some(_=>_===p.target||p.composedPath().includes(_));{const _=unrefElement(v);return _&&(p.target===_||p.composedPath().includes(_))}}),y=[useEventListener(o,"click",p=>{const v=unrefElement(i);if(!(!v||v===p.target||p.composedPath().includes(v))){if(p.detail===0&&(d=!f(p)),!d){d=!0;return}r(p)}},{passive:!0,capture:u}),useEventListener(o,"pointerdown",p=>{const v=unrefElement(i);v&&(d=!p.composedPath().includes(v)&&!f(p))},{passive:!0}),c&&useEventListener(o,"blur",p=>{var v;const _=unrefElement(i);((v=o.document.activeElement)==null?void 0:v.tagName)==="IFRAME"&&!(_!=null&&_.contains(o.document.activeElement))&&r(p)})].filter(Boolean);return()=>y.forEach(p=>p())}function useSupported(i,r=!1){const n=vue.ref(),o=()=>n.value=!!i();return o(),tryOnMounted(o,r),n}const _global=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},globalKey="__vueuse_ssr_handlers__";_global[globalKey]=_global[globalKey]||{};var __getOwnPropSymbols$g=Object.getOwnPropertySymbols,__hasOwnProp$g=Object.prototype.hasOwnProperty,__propIsEnum$g=Object.prototype.propertyIsEnumerable,__objRest$2=(i,r)=>{var n={};for(var o in i)__hasOwnProp$g.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&__getOwnPropSymbols$g)for(var o of __getOwnPropSymbols$g(i))r.indexOf(o)<0&&__propIsEnum$g.call(i,o)&&(n[o]=i[o]);return n};function useResizeObserver(i,r,n={}){const o=n,{window:a=defaultWindow}=o,u=__objRest$2(o,["window"]);let c;const d=useSupported(()=>a&&"ResizeObserver"in a),f=()=>{c&&(c.disconnect(),c=void 0)},h=vue.watch(()=>unrefElement(i),g=>{f(),d.value&&a&&g&&(c=new ResizeObserver(r),c.observe(g,u))},{immediate:!0,flush:"post"}),y=()=>{f(),h()};return tryOnScopeDispose(y),{isSupported:d,stop:y}}var __getOwnPropSymbols$8=Object.getOwnPropertySymbols,__hasOwnProp$8=Object.prototype.hasOwnProperty,__propIsEnum$8=Object.prototype.propertyIsEnumerable,__objRest$1=(i,r)=>{var n={};for(var o in i)__hasOwnProp$8.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&__getOwnPropSymbols$8)for(var o of __getOwnPropSymbols$8(i))r.indexOf(o)<0&&__propIsEnum$8.call(i,o)&&(n[o]=i[o]);return n};function useMutationObserver(i,r,n={}){const o=n,{window:a=defaultWindow}=o,u=__objRest$1(o,["window"]);let c;const d=useSupported(()=>a&&"MutationObserver"in a),f=()=>{c&&(c.disconnect(),c=void 0)},h=vue.watch(()=>unrefElement(i),g=>{f(),d.value&&a&&g&&(c=new MutationObserver(r),c.observe(g,u))},{immediate:!0}),y=()=>{f(),h()};return tryOnScopeDispose(y),{isSupported:d,stop:y}}var SwipeDirection;(function(i){i.UP="UP",i.RIGHT="RIGHT",i.DOWN="DOWN",i.LEFT="LEFT",i.NONE="NONE"})(SwipeDirection||(SwipeDirection={}));var __defProp=Object.defineProperty,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(i,r,n)=>r in i?__defProp(i,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[r]=n,__spreadValues=(i,r)=>{for(var n in r||(r={}))__hasOwnProp.call(r,n)&&__defNormalProp(i,n,r[n]);if(__getOwnPropSymbols)for(var n of __getOwnPropSymbols(r))__propIsEnum.call(r,n)&&__defNormalProp(i,n,r[n]);return i};const _TransitionPresets={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};__spreadValues({linear:identity},_TransitionPresets);const isFirefox=()=>isClient&&/firefox/i.test(window.navigator.userAgent);/**
* @vue/shared v3.4.37
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/process.env.NODE_ENV!=="production"&&Object.freeze({}),process.env.NODE_ENV!=="production"&&Object.freeze([]);const NOOP=()=>{},hasOwnProperty=Object.prototype.hasOwnProperty,hasOwn=(i,r)=>hasOwnProperty.call(i,r),isArray=Array.isArray,isFunction=i=>typeof i=="function",isString=i=>typeof i=="string",isObject=i=>i!==null&&typeof i=="object",objectToString=Object.prototype.toString,toTypeString=i=>objectToString.call(i),toRawType=i=>toTypeString(i).slice(8,-1),isUndefined=i=>i===void 0,isBoolean=i=>typeof i=="boolean",isNumber=i=>typeof i=="number",isElement=i=>typeof Element>"u"?!1:i instanceof Element,isStringNumber=i=>isString(i)?!Number.isNaN(Number(i)):!1,escapeStringRegexp=(i="")=>i.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),getProp=(i,r,n)=>({get value(){return lodashEs.get(i,r,n)},set value(o){lodashEs.set(i,r,o)}});class ElementPlusError extends Error{constructor(r){super(r),this.name="ElementPlusError"}}function throwError(i,r){throw new ElementPlusError(`[${i}] ${r}`)}function debugWarn(i,r){if(process.env.NODE_ENV!=="production"){const n=isString(i)?new ElementPlusError(`[${i}] ${r}`):i;console.warn(n)}}const SCOPE$2="utils/dom/style";function addUnit(i,r="px"){if(!i)return"";if(isNumber(i)||isStringNumber(i))return`${i}${r}`;if(isString(i))return i;debugWarn(SCOPE$2,"binding value must be a string or number")}function scrollIntoView(i,r){if(!isClient)return;if(!r){i.scrollTop=0;return}const n=[];let o=r.offsetParent;for(;o!==null&&i!==o&&i.contains(o);)n.push(o),o=o.offsetParent;const a=r.offsetTop+n.reduce((f,h)=>f+h.offsetTop,0),u=a+r.offsetHeight,c=i.scrollTop,d=c+i.clientHeight;a<c?i.scrollTop=a:u>d&&(i.scrollTop=u-i.clientHeight)}const epPropKey="__epPropKey",definePropType=i=>i,isEpProp=i=>isObject(i)&&!!i[epPropKey],buildProp=(i,r)=>{if(!isObject(i)||isEpProp(i))return i;const{values:n,required:o,default:a,type:u,validator:c}=i,f={type:u,required:!!o,validator:n||c?h=>{let y=!1,g=[];if(n&&(g=Array.from(n),hasOwn(i,"default")&&g.push(a),y||(y=g.includes(h))),c&&(y||(y=c(h))),!y&&g.length>0){const p=[...new Set(g)].map(v=>JSON.stringify(v)).join(", ");vue.warn(`Invalid prop: validation failed${r?` for prop "${r}"`:""}. Expected one of [${p}], got value ${JSON.stringify(h)}.`)}return y}:void 0,[epPropKey]:!0};return hasOwn(i,"default")&&(f.default=a),f},buildProps=i=>lodashEs.fromPairs(Object.entries(i).map(([r,n])=>[r,buildProp(n,r)])),iconPropType=definePropType([String,Object,Function]),ValidateComponentsMap={validating:loading_default,success:circle_check_default,error:circle_close_default},withInstall=(i,r)=>{if(i.install=n=>{for(const o of[i,...Object.values(r??{})])n.component(o.name,o)},r)for(const[n,o]of Object.entries(r))i[n]=o;return i},withNoopInstall=i=>(i.install=NOOP,i),EVENT_CODE={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},UPDATE_MODEL_EVENT="update:modelValue",CHANGE_EVENT="change",componentSizes=["","default","small","large"],isKorean=i=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(i),mutable=i=>i,DEFAULT_EXCLUDE_KEYS=["class","style"],LISTENER_PREFIX=/^on[A-Z]/,useAttrs=(i={})=>{const{excludeListeners:r=!1,excludeKeys:n}=i,o=vue.computed(()=>((n==null?void 0:n.value)||[]).concat(DEFAULT_EXCLUDE_KEYS)),a=vue.getCurrentInstance();return a?vue.computed(()=>{var u;return lodashEs.fromPairs(Object.entries((u=a.proxy)==null?void 0:u.$attrs).filter(([c])=>!o.value.includes(c)&&!(r&&LISTENER_PREFIX.test(c))))}):(debugWarn("use-attrs","getCurrentInstance() returned null. useAttrs() must be called at the top of a setup function"),vue.computed(()=>({})))};var English={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color.",alphaLabel:"pick alpha value"},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},mention:{loading:"Loading"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const buildTranslator=i=>(r,n)=>translate(r,n,vue.unref(i)),translate=(i,r,n)=>lodashEs.get(n,i,i).replace(/\{(\w+)\}/g,(o,a)=>{var u;return`${(u=r==null?void 0:r[a])!=null?u:`{${a}}`}`}),buildLocaleContext=i=>{const r=vue.computed(()=>vue.unref(i).name),n=vue.isRef(i)?i:vue.ref(i);return{lang:r,locale:n,t:buildTranslator(i)}},localeContextKey=Symbol("localeContextKey"),useLocale=i=>{const r=i||vue.inject(localeContextKey,vue.ref());return buildLocaleContext(vue.computed(()=>r.value||English))},defaultNamespace="el",statePrefix="is-",_bem=(i,r,n,o,a)=>{let u=`${i}-${r}`;return n&&(u+=`-${n}`),o&&(u+=`__${o}`),a&&(u+=`--${a}`),u},namespaceContextKey=Symbol("namespaceContextKey"),useGetDerivedNamespace=i=>{const r=i||(vue.getCurrentInstance()?vue.inject(namespaceContextKey,vue.ref(defaultNamespace)):vue.ref(defaultNamespace));return vue.computed(()=>vue.unref(r)||defaultNamespace)},useNamespace=(i,r)=>{const n=useGetDerivedNamespace(r);return{namespace:n,b:(b="")=>_bem(n.value,i,b,"",""),e:b=>b?_bem(n.value,i,"",b,""):"",m:b=>b?_bem(n.value,i,"","",b):"",be:(b,A)=>b&&A?_bem(n.value,i,b,A,""):"",em:(b,A)=>b&&A?_bem(n.value,i,"",b,A):"",bm:(b,A)=>b&&A?_bem(n.value,i,b,"",A):"",bem:(b,A,w)=>b&&A&&w?_bem(n.value,i,b,A,w):"",is:(b,...A)=>{const w=A.length>=1?A[0]:!0;return b&&w?`${statePrefix}${b}`:""},cssVar:b=>{const A={};for(const w in b)b[w]&&(A[`--${n.value}-${w}`]=b[w]);return A},cssVarName:b=>`--${n.value}-${b}`,cssVarBlock:b=>{const A={};for(const w in b)b[w]&&(A[`--${n.value}-${i}-${w}`]=b[w]);return A},cssVarBlockName:b=>`--${n.value}-${i}-${b}`}},_prop=buildProp({type:definePropType(Boolean),default:null}),_event=buildProp({type:definePropType(Function)}),createModelToggleComposable=i=>{const r=`update:${i}`,n=`onUpdate:${i}`,o=[r],a={[i]:_prop,[n]:_event};return{useModelToggle:({indicator:c,toggleReason:d,shouldHideWhenRouteChanges:f,shouldProceed:h,onShow:y,onHide:g})=>{const p=vue.getCurrentInstance(),{emit:v}=p,_=p.props,b=vue.computed(()=>isFunction(_[n])),A=vue.computed(()=>_[i]===null),w=k=>{c.value!==!0&&(c.value=!0,d&&(d.value=k),isFunction(y)&&y(k))},S=k=>{c.value!==!1&&(c.value=!1,d&&(d.value=k),isFunction(g)&&g(k))},T=k=>{if(_.disabled===!0||isFunction(h)&&!h())return;const ie=b.value&&isClient;ie&&v(r,!0),(A.value||!ie)&&w(k)},x=k=>{if(_.disabled===!0||!isClient)return;const ie=b.value&&isClient;ie&&v(r,!1),(A.value||!ie)&&S(k)},M=k=>{isBoolean(k)&&(_.disabled&&k?b.value&&v(r,!1):c.value!==k&&(k?w():S()))},L=()=>{c.value?x():T()};return vue.watch(()=>_[i],M),f&&p.appContext.config.globalProperties.$route!==void 0&&vue.watch(()=>({...p.proxy.$route}),()=>{f.value&&c.value&&x()}),vue.onMounted(()=>{M(_[i])}),{hide:x,show:T,toggle:L,hasUpdateHandler:b}},useModelToggleProps:a,useModelToggleEmits:o}};createModelToggleComposable("modelValue");const useProp=i=>{const r=vue.getCurrentInstance();return vue.computed(()=>{var n,o;return(o=(n=r==null?void 0:r.proxy)==null?void 0:n.$props)==null?void 0:o[i]})};var E="top",R="bottom",W="right",P="left",me="auto",G=[E,R,W,P],U="start",J="end",Xe="clippingParents",je="viewport",K="popper",Ye="reference",De=G.reduce(function(i,r){return i.concat([r+"-"+U,r+"-"+J])},[]),Ee=[].concat(G,[me]).reduce(function(i,r){return i.concat([r,r+"-"+U,r+"-"+J])},[]),Ge="beforeRead",Je="read",Ke="afterRead",Qe="beforeMain",Ze="main",et="afterMain",tt="beforeWrite",nt="write",rt="afterWrite",ot=[Ge,Je,Ke,Qe,Ze,et,tt,nt,rt];function C(i){return i?(i.nodeName||"").toLowerCase():null}function H(i){if(i==null)return window;if(i.toString()!=="[object Window]"){var r=i.ownerDocument;return r&&r.defaultView||window}return i}function Q(i){var r=H(i).Element;return i instanceof r||i instanceof Element}function B(i){var r=H(i).HTMLElement;return i instanceof r||i instanceof HTMLElement}function Pe(i){if(typeof ShadowRoot>"u")return!1;var r=H(i).ShadowRoot;return i instanceof r||i instanceof ShadowRoot}function Mt(i){var r=i.state;Object.keys(r.elements).forEach(function(n){var o=r.styles[n]||{},a=r.attributes[n]||{},u=r.elements[n];!B(u)||!C(u)||(Object.assign(u.style,o),Object.keys(a).forEach(function(c){var d=a[c];d===!1?u.removeAttribute(c):u.setAttribute(c,d===!0?"":d)}))})}function Rt(i){var r=i.state,n={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,n.popper),r.styles=n,r.elements.arrow&&Object.assign(r.elements.arrow.style,n.arrow),function(){Object.keys(r.elements).forEach(function(o){var a=r.elements[o],u=r.attributes[o]||{},c=Object.keys(r.styles.hasOwnProperty(o)?r.styles[o]:n[o]),d=c.reduce(function(f,h){return f[h]="",f},{});!B(a)||!C(a)||(Object.assign(a.style,d),Object.keys(u).forEach(function(f){a.removeAttribute(f)}))})}}var Ae={name:"applyStyles",enabled:!0,phase:"write",fn:Mt,effect:Rt,requires:["computeStyles"]};function q(i){return i.split("-")[0]}var X=Math.max,ve=Math.min,Z=Math.round;function ee(i,r){r===void 0&&(r=!1);var n=i.getBoundingClientRect(),o=1,a=1;if(B(i)&&r){var u=i.offsetHeight,c=i.offsetWidth;c>0&&(o=Z(n.width)/c||1),u>0&&(a=Z(n.height)/u||1)}return{width:n.width/o,height:n.height/a,top:n.top/a,right:n.right/o,bottom:n.bottom/a,left:n.left/o,x:n.left/o,y:n.top/a}}function ke(i){var r=ee(i),n=i.offsetWidth,o=i.offsetHeight;return Math.abs(r.width-n)<=1&&(n=r.width),Math.abs(r.height-o)<=1&&(o=r.height),{x:i.offsetLeft,y:i.offsetTop,width:n,height:o}}function it(i,r){var n=r.getRootNode&&r.getRootNode();if(i.contains(r))return!0;if(n&&Pe(n)){var o=r;do{if(o&&i.isSameNode(o))return!0;o=o.parentNode||o.host}while(o)}return!1}function N(i){return H(i).getComputedStyle(i)}function Wt(i){return["table","td","th"].indexOf(C(i))>=0}function I(i){return((Q(i)?i.ownerDocument:i.document)||window.document).documentElement}function ge(i){return C(i)==="html"?i:i.assignedSlot||i.parentNode||(Pe(i)?i.host:null)||I(i)}function at(i){return!B(i)||N(i).position==="fixed"?null:i.offsetParent}function Bt(i){var r=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&B(i)){var o=N(i);if(o.position==="fixed")return null}var a=ge(i);for(Pe(a)&&(a=a.host);B(a)&&["html","body"].indexOf(C(a))<0;){var u=N(a);if(u.transform!=="none"||u.perspective!=="none"||u.contain==="paint"||["transform","perspective"].indexOf(u.willChange)!==-1||r&&u.willChange==="filter"||r&&u.filter&&u.filter!=="none")return a;a=a.parentNode}return null}function se(i){for(var r=H(i),n=at(i);n&&Wt(n)&&N(n).position==="static";)n=at(n);return n&&(C(n)==="html"||C(n)==="body"&&N(n).position==="static")?r:n||Bt(i)||r}function Le(i){return["top","bottom"].indexOf(i)>=0?"x":"y"}function fe(i,r,n){return X(i,ve(r,n))}function St(i,r,n){var o=fe(i,r,n);return o>n?n:o}function st(){return{top:0,right:0,bottom:0,left:0}}function ft(i){return Object.assign({},st(),i)}function ct(i,r){return r.reduce(function(n,o){return n[o]=i,n},{})}var Tt=function(i,r){return i=typeof i=="function"?i(Object.assign({},r.rects,{placement:r.placement})):i,ft(typeof i!="number"?i:ct(i,G))};function Ht(i){var r,n=i.state,o=i.name,a=i.options,u=n.elements.arrow,c=n.modifiersData.popperOffsets,d=q(n.placement),f=Le(d),h=[P,W].indexOf(d)>=0,y=h?"height":"width";if(!(!u||!c)){var g=Tt(a.padding,n),p=ke(u),v=f==="y"?E:P,_=f==="y"?R:W,b=n.rects.reference[y]+n.rects.reference[f]-c[f]-n.rects.popper[y],A=c[f]-n.rects.reference[f],w=se(u),S=w?f==="y"?w.clientHeight||0:w.clientWidth||0:0,T=b/2-A/2,x=g[v],M=S-p[y]-g[_],L=S/2-p[y]/2+T,k=fe(x,L,M),ie=f;n.modifiersData[o]=(r={},r[ie]=k,r.centerOffset=k-L,r)}}function Ct(i){var r=i.state,n=i.options,o=n.element,a=o===void 0?"[data-popper-arrow]":o;a!=null&&(typeof a=="string"&&(a=r.elements.popper.querySelector(a),!a)||!it(r.elements.popper,a)||(r.elements.arrow=a))}var pt={name:"arrow",enabled:!0,phase:"main",fn:Ht,effect:Ct,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function te(i){return i.split("-")[1]}var qt={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Vt(i){var r=i.x,n=i.y,o=window,a=o.devicePixelRatio||1;return{x:Z(r*a)/a||0,y:Z(n*a)/a||0}}function ut(i){var r,n=i.popper,o=i.popperRect,a=i.placement,u=i.variation,c=i.offsets,d=i.position,f=i.gpuAcceleration,h=i.adaptive,y=i.roundOffsets,g=i.isFixed,p=c.x,v=p===void 0?0:p,_=c.y,b=_===void 0?0:_,A=typeof y=="function"?y({x:v,y:b}):{x:v,y:b};v=A.x,b=A.y;var w=c.hasOwnProperty("x"),S=c.hasOwnProperty("y"),T=P,x=E,M=window;if(h){var L=se(n),k="clientHeight",ie="clientWidth";if(L===H(n)&&(L=I(n),N(L).position!=="static"&&d==="absolute"&&(k="scrollHeight",ie="scrollWidth")),L=L,a===E||(a===P||a===W)&&u===J){x=R;var $=g&&L===M&&M.visualViewport?M.visualViewport.height:L[k];b-=$-o.height,b*=f?1:-1}if(a===P||(a===E||a===R)&&u===J){T=W;var z=g&&L===M&&M.visualViewport?M.visualViewport.width:L[ie];v-=z-o.width,v*=f?1:-1}}var V=Object.assign({position:d},h&&qt),re=y===!0?Vt({x:v,y:b}):{x:v,y:b};if(v=re.x,b=re.y,f){var D;return Object.assign({},V,(D={},D[x]=S?"0":"",D[T]=w?"0":"",D.transform=(M.devicePixelRatio||1)<=1?"translate("+v+"px, "+b+"px)":"translate3d("+v+"px, "+b+"px, 0)",D))}return Object.assign({},V,(r={},r[x]=S?b+"px":"",r[T]=w?v+"px":"",r.transform="",r))}function Nt(i){var r=i.state,n=i.options,o=n.gpuAcceleration,a=o===void 0?!0:o,u=n.adaptive,c=u===void 0?!0:u,d=n.roundOffsets,f=d===void 0?!0:d,h={placement:q(r.placement),variation:te(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:a,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,ut(Object.assign({},h,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:c,roundOffsets:f})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,ut(Object.assign({},h,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:f})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}var Me={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Nt,data:{}},ye={passive:!0};function It(i){var r=i.state,n=i.instance,o=i.options,a=o.scroll,u=a===void 0?!0:a,c=o.resize,d=c===void 0?!0:c,f=H(r.elements.popper),h=[].concat(r.scrollParents.reference,r.scrollParents.popper);return u&&h.forEach(function(y){y.addEventListener("scroll",n.update,ye)}),d&&f.addEventListener("resize",n.update,ye),function(){u&&h.forEach(function(y){y.removeEventListener("scroll",n.update,ye)}),d&&f.removeEventListener("resize",n.update,ye)}}var Re={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:It,data:{}},_t={left:"right",right:"left",bottom:"top",top:"bottom"};function be(i){return i.replace(/left|right|bottom|top/g,function(r){return _t[r]})}var zt={start:"end",end:"start"};function lt(i){return i.replace(/start|end/g,function(r){return zt[r]})}function We(i){var r=H(i),n=r.pageXOffset,o=r.pageYOffset;return{scrollLeft:n,scrollTop:o}}function Be(i){return ee(I(i)).left+We(i).scrollLeft}function Ft(i){var r=H(i),n=I(i),o=r.visualViewport,a=n.clientWidth,u=n.clientHeight,c=0,d=0;return o&&(a=o.width,u=o.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(c=o.offsetLeft,d=o.offsetTop)),{width:a,height:u,x:c+Be(i),y:d}}function Ut(i){var r,n=I(i),o=We(i),a=(r=i.ownerDocument)==null?void 0:r.body,u=X(n.scrollWidth,n.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),c=X(n.scrollHeight,n.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),d=-o.scrollLeft+Be(i),f=-o.scrollTop;return N(a||n).direction==="rtl"&&(d+=X(n.clientWidth,a?a.clientWidth:0)-u),{width:u,height:c,x:d,y:f}}function Se(i){var r=N(i),n=r.overflow,o=r.overflowX,a=r.overflowY;return/auto|scroll|overlay|hidden/.test(n+a+o)}function dt(i){return["html","body","#document"].indexOf(C(i))>=0?i.ownerDocument.body:B(i)&&Se(i)?i:dt(ge(i))}function ce(i,r){var n;r===void 0&&(r=[]);var o=dt(i),a=o===((n=i.ownerDocument)==null?void 0:n.body),u=H(o),c=a?[u].concat(u.visualViewport||[],Se(o)?o:[]):o,d=r.concat(c);return a?d:d.concat(ce(ge(c)))}function Te(i){return Object.assign({},i,{left:i.x,top:i.y,right:i.x+i.width,bottom:i.y+i.height})}function Xt(i){var r=ee(i);return r.top=r.top+i.clientTop,r.left=r.left+i.clientLeft,r.bottom=r.top+i.clientHeight,r.right=r.left+i.clientWidth,r.width=i.clientWidth,r.height=i.clientHeight,r.x=r.left,r.y=r.top,r}function ht(i,r){return r===je?Te(Ft(i)):Q(r)?Xt(r):Te(Ut(I(i)))}function Yt(i){var r=ce(ge(i)),n=["absolute","fixed"].indexOf(N(i).position)>=0,o=n&&B(i)?se(i):i;return Q(o)?r.filter(function(a){return Q(a)&&it(a,o)&&C(a)!=="body"}):[]}function Gt(i,r,n){var o=r==="clippingParents"?Yt(i):[].concat(r),a=[].concat(o,[n]),u=a[0],c=a.reduce(function(d,f){var h=ht(i,f);return d.top=X(h.top,d.top),d.right=ve(h.right,d.right),d.bottom=ve(h.bottom,d.bottom),d.left=X(h.left,d.left),d},ht(i,u));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function mt(i){var r=i.reference,n=i.element,o=i.placement,a=o?q(o):null,u=o?te(o):null,c=r.x+r.width/2-n.width/2,d=r.y+r.height/2-n.height/2,f;switch(a){case E:f={x:c,y:r.y-n.height};break;case R:f={x:c,y:r.y+r.height};break;case W:f={x:r.x+r.width,y:d};break;case P:f={x:r.x-n.width,y:d};break;default:f={x:r.x,y:r.y}}var h=a?Le(a):null;if(h!=null){var y=h==="y"?"height":"width";switch(u){case U:f[h]=f[h]-(r[y]/2-n[y]/2);break;case J:f[h]=f[h]+(r[y]/2-n[y]/2);break}}return f}function ne(i,r){r===void 0&&(r={});var n=r,o=n.placement,a=o===void 0?i.placement:o,u=n.boundary,c=u===void 0?Xe:u,d=n.rootBoundary,f=d===void 0?je:d,h=n.elementContext,y=h===void 0?K:h,g=n.altBoundary,p=g===void 0?!1:g,v=n.padding,_=v===void 0?0:v,b=ft(typeof _!="number"?_:ct(_,G)),A=y===K?Ye:K,w=i.rects.popper,S=i.elements[p?A:y],T=Gt(Q(S)?S:S.contextElement||I(i.elements.popper),c,f),x=ee(i.elements.reference),M=mt({reference:x,element:w,strategy:"absolute",placement:a}),L=Te(Object.assign({},w,M)),k=y===K?L:x,ie={top:T.top-k.top+b.top,bottom:k.bottom-T.bottom+b.bottom,left:T.left-k.left+b.left,right:k.right-T.right+b.right},$=i.modifiersData.offset;if(y===K&&$){var z=$[a];Object.keys(ie).forEach(function(V){var re=[W,R].indexOf(V)>=0?1:-1,D=[E,R].indexOf(V)>=0?"y":"x";ie[V]+=z[D]*re})}return ie}function Jt(i,r){r===void 0&&(r={});var n=r,o=n.placement,a=n.boundary,u=n.rootBoundary,c=n.padding,d=n.flipVariations,f=n.allowedAutoPlacements,h=f===void 0?Ee:f,y=te(o),g=y?d?De:De.filter(function(_){return te(_)===y}):G,p=g.filter(function(_){return h.indexOf(_)>=0});p.length===0&&(p=g);var v=p.reduce(function(_,b){return _[b]=ne(i,{placement:b,boundary:a,rootBoundary:u,padding:c})[q(b)],_},{});return Object.keys(v).sort(function(_,b){return v[_]-v[b]})}function Kt(i){if(q(i)===me)return[];var r=be(i);return[lt(i),r,lt(r)]}function Qt(i){var r=i.state,n=i.options,o=i.name;if(!r.modifiersData[o]._skip){for(var a=n.mainAxis,u=a===void 0?!0:a,c=n.altAxis,d=c===void 0?!0:c,f=n.fallbackPlacements,h=n.padding,y=n.boundary,g=n.rootBoundary,p=n.altBoundary,v=n.flipVariations,_=v===void 0?!0:v,b=n.allowedAutoPlacements,A=r.options.placement,w=q(A),S=w===A,T=f||(S||!_?[be(A)]:Kt(A)),x=[A].concat(T).reduce(function(Pt,he){return Pt.concat(q(he)===me?Jt(r,{placement:he,boundary:y,rootBoundary:g,padding:h,flipVariations:_,allowedAutoPlacements:b}):he)},[]),M=r.rects.reference,L=r.rects.popper,k=new Map,ie=!0,$=x[0],z=0;z<x.length;z++){var V=x[z],re=q(V),D=te(V)===U,Ce=[E,R].indexOf(re)>=0,le=Ce?"width":"height",de=ne(r,{placement:V,boundary:y,rootBoundary:g,altBoundary:p,padding:h}),Fe=Ce?D?W:P:D?R:E;M[le]>L[le]&&(Fe=be(Fe));var Ie=be(Fe),At=[];if(u&&At.push(de[re]<=0),d&&At.push(de[Fe]<=0,de[Ie]<=0),At.every(function(Pt){return Pt})){$=V,ie=!1;break}k.set(V,At)}if(ie)for(var _e=_?3:1,qe=function(Pt){var he=x.find(function(Ue){var Dt=k.get(Ue);if(Dt)return Dt.slice(0,Pt).every(function(jt){return jt})});if(he)return $=he,"break"},In=_e;In>0;In--){var vn=qe(In);if(vn==="break")break}r.placement!==$&&(r.modifiersData[o]._skip=!0,r.placement=$,r.reset=!0)}}var vt={name:"flip",enabled:!0,phase:"main",fn:Qt,requiresIfExists:["offset"],data:{_skip:!1}};function gt(i,r,n){return n===void 0&&(n={x:0,y:0}),{top:i.top-r.height-n.y,right:i.right-r.width+n.x,bottom:i.bottom-r.height+n.y,left:i.left-r.width-n.x}}function yt(i){return[E,W,R,P].some(function(r){return i[r]>=0})}function Zt(i){var r=i.state,n=i.name,o=r.rects.reference,a=r.rects.popper,u=r.modifiersData.preventOverflow,c=ne(r,{elementContext:"reference"}),d=ne(r,{altBoundary:!0}),f=gt(c,o),h=gt(d,a,u),y=yt(f),g=yt(h);r.modifiersData[n]={referenceClippingOffsets:f,popperEscapeOffsets:h,isReferenceHidden:y,hasPopperEscaped:g},r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-reference-hidden":y,"data-popper-escaped":g})}var bt={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Zt};function en(i,r,n){var o=q(i),a=[P,E].indexOf(o)>=0?-1:1,u=typeof n=="function"?n(Object.assign({},r,{placement:i})):n,c=u[0],d=u[1];return c=c||0,d=(d||0)*a,[P,W].indexOf(o)>=0?{x:d,y:c}:{x:c,y:d}}function tn(i){var r=i.state,n=i.options,o=i.name,a=n.offset,u=a===void 0?[0,0]:a,c=Ee.reduce(function(y,g){return y[g]=en(g,r.rects,u),y},{}),d=c[r.placement],f=d.x,h=d.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=f,r.modifiersData.popperOffsets.y+=h),r.modifiersData[o]=c}var wt={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:tn};function nn(i){var r=i.state,n=i.name;r.modifiersData[n]=mt({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}var He={name:"popperOffsets",enabled:!0,phase:"read",fn:nn,data:{}};function rn(i){return i==="x"?"y":"x"}function on(i){var r=i.state,n=i.options,o=i.name,a=n.mainAxis,u=a===void 0?!0:a,c=n.altAxis,d=c===void 0?!1:c,f=n.boundary,h=n.rootBoundary,y=n.altBoundary,g=n.padding,p=n.tether,v=p===void 0?!0:p,_=n.tetherOffset,b=_===void 0?0:_,A=ne(r,{boundary:f,rootBoundary:h,padding:g,altBoundary:y}),w=q(r.placement),S=te(r.placement),T=!S,x=Le(w),M=rn(x),L=r.modifiersData.popperOffsets,k=r.rects.reference,ie=r.rects.popper,$=typeof b=="function"?b(Object.assign({},r.rects,{placement:r.placement})):b,z=typeof $=="number"?{mainAxis:$,altAxis:$}:Object.assign({mainAxis:0,altAxis:0},$),V=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,re={x:0,y:0};if(L){if(u){var D,Ce=x==="y"?E:P,le=x==="y"?R:W,de=x==="y"?"height":"width",Fe=L[x],Ie=Fe+A[Ce],At=Fe-A[le],_e=v?-ie[de]/2:0,qe=S===U?k[de]:ie[de],In=S===U?-ie[de]:-k[de],vn=r.elements.arrow,Pt=v&&vn?ke(vn):{width:0,height:0},he=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:st(),Ue=he[Ce],Dt=he[le],jt=fe(0,k[de],Pt[de]),Et=T?k[de]/2-_e-jt-Ue-z.mainAxis:qe-jt-Ue-z.mainAxis,pe=T?-k[de]/2+_e+jt+Dt+z.mainAxis:In+jt+Dt+z.mainAxis,ue=r.elements.arrow&&se(r.elements.arrow),$e=ue?x==="y"?ue.clientTop||0:ue.clientLeft||0:0,Ne=(D=V==null?void 0:V[x])!=null?D:0,Oe=Fe+Et-Ne-$e,Lt=Fe+pe-Ne,kt=fe(v?ve(Ie,Oe):Ie,Fe,v?X(At,Lt):At);L[x]=kt,re[x]=kt-Fe}if(d){var Cn,oe=x==="x"?E:P,ae=x==="x"?R:W,Y=L[M],O=M==="y"?"height":"width",F=Y+A[oe],j=Y-A[ae],xe=[E,P].indexOf(w)!==-1,hn=(Cn=V==null?void 0:V[M])!=null?Cn:0,_n=xe?F:Y-k[O]-ie[O]-hn+z.altAxis,Sn=xe?Y+k[O]+ie[O]-hn-z.altAxis:j,xn=v&&xe?St(_n,Y,Sn):fe(v?_n:F,Y,v?Sn:j);L[M]=xn,re[M]=xn-Y}r.modifiersData[o]=re}}var xt={name:"preventOverflow",enabled:!0,phase:"main",fn:on,requiresIfExists:["offset"]};function an(i){return{scrollLeft:i.scrollLeft,scrollTop:i.scrollTop}}function sn(i){return i===H(i)||!B(i)?We(i):an(i)}function fn(i){var r=i.getBoundingClientRect(),n=Z(r.width)/i.offsetWidth||1,o=Z(r.height)/i.offsetHeight||1;return n!==1||o!==1}function cn(i,r,n){n===void 0&&(n=!1);var o=B(r),a=B(r)&&fn(r),u=I(r),c=ee(i,a),d={scrollLeft:0,scrollTop:0},f={x:0,y:0};return(o||!o&&!n)&&((C(r)!=="body"||Se(u))&&(d=sn(r)),B(r)?(f=ee(r,!0),f.x+=r.clientLeft,f.y+=r.clientTop):u&&(f.x=Be(u))),{x:c.left+d.scrollLeft-f.x,y:c.top+d.scrollTop-f.y,width:c.width,height:c.height}}function pn(i){var r=new Map,n=new Set,o=[];i.forEach(function(u){r.set(u.name,u)});function a(u){n.add(u.name);var c=[].concat(u.requires||[],u.requiresIfExists||[]);c.forEach(function(d){if(!n.has(d)){var f=r.get(d);f&&a(f)}}),o.push(u)}return i.forEach(function(u){n.has(u.name)||a(u)}),o}function un(i){var r=pn(i);return ot.reduce(function(n,o){return n.concat(r.filter(function(a){return a.phase===o}))},[])}function ln(i){var r;return function(){return r||(r=new Promise(function(n){Promise.resolve().then(function(){r=void 0,n(i())})})),r}}function dn(i){var r=i.reduce(function(n,o){var a=n[o.name];return n[o.name]=a?Object.assign({},a,o,{options:Object.assign({},a.options,o.options),data:Object.assign({},a.data,o.data)}):o,n},{});return Object.keys(r).map(function(n){return r[n]})}var Ot={placement:"bottom",modifiers:[],strategy:"absolute"};function $t(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];return!r.some(function(o){return!(o&&typeof o.getBoundingClientRect=="function")})}function we(i){i===void 0&&(i={});var r=i,n=r.defaultModifiers,o=n===void 0?[]:n,a=r.defaultOptions,u=a===void 0?Ot:a;return function(c,d,f){f===void 0&&(f=u);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},Ot,u),modifiersData:{},elements:{reference:c,popper:d},attributes:{},styles:{}},y=[],g=!1,p={state:h,setOptions:function(b){var A=typeof b=="function"?b(h.options):b;_(),h.options=Object.assign({},u,h.options,A),h.scrollParents={reference:Q(c)?ce(c):c.contextElement?ce(c.contextElement):[],popper:ce(d)};var w=un(dn([].concat(o,h.options.modifiers)));return h.orderedModifiers=w.filter(function(S){return S.enabled}),v(),p.update()},forceUpdate:function(){if(!g){var b=h.elements,A=b.reference,w=b.popper;if($t(A,w)){h.rects={reference:cn(A,se(w),h.options.strategy==="fixed"),popper:ke(w)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(ie){return h.modifiersData[ie.name]=Object.assign({},ie.data)});for(var S=0;S<h.orderedModifiers.length;S++){if(h.reset===!0){h.reset=!1,S=-1;continue}var T=h.orderedModifiers[S],x=T.fn,M=T.options,L=M===void 0?{}:M,k=T.name;typeof x=="function"&&(h=x({state:h,options:L,name:k,instance:p})||h)}}}},update:ln(function(){return new Promise(function(b){p.forceUpdate(),b(h)})}),destroy:function(){_(),g=!0}};if(!$t(c,d))return p;p.setOptions(f).then(function(b){!g&&f.onFirstUpdate&&f.onFirstUpdate(b)});function v(){h.orderedModifiers.forEach(function(b){var A=b.name,w=b.options,S=w===void 0?{}:w,T=b.effect;if(typeof T=="function"){var x=T({state:h,name:A,instance:p,options:S}),M=function(){};y.push(x||M)}})}function _(){y.forEach(function(b){return b()}),y=[]}return p}}we();var mn=[Re,He,Me,Ae];we({defaultModifiers:mn});var gn=[Re,He,Me,Ae,wt,vt,xt,pt,bt],yn=we({defaultModifiers:gn});const usePopper=(i,r,n={})=>{const o={name:"updateState",enabled:!0,phase:"write",fn:({state:f})=>{const h=deriveState(f);Object.assign(c.value,h)},requires:["computeStyles"]},a=vue.computed(()=>{const{onFirstUpdate:f,placement:h,strategy:y,modifiers:g}=vue.unref(n);return{onFirstUpdate:f,placement:h||"bottom",strategy:y||"absolute",modifiers:[...g||[],o,{name:"applyStyles",enabled:!1}]}}),u=vue.shallowRef(),c=vue.ref({styles:{popper:{position:vue.unref(a).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),d=()=>{u.value&&(u.value.destroy(),u.value=void 0)};return vue.watch(a,f=>{const h=vue.unref(u);h&&h.setOptions(f)},{deep:!0}),vue.watch([i,r],([f,h])=>{d(),!(!f||!h)&&(u.value=yn(f,h,vue.unref(a)))}),vue.onBeforeUnmount(()=>{d()}),{state:vue.computed(()=>{var f;return{...((f=vue.unref(u))==null?void 0:f.state)||{}}}),styles:vue.computed(()=>vue.unref(c).styles),attributes:vue.computed(()=>vue.unref(c).attributes),update:()=>{var f;return(f=vue.unref(u))==null?void 0:f.update()},forceUpdate:()=>{var f;return(f=vue.unref(u))==null?void 0:f.forceUpdate()},instanceRef:vue.computed(()=>vue.unref(u))}};function deriveState(i){const r=Object.keys(i.elements),n=lodashEs.fromPairs(r.map(a=>[a,i.styles[a]||{}])),o=lodashEs.fromPairs(r.map(a=>[a,i.attributes[a]]));return{styles:n,attributes:o}}function useTimeout(){let i;const r=(o,a)=>{n(),i=window.setTimeout(o,a)},n=()=>window.clearTimeout(i);return tryOnScopeDispose(()=>n()),{registerTimeout:r,cancelTimeout:n}}const defaultIdInjection={prefix:Math.floor(Math.random()*1e4),current:0},ID_INJECTION_KEY=Symbol("elIdInjection"),useIdInjection=()=>vue.getCurrentInstance()?vue.inject(ID_INJECTION_KEY,defaultIdInjection):defaultIdInjection,useId=i=>{const r=useIdInjection();!isClient&&r===defaultIdInjection&&debugWarn("IdInjection",`Looks like you are using server rendering, you must provide a id provider to ensure the hydration process to be succeed
usage: app.provide(ID_INJECTION_KEY, {
  prefix: number,
  current: number,
})`);const n=useGetDerivedNamespace();return vue.computed(()=>vue.unref(i)||`${n.value}-id-${r.prefix}-${r.current++}`)};let registeredEscapeHandlers=[];const cachedHandler=i=>{const r=i;r.key===EVENT_CODE.esc&&registeredEscapeHandlers.forEach(n=>n(r))},useEscapeKeydown=i=>{vue.onMounted(()=>{registeredEscapeHandlers.length===0&&document.addEventListener("keydown",cachedHandler),isClient&&registeredEscapeHandlers.push(i)}),vue.onBeforeUnmount(()=>{registeredEscapeHandlers=registeredEscapeHandlers.filter(r=>r!==i),registeredEscapeHandlers.length===0&&isClient&&document.removeEventListener("keydown",cachedHandler)})};let cachedContainer;const usePopperContainerId=()=>{const i=useGetDerivedNamespace(),r=useIdInjection(),n=vue.computed(()=>`${i.value}-popper-container-${r.prefix}`),o=vue.computed(()=>`#${n.value}`);return{id:n,selector:o}},createContainer=i=>{const r=document.createElement("div");return r.id=i,document.body.appendChild(r),r},usePopperContainer=()=>{const{id:i,selector:r}=usePopperContainerId();return vue.onBeforeMount(()=>{isClient&&(process.env.NODE_ENV==="test"||!cachedContainer&&!document.body.querySelector(r.value))&&(cachedContainer=createContainer(i.value))}),{id:i,selector:r}},useDelayedToggleProps=buildProps({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),useDelayedToggle=({showAfter:i,hideAfter:r,autoClose:n,open:o,close:a})=>{const{registerTimeout:u}=useTimeout(),{registerTimeout:c,cancelTimeout:d}=useTimeout();return{onOpen:y=>{u(()=>{o(y);const g=vue.unref(n);isNumber(g)&&g>0&&c(()=>{a(y)},g)},vue.unref(i))},onClose:y=>{d(),u(()=>{a(y)},vue.unref(r))}}},FORWARD_REF_INJECTION_KEY=Symbol("elForwardRef"),useForwardRef=i=>{const r=n=>{i.value=n};vue.provide(FORWARD_REF_INJECTION_KEY,{setForwardRef:r})},useForwardRefDirective=i=>({mounted(r){i(r)},updated(r){i(r)},unmounted(){i(null)}}),initial={current:0},zIndex=vue.ref(0),defaultInitialZIndex=2e3,ZINDEX_INJECTION_KEY=Symbol("elZIndexContextKey"),zIndexContextKey=Symbol("zIndexContextKey"),useZIndex=i=>{const r=vue.getCurrentInstance()?vue.inject(ZINDEX_INJECTION_KEY,initial):initial,n=i||(vue.getCurrentInstance()?vue.inject(zIndexContextKey,void 0):void 0),o=vue.computed(()=>{const c=vue.unref(n);return isNumber(c)?c:defaultInitialZIndex}),a=vue.computed(()=>o.value+zIndex.value),u=()=>(r.current++,zIndex.value=r.current,a.value);return!isClient&&!vue.inject(ZINDEX_INJECTION_KEY)&&debugWarn("ZIndexInjection",`Looks like you are using server rendering, you must provide a z-index provider to ensure the hydration process to be succeed
usage: app.provide(ZINDEX_INJECTION_KEY, { current: 0 })`),{initialZIndex:o,currentZIndex:a,nextZIndex:u}};function useCursor(i){let r;function n(){if(i.value==null)return;const{selectionStart:a,selectionEnd:u,value:c}=i.value;if(a==null||u==null)return;const d=c.slice(0,Math.max(0,a)),f=c.slice(Math.max(0,u));r={selectionStart:a,selectionEnd:u,value:c,beforeTxt:d,afterTxt:f}}function o(){if(i.value==null||r==null)return;const{value:a}=i.value,{beforeTxt:u,afterTxt:c,selectionStart:d}=r;if(u==null||c==null||d==null)return;let f=a.length;if(a.endsWith(c))f=a.length-c.length;else if(a.startsWith(u))f=u.length;else{const h=u[d-1],y=a.indexOf(h,d-1);y!==-1&&(f=y+1)}i.value.setSelectionRange(f,f)}return[n,o]}const useSizeProp=buildProp({type:String,values:componentSizes,required:!1}),SIZE_INJECTION_KEY=Symbol("size"),useGlobalSize=()=>{const i=vue.inject(SIZE_INJECTION_KEY,{});return vue.computed(()=>vue.unref(i.size)||"")};function useFocusController(i,{beforeFocus:r,afterFocus:n,beforeBlur:o,afterBlur:a}={}){const u=vue.getCurrentInstance(),{emit:c}=u,d=vue.shallowRef(),f=vue.ref(!1),h=p=>{isFunction(r)&&r(p)||f.value||(f.value=!0,c("focus",p),n==null||n())},y=p=>{var v;isFunction(o)&&o(p)||p.relatedTarget&&((v=d.value)!=null&&v.contains(p.relatedTarget))||(f.value=!1,c("blur",p),a==null||a())},g=()=>{var p,v;(p=d.value)!=null&&p.contains(document.activeElement)&&d.value!==document.activeElement||(v=i.value)==null||v.focus()};return vue.watch(d,p=>{p&&p.setAttribute("tabindex","-1")}),useEventListener(d,"focus",h,!0),useEventListener(d,"blur",y,!0),useEventListener(d,"click",g,!0),process.env.NODE_ENV==="test"&&vue.onMounted(()=>{const p=isElement(i.value)?i.value:document.querySelector("input,textarea");p&&(useEventListener(p,"focus",h,!0),useEventListener(p,"blur",y,!0))}),{isFocused:f,wrapperRef:d,handleFocus:h,handleBlur:y}}function useComposition({afterComposition:i,emit:r}){const n=vue.ref(!1),o=d=>{r==null||r("compositionstart",d),n.value=!0},a=d=>{var f;r==null||r("compositionupdate",d);const h=(f=d.target)==null?void 0:f.value,y=h[h.length-1]||"";n.value=!isKorean(y)},u=d=>{r==null||r("compositionend",d),n.value&&(n.value=!1,vue.nextTick(()=>i(d)))};return{isComposing:n,handleComposition:d=>{d.type==="compositionend"?u(d):a(d)},handleCompositionStart:o,handleCompositionUpdate:a,handleCompositionEnd:u}}const emptyValuesContextKey=Symbol("emptyValuesContextKey"),SCOPE$1="use-empty-values",DEFAULT_EMPTY_VALUES=["",void 0,null],DEFAULT_VALUE_ON_CLEAR=void 0,useEmptyValuesProps=buildProps({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:i=>isFunction(i)?!i():!i}}),useEmptyValues=(i,r)=>{const n=vue.getCurrentInstance()?vue.inject(emptyValuesContextKey,vue.ref({})):vue.ref({}),o=vue.computed(()=>i.emptyValues||n.value.emptyValues||DEFAULT_EMPTY_VALUES),a=vue.computed(()=>isFunction(i.valueOnClear)?i.valueOnClear():i.valueOnClear!==void 0?i.valueOnClear:isFunction(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:r!==void 0?r:DEFAULT_VALUE_ON_CLEAR),u=c=>o.value.includes(c);return o.value.includes(a.value)||debugWarn(SCOPE$1,"value-on-clear should be a value of empty-values"),{emptyValues:o,valueOnClear:a,isEmptyValue:u}},ariaProps=buildProps({ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical","undefined"]},ariaControls:String}),useAriaProps=i=>lodashEs.pick(ariaProps,i);var _export_sfc=(i,r)=>{const n=i.__vccOpts||i;for(const[o,a]of r)n[o]=a;return n};const iconProps=buildProps({size:{type:definePropType([Number,String])},color:{type:String}}),__default__$c=vue.defineComponent({name:"ElIcon",inheritAttrs:!1}),_sfc_main$s=vue.defineComponent({...__default__$c,props:iconProps,setup(i){const r=i,n=useNamespace("icon"),o=vue.computed(()=>{const{size:a,color:u}=r;return!a&&!u?{}:{fontSize:isUndefined(a)?void 0:addUnit(a),"--color":u}});return(a,u)=>(vue.openBlock(),vue.createElementBlock("i",vue.mergeProps({class:vue.unref(n).b(),style:vue.unref(o)},a.$attrs),[vue.renderSlot(a.$slots,"default")],16))}});var Icon=_export_sfc(_sfc_main$s,[["__file","icon.vue"]]);const ElIcon=withInstall(Icon),formContextKey=Symbol("formContextKey"),formItemContextKey=Symbol("formItemContextKey"),useFormSize=(i,r={})=>{const n=vue.ref(void 0),o=r.prop?n:useProp("size"),a=r.global?n:useGlobalSize(),u=r.form?{size:void 0}:vue.inject(formContextKey,void 0),c=r.formItem?{size:void 0}:vue.inject(formItemContextKey,void 0);return vue.computed(()=>o.value||vue.unref(i)||(c==null?void 0:c.size)||(u==null?void 0:u.size)||a.value||"")},useFormDisabled=i=>{const r=useProp("disabled"),n=vue.inject(formContextKey,void 0);return vue.computed(()=>r.value||vue.unref(i)||(n==null?void 0:n.disabled)||!1)},useFormItem=()=>{const i=vue.inject(formContextKey,void 0),r=vue.inject(formItemContextKey,void 0);return{form:i,formItem:r}},useFormItemInputId=(i,{formItemContext:r,disableIdGeneration:n,disableIdManagement:o})=>{n||(n=vue.ref(!1)),o||(o=vue.ref(!1));const a=vue.ref();let u;const c=vue.computed(()=>{var d;return!!(!(i.label||i.ariaLabel)&&r&&r.inputIds&&((d=r.inputIds)==null?void 0:d.length)<=1)});return vue.onMounted(()=>{u=vue.watch([vue.toRef(i,"id"),n],([d,f])=>{const h=d??(f?void 0:useId().value);h!==a.value&&(r!=null&&r.removeInputId&&(a.value&&r.removeInputId(a.value),!(o!=null&&o.value)&&!f&&h&&r.addInputId(h)),a.value=h)},{immediate:!0})}),vue.onUnmounted(()=>{u&&u(),r!=null&&r.removeInputId&&a.value&&r.removeInputId(a.value)}),{isLabeledByFormItem:c,inputId:a}},formMetaProps=buildProps({size:{type:String,values:componentSizes},disabled:Boolean}),formProps=buildProps({...formMetaProps,model:Object,rules:{type:definePropType(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),formEmits={validate:(i,r,n)=>(isArray(i)||isString(i))&&isBoolean(r)&&isString(n)},SCOPE="ElForm";function useFormLabelWidth(){const i=vue.ref([]),r=vue.computed(()=>{if(!i.value.length)return"0";const u=Math.max(...i.value);return u?`${u}px`:""});function n(u){const c=i.value.indexOf(u);return c===-1&&r.value==="0"&&debugWarn(SCOPE,`unexpected width ${u}`),c}function o(u,c){if(u&&c){const d=n(c);i.value.splice(d,1,u)}else u&&i.value.push(u)}function a(u){const c=n(u);c>-1&&i.value.splice(c,1)}return{autoLabelWidth:r,registerLabelWidth:o,deregisterLabelWidth:a}}const filterFields=(i,r)=>{const n=lodashEs.castArray(r);return n.length>0?i.filter(o=>o.prop&&n.includes(o.prop)):i},COMPONENT_NAME$4="ElForm",__default__$b=vue.defineComponent({name:COMPONENT_NAME$4}),_sfc_main$r=vue.defineComponent({...__default__$b,props:formProps,emits:formEmits,setup(i,{expose:r,emit:n}){const o=i,a=[],u=useFormSize(),c=useNamespace("form"),d=vue.computed(()=>{const{labelPosition:T,inline:x}=o;return[c.b(),c.m(u.value||"default"),{[c.m(`label-${T}`)]:T,[c.m("inline")]:x}]}),f=T=>a.find(x=>x.prop===T),h=T=>{a.push(T)},y=T=>{T.prop&&a.splice(a.indexOf(T),1)},g=(T=[])=>{if(!o.model){debugWarn(COMPONENT_NAME$4,"model is required for resetFields to work.");return}filterFields(a,T).forEach(x=>x.resetField())},p=(T=[])=>{filterFields(a,T).forEach(x=>x.clearValidate())},v=vue.computed(()=>{const T=!!o.model;return T||debugWarn(COMPONENT_NAME$4,"model is required for validate to work."),T}),_=T=>{if(a.length===0)return[];const x=filterFields(a,T);return x.length?x:(debugWarn(COMPONENT_NAME$4,"please pass correct props!"),[])},b=async T=>w(void 0,T),A=async(T=[])=>{if(!v.value)return!1;const x=_(T);if(x.length===0)return!0;let M={};for(const L of x)try{await L.validate("")}catch(k){M={...M,...k}}return Object.keys(M).length===0?!0:Promise.reject(M)},w=async(T=[],x)=>{const M=!isFunction(x);try{const L=await A(T);return L===!0&&await(x==null?void 0:x(L)),L}catch(L){if(L instanceof Error)throw L;const k=L;return o.scrollToError&&S(Object.keys(k)[0]),await(x==null?void 0:x(!1,k)),M&&Promise.reject(k)}},S=T=>{var x;const M=filterFields(a,T)[0];M&&((x=M.$el)==null||x.scrollIntoView(o.scrollIntoViewOptions))};return vue.watch(()=>o.rules,()=>{o.validateOnRuleChange&&b().catch(T=>debugWarn(T))},{deep:!0}),vue.provide(formContextKey,vue.reactive({...vue.toRefs(o),emit:n,resetFields:g,clearValidate:p,validateField:w,getField:f,addField:h,removeField:y,...useFormLabelWidth()})),r({validate:b,validateField:w,resetFields:g,clearValidate:p,scrollToField:S,fields:a}),(T,x)=>(vue.openBlock(),vue.createElementBlock("form",{class:vue.normalizeClass(vue.unref(d))},[vue.renderSlot(T.$slots,"default")],2))}});var Form=_export_sfc(_sfc_main$r,[["__file","form.vue"]]);function _extends(){return _extends=Object.assign?Object.assign.bind():function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},_extends.apply(this,arguments)}function _inheritsLoose(i,r){i.prototype=Object.create(r.prototype),i.prototype.constructor=i,_setPrototypeOf(i,r)}function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_getPrototypeOf(i)}function _setPrototypeOf(i,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,a){return o.__proto__=a,o},_setPrototypeOf(i,r)}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function _construct(i,r,n){return _isNativeReflectConstruct()?_construct=Reflect.construct.bind():_construct=function(a,u,c){var d=[null];d.push.apply(d,u);var f=Function.bind.apply(a,d),h=new f;return c&&_setPrototypeOf(h,c.prototype),h},_construct.apply(null,arguments)}function _isNativeFunction(i){return Function.toString.call(i).indexOf("[native code]")!==-1}function _wrapNativeSuper(i){var r=typeof Map=="function"?new Map:void 0;return _wrapNativeSuper=function(o){if(o===null||!_isNativeFunction(o))return o;if(typeof o!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(o))return r.get(o);r.set(o,a)}function a(){return _construct(o,arguments,_getPrototypeOf(this).constructor)}return a.prototype=Object.create(o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(a,o)},_wrapNativeSuper(i)}var formatRegExp=/%[sdj%]/g,warning=function i(){};typeof process<"u"&&process.env&&process.env.NODE_ENV!=="production"&&typeof window<"u"&&typeof document<"u"&&(warning=function(r,n){typeof console<"u"&&console.warn&&typeof ASYNC_VALIDATOR_NO_WARNING>"u"&&n.every(function(o){return typeof o=="string"})&&console.warn(r,n)});function convertFieldsError(i){if(!i||!i.length)return null;var r={};return i.forEach(function(n){var o=n.field;r[o]=r[o]||[],r[o].push(n)}),r}function format(i){for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];var a=0,u=n.length;if(typeof i=="function")return i.apply(null,n);if(typeof i=="string"){var c=i.replace(formatRegExp,function(d){if(d==="%%")return"%";if(a>=u)return d;switch(d){case"%s":return String(n[a++]);case"%d":return Number(n[a++]);case"%j":try{return JSON.stringify(n[a++])}catch{return"[Circular]"}break;default:return d}});return c}return i}function isNativeStringType(i){return i==="string"||i==="url"||i==="hex"||i==="email"||i==="date"||i==="pattern"}function isEmptyValue(i,r){return!!(i==null||r==="array"&&Array.isArray(i)&&!i.length||isNativeStringType(r)&&typeof i=="string"&&!i)}function asyncParallelArray(i,r,n){var o=[],a=0,u=i.length;function c(d){o.push.apply(o,d||[]),a++,a===u&&n(o)}i.forEach(function(d){r(d,c)})}function asyncSerialArray(i,r,n){var o=0,a=i.length;function u(c){if(c&&c.length){n(c);return}var d=o;o=o+1,d<a?r(i[d],u):n([])}u([])}function flattenObjArr(i){var r=[];return Object.keys(i).forEach(function(n){r.push.apply(r,i[n]||[])}),r}var AsyncValidationError=function(i){_inheritsLoose(r,i);function r(n,o){var a;return a=i.call(this,"Async Validation Error")||this,a.errors=n,a.fields=o,a}return r}(_wrapNativeSuper(Error));function asyncMap(i,r,n,o,a){if(r.first){var u=new Promise(function(p,v){var _=function(w){return o(w),w.length?v(new AsyncValidationError(w,convertFieldsError(w))):p(a)},b=flattenObjArr(i);asyncSerialArray(b,n,_)});return u.catch(function(p){return p}),u}var c=r.firstFields===!0?Object.keys(i):r.firstFields||[],d=Object.keys(i),f=d.length,h=0,y=[],g=new Promise(function(p,v){var _=function(A){if(y.push.apply(y,A),h++,h===f)return o(y),y.length?v(new AsyncValidationError(y,convertFieldsError(y))):p(a)};d.length||(o(y),p(a)),d.forEach(function(b){var A=i[b];c.indexOf(b)!==-1?asyncSerialArray(A,n,_):asyncParallelArray(A,n,_)})});return g.catch(function(p){return p}),g}function isErrorObj(i){return!!(i&&i.message!==void 0)}function getValue(i,r){for(var n=i,o=0;o<r.length;o++){if(n==null)return n;n=n[r[o]]}return n}function complementError(i,r){return function(n){var o;return i.fullFields?o=getValue(r,i.fullFields):o=r[n.field||i.fullField],isErrorObj(n)?(n.field=n.field||i.fullField,n.fieldValue=o,n):{message:typeof n=="function"?n():n,fieldValue:o,field:n.field||i.fullField}}}function deepMerge(i,r){if(r){for(var n in r)if(r.hasOwnProperty(n)){var o=r[n];typeof o=="object"&&typeof i[n]=="object"?i[n]=_extends({},i[n],o):i[n]=o}}return i}var required$1=function i(r,n,o,a,u,c){r.required&&(!o.hasOwnProperty(r.field)||isEmptyValue(n,c||r.type))&&a.push(format(u.messages.required,r.fullField))},whitespace=function i(r,n,o,a,u){(/^\s+$/.test(n)||n==="")&&a.push(format(u.messages.whitespace,r.fullField))},urlReg,getUrlRegex=function(){if(urlReg)return urlReg;var i="[a-fA-F\\d:]",r=function(x){return x&&x.includeBoundaries?"(?:(?<=\\s|^)(?="+i+")|(?<="+i+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",o="[a-fA-F\\d]{1,4}",a=(`
(?:
(?:`+o+":){7}(?:"+o+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+o+":){6}(?:"+n+"|:"+o+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+o+":){5}(?::"+n+"|(?::"+o+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+o+":){4}(?:(?::"+o+"){0,1}:"+n+"|(?::"+o+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+o+":){3}(?:(?::"+o+"){0,2}:"+n+"|(?::"+o+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+o+":){2}(?:(?::"+o+"){0,3}:"+n+"|(?::"+o+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+o+":){1}(?:(?::"+o+"){0,4}:"+n+"|(?::"+o+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+o+"){0,5}:"+n+"|(?::"+o+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),u=new RegExp("(?:^"+n+"$)|(?:^"+a+"$)"),c=new RegExp("^"+n+"$"),d=new RegExp("^"+a+"$"),f=function(x){return x&&x.exact?u:new RegExp("(?:"+r(x)+n+r(x)+")|(?:"+r(x)+a+r(x)+")","g")};f.v4=function(T){return T&&T.exact?c:new RegExp(""+r(T)+n+r(T),"g")},f.v6=function(T){return T&&T.exact?d:new RegExp(""+r(T)+a+r(T),"g")};var h="(?:(?:[a-z]+:)?//)",y="(?:\\S+(?::\\S*)?@)?",g=f.v4().source,p=f.v6().source,v="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",_="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",b="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",A="(?::\\d{2,5})?",w='(?:[/?#][^\\s"]*)?',S="(?:"+h+"|www\\.)"+y+"(?:localhost|"+g+"|"+p+"|"+v+_+b+")"+A+w;return urlReg=new RegExp("(?:^"+S+"$)","i"),urlReg},pattern$2={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},types={integer:function i(r){return types.number(r)&&parseInt(r,10)===r},float:function i(r){return types.number(r)&&!types.integer(r)},array:function i(r){return Array.isArray(r)},regexp:function i(r){if(r instanceof RegExp)return!0;try{return!!new RegExp(r)}catch{return!1}},date:function i(r){return typeof r.getTime=="function"&&typeof r.getMonth=="function"&&typeof r.getYear=="function"&&!isNaN(r.getTime())},number:function i(r){return isNaN(r)?!1:typeof r=="number"},object:function i(r){return typeof r=="object"&&!types.array(r)},method:function i(r){return typeof r=="function"},email:function i(r){return typeof r=="string"&&r.length<=320&&!!r.match(pattern$2.email)},url:function i(r){return typeof r=="string"&&r.length<=2048&&!!r.match(getUrlRegex())},hex:function i(r){return typeof r=="string"&&!!r.match(pattern$2.hex)}},type$1=function i(r,n,o,a,u){if(r.required&&n===void 0){required$1(r,n,o,a,u);return}var c=["integer","float","array","regexp","object","method","email","number","date","url","hex"],d=r.type;c.indexOf(d)>-1?types[d](n)||a.push(format(u.messages.types[d],r.fullField,r.type)):d&&typeof n!==r.type&&a.push(format(u.messages.types[d],r.fullField,r.type))},range=function i(r,n,o,a,u){var c=typeof r.len=="number",d=typeof r.min=="number",f=typeof r.max=="number",h=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,y=n,g=null,p=typeof n=="number",v=typeof n=="string",_=Array.isArray(n);if(p?g="number":v?g="string":_&&(g="array"),!g)return!1;_&&(y=n.length),v&&(y=n.replace(h,"_").length),c?y!==r.len&&a.push(format(u.messages[g].len,r.fullField,r.len)):d&&!f&&y<r.min?a.push(format(u.messages[g].min,r.fullField,r.min)):f&&!d&&y>r.max?a.push(format(u.messages[g].max,r.fullField,r.max)):d&&f&&(y<r.min||y>r.max)&&a.push(format(u.messages[g].range,r.fullField,r.min,r.max))},ENUM$1="enum",enumerable$1=function i(r,n,o,a,u){r[ENUM$1]=Array.isArray(r[ENUM$1])?r[ENUM$1]:[],r[ENUM$1].indexOf(n)===-1&&a.push(format(u.messages[ENUM$1],r.fullField,r[ENUM$1].join(", ")))},pattern$1=function i(r,n,o,a,u){if(r.pattern){if(r.pattern instanceof RegExp)r.pattern.lastIndex=0,r.pattern.test(n)||a.push(format(u.messages.pattern.mismatch,r.fullField,n,r.pattern));else if(typeof r.pattern=="string"){var c=new RegExp(r.pattern);c.test(n)||a.push(format(u.messages.pattern.mismatch,r.fullField,n,r.pattern))}}},rules={required:required$1,whitespace,type:type$1,range,enum:enumerable$1,pattern:pattern$1},string=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n,"string")&&!r.required)return o();rules.required(r,n,a,c,u,"string"),isEmptyValue(n,"string")||(rules.type(r,n,a,c,u),rules.range(r,n,a,c,u),rules.pattern(r,n,a,c,u),r.whitespace===!0&&rules.whitespace(r,n,a,c,u))}o(c)},method=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n)&&!r.required)return o();rules.required(r,n,a,c,u),n!==void 0&&rules.type(r,n,a,c,u)}o(c)},number=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(n===""&&(n=void 0),isEmptyValue(n)&&!r.required)return o();rules.required(r,n,a,c,u),n!==void 0&&(rules.type(r,n,a,c,u),rules.range(r,n,a,c,u))}o(c)},_boolean=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n)&&!r.required)return o();rules.required(r,n,a,c,u),n!==void 0&&rules.type(r,n,a,c,u)}o(c)},regexp=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n)&&!r.required)return o();rules.required(r,n,a,c,u),isEmptyValue(n)||rules.type(r,n,a,c,u)}o(c)},integer=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n)&&!r.required)return o();rules.required(r,n,a,c,u),n!==void 0&&(rules.type(r,n,a,c,u),rules.range(r,n,a,c,u))}o(c)},floatFn=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n)&&!r.required)return o();rules.required(r,n,a,c,u),n!==void 0&&(rules.type(r,n,a,c,u),rules.range(r,n,a,c,u))}o(c)},array=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(n==null&&!r.required)return o();rules.required(r,n,a,c,u,"array"),n!=null&&(rules.type(r,n,a,c,u),rules.range(r,n,a,c,u))}o(c)},object=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n)&&!r.required)return o();rules.required(r,n,a,c,u),n!==void 0&&rules.type(r,n,a,c,u)}o(c)},ENUM="enum",enumerable=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n)&&!r.required)return o();rules.required(r,n,a,c,u),n!==void 0&&rules[ENUM](r,n,a,c,u)}o(c)},pattern=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n,"string")&&!r.required)return o();rules.required(r,n,a,c,u),isEmptyValue(n,"string")||rules.pattern(r,n,a,c,u)}o(c)},date=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n,"date")&&!r.required)return o();if(rules.required(r,n,a,c,u),!isEmptyValue(n,"date")){var f;n instanceof Date?f=n:f=new Date(n),rules.type(r,f,a,c,u),f&&rules.range(r,f.getTime(),a,c,u)}}o(c)},required=function i(r,n,o,a,u){var c=[],d=Array.isArray(n)?"array":typeof n;rules.required(r,n,a,c,u,d),o(c)},type=function i(r,n,o,a,u){var c=r.type,d=[],f=r.required||!r.required&&a.hasOwnProperty(r.field);if(f){if(isEmptyValue(n,c)&&!r.required)return o();rules.required(r,n,a,d,u,c),isEmptyValue(n,c)||rules.type(r,n,a,d,u)}o(d)},any=function i(r,n,o,a,u){var c=[],d=r.required||!r.required&&a.hasOwnProperty(r.field);if(d){if(isEmptyValue(n)&&!r.required)return o();rules.required(r,n,a,c,u)}o(c)},validators={string,method,number,boolean:_boolean,regexp,integer,float:floatFn,array,object,enum:enumerable,pattern,date,url:type,hex:type,email:type,required,any};function newMessages(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var r=JSON.parse(JSON.stringify(this));return r.clone=this.clone,r}}}var messages=newMessages(),Schema=function(){function i(n){this.rules=null,this._messages=messages,this.define(n)}var r=i.prototype;return r.define=function(o){var a=this;if(!o)throw new Error("Cannot configure a schema with no rules");if(typeof o!="object"||Array.isArray(o))throw new Error("Rules must be an object");this.rules={},Object.keys(o).forEach(function(u){var c=o[u];a.rules[u]=Array.isArray(c)?c:[c]})},r.messages=function(o){return o&&(this._messages=deepMerge(newMessages(),o)),this._messages},r.validate=function(o,a,u){var c=this;a===void 0&&(a={}),u===void 0&&(u=function(){});var d=o,f=a,h=u;if(typeof f=="function"&&(h=f,f={}),!this.rules||Object.keys(this.rules).length===0)return h&&h(null,d),Promise.resolve(d);function y(b){var A=[],w={};function S(x){if(Array.isArray(x)){var M;A=(M=A).concat.apply(M,x)}else A.push(x)}for(var T=0;T<b.length;T++)S(b[T]);A.length?(w=convertFieldsError(A),h(A,w)):h(null,d)}if(f.messages){var g=this.messages();g===messages&&(g=newMessages()),deepMerge(g,f.messages),f.messages=g}else f.messages=this.messages();var p={},v=f.keys||Object.keys(this.rules);v.forEach(function(b){var A=c.rules[b],w=d[b];A.forEach(function(S){var T=S;typeof T.transform=="function"&&(d===o&&(d=_extends({},d)),w=d[b]=T.transform(w)),typeof T=="function"?T={validator:T}:T=_extends({},T),T.validator=c.getValidationMethod(T),T.validator&&(T.field=b,T.fullField=T.fullField||b,T.type=c.getType(T),p[b]=p[b]||[],p[b].push({rule:T,value:w,source:d,field:b}))})});var _={};return asyncMap(p,f,function(b,A){var w=b.rule,S=(w.type==="object"||w.type==="array")&&(typeof w.fields=="object"||typeof w.defaultField=="object");S=S&&(w.required||!w.required&&b.value),w.field=b.field;function T(L,k){return _extends({},k,{fullField:w.fullField+"."+L,fullFields:w.fullFields?[].concat(w.fullFields,[L]):[L]})}function x(L){L===void 0&&(L=[]);var k=Array.isArray(L)?L:[L];!f.suppressWarning&&k.length&&i.warning("async-validator:",k),k.length&&w.message!==void 0&&(k=[].concat(w.message));var ie=k.map(complementError(w,d));if(f.first&&ie.length)return _[w.field]=1,A(ie);if(!S)A(ie);else{if(w.required&&!b.value)return w.message!==void 0?ie=[].concat(w.message).map(complementError(w,d)):f.error&&(ie=[f.error(w,format(f.messages.required,w.field))]),A(ie);var $={};w.defaultField&&Object.keys(b.value).map(function(re){$[re]=w.defaultField}),$=_extends({},$,b.rule.fields);var z={};Object.keys($).forEach(function(re){var D=$[re],Ce=Array.isArray(D)?D:[D];z[re]=Ce.map(T.bind(null,re))});var V=new i(z);V.messages(f.messages),b.rule.options&&(b.rule.options.messages=f.messages,b.rule.options.error=f.error),V.validate(b.value,b.rule.options||f,function(re){var D=[];ie&&ie.length&&D.push.apply(D,ie),re&&re.length&&D.push.apply(D,re),A(D.length?D:null)})}}var M;if(w.asyncValidator)M=w.asyncValidator(w,b.value,x,b.source,f);else if(w.validator){try{M=w.validator(w,b.value,x,b.source,f)}catch(L){console.error==null||console.error(L),f.suppressValidatorError||setTimeout(function(){throw L},0),x(L.message)}M===!0?x():M===!1?x(typeof w.message=="function"?w.message(w.fullField||w.field):w.message||(w.fullField||w.field)+" fails"):M instanceof Array?x(M):M instanceof Error&&x(M.message)}M&&M.then&&M.then(function(){return x()},function(L){return x(L)})},function(b){y(b)},d)},r.getType=function(o){if(o.type===void 0&&o.pattern instanceof RegExp&&(o.type="pattern"),typeof o.validator!="function"&&o.type&&!validators.hasOwnProperty(o.type))throw new Error(format("Unknown rule type %s",o.type));return o.type||"string"},r.getValidationMethod=function(o){if(typeof o.validator=="function")return o.validator;var a=Object.keys(o),u=a.indexOf("message");return u!==-1&&a.splice(u,1),a.length===1&&a[0]==="required"?validators.required:validators[this.getType(o)]||void 0},i}();Schema.register=function i(r,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");validators[r]=n},Schema.warning=warning,Schema.messages=messages,Schema.validators=validators;const formItemValidateStates=["","error","validating","success"],formItemProps=buildProps({label:String,labelWidth:{type:[String,Number],default:""},labelPosition:{type:String,values:["left","right","top",""],default:""},prop:{type:definePropType([String,Array])},required:{type:Boolean,default:void 0},rules:{type:definePropType([Object,Array])},error:String,validateStatus:{type:String,values:formItemValidateStates},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:componentSizes}}),COMPONENT_NAME$3="ElLabelWrap";var FormLabelWrap=vue.defineComponent({name:COMPONENT_NAME$3,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(i,{slots:r}){const n=vue.inject(formContextKey,void 0),o=vue.inject(formItemContextKey);o||throwError(COMPONENT_NAME$3,"usage: <el-form-item><label-wrap /></el-form-item>");const a=useNamespace("form"),u=vue.ref(),c=vue.ref(0),d=()=>{var y;if((y=u.value)!=null&&y.firstElementChild){const g=window.getComputedStyle(u.value.firstElementChild).width;return Math.ceil(Number.parseFloat(g))}else return 0},f=(y="update")=>{vue.nextTick(()=>{r.default&&i.isAutoWidth&&(y==="update"?c.value=d():y==="remove"&&(n==null||n.deregisterLabelWidth(c.value)))})},h=()=>f("update");return vue.onMounted(()=>{h()}),vue.onBeforeUnmount(()=>{f("remove")}),vue.onUpdated(()=>h()),vue.watch(c,(y,g)=>{i.updateAll&&(n==null||n.registerLabelWidth(y,g))}),useResizeObserver(vue.computed(()=>{var y,g;return(g=(y=u.value)==null?void 0:y.firstElementChild)!=null?g:null}),h),()=>{var y,g;if(!r)return null;const{isAutoWidth:p}=i;if(p){const v=n==null?void 0:n.autoLabelWidth,_=o==null?void 0:o.hasLabel,b={};if(_&&v&&v!=="auto"){const A=Math.max(0,Number.parseInt(v,10)-c.value),S=(o.labelPosition||n.labelPosition)==="left"?"marginRight":"marginLeft";A&&(b[S]=`${A}px`)}return vue.createVNode("div",{ref:u,class:[a.be("item","label-wrap")],style:b},[(y=r.default)==null?void 0:y.call(r)])}else return vue.createVNode(vue.Fragment,{ref:u},[(g=r.default)==null?void 0:g.call(r)])}}});const __default__$a=vue.defineComponent({name:"ElFormItem"}),_sfc_main$q=vue.defineComponent({...__default__$a,props:formItemProps,setup(i,{expose:r}){const n=i,o=vue.useSlots(),a=vue.inject(formContextKey,void 0),u=vue.inject(formItemContextKey,void 0),c=useFormSize(void 0,{formItem:!1}),d=useNamespace("form-item"),f=useId().value,h=vue.ref([]),y=vue.ref(""),g=refDebounced(y,100),p=vue.ref(""),v=vue.ref();let _,b=!1;const A=vue.computed(()=>n.labelPosition||(a==null?void 0:a.labelPosition)),w=vue.computed(()=>{if(A.value==="top")return{};const jt=addUnit(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return jt?{width:jt}:{}}),S=vue.computed(()=>{if(A.value==="top"||a!=null&&a.inline)return{};if(!n.label&&!n.labelWidth&&z)return{};const jt=addUnit(n.labelWidth||(a==null?void 0:a.labelWidth)||"");return!n.label&&!o.label?{marginLeft:jt}:{}}),T=vue.computed(()=>[d.b(),d.m(c.value),d.is("error",y.value==="error"),d.is("validating",y.value==="validating"),d.is("success",y.value==="success"),d.is("required",le.value||n.required),d.is("no-asterisk",a==null?void 0:a.hideRequiredAsterisk),(a==null?void 0:a.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[d.m("feedback")]:a==null?void 0:a.statusIcon,[d.m(`label-${A.value}`)]:A.value}]),x=vue.computed(()=>isBoolean(n.inlineMessage)?n.inlineMessage:(a==null?void 0:a.inlineMessage)||!1),M=vue.computed(()=>[d.e("error"),{[d.em("error","inline")]:x.value}]),L=vue.computed(()=>n.prop?isString(n.prop)?n.prop:n.prop.join("."):""),k=vue.computed(()=>!!(n.label||o.label)),ie=vue.computed(()=>n.for||(h.value.length===1?h.value[0]:void 0)),$=vue.computed(()=>!ie.value&&k.value),z=!!u,V=vue.computed(()=>{const jt=a==null?void 0:a.model;if(!(!jt||!n.prop))return getProp(jt,n.prop).value}),re=vue.computed(()=>{const{required:jt}=n,Et=[];n.rules&&Et.push(...lodashEs.castArray(n.rules));const pe=a==null?void 0:a.rules;if(pe&&n.prop){const ue=getProp(pe,n.prop).value;ue&&Et.push(...lodashEs.castArray(ue))}if(jt!==void 0){const ue=Et.map(($e,Ne)=>[$e,Ne]).filter(([$e])=>Object.keys($e).includes("required"));if(ue.length>0)for(const[$e,Ne]of ue)$e.required!==jt&&(Et[Ne]={...$e,required:jt});else Et.push({required:jt})}return Et}),D=vue.computed(()=>re.value.length>0),Ce=jt=>re.value.filter(pe=>!pe.trigger||!jt?!0:Array.isArray(pe.trigger)?pe.trigger.includes(jt):pe.trigger===jt).map(({trigger:pe,...ue})=>ue),le=vue.computed(()=>re.value.some(jt=>jt.required)),de=vue.computed(()=>{var jt;return g.value==="error"&&n.showMessage&&((jt=a==null?void 0:a.showMessage)!=null?jt:!0)}),Fe=vue.computed(()=>`${n.label||""}${(a==null?void 0:a.labelSuffix)||""}`),Ie=jt=>{y.value=jt},At=jt=>{var Et,pe;const{errors:ue,fields:$e}=jt;(!ue||!$e)&&console.error(jt),Ie("error"),p.value=ue?(pe=(Et=ue==null?void 0:ue[0])==null?void 0:Et.message)!=null?pe:`${n.prop} is required`:"",a==null||a.emit("validate",n.prop,!1,p.value)},_e=()=>{Ie("success"),a==null||a.emit("validate",n.prop,!0,"")},qe=async jt=>{const Et=L.value;return new Schema({[Et]:jt}).validate({[Et]:V.value},{firstFields:!0}).then(()=>(_e(),!0)).catch(ue=>(At(ue),Promise.reject(ue)))},In=async(jt,Et)=>{if(b||!n.prop)return!1;const pe=isFunction(Et);if(!D.value)return Et==null||Et(!1),!1;const ue=Ce(jt);return ue.length===0?(Et==null||Et(!0),!0):(Ie("validating"),qe(ue).then(()=>(Et==null||Et(!0),!0)).catch($e=>{const{fields:Ne}=$e;return Et==null||Et(!1,Ne),pe?!1:Promise.reject(Ne)}))},vn=()=>{Ie(""),p.value="",b=!1},Pt=async()=>{const jt=a==null?void 0:a.model;if(!jt||!n.prop)return;const Et=getProp(jt,n.prop);b=!0,Et.value=lodashEs.clone(_),await vue.nextTick(),vn(),b=!1},he=jt=>{h.value.includes(jt)||h.value.push(jt)},Ue=jt=>{h.value=h.value.filter(Et=>Et!==jt)};vue.watch(()=>n.error,jt=>{p.value=jt||"",Ie(jt?"error":"")},{immediate:!0}),vue.watch(()=>n.validateStatus,jt=>Ie(jt||""));const Dt=vue.reactive({...vue.toRefs(n),$el:v,size:c,validateState:y,labelId:f,inputIds:h,isGroup:$,hasLabel:k,fieldValue:V,addInputId:he,removeInputId:Ue,resetField:Pt,clearValidate:vn,validate:In});return vue.provide(formItemContextKey,Dt),vue.onMounted(()=>{n.prop&&(a==null||a.addField(Dt),_=lodashEs.clone(V.value))}),vue.onBeforeUnmount(()=>{a==null||a.removeField(Dt)}),r({size:c,validateMessage:p,validateState:y,validate:In,clearValidate:vn,resetField:Pt}),(jt,Et)=>{var pe;return vue.openBlock(),vue.createElementBlock("div",{ref_key:"formItemRef",ref:v,class:vue.normalizeClass(vue.unref(T)),role:vue.unref($)?"group":void 0,"aria-labelledby":vue.unref($)?vue.unref(f):void 0},[vue.createVNode(vue.unref(FormLabelWrap),{"is-auto-width":vue.unref(w).width==="auto","update-all":((pe=vue.unref(a))==null?void 0:pe.labelWidth)==="auto"},{default:vue.withCtx(()=>[vue.unref(k)?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(ie)?"label":"div"),{key:0,id:vue.unref(f),for:vue.unref(ie),class:vue.normalizeClass(vue.unref(d).e("label")),style:vue.normalizeStyle(vue.unref(w))},{default:vue.withCtx(()=>[vue.renderSlot(jt.$slots,"label",{label:vue.unref(Fe)},()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(Fe)),1)])]),_:3},8,["id","for","class","style"])):vue.createCommentVNode("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),vue.createElementVNode("div",{class:vue.normalizeClass(vue.unref(d).e("content")),style:vue.normalizeStyle(vue.unref(S))},[vue.renderSlot(jt.$slots,"default"),vue.createVNode(vue.TransitionGroup,{name:`${vue.unref(d).namespace.value}-zoom-in-top`},{default:vue.withCtx(()=>[vue.unref(de)?vue.renderSlot(jt.$slots,"error",{key:0,error:p.value},()=>[vue.createElementVNode("div",{class:vue.normalizeClass(vue.unref(M))},vue.toDisplayString(p.value),3)]):vue.createCommentVNode("v-if",!0)]),_:3},8,["name"])],6)],10,["role","aria-labelledby"])}}});var FormItem=_export_sfc(_sfc_main$q,[["__file","form-item.vue"]]);withInstall(Form,{FormItem});const ElFormItem=withNoopInstall(FormItem);let hiddenTextarea;const HIDDEN_STYLE=`
  height:0 !important;
  visibility:hidden !important;
  ${isFirefox()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,CONTEXT_STYLE=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function calculateNodeStyling(i){const r=window.getComputedStyle(i),n=r.getPropertyValue("box-sizing"),o=Number.parseFloat(r.getPropertyValue("padding-bottom"))+Number.parseFloat(r.getPropertyValue("padding-top")),a=Number.parseFloat(r.getPropertyValue("border-bottom-width"))+Number.parseFloat(r.getPropertyValue("border-top-width"));return{contextStyle:CONTEXT_STYLE.map(c=>`${c}:${r.getPropertyValue(c)}`).join(";"),paddingSize:o,borderSize:a,boxSizing:n}}function calcTextareaHeight(i,r=1,n){var o;hiddenTextarea||(hiddenTextarea=document.createElement("textarea"),document.body.appendChild(hiddenTextarea));const{paddingSize:a,borderSize:u,boxSizing:c,contextStyle:d}=calculateNodeStyling(i);hiddenTextarea.setAttribute("style",`${d};${HIDDEN_STYLE}`),hiddenTextarea.value=i.value||i.placeholder||"";let f=hiddenTextarea.scrollHeight;const h={};c==="border-box"?f=f+u:c==="content-box"&&(f=f-a),hiddenTextarea.value="";const y=hiddenTextarea.scrollHeight-a;if(isNumber(r)){let g=y*r;c==="border-box"&&(g=g+a+u),f=Math.max(g,f),h.minHeight=`${g}px`}if(isNumber(n)){let g=y*n;c==="border-box"&&(g=g+a+u),f=Math.min(g,f)}return h.height=`${f}px`,(o=hiddenTextarea.parentNode)==null||o.removeChild(hiddenTextarea),hiddenTextarea=void 0,h}const inputProps=buildProps({id:{type:String,default:void 0},size:useSizeProp,disabled:Boolean,modelValue:{type:definePropType([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:definePropType([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:Boolean,clearable:Boolean,showPassword:Boolean,showWordLimit:Boolean,suffixIcon:{type:iconPropType},prefixIcon:{type:iconPropType},containerRole:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:definePropType([Object,Array,String]),default:()=>mutable({})},autofocus:Boolean,rows:{type:Number,default:2},...useAriaProps(["ariaLabel"])}),inputEmits={[UPDATE_MODEL_EVENT]:i=>isString(i),input:i=>isString(i),change:i=>isString(i),focus:i=>i instanceof FocusEvent,blur:i=>i instanceof FocusEvent,clear:()=>!0,mouseleave:i=>i instanceof MouseEvent,mouseenter:i=>i instanceof MouseEvent,keydown:i=>i instanceof Event,compositionstart:i=>i instanceof CompositionEvent,compositionupdate:i=>i instanceof CompositionEvent,compositionend:i=>i instanceof CompositionEvent},__default__$9=vue.defineComponent({name:"ElInput",inheritAttrs:!1}),_sfc_main$p=vue.defineComponent({...__default__$9,props:inputProps,emits:inputEmits,setup(i,{expose:r,emit:n}){const o=i,a=vue.useAttrs(),u=vue.useSlots(),c=vue.computed(()=>{const j={};return o.containerRole==="combobox"&&(j["aria-haspopup"]=a["aria-haspopup"],j["aria-owns"]=a["aria-owns"],j["aria-expanded"]=a["aria-expanded"]),j}),d=vue.computed(()=>[o.type==="textarea"?A.b():b.b(),b.m(v.value),b.is("disabled",_.value),b.is("exceed",qe.value),{[b.b("group")]:u.prepend||u.append,[b.m("prefix")]:u.prefix||o.prefixIcon,[b.m("suffix")]:u.suffix||o.suffixIcon||o.clearable||o.showPassword,[b.bm("suffix","password-clear")]:Fe.value&&Ie.value,[b.b("hidden")]:o.type==="hidden"},a.class]),f=vue.computed(()=>[b.e("wrapper"),b.is("focus",$.value)]),h=useAttrs({excludeKeys:vue.computed(()=>Object.keys(c.value))}),{form:y,formItem:g}=useFormItem(),{inputId:p}=useFormItemInputId(o,{formItemContext:g}),v=useFormSize(),_=useFormDisabled(),b=useNamespace("input"),A=useNamespace("textarea"),w=vue.shallowRef(),S=vue.shallowRef(),T=vue.ref(!1),x=vue.ref(!1),M=vue.ref(),L=vue.shallowRef(o.inputStyle),k=vue.computed(()=>w.value||S.value),{wrapperRef:ie,isFocused:$}=useFocusController(k,{afterBlur(){var j;o.validateEvent&&((j=g==null?void 0:g.validate)==null||j.call(g,"blur").catch(xe=>debugWarn(xe)))}}),z=vue.computed(()=>{var j;return(j=y==null?void 0:y.statusIcon)!=null?j:!1}),V=vue.computed(()=>(g==null?void 0:g.validateState)||""),re=vue.computed(()=>V.value&&ValidateComponentsMap[V.value]),D=vue.computed(()=>x.value?view_default:hide_default),Ce=vue.computed(()=>[a.style]),le=vue.computed(()=>[o.inputStyle,L.value,{resize:o.resize}]),de=vue.computed(()=>lodashEs.isNil(o.modelValue)?"":String(o.modelValue)),Fe=vue.computed(()=>o.clearable&&!_.value&&!o.readonly&&!!de.value&&($.value||T.value)),Ie=vue.computed(()=>o.showPassword&&!_.value&&!o.readonly&&!!de.value&&(!!de.value||$.value)),At=vue.computed(()=>o.showWordLimit&&!!o.maxlength&&(o.type==="text"||o.type==="textarea")&&!_.value&&!o.readonly&&!o.showPassword),_e=vue.computed(()=>de.value.length),qe=vue.computed(()=>!!At.value&&_e.value>Number(o.maxlength)),In=vue.computed(()=>!!u.suffix||!!o.suffixIcon||Fe.value||o.showPassword||At.value||!!V.value&&z.value),[vn,Pt]=useCursor(w);useResizeObserver(S,j=>{if(Dt(),!At.value||o.resize!=="both")return;const xe=j[0],{width:hn}=xe.contentRect;M.value={right:`calc(100% - ${hn+15+6}px)`}});const he=()=>{const{type:j,autosize:xe}=o;if(!(!isClient||j!=="textarea"||!S.value))if(xe){const hn=isObject(xe)?xe.minRows:void 0,_n=isObject(xe)?xe.maxRows:void 0,Sn=calcTextareaHeight(S.value,hn,_n);L.value={overflowY:"hidden",...Sn},vue.nextTick(()=>{S.value.offsetHeight,L.value=Sn})}else L.value={minHeight:calcTextareaHeight(S.value).minHeight}},Dt=(j=>{let xe=!1;return()=>{var hn;if(xe||!o.autosize)return;((hn=S.value)==null?void 0:hn.offsetParent)===null||(j(),xe=!0)}})(he),jt=()=>{const j=k.value,xe=o.formatter?o.formatter(de.value):de.value;!j||j.value===xe||(j.value=xe)},Et=async j=>{vn();let{value:xe}=j.target;if(o.formatter&&(xe=o.parser?o.parser(xe):xe),!ue.value){if(xe===de.value){jt();return}n(UPDATE_MODEL_EVENT,xe),n("input",xe),await vue.nextTick(),jt(),Pt()}},pe=j=>{n("change",j.target.value)},{isComposing:ue,handleCompositionStart:$e,handleCompositionUpdate:Ne,handleCompositionEnd:Oe}=useComposition({emit:n,afterComposition:Et}),Lt=()=>{x.value=!x.value,kt()},kt=async()=>{var j;await vue.nextTick(),(j=k.value)==null||j.focus()},Cn=()=>{var j;return(j=k.value)==null?void 0:j.blur()},oe=j=>{T.value=!1,n("mouseleave",j)},ae=j=>{T.value=!0,n("mouseenter",j)},Y=j=>{n("keydown",j)},O=()=>{var j;(j=k.value)==null||j.select()},F=()=>{n(UPDATE_MODEL_EVENT,""),n("change",""),n("clear"),n("input","")};return vue.watch(()=>o.modelValue,()=>{var j;vue.nextTick(()=>he()),o.validateEvent&&((j=g==null?void 0:g.validate)==null||j.call(g,"change").catch(xe=>debugWarn(xe)))}),vue.watch(de,()=>jt()),vue.watch(()=>o.type,async()=>{await vue.nextTick(),jt(),he()}),vue.onMounted(()=>{!o.formatter&&o.parser&&debugWarn("ElInput","If you set the parser, you also need to set the formatter."),jt(),vue.nextTick(he)}),r({input:w,textarea:S,ref:k,textareaStyle:le,autosize:vue.toRef(o,"autosize"),isComposing:ue,focus:kt,blur:Cn,select:O,clear:F,resizeTextarea:he}),(j,xe)=>(vue.openBlock(),vue.createElementBlock("div",vue.mergeProps(vue.unref(c),{class:[vue.unref(d),{[vue.unref(b).bm("group","append")]:j.$slots.append,[vue.unref(b).bm("group","prepend")]:j.$slots.prepend}],style:vue.unref(Ce),role:j.containerRole,onMouseenter:ae,onMouseleave:oe}),[vue.createCommentVNode(" input "),j.type!=="textarea"?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[vue.createCommentVNode(" prepend slot "),j.$slots.prepend?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:vue.normalizeClass(vue.unref(b).be("group","prepend"))},[vue.renderSlot(j.$slots,"prepend")],2)):vue.createCommentVNode("v-if",!0),vue.createElementVNode("div",{ref_key:"wrapperRef",ref:ie,class:vue.normalizeClass(vue.unref(f))},[vue.createCommentVNode(" prefix slot "),j.$slots.prefix||j.prefixIcon?(vue.openBlock(),vue.createElementBlock("span",{key:0,class:vue.normalizeClass(vue.unref(b).e("prefix"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(b).e("prefix-inner"))},[vue.renderSlot(j.$slots,"prefix"),j.prefixIcon?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(b).e("icon"))},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(j.prefixIcon)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],2)],2)):vue.createCommentVNode("v-if",!0),vue.createElementVNode("input",vue.mergeProps({id:vue.unref(p),ref_key:"input",ref:w,class:vue.unref(b).e("inner")},vue.unref(h),{minlength:j.minlength,maxlength:j.maxlength,type:j.showPassword?x.value?"text":"password":j.type,disabled:vue.unref(_),readonly:j.readonly,autocomplete:j.autocomplete,tabindex:j.tabindex,"aria-label":j.ariaLabel,placeholder:j.placeholder,style:j.inputStyle,form:j.form,autofocus:j.autofocus,onCompositionstart:vue.unref($e),onCompositionupdate:vue.unref(Ne),onCompositionend:vue.unref(Oe),onInput:Et,onChange:pe,onKeydown:Y}),null,16,["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus","onCompositionstart","onCompositionupdate","onCompositionend"]),vue.createCommentVNode(" suffix slot "),vue.unref(In)?(vue.openBlock(),vue.createElementBlock("span",{key:1,class:vue.normalizeClass(vue.unref(b).e("suffix"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(b).e("suffix-inner"))},[!vue.unref(Fe)||!vue.unref(Ie)||!vue.unref(At)?(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:0},[vue.renderSlot(j.$slots,"suffix"),j.suffixIcon?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(b).e("icon"))},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(j.suffixIcon)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],64)):vue.createCommentVNode("v-if",!0),vue.unref(Fe)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:1,class:vue.normalizeClass([vue.unref(b).e("icon"),vue.unref(b).e("clear")]),onMousedown:vue.withModifiers(vue.unref(NOOP),["prevent"]),onClick:F},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(circle_close_default))]),_:1},8,["class","onMousedown"])):vue.createCommentVNode("v-if",!0),vue.unref(Ie)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:2,class:vue.normalizeClass([vue.unref(b).e("icon"),vue.unref(b).e("password")]),onClick:Lt},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(D))))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0),vue.unref(At)?(vue.openBlock(),vue.createElementBlock("span",{key:3,class:vue.normalizeClass(vue.unref(b).e("count"))},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(b).e("count-inner"))},vue.toDisplayString(vue.unref(_e))+" / "+vue.toDisplayString(j.maxlength),3)],2)):vue.createCommentVNode("v-if",!0),vue.unref(V)&&vue.unref(re)&&vue.unref(z)?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:4,class:vue.normalizeClass([vue.unref(b).e("icon"),vue.unref(b).e("validateIcon"),vue.unref(b).is("loading",vue.unref(V)==="validating")])},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(vue.unref(re))))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],2)],2)):vue.createCommentVNode("v-if",!0)],2),vue.createCommentVNode(" append slot "),j.$slots.append?(vue.openBlock(),vue.createElementBlock("div",{key:1,class:vue.normalizeClass(vue.unref(b).be("group","append"))},[vue.renderSlot(j.$slots,"append")],2)):vue.createCommentVNode("v-if",!0)],64)):(vue.openBlock(),vue.createElementBlock(vue.Fragment,{key:1},[vue.createCommentVNode(" textarea "),vue.createElementVNode("textarea",vue.mergeProps({id:vue.unref(p),ref_key:"textarea",ref:S,class:[vue.unref(A).e("inner"),vue.unref(b).is("focus",vue.unref($))]},vue.unref(h),{minlength:j.minlength,maxlength:j.maxlength,tabindex:j.tabindex,disabled:vue.unref(_),readonly:j.readonly,autocomplete:j.autocomplete,style:vue.unref(le),"aria-label":j.ariaLabel,placeholder:j.placeholder,form:j.form,autofocus:j.autofocus,rows:j.rows,onCompositionstart:vue.unref($e),onCompositionupdate:vue.unref(Ne),onCompositionend:vue.unref(Oe),onInput:Et,onChange:pe,onKeydown:Y}),null,16,["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus","rows","onCompositionstart","onCompositionupdate","onCompositionend"]),vue.unref(At)?(vue.openBlock(),vue.createElementBlock("span",{key:0,style:vue.normalizeStyle(M.value),class:vue.normalizeClass(vue.unref(b).e("count"))},vue.toDisplayString(vue.unref(_e))+" / "+vue.toDisplayString(j.maxlength),7)):vue.createCommentVNode("v-if",!0)],64))],16,["role"]))}});var Input=_export_sfc(_sfc_main$p,[["__file","input.vue"]]);const ElInput=withInstall(Input),GAP=4,BAR_MAP={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},renderThumbStyle=({move:i,size:r,bar:n})=>({[n.size]:r,transform:`translate${n.axis}(${i}%)`}),scrollbarContextKey=Symbol("scrollbarContextKey"),thumbProps=buildProps({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),COMPONENT_NAME$2="Thumb",_sfc_main$o=vue.defineComponent({__name:"thumb",props:thumbProps,setup(i){const r=i,n=vue.inject(scrollbarContextKey),o=useNamespace("scrollbar");n||throwError(COMPONENT_NAME$2,"can not inject scrollbar context");const a=vue.ref(),u=vue.ref(),c=vue.ref({}),d=vue.ref(!1);let f=!1,h=!1,y=isClient?document.onselectstart:null;const g=vue.computed(()=>BAR_MAP[r.vertical?"vertical":"horizontal"]),p=vue.computed(()=>renderThumbStyle({size:r.size,move:r.move,bar:g.value})),v=vue.computed(()=>a.value[g.value.offset]**2/n.wrapElement[g.value.scrollSize]/r.ratio/u.value[g.value.offset]),_=L=>{var k;if(L.stopPropagation(),L.ctrlKey||[1,2].includes(L.button))return;(k=window.getSelection())==null||k.removeAllRanges(),A(L);const ie=L.currentTarget;ie&&(c.value[g.value.axis]=ie[g.value.offset]-(L[g.value.client]-ie.getBoundingClientRect()[g.value.direction]))},b=L=>{if(!u.value||!a.value||!n.wrapElement)return;const k=Math.abs(L.target.getBoundingClientRect()[g.value.direction]-L[g.value.client]),ie=u.value[g.value.offset]/2,$=(k-ie)*100*v.value/a.value[g.value.offset];n.wrapElement[g.value.scroll]=$*n.wrapElement[g.value.scrollSize]/100},A=L=>{L.stopImmediatePropagation(),f=!0,document.addEventListener("mousemove",w),document.addEventListener("mouseup",S),y=document.onselectstart,document.onselectstart=()=>!1},w=L=>{if(!a.value||!u.value||f===!1)return;const k=c.value[g.value.axis];if(!k)return;const ie=(a.value.getBoundingClientRect()[g.value.direction]-L[g.value.client])*-1,$=u.value[g.value.offset]-k,z=(ie-$)*100*v.value/a.value[g.value.offset];n.wrapElement[g.value.scroll]=z*n.wrapElement[g.value.scrollSize]/100},S=()=>{f=!1,c.value[g.value.axis]=0,document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",S),M(),h&&(d.value=!1)},T=()=>{h=!1,d.value=!!r.size},x=()=>{h=!0,d.value=f};vue.onBeforeUnmount(()=>{M(),document.removeEventListener("mouseup",S)});const M=()=>{document.onselectstart!==y&&(document.onselectstart=y)};return useEventListener(vue.toRef(n,"scrollbarElement"),"mousemove",T),useEventListener(vue.toRef(n,"scrollbarElement"),"mouseleave",x),(L,k)=>(vue.openBlock(),vue.createBlock(vue.Transition,{name:vue.unref(o).b("fade"),persisted:""},{default:vue.withCtx(()=>[vue.withDirectives(vue.createElementVNode("div",{ref_key:"instance",ref:a,class:vue.normalizeClass([vue.unref(o).e("bar"),vue.unref(o).is(vue.unref(g).key)]),onMousedown:b},[vue.createElementVNode("div",{ref_key:"thumb",ref:u,class:vue.normalizeClass(vue.unref(o).e("thumb")),style:vue.normalizeStyle(vue.unref(p)),onMousedown:_},null,38)],34),[[vue.vShow,L.always||d.value]])]),_:1},8,["name"]))}});var Thumb=_export_sfc(_sfc_main$o,[["__file","thumb.vue"]]);const barProps=buildProps({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),_sfc_main$n=vue.defineComponent({__name:"bar",props:barProps,setup(i,{expose:r}){const n=i,o=vue.inject(scrollbarContextKey),a=vue.ref(0),u=vue.ref(0),c=vue.ref(""),d=vue.ref(""),f=vue.ref(1),h=vue.ref(1);return r({handleScroll:p=>{if(p){const v=p.offsetHeight-GAP,_=p.offsetWidth-GAP;u.value=p.scrollTop*100/v*f.value,a.value=p.scrollLeft*100/_*h.value}},update:()=>{const p=o==null?void 0:o.wrapElement;if(!p)return;const v=p.offsetHeight-GAP,_=p.offsetWidth-GAP,b=v**2/p.scrollHeight,A=_**2/p.scrollWidth,w=Math.max(b,n.minSize),S=Math.max(A,n.minSize);f.value=b/(v-b)/(w/(v-w)),h.value=A/(_-A)/(S/(_-S)),d.value=w+GAP<v?`${w}px`:"",c.value=S+GAP<_?`${S}px`:""}}),(p,v)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(Thumb,{move:a.value,ratio:h.value,size:c.value,always:p.always},null,8,["move","ratio","size","always"]),vue.createVNode(Thumb,{move:u.value,ratio:f.value,size:d.value,vertical:"",always:p.always},null,8,["move","ratio","size","always"])],64))}});var Bar=_export_sfc(_sfc_main$n,[["__file","bar.vue"]]);const scrollbarProps=buildProps({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:definePropType([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,...useAriaProps(["ariaLabel","ariaOrientation"])}),scrollbarEmits={scroll:({scrollTop:i,scrollLeft:r})=>[i,r].every(isNumber)},COMPONENT_NAME$1="ElScrollbar",__default__$8=vue.defineComponent({name:COMPONENT_NAME$1}),_sfc_main$m=vue.defineComponent({...__default__$8,props:scrollbarProps,emits:scrollbarEmits,setup(i,{expose:r,emit:n}){const o=i,a=useNamespace("scrollbar");let u,c,d=0,f=0;const h=vue.ref(),y=vue.ref(),g=vue.ref(),p=vue.ref(),v=vue.computed(()=>{const M={};return o.height&&(M.height=addUnit(o.height)),o.maxHeight&&(M.maxHeight=addUnit(o.maxHeight)),[o.wrapStyle,M]}),_=vue.computed(()=>[o.wrapClass,a.e("wrap"),{[a.em("wrap","hidden-default")]:!o.native}]),b=vue.computed(()=>[a.e("view"),o.viewClass]),A=()=>{var M;y.value&&((M=p.value)==null||M.handleScroll(y.value),d=y.value.scrollTop,f=y.value.scrollLeft,n("scroll",{scrollTop:y.value.scrollTop,scrollLeft:y.value.scrollLeft}))};function w(M,L){isObject(M)?y.value.scrollTo(M):isNumber(M)&&isNumber(L)&&y.value.scrollTo(M,L)}const S=M=>{if(!isNumber(M)){debugWarn(COMPONENT_NAME$1,"value must be a number");return}y.value.scrollTop=M},T=M=>{if(!isNumber(M)){debugWarn(COMPONENT_NAME$1,"value must be a number");return}y.value.scrollLeft=M},x=()=>{var M;(M=p.value)==null||M.update()};return vue.watch(()=>o.noresize,M=>{M?(u==null||u(),c==null||c()):({stop:u}=useResizeObserver(g,x),c=useEventListener("resize",x))},{immediate:!0}),vue.watch(()=>[o.maxHeight,o.height],()=>{o.native||vue.nextTick(()=>{var M;x(),y.value&&((M=p.value)==null||M.handleScroll(y.value))})}),vue.provide(scrollbarContextKey,vue.reactive({scrollbarElement:h,wrapElement:y})),vue.onActivated(()=>{y.value.scrollTop=d,y.value.scrollLeft=f}),vue.onMounted(()=>{o.native||vue.nextTick(()=>{x()})}),vue.onUpdated(()=>x()),r({wrapRef:y,update:x,scrollTo:w,setScrollTop:S,setScrollLeft:T,handleScroll:A}),(M,L)=>(vue.openBlock(),vue.createElementBlock("div",{ref_key:"scrollbarRef",ref:h,class:vue.normalizeClass(vue.unref(a).b())},[vue.createElementVNode("div",{ref_key:"wrapRef",ref:y,class:vue.normalizeClass(vue.unref(_)),style:vue.normalizeStyle(vue.unref(v)),onScroll:A},[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(M.tag),{id:M.id,ref_key:"resizeRef",ref:g,class:vue.normalizeClass(vue.unref(b)),style:vue.normalizeStyle(M.viewStyle),role:M.role,"aria-label":M.ariaLabel,"aria-orientation":M.ariaOrientation},{default:vue.withCtx(()=>[vue.renderSlot(M.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),M.native?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(Bar,{key:0,ref_key:"barRef",ref:p,always:M.always,"min-size":M.minSize},null,8,["always","min-size"]))],2))}});var Scrollbar=_export_sfc(_sfc_main$m,[["__file","scrollbar.vue"]]);const ElScrollbar=withInstall(Scrollbar),POPPER_INJECTION_KEY=Symbol("popper"),POPPER_CONTENT_INJECTION_KEY=Symbol("popperContent"),roleTypes=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],popperProps=buildProps({role:{type:String,values:roleTypes,default:"tooltip"}}),__default__$7=vue.defineComponent({name:"ElPopper",inheritAttrs:!1}),_sfc_main$l=vue.defineComponent({...__default__$7,props:popperProps,setup(i,{expose:r}){const n=i,o=vue.ref(),a=vue.ref(),u=vue.ref(),c=vue.ref(),d=vue.computed(()=>n.role),f={triggerRef:o,popperInstanceRef:a,contentRef:u,referenceRef:c,role:d};return r(f),vue.provide(POPPER_INJECTION_KEY,f),(h,y)=>vue.renderSlot(h.$slots,"default")}});var Popper=_export_sfc(_sfc_main$l,[["__file","popper.vue"]]);const popperArrowProps=buildProps({arrowOffset:{type:Number,default:5}}),__default__$6=vue.defineComponent({name:"ElPopperArrow",inheritAttrs:!1}),_sfc_main$k=vue.defineComponent({...__default__$6,props:popperArrowProps,setup(i,{expose:r}){const n=i,o=useNamespace("popper"),{arrowOffset:a,arrowRef:u,arrowStyle:c}=vue.inject(POPPER_CONTENT_INJECTION_KEY,void 0);return vue.watch(()=>n.arrowOffset,d=>{a.value=d}),vue.onBeforeUnmount(()=>{u.value=void 0}),r({arrowRef:u}),(d,f)=>(vue.openBlock(),vue.createElementBlock("span",{ref_key:"arrowRef",ref:u,class:vue.normalizeClass(vue.unref(o).e("arrow")),style:vue.normalizeStyle(vue.unref(c)),"data-popper-arrow":""},null,6))}});var ElPopperArrow=_export_sfc(_sfc_main$k,[["__file","arrow.vue"]]);const NAME="ElOnlyChild",OnlyChild=vue.defineComponent({name:NAME,setup(i,{slots:r,attrs:n}){var o;const a=vue.inject(FORWARD_REF_INJECTION_KEY),u=useForwardRefDirective((o=a==null?void 0:a.setForwardRef)!=null?o:NOOP);return()=>{var c;const d=(c=r.default)==null?void 0:c.call(r,n);if(!d)return null;if(d.length>1)return debugWarn(NAME,"requires exact only one valid child."),null;const f=findFirstLegitChild(d);return f?vue.withDirectives(vue.cloneVNode(f,n),[[u]]):(debugWarn(NAME,"no valid child node found"),null)}}});function findFirstLegitChild(i){if(!i)return null;const r=i;for(const n of r){if(isObject(n))switch(n.type){case vue.Comment:continue;case vue.Text:case"svg":return wrapTextContent(n);case vue.Fragment:return findFirstLegitChild(n.children);default:return n}return wrapTextContent(n)}return null}function wrapTextContent(i){const r=useNamespace("only-child");return vue.createVNode("span",{class:r.e("content")},[i])}const popperTriggerProps=buildProps({virtualRef:{type:definePropType(Object)},virtualTriggering:Boolean,onMouseenter:{type:definePropType(Function)},onMouseleave:{type:definePropType(Function)},onClick:{type:definePropType(Function)},onKeydown:{type:definePropType(Function)},onFocus:{type:definePropType(Function)},onBlur:{type:definePropType(Function)},onContextmenu:{type:definePropType(Function)},id:String,open:Boolean}),__default__$5=vue.defineComponent({name:"ElPopperTrigger",inheritAttrs:!1}),_sfc_main$j=vue.defineComponent({...__default__$5,props:popperTriggerProps,setup(i,{expose:r}){const n=i,{role:o,triggerRef:a}=vue.inject(POPPER_INJECTION_KEY,void 0);useForwardRef(a);const u=vue.computed(()=>d.value?n.id:void 0),c=vue.computed(()=>{if(o&&o.value==="tooltip")return n.open&&n.id?n.id:void 0}),d=vue.computed(()=>{if(o&&o.value!=="tooltip")return o.value}),f=vue.computed(()=>d.value?`${n.open}`:void 0);let h;const y=["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"];return vue.onMounted(()=>{vue.watch(()=>n.virtualRef,g=>{g&&(a.value=unrefElement(g))},{immediate:!0}),vue.watch(a,(g,p)=>{h==null||h(),h=void 0,isElement(g)&&(y.forEach(v=>{var _;const b=n[v];b&&(g.addEventListener(v.slice(2).toLowerCase(),b),(_=p==null?void 0:p.removeEventListener)==null||_.call(p,v.slice(2).toLowerCase(),b))}),h=vue.watch([u,c,d,f],v=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((_,b)=>{lodashEs.isNil(v[b])?g.removeAttribute(_):g.setAttribute(_,v[b])})},{immediate:!0})),isElement(p)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(v=>p.removeAttribute(v))},{immediate:!0})}),vue.onBeforeUnmount(()=>{if(h==null||h(),h=void 0,a.value&&isElement(a.value)){const g=a.value;y.forEach(p=>{const v=n[p];v&&g.removeEventListener(p.slice(2).toLowerCase(),v)}),a.value=void 0}}),r({triggerRef:a}),(g,p)=>g.virtualTriggering?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createBlock(vue.unref(OnlyChild),vue.mergeProps({key:0},g.$attrs,{"aria-controls":vue.unref(u),"aria-describedby":vue.unref(c),"aria-expanded":vue.unref(f),"aria-haspopup":vue.unref(d)}),{default:vue.withCtx(()=>[vue.renderSlot(g.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var ElPopperTrigger=_export_sfc(_sfc_main$j,[["__file","trigger.vue"]]);const FOCUS_AFTER_TRAPPED="focus-trap.focus-after-trapped",FOCUS_AFTER_RELEASED="focus-trap.focus-after-released",FOCUSOUT_PREVENTED="focus-trap.focusout-prevented",FOCUS_AFTER_TRAPPED_OPTS={cancelable:!0,bubbles:!1},FOCUSOUT_PREVENTED_OPTS={cancelable:!0,bubbles:!1},ON_TRAP_FOCUS_EVT="focusAfterTrapped",ON_RELEASE_FOCUS_EVT="focusAfterReleased",FOCUS_TRAP_INJECTION_KEY=Symbol("elFocusTrap"),focusReason=vue.ref(),lastUserFocusTimestamp=vue.ref(0),lastAutomatedFocusTimestamp=vue.ref(0);let focusReasonUserCount=0;const obtainAllFocusableElements=i=>{const r=[],n=document.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0||o===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)r.push(n.currentNode);return r},getVisibleElement=(i,r)=>{for(const n of i)if(!isHidden(n,r))return n},isHidden=(i,r)=>{if(process.env.NODE_ENV==="test")return!1;if(getComputedStyle(i).visibility==="hidden")return!0;for(;i;){if(r&&i===r)return!1;if(getComputedStyle(i).display==="none")return!0;i=i.parentElement}return!1},getEdges=i=>{const r=obtainAllFocusableElements(i),n=getVisibleElement(r,i),o=getVisibleElement(r.reverse(),i);return[n,o]},isSelectable=i=>i instanceof HTMLInputElement&&"select"in i,tryFocus=(i,r)=>{if(i&&i.focus){const n=document.activeElement;i.focus({preventScroll:!0}),lastAutomatedFocusTimestamp.value=window.performance.now(),i!==n&&isSelectable(i)&&r&&i.select()}};function removeFromStack(i,r){const n=[...i],o=i.indexOf(r);return o!==-1&&n.splice(o,1),n}const createFocusableStack=()=>{let i=[];return{push:o=>{const a=i[0];a&&o!==a&&a.pause(),i=removeFromStack(i,o),i.unshift(o)},remove:o=>{var a,u;i=removeFromStack(i,o),(u=(a=i[0])==null?void 0:a.resume)==null||u.call(a)}}},focusFirstDescendant=(i,r=!1)=>{const n=document.activeElement;for(const o of i)if(tryFocus(o,r),document.activeElement!==n)return},focusableStack=createFocusableStack(),isFocusCausedByUserEvent=()=>lastUserFocusTimestamp.value>lastAutomatedFocusTimestamp.value,notifyFocusReasonPointer=()=>{focusReason.value="pointer",lastUserFocusTimestamp.value=window.performance.now()},notifyFocusReasonKeydown=()=>{focusReason.value="keyboard",lastUserFocusTimestamp.value=window.performance.now()},useFocusReason=()=>(vue.onMounted(()=>{focusReasonUserCount===0&&(document.addEventListener("mousedown",notifyFocusReasonPointer),document.addEventListener("touchstart",notifyFocusReasonPointer),document.addEventListener("keydown",notifyFocusReasonKeydown)),focusReasonUserCount++}),vue.onBeforeUnmount(()=>{focusReasonUserCount--,focusReasonUserCount<=0&&(document.removeEventListener("mousedown",notifyFocusReasonPointer),document.removeEventListener("touchstart",notifyFocusReasonPointer),document.removeEventListener("keydown",notifyFocusReasonKeydown))}),{focusReason,lastUserFocusTimestamp,lastAutomatedFocusTimestamp}),createFocusOutPreventedEvent=i=>new CustomEvent(FOCUSOUT_PREVENTED,{...FOCUSOUT_PREVENTED_OPTS,detail:i}),_sfc_main$i=vue.defineComponent({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[ON_TRAP_FOCUS_EVT,ON_RELEASE_FOCUS_EVT,"focusin","focusout","focusout-prevented","release-requested"],setup(i,{emit:r}){const n=vue.ref();let o,a;const{focusReason:u}=useFocusReason();useEscapeKeydown(_=>{i.trapped&&!c.paused&&r("release-requested",_)});const c={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},d=_=>{if(!i.loop&&!i.trapped||c.paused)return;const{key:b,altKey:A,ctrlKey:w,metaKey:S,currentTarget:T,shiftKey:x}=_,{loop:M}=i,L=b===EVENT_CODE.tab&&!A&&!w&&!S,k=document.activeElement;if(L&&k){const ie=T,[$,z]=getEdges(ie);if($&&z){if(!x&&k===z){const re=createFocusOutPreventedEvent({focusReason:u.value});r("focusout-prevented",re),re.defaultPrevented||(_.preventDefault(),M&&tryFocus($,!0))}else if(x&&[$,ie].includes(k)){const re=createFocusOutPreventedEvent({focusReason:u.value});r("focusout-prevented",re),re.defaultPrevented||(_.preventDefault(),M&&tryFocus(z,!0))}}else if(k===ie){const re=createFocusOutPreventedEvent({focusReason:u.value});r("focusout-prevented",re),re.defaultPrevented||_.preventDefault()}}};vue.provide(FOCUS_TRAP_INJECTION_KEY,{focusTrapRef:n,onKeydown:d}),vue.watch(()=>i.focusTrapEl,_=>{_&&(n.value=_)},{immediate:!0}),vue.watch([n],([_],[b])=>{_&&(_.addEventListener("keydown",d),_.addEventListener("focusin",y),_.addEventListener("focusout",g)),b&&(b.removeEventListener("keydown",d),b.removeEventListener("focusin",y),b.removeEventListener("focusout",g))});const f=_=>{r(ON_TRAP_FOCUS_EVT,_)},h=_=>r(ON_RELEASE_FOCUS_EVT,_),y=_=>{const b=vue.unref(n);if(!b)return;const A=_.target,w=_.relatedTarget,S=A&&b.contains(A);i.trapped||w&&b.contains(w)||(o=w),S&&r("focusin",_),!c.paused&&i.trapped&&(S?a=A:tryFocus(a,!0))},g=_=>{const b=vue.unref(n);if(!(c.paused||!b))if(i.trapped){const A=_.relatedTarget;!lodashEs.isNil(A)&&!b.contains(A)&&setTimeout(()=>{if(!c.paused&&i.trapped){const w=createFocusOutPreventedEvent({focusReason:u.value});r("focusout-prevented",w),w.defaultPrevented||tryFocus(a,!0)}},0)}else{const A=_.target;A&&b.contains(A)||r("focusout",_)}};async function p(){await vue.nextTick();const _=vue.unref(n);if(_){focusableStack.push(c);const b=_.contains(document.activeElement)?o:document.activeElement;if(o=b,!_.contains(b)){const w=new Event(FOCUS_AFTER_TRAPPED,FOCUS_AFTER_TRAPPED_OPTS);_.addEventListener(FOCUS_AFTER_TRAPPED,f),_.dispatchEvent(w),w.defaultPrevented||vue.nextTick(()=>{let S=i.focusStartEl;isString(S)||(tryFocus(S),document.activeElement!==S&&(S="first")),S==="first"&&focusFirstDescendant(obtainAllFocusableElements(_),!0),(document.activeElement===b||S==="container")&&tryFocus(_)})}}}function v(){const _=vue.unref(n);if(_){_.removeEventListener(FOCUS_AFTER_TRAPPED,f);const b=new CustomEvent(FOCUS_AFTER_RELEASED,{...FOCUS_AFTER_TRAPPED_OPTS,detail:{focusReason:u.value}});_.addEventListener(FOCUS_AFTER_RELEASED,h),_.dispatchEvent(b),!b.defaultPrevented&&(u.value=="keyboard"||!isFocusCausedByUserEvent()||_.contains(document.activeElement))&&tryFocus(o??document.body),_.removeEventListener(FOCUS_AFTER_RELEASED,h),focusableStack.remove(c)}}return vue.onMounted(()=>{i.trapped&&p(),vue.watch(()=>i.trapped,_=>{_?p():v()})}),vue.onBeforeUnmount(()=>{i.trapped&&v(),n.value&&(n.value.removeEventListener("keydown",d),n.value.removeEventListener("focusin",y),n.value.removeEventListener("focusout",g),n.value=void 0)}),{onKeydown:d}}});function _sfc_render$4(i,r,n,o,a,u){return vue.renderSlot(i.$slots,"default",{handleKeydown:i.onKeydown})}var ElFocusTrap=_export_sfc(_sfc_main$i,[["render",_sfc_render$4],["__file","focus-trap.vue"]]);const POSITIONING_STRATEGIES=["fixed","absolute"],popperCoreConfigProps=buildProps({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:definePropType(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ee,default:"bottom"},popperOptions:{type:definePropType(Object),default:()=>({})},strategy:{type:String,values:POSITIONING_STRATEGIES,default:"absolute"}}),popperContentProps=buildProps({...popperCoreConfigProps,id:String,style:{type:definePropType([String,Array,Object])},className:{type:definePropType([String,Array,Object])},effect:{type:definePropType(String),default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:definePropType([String,Array,Object])},popperStyle:{type:definePropType([String,Array,Object])},referenceEl:{type:definePropType(Object)},triggerTargetEl:{type:definePropType(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},virtualTriggering:Boolean,zIndex:Number,...useAriaProps(["ariaLabel"])}),popperContentEmits={mouseenter:i=>i instanceof MouseEvent,mouseleave:i=>i instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},buildPopperOptions=(i,r=[])=>{const{placement:n,strategy:o,popperOptions:a}=i,u={placement:n,strategy:o,...a,modifiers:[...genModifiers(i),...r]};return deriveExtraModifiers(u,a==null?void 0:a.modifiers),u},unwrapMeasurableEl=i=>{if(isClient)return unrefElement(i)};function genModifiers(i){const{offset:r,gpuAcceleration:n,fallbackPlacements:o}=i;return[{name:"offset",options:{offset:[0,r??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:o}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function deriveExtraModifiers(i,r){r&&(i.modifiers=[...i.modifiers,...r??[]])}const DEFAULT_ARROW_OFFSET=0,usePopperContent=i=>{const{popperInstanceRef:r,contentRef:n,triggerRef:o,role:a}=vue.inject(POPPER_INJECTION_KEY,void 0),u=vue.ref(),c=vue.ref(),d=vue.computed(()=>({name:"eventListeners",enabled:!!i.visible})),f=vue.computed(()=>{var w;const S=vue.unref(u),T=(w=vue.unref(c))!=null?w:DEFAULT_ARROW_OFFSET;return{name:"arrow",enabled:!lodashEs.isUndefined(S),options:{element:S,padding:T}}}),h=vue.computed(()=>({onFirstUpdate:()=>{_()},...buildPopperOptions(i,[vue.unref(f),vue.unref(d)])})),y=vue.computed(()=>unwrapMeasurableEl(i.referenceEl)||vue.unref(o)),{attributes:g,state:p,styles:v,update:_,forceUpdate:b,instanceRef:A}=usePopper(y,n,h);return vue.watch(A,w=>r.value=w),vue.onMounted(()=>{vue.watch(()=>{var w;return(w=vue.unref(y))==null?void 0:w.getBoundingClientRect()},()=>{_()})}),{attributes:g,arrowRef:u,contentRef:n,instanceRef:A,state:p,styles:v,role:a,forceUpdate:b,update:_}},usePopperContentDOM=(i,{attributes:r,styles:n,role:o})=>{const{nextZIndex:a}=useZIndex(),u=useNamespace("popper"),c=vue.computed(()=>vue.unref(r).popper),d=vue.ref(isNumber(i.zIndex)?i.zIndex:a()),f=vue.computed(()=>[u.b(),u.is("pure",i.pure),u.is(i.effect),i.popperClass]),h=vue.computed(()=>[{zIndex:vue.unref(d)},vue.unref(n).popper,i.popperStyle||{}]),y=vue.computed(()=>o.value==="dialog"?"false":void 0),g=vue.computed(()=>vue.unref(n).arrow||{});return{ariaModal:y,arrowStyle:g,contentAttrs:c,contentClass:f,contentStyle:h,contentZIndex:d,updateZIndex:()=>{d.value=isNumber(i.zIndex)?i.zIndex:a()}}},usePopperContentFocusTrap=(i,r)=>{const n=vue.ref(!1),o=vue.ref();return{focusStartRef:o,trapped:n,onFocusAfterReleased:h=>{var y;((y=h.detail)==null?void 0:y.focusReason)!=="pointer"&&(o.value="first",r("blur"))},onFocusAfterTrapped:()=>{r("focus")},onFocusInTrap:h=>{i.visible&&!n.value&&(h.target&&(o.value=h.target),n.value=!0)},onFocusoutPrevented:h=>{i.trapping||(h.detail.focusReason==="pointer"&&h.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,r("close")}}},__default__$4=vue.defineComponent({name:"ElPopperContent"}),_sfc_main$h=vue.defineComponent({...__default__$4,props:popperContentProps,emits:popperContentEmits,setup(i,{expose:r,emit:n}){const o=i,{focusStartRef:a,trapped:u,onFocusAfterReleased:c,onFocusAfterTrapped:d,onFocusInTrap:f,onFocusoutPrevented:h,onReleaseRequested:y}=usePopperContentFocusTrap(o,n),{attributes:g,arrowRef:p,contentRef:v,styles:_,instanceRef:b,role:A,update:w}=usePopperContent(o),{ariaModal:S,arrowStyle:T,contentAttrs:x,contentClass:M,contentStyle:L,updateZIndex:k}=usePopperContentDOM(o,{styles:_,attributes:g,role:A}),ie=vue.inject(formItemContextKey,void 0),$=vue.ref();vue.provide(POPPER_CONTENT_INJECTION_KEY,{arrowStyle:T,arrowRef:p,arrowOffset:$}),ie&&vue.provide(formItemContextKey,{...ie,addInputId:NOOP,removeInputId:NOOP});let z;const V=(D=!0)=>{w(),D&&k()},re=()=>{V(!1),o.visible&&o.focusOnShow?u.value=!0:o.visible===!1&&(u.value=!1)};return vue.onMounted(()=>{vue.watch(()=>o.triggerTargetEl,(D,Ce)=>{z==null||z(),z=void 0;const le=vue.unref(D||v.value),de=vue.unref(Ce||v.value);isElement(le)&&(z=vue.watch([A,()=>o.ariaLabel,S,()=>o.id],Fe=>{["role","aria-label","aria-modal","id"].forEach((Ie,At)=>{lodashEs.isNil(Fe[At])?le.removeAttribute(Ie):le.setAttribute(Ie,Fe[At])})},{immediate:!0})),de!==le&&isElement(de)&&["role","aria-label","aria-modal","id"].forEach(Fe=>{de.removeAttribute(Fe)})},{immediate:!0}),vue.watch(()=>o.visible,re,{immediate:!0})}),vue.onBeforeUnmount(()=>{z==null||z(),z=void 0}),r({popperContentRef:v,popperInstanceRef:b,updatePopper:V,contentStyle:L}),(D,Ce)=>(vue.openBlock(),vue.createElementBlock("div",vue.mergeProps({ref_key:"contentRef",ref:v},vue.unref(x),{style:vue.unref(L),class:vue.unref(M),tabindex:"-1",onMouseenter:le=>D.$emit("mouseenter",le),onMouseleave:le=>D.$emit("mouseleave",le)}),[vue.createVNode(vue.unref(ElFocusTrap),{trapped:vue.unref(u),"trap-on-focus-in":!0,"focus-trap-el":vue.unref(v),"focus-start-el":vue.unref(a),onFocusAfterTrapped:vue.unref(d),onFocusAfterReleased:vue.unref(c),onFocusin:vue.unref(f),onFocusoutPrevented:vue.unref(h),onReleaseRequested:vue.unref(y)},{default:vue.withCtx(()=>[vue.renderSlot(D.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16,["onMouseenter","onMouseleave"]))}});var ElPopperContent=_export_sfc(_sfc_main$h,[["__file","content.vue"]]);const ElPopper=withInstall(Popper),TOOLTIP_INJECTION_KEY=Symbol("elTooltip"),useTooltipContentProps=buildProps({...useDelayedToggleProps,...popperContentProps,appendTo:{type:definePropType([String,Object])},content:{type:String,default:""},rawContent:Boolean,persistent:Boolean,visible:{type:definePropType(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean,...useAriaProps(["ariaLabel"])}),useTooltipTriggerProps=buildProps({...popperTriggerProps,disabled:Boolean,trigger:{type:definePropType([String,Array]),default:"hover"},triggerKeys:{type:definePropType(Array),default:()=>[EVENT_CODE.enter,EVENT_CODE.space]}}),{useModelToggleProps:useTooltipModelToggleProps,useModelToggleEmits:useTooltipModelToggleEmits,useModelToggle:useTooltipModelToggle}=createModelToggleComposable("visible"),useTooltipProps=buildProps({...popperProps,...useTooltipModelToggleProps,...useTooltipContentProps,...useTooltipTriggerProps,...popperArrowProps,showArrow:{type:Boolean,default:!0}}),tooltipEmits=[...useTooltipModelToggleEmits,"before-show","before-hide","show","hide","open","close"],isTriggerType=(i,r)=>isArray(i)?i.includes(r):i===r,whenTrigger=(i,r,n)=>o=>{isTriggerType(vue.unref(i),r)&&n(o)},__default__$3=vue.defineComponent({name:"ElTooltipTrigger"}),_sfc_main$g=vue.defineComponent({...__default__$3,props:useTooltipTriggerProps,setup(i,{expose:r}){const n=i,o=useNamespace("tooltip"),{controlled:a,id:u,open:c,onOpen:d,onClose:f,onToggle:h}=vue.inject(TOOLTIP_INJECTION_KEY,void 0),y=vue.ref(null),g=()=>{if(vue.unref(a)||n.disabled)return!0},p=vue.toRef(n,"trigger"),v=composeEventHandlers(g,whenTrigger(p,"hover",d)),_=composeEventHandlers(g,whenTrigger(p,"hover",f)),b=composeEventHandlers(g,whenTrigger(p,"click",x=>{x.button===0&&h(x)})),A=composeEventHandlers(g,whenTrigger(p,"focus",d)),w=composeEventHandlers(g,whenTrigger(p,"focus",f)),S=composeEventHandlers(g,whenTrigger(p,"contextmenu",x=>{x.preventDefault(),h(x)})),T=composeEventHandlers(g,x=>{const{code:M}=x;n.triggerKeys.includes(M)&&(x.preventDefault(),h(x))});return r({triggerRef:y}),(x,M)=>(vue.openBlock(),vue.createBlock(vue.unref(ElPopperTrigger),{id:vue.unref(u),"virtual-ref":x.virtualRef,open:vue.unref(c),"virtual-triggering":x.virtualTriggering,class:vue.normalizeClass(vue.unref(o).e("trigger")),onBlur:vue.unref(w),onClick:vue.unref(b),onContextmenu:vue.unref(S),onFocus:vue.unref(A),onMouseenter:vue.unref(v),onMouseleave:vue.unref(_),onKeydown:vue.unref(T)},{default:vue.withCtx(()=>[vue.renderSlot(x.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var ElTooltipTrigger=_export_sfc(_sfc_main$g,[["__file","trigger.vue"]]);const teleportProps=buildProps({to:{type:definePropType([String,Object]),required:!0},disabled:Boolean}),_sfc_main$f=vue.defineComponent({__name:"teleport",props:teleportProps,setup(i){return(r,n)=>r.disabled?vue.renderSlot(r.$slots,"default",{key:0}):(vue.openBlock(),vue.createBlock(vue.Teleport,{key:1,to:r.to},[vue.renderSlot(r.$slots,"default")],8,["to"]))}});var Teleport=_export_sfc(_sfc_main$f,[["__file","teleport.vue"]]);const ElTeleport=withInstall(Teleport),__default__$2=vue.defineComponent({name:"ElTooltipContent",inheritAttrs:!1}),_sfc_main$e=vue.defineComponent({...__default__$2,props:useTooltipContentProps,setup(i,{expose:r}){const n=i,{selector:o}=usePopperContainerId(),a=useNamespace("tooltip"),u=vue.ref(null);let c;const{controlled:d,id:f,open:h,trigger:y,onClose:g,onOpen:p,onShow:v,onHide:_,onBeforeShow:b,onBeforeHide:A}=vue.inject(TOOLTIP_INJECTION_KEY,void 0),w=vue.computed(()=>n.transition||`${a.namespace.value}-fade-in-linear`),S=vue.computed(()=>process.env.NODE_ENV==="test"?!0:n.persistent);vue.onBeforeUnmount(()=>{c==null||c()});const T=vue.computed(()=>vue.unref(S)?!0:vue.unref(h)),x=vue.computed(()=>n.disabled?!1:vue.unref(h)),M=vue.computed(()=>n.appendTo||o.value),L=vue.computed(()=>{var de;return(de=n.style)!=null?de:{}}),k=vue.computed(()=>!vue.unref(h)),ie=()=>{_()},$=()=>{if(vue.unref(d))return!0},z=composeEventHandlers($,()=>{n.enterable&&vue.unref(y)==="hover"&&p()}),V=composeEventHandlers($,()=>{vue.unref(y)==="hover"&&g()}),re=()=>{var de,Fe;(Fe=(de=u.value)==null?void 0:de.updatePopper)==null||Fe.call(de),b==null||b()},D=()=>{A==null||A()},Ce=()=>{v(),c=onClickOutside(vue.computed(()=>{var de;return(de=u.value)==null?void 0:de.popperContentRef}),()=>{if(vue.unref(d))return;vue.unref(y)!=="hover"&&g()})},le=()=>{n.virtualTriggering||g()};return vue.watch(()=>vue.unref(h),de=>{de||c==null||c()},{flush:"post"}),vue.watch(()=>n.content,()=>{var de,Fe;(Fe=(de=u.value)==null?void 0:de.updatePopper)==null||Fe.call(de)}),r({contentRef:u}),(de,Fe)=>(vue.openBlock(),vue.createBlock(vue.unref(ElTeleport),{disabled:!de.teleported,to:vue.unref(M)},{default:vue.withCtx(()=>[vue.createVNode(vue.Transition,{name:vue.unref(w),onAfterLeave:ie,onBeforeEnter:re,onAfterEnter:Ce,onBeforeLeave:D},{default:vue.withCtx(()=>[vue.unref(T)?vue.withDirectives((vue.openBlock(),vue.createBlock(vue.unref(ElPopperContent),vue.mergeProps({key:0,id:vue.unref(f),ref_key:"contentRef",ref:u},de.$attrs,{"aria-label":de.ariaLabel,"aria-hidden":vue.unref(k),"boundaries-padding":de.boundariesPadding,"fallback-placements":de.fallbackPlacements,"gpu-acceleration":de.gpuAcceleration,offset:de.offset,placement:de.placement,"popper-options":de.popperOptions,strategy:de.strategy,effect:de.effect,enterable:de.enterable,pure:de.pure,"popper-class":de.popperClass,"popper-style":[de.popperStyle,vue.unref(L)],"reference-el":de.referenceEl,"trigger-target-el":de.triggerTargetEl,visible:vue.unref(x),"z-index":de.zIndex,onMouseenter:vue.unref(z),onMouseleave:vue.unref(V),onBlur:le,onClose:vue.unref(g)}),{default:vue.withCtx(()=>[vue.renderSlot(de.$slots,"default")]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[vue.vShow,vue.unref(x)]]):vue.createCommentVNode("v-if",!0)]),_:3},8,["name"])]),_:3},8,["disabled","to"]))}});var ElTooltipContent=_export_sfc(_sfc_main$e,[["__file","content.vue"]]);const __default__$1=vue.defineComponent({name:"ElTooltip"}),_sfc_main$d=vue.defineComponent({...__default__$1,props:useTooltipProps,emits:tooltipEmits,setup(i,{expose:r,emit:n}){const o=i;usePopperContainer();const a=useId(),u=vue.ref(),c=vue.ref(),d=()=>{var w;const S=vue.unref(u);S&&((w=S.popperInstanceRef)==null||w.update())},f=vue.ref(!1),h=vue.ref(),{show:y,hide:g,hasUpdateHandler:p}=useTooltipModelToggle({indicator:f,toggleReason:h}),{onOpen:v,onClose:_}=useDelayedToggle({showAfter:vue.toRef(o,"showAfter"),hideAfter:vue.toRef(o,"hideAfter"),autoClose:vue.toRef(o,"autoClose"),open:y,close:g}),b=vue.computed(()=>isBoolean(o.visible)&&!p.value);vue.provide(TOOLTIP_INJECTION_KEY,{controlled:b,id:a,open:vue.readonly(f),trigger:vue.toRef(o,"trigger"),onOpen:w=>{v(w)},onClose:w=>{_(w)},onToggle:w=>{vue.unref(f)?_(w):v(w)},onShow:()=>{n("show",h.value)},onHide:()=>{n("hide",h.value)},onBeforeShow:()=>{n("before-show",h.value)},onBeforeHide:()=>{n("before-hide",h.value)},updatePopper:d}),vue.watch(()=>o.disabled,w=>{w&&f.value&&(f.value=!1)});const A=w=>{var S,T;const x=(T=(S=c.value)==null?void 0:S.contentRef)==null?void 0:T.popperContentRef,M=(w==null?void 0:w.relatedTarget)||document.activeElement;return x&&x.contains(M)};return vue.onDeactivated(()=>f.value&&g()),r({popperRef:u,contentRef:c,isFocusInsideContent:A,updatePopper:d,onOpen:v,onClose:_,hide:g}),(w,S)=>(vue.openBlock(),vue.createBlock(vue.unref(ElPopper),{ref_key:"popperRef",ref:u,role:w.role},{default:vue.withCtx(()=>[vue.createVNode(ElTooltipTrigger,{disabled:w.disabled,trigger:w.trigger,"trigger-keys":w.triggerKeys,"virtual-ref":w.virtualRef,"virtual-triggering":w.virtualTriggering},{default:vue.withCtx(()=>[w.$slots.default?vue.renderSlot(w.$slots,"default",{key:0}):vue.createCommentVNode("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),vue.createVNode(ElTooltipContent,{ref_key:"contentRef",ref:c,"aria-label":w.ariaLabel,"boundaries-padding":w.boundariesPadding,content:w.content,disabled:w.disabled,effect:w.effect,enterable:w.enterable,"fallback-placements":w.fallbackPlacements,"hide-after":w.hideAfter,"gpu-acceleration":w.gpuAcceleration,offset:w.offset,persistent:w.persistent,"popper-class":w.popperClass,"popper-style":w.popperStyle,placement:w.placement,"popper-options":w.popperOptions,pure:w.pure,"raw-content":w.rawContent,"reference-el":w.referenceEl,"trigger-target-el":w.triggerTargetEl,"show-after":w.showAfter,strategy:w.strategy,teleported:w.teleported,transition:w.transition,"virtual-triggering":w.virtualTriggering,"z-index":w.zIndex,"append-to":w.appendTo},{default:vue.withCtx(()=>[vue.renderSlot(w.$slots,"content",{},()=>[w.rawContent?(vue.openBlock(),vue.createElementBlock("span",{key:0,innerHTML:w.content},null,8,["innerHTML"])):(vue.openBlock(),vue.createElementBlock("span",{key:1},vue.toDisplayString(w.content),1))]),w.showArrow?(vue.openBlock(),vue.createBlock(vue.unref(ElPopperArrow),{key:0,"arrow-offset":w.arrowOffset},null,8,["arrow-offset"])):vue.createCommentVNode("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var Tooltip=_export_sfc(_sfc_main$d,[["__file","tooltip.vue"]]);const ElTooltip=withInstall(Tooltip);var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};const nodeList=new Map;if(isClient){let i;document.addEventListener("mousedown",r=>i=r),document.addEventListener("mouseup",r=>{if(i){for(const n of nodeList.values())for(const{documentHandler:o}of n)o(r,i);i=void 0}})}function createDocumentHandler(i,r){let n=[];return Array.isArray(r.arg)?n=r.arg:isElement(r.arg)&&n.push(r.arg),function(o,a){const u=r.instance.popperRef,c=o.target,d=a==null?void 0:a.target,f=!r||!r.instance,h=!c||!d,y=i.contains(c)||i.contains(d),g=i===c,p=n.length&&n.some(_=>_==null?void 0:_.contains(c))||n.length&&n.includes(d),v=u&&(u.contains(c)||u.contains(d));f||h||y||g||p||v||r.value(o,a)}}const ClickOutside={beforeMount(i,r){nodeList.has(i)||nodeList.set(i,[]),nodeList.get(i).push({documentHandler:createDocumentHandler(i,r),bindingFn:r.value})},updated(i,r){nodeList.has(i)||nodeList.set(i,[]);const n=nodeList.get(i),o=n.findIndex(u=>u.bindingFn===r.oldValue),a={documentHandler:createDocumentHandler(i,r),bindingFn:r.value};o>=0?n.splice(o,1,a):n.push(a)},unmounted(i){nodeList.delete(i)}},tagProps=buildProps({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:componentSizes},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),tagEmits={close:i=>i instanceof MouseEvent,click:i=>i instanceof MouseEvent},__default__=vue.defineComponent({name:"ElTag"}),_sfc_main$c=vue.defineComponent({...__default__,props:tagProps,emits:tagEmits,setup(i,{emit:r}){const n=i,o=useFormSize(),a=useNamespace("tag"),u=vue.computed(()=>{const{type:f,hit:h,effect:y,closable:g,round:p}=n;return[a.b(),a.is("closable",g),a.m(f||"primary"),a.m(o.value),a.m(y),a.is("hit",h),a.is("round",p)]}),c=f=>{r("close",f)},d=f=>{r("click",f)};return(f,h)=>f.disableTransitions?(vue.openBlock(),vue.createElementBlock("span",{key:0,class:vue.normalizeClass(vue.unref(u)),style:vue.normalizeStyle({backgroundColor:f.color}),onClick:d},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(a).e("content"))},[vue.renderSlot(f.$slots,"default")],2),f.closable?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(a).e("close")),onClick:vue.withModifiers(c,["stop"])},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(close_default))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)],6)):(vue.openBlock(),vue.createBlock(vue.Transition,{key:1,name:`${vue.unref(a).namespace.value}-zoom-in-center`,appear:""},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(u)),style:vue.normalizeStyle({backgroundColor:f.color}),onClick:d},[vue.createElementVNode("span",{class:vue.normalizeClass(vue.unref(a).e("content"))},[vue.renderSlot(f.$slots,"default")],2),f.closable?(vue.openBlock(),vue.createBlock(vue.unref(ElIcon),{key:0,class:vue.normalizeClass(vue.unref(a).e("close")),onClick:vue.withModifiers(c,["stop"])},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(close_default))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0)],6)]),_:3},8,["name"]))}});var Tag=_export_sfc(_sfc_main$c,[["__file","tag.vue"]]);const ElTag=withInstall(Tag),selectGroupKey=Symbol("ElSelectGroup"),selectKey=Symbol("ElSelect");function useOption(i,r){const n=vue.inject(selectKey),o=vue.inject(selectGroupKey,{disabled:!1}),a=vue.computed(()=>y(lodashEs.castArray(n.props.modelValue),i.value)),u=vue.computed(()=>{var v;if(n.props.multiple){const _=lodashEs.castArray((v=n.props.modelValue)!=null?v:[]);return!a.value&&_.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),c=vue.computed(()=>i.label||(isObject(i.value)?"":i.value)),d=vue.computed(()=>i.value||i.label||""),f=vue.computed(()=>i.disabled||r.groupDisabled||u.value),h=vue.getCurrentInstance(),y=(v=[],_)=>{if(isObject(i.value)){const b=n.props.valueKey;return v&&v.some(A=>vue.toRaw(lodashEs.get(A,b))===lodashEs.get(_,b))}else return v&&v.includes(_)},g=()=>{!i.disabled&&!o.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(h.proxy))},p=v=>{const _=new RegExp(escapeStringRegexp(v),"i");r.visible=_.test(c.value)||i.created};return vue.watch(()=>c.value,()=>{!i.created&&!n.props.remote&&n.setSelected()}),vue.watch(()=>i.value,(v,_)=>{const{remote:b,valueKey:A}=n.props;if(v!==_&&(n.onOptionDestroy(_,h.proxy),n.onOptionCreate(h.proxy)),!i.created&&!b){if(A&&isObject(v)&&isObject(_)&&v[A]===_[A])return;n.setSelected()}}),vue.watch(()=>o.disabled,()=>{r.groupDisabled=o.disabled},{immediate:!0}),{select:n,currentLabel:c,currentValue:d,itemSelected:a,isDisabled:f,hoverItem:g,updateOption:p}}const _sfc_main$b=vue.defineComponent({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(i){const r=useNamespace("select"),n=useId(),o=vue.computed(()=>[r.be("dropdown","item"),r.is("disabled",vue.unref(d)),r.is("selected",vue.unref(c)),r.is("hovering",vue.unref(p))]),a=vue.reactive({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:u,itemSelected:c,isDisabled:d,select:f,hoverItem:h,updateOption:y}=useOption(i,a),{visible:g,hover:p}=vue.toRefs(a),v=vue.getCurrentInstance().proxy;f.onOptionCreate(v),vue.onBeforeUnmount(()=>{const b=v.value,{selected:A}=f.states,S=(f.props.multiple?A:[A]).some(T=>T.value===v.value);vue.nextTick(()=>{f.states.cachedOptions.get(b)===v&&!S&&f.states.cachedOptions.delete(b)}),f.onOptionDestroy(b,v)});function _(){d.value||f.handleOptionSelect(v)}return{ns:r,id:n,containerKls:o,currentLabel:u,itemSelected:c,isDisabled:d,select:f,hoverItem:h,updateOption:y,visible:g,hover:p,selectOptionClick:_,states:a}}});function _sfc_render$3(i,r,n,o,a,u){return vue.withDirectives((vue.openBlock(),vue.createElementBlock("li",{id:i.id,class:vue.normalizeClass(i.containerKls),role:"option","aria-disabled":i.isDisabled||void 0,"aria-selected":i.itemSelected,onMouseenter:i.hoverItem,onClick:vue.withModifiers(i.selectOptionClick,["stop"])},[vue.renderSlot(i.$slots,"default",{},()=>[vue.createElementVNode("span",null,vue.toDisplayString(i.currentLabel),1)])],42,["id","aria-disabled","aria-selected","onMouseenter","onClick"])),[[vue.vShow,i.visible]])}var Option=_export_sfc(_sfc_main$b,[["render",_sfc_render$3],["__file","option.vue"]]);const _sfc_main$a=vue.defineComponent({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const i=vue.inject(selectKey),r=useNamespace("select"),n=vue.computed(()=>i.props.popperClass),o=vue.computed(()=>i.props.multiple),a=vue.computed(()=>i.props.fitInputWidth),u=vue.ref("");function c(){var d;u.value=`${(d=i.selectRef)==null?void 0:d.offsetWidth}px`}return vue.onMounted(()=>{c(),useResizeObserver(i.selectRef,c)}),{ns:r,minWidth:u,popperClass:n,isMultiple:o,isFitInputWidth:a}}});function _sfc_render$2(i,r,n,o,a,u){return vue.openBlock(),vue.createElementBlock("div",{class:vue.normalizeClass([i.ns.b("dropdown"),i.ns.is("multiple",i.isMultiple),i.popperClass]),style:vue.normalizeStyle({[i.isFitInputWidth?"width":"minWidth"]:i.minWidth})},[i.$slots.header?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:vue.normalizeClass(i.ns.be("dropdown","header"))},[vue.renderSlot(i.$slots,"header")],2)):vue.createCommentVNode("v-if",!0),vue.renderSlot(i.$slots,"default"),i.$slots.footer?(vue.openBlock(),vue.createElementBlock("div",{key:1,class:vue.normalizeClass(i.ns.be("dropdown","footer"))},[vue.renderSlot(i.$slots,"footer")],2)):vue.createCommentVNode("v-if",!0)],6)}var ElSelectMenu=_export_sfc(_sfc_main$a,[["render",_sfc_render$2],["__file","select-dropdown.vue"]]);const MINIMUM_INPUT_WIDTH=11,useSelect=(i,r)=>{const{t:n}=useLocale(),o=useId(),a=useNamespace("select"),u=useNamespace("input"),c=vue.reactive({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:i.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),d=vue.ref(null),f=vue.ref(null),h=vue.ref(null),y=vue.ref(null),g=vue.ref(null),p=vue.ref(null),v=vue.ref(null),_=vue.ref(null),b=vue.ref(null),A=vue.ref(null),w=vue.ref(null),S=vue.ref(null),{isComposing:T,handleCompositionStart:x,handleCompositionUpdate:M,handleCompositionEnd:L}=useComposition({afterComposition:bn=>xn(bn)}),{wrapperRef:k,isFocused:ie,handleBlur:$}=useFocusController(g,{afterFocus(){i.automaticDropdown&&!z.value&&(z.value=!0,c.menuVisibleOnFocus=!0)},beforeBlur(bn){var En,Rn;return((En=h.value)==null?void 0:En.isFocusInsideContent(bn))||((Rn=y.value)==null?void 0:Rn.isFocusInsideContent(bn))},afterBlur(){z.value=!1,c.menuVisibleOnFocus=!1}}),z=vue.ref(!1),V=vue.ref(),{form:re,formItem:D}=useFormItem(),{inputId:Ce}=useFormItemInputId(i,{formItemContext:D}),{valueOnClear:le,isEmptyValue:de}=useEmptyValues(i),Fe=vue.computed(()=>i.disabled||(re==null?void 0:re.disabled)),Ie=vue.computed(()=>isArray(i.modelValue)?i.modelValue.length>0:!de(i.modelValue)),At=vue.computed(()=>i.clearable&&!Fe.value&&c.inputHovering&&Ie.value),_e=vue.computed(()=>i.remote&&i.filterable&&!i.remoteShowSuffix?"":i.suffixIcon),qe=vue.computed(()=>a.is("reverse",_e.value&&z.value)),In=vue.computed(()=>(D==null?void 0:D.validateState)||""),vn=vue.computed(()=>ValidateComponentsMap[In.value]),Pt=vue.computed(()=>i.remote?300:0),he=vue.computed(()=>i.loading?i.loadingText||n("el.select.loading"):i.remote&&!c.inputValue&&c.options.size===0?!1:i.filterable&&c.inputValue&&c.options.size>0&&Ue.value===0?i.noMatchText||n("el.select.noMatch"):c.options.size===0?i.noDataText||n("el.select.noData"):null),Ue=vue.computed(()=>Dt.value.filter(bn=>bn.visible).length),Dt=vue.computed(()=>{const bn=Array.from(c.options.values()),En=[];return c.optionValues.forEach(Rn=>{const Bn=bn.findIndex(Dn=>Dn.value===Rn);Bn>-1&&En.push(bn[Bn])}),En.length>=bn.length?En:bn}),jt=vue.computed(()=>Array.from(c.cachedOptions.values())),Et=vue.computed(()=>{const bn=Dt.value.filter(En=>!En.created).some(En=>En.currentLabel===c.inputValue);return i.filterable&&i.allowCreate&&c.inputValue!==""&&!bn}),pe=()=>{i.filterable&&isFunction(i.filterMethod)||i.filterable&&i.remote&&isFunction(i.remoteMethod)||Dt.value.forEach(bn=>{var En;(En=bn.updateOption)==null||En.call(bn,c.inputValue)})},ue=useFormSize(),$e=vue.computed(()=>["small"].includes(ue.value)?"small":"default"),Ne=vue.computed({get(){return z.value&&he.value!==!1},set(bn){z.value=bn}}),Oe=vue.computed(()=>{if(i.multiple&&!isUndefined(i.modelValue))return lodashEs.castArray(i.modelValue).length===0&&!c.inputValue;const bn=isArray(i.modelValue)?i.modelValue[0]:i.modelValue;return i.filterable||isUndefined(bn)?!c.inputValue:!0}),Lt=vue.computed(()=>{var bn;const En=(bn=i.placeholder)!=null?bn:n("el.select.placeholder");return i.multiple||!Ie.value?En:c.selectedLabel}),kt=vue.computed(()=>isIOS?null:"mouseenter");vue.watch(()=>i.modelValue,(bn,En)=>{i.multiple&&i.filterable&&!i.reserveKeyword&&(c.inputValue="",Cn("")),ae(),!lodashEs.isEqual(bn,En)&&i.validateEvent&&(D==null||D.validate("change").catch(Rn=>debugWarn(Rn)))},{flush:"post",deep:!0}),vue.watch(()=>z.value,bn=>{bn?Cn(c.inputValue):(c.inputValue="",c.previousQuery=null,c.isBeforeHide=!0),r("visible-change",bn)}),vue.watch(()=>c.options.entries(),()=>{var bn;if(!isClient)return;const En=((bn=d.value)==null?void 0:bn.querySelectorAll("input"))||[];(!i.filterable&&!i.defaultFirstOption&&!isUndefined(i.modelValue)||!Array.from(En).includes(document.activeElement))&&ae(),i.defaultFirstOption&&(i.filterable||i.remote)&&Ue.value&&oe()},{flush:"post"}),vue.watch(()=>c.hoveringIndex,bn=>{isNumber(bn)&&bn>-1?V.value=Dt.value[bn]||{}:V.value={},Dt.value.forEach(En=>{En.hover=V.value===En})}),vue.watchEffect(()=>{c.isBeforeHide||pe()});const Cn=bn=>{c.previousQuery===bn||T.value||(c.previousQuery=bn,i.filterable&&isFunction(i.filterMethod)?i.filterMethod(bn):i.filterable&&i.remote&&isFunction(i.remoteMethod)&&i.remoteMethod(bn),i.defaultFirstOption&&(i.filterable||i.remote)&&Ue.value?vue.nextTick(oe):vue.nextTick(O))},oe=()=>{const bn=Dt.value.filter(Bn=>Bn.visible&&!Bn.disabled&&!Bn.states.groupDisabled),En=bn.find(Bn=>Bn.created),Rn=bn[0];c.hoveringIndex=Nn(Dt.value,En||Rn)},ae=()=>{if(i.multiple)c.selectedLabel="";else{const En=isArray(i.modelValue)?i.modelValue[0]:i.modelValue,Rn=Y(En);c.selectedLabel=Rn.currentLabel,c.selected=Rn;return}const bn=[];isUndefined(i.modelValue)||lodashEs.castArray(i.modelValue).forEach(En=>{bn.push(Y(En))}),c.selected=bn},Y=bn=>{let En;const Rn=toRawType(bn).toLowerCase()==="object",Bn=toRawType(bn).toLowerCase()==="null",Dn=toRawType(bn).toLowerCase()==="undefined";for(let Zn=c.cachedOptions.size-1;Zn>=0;Zn--){const kn=jt.value[Zn];if(Rn?lodashEs.get(kn.value,i.valueKey)===lodashEs.get(bn,i.valueKey):kn.value===bn){En={value:bn,currentLabel:kn.currentLabel,get isDisabled(){return kn.isDisabled}};break}}if(En)return En;const Hn=Rn?bn.label:!Bn&&!Dn?bn:"";return{value:bn,currentLabel:Hn}},O=()=>{i.multiple?c.hoveringIndex=Dt.value.findIndex(bn=>c.selected.some(En=>Un(En)===Un(bn))):c.hoveringIndex=Dt.value.findIndex(bn=>Un(bn)===Un(c.selected))},F=()=>{c.selectionWidth=f.value.getBoundingClientRect().width},j=()=>{c.calculatorWidth=p.value.getBoundingClientRect().width},xe=()=>{c.collapseItemWidth=w.value.getBoundingClientRect().width},hn=()=>{var bn,En;(En=(bn=h.value)==null?void 0:bn.updatePopper)==null||En.call(bn)},_n=()=>{var bn,En;(En=(bn=y.value)==null?void 0:bn.updatePopper)==null||En.call(bn)},Sn=()=>{c.inputValue.length>0&&!z.value&&(z.value=!0),Cn(c.inputValue)},xn=bn=>{if(c.inputValue=bn.target.value,i.remote)Ln();else return Sn()},Ln=lodashEs.debounce(()=>{Sn()},Pt.value),Ve=bn=>{lodashEs.isEqual(i.modelValue,bn)||r(CHANGE_EVENT,bn)},ze=bn=>lodashEs.findLastIndex(bn,En=>!c.disabledOptions.has(En)),wn=bn=>{if(i.multiple&&bn.code!==EVENT_CODE.delete&&bn.target.value.length<=0){const En=lodashEs.castArray(i.modelValue).slice(),Rn=ze(En);if(Rn<0)return;const Bn=En[Rn];En.splice(Rn,1),r(UPDATE_MODEL_EVENT,En),Ve(En),r("remove-tag",Bn)}},An=(bn,En)=>{const Rn=c.selected.indexOf(En);if(Rn>-1&&!Fe.value){const Bn=lodashEs.castArray(i.modelValue).slice();Bn.splice(Rn,1),r(UPDATE_MODEL_EVENT,Bn),Ve(Bn),r("remove-tag",En.value)}bn.stopPropagation(),Fn()},Tn=bn=>{bn.stopPropagation();const En=i.multiple?[]:le.value;if(i.multiple)for(const Rn of c.selected)Rn.isDisabled&&En.push(Rn.value);r(UPDATE_MODEL_EVENT,En),Ve(En),c.hoveringIndex=-1,z.value=!1,r("clear"),Fn()},Pn=bn=>{var En;if(i.multiple){const Rn=lodashEs.castArray((En=i.modelValue)!=null?En:[]).slice(),Bn=Nn(Rn,bn.value);Bn>-1?Rn.splice(Bn,1):(i.multipleLimit<=0||Rn.length<i.multipleLimit)&&Rn.push(bn.value),r(UPDATE_MODEL_EVENT,Rn),Ve(Rn),bn.created&&Cn(""),i.filterable&&!i.reserveKeyword&&(c.inputValue="")}else r(UPDATE_MODEL_EVENT,bn.value),Ve(bn.value),z.value=!1;Fn(),!z.value&&vue.nextTick(()=>{Gn(bn)})},Nn=(bn=[],En)=>{if(!isObject(En))return bn.indexOf(En);const Rn=i.valueKey;let Bn=-1;return bn.some((Dn,Hn)=>vue.toRaw(lodashEs.get(Dn,Rn))===lodashEs.get(En,Rn)?(Bn=Hn,!0):!1),Bn},Gn=bn=>{var En,Rn,Bn,Dn,Hn;const jn=isArray(bn)?bn[0]:bn;let Zn=null;if(jn!=null&&jn.value){const kn=Dt.value.filter(qn=>qn.value===jn.value);kn.length>0&&(Zn=kn[0].$el)}if(h.value&&Zn){const kn=(Dn=(Bn=(Rn=(En=h.value)==null?void 0:En.popperRef)==null?void 0:Rn.contentRef)==null?void 0:Bn.querySelector)==null?void 0:Dn.call(Bn,`.${a.be("dropdown","wrap")}`);kn&&scrollIntoView(kn,Zn)}(Hn=S.value)==null||Hn.handleScroll()},Vn=bn=>{c.options.set(bn.value,bn),c.cachedOptions.set(bn.value,bn),bn.disabled&&c.disabledOptions.set(bn.value,bn)},Kn=(bn,En)=>{c.options.get(bn)===En&&c.options.delete(bn)},Jn=vue.computed(()=>{var bn,En;return(En=(bn=h.value)==null?void 0:bn.popperRef)==null?void 0:En.contentRef}),Xn=()=>{c.isBeforeHide=!1,vue.nextTick(()=>Gn(c.selected))},Fn=()=>{var bn;(bn=g.value)==null||bn.focus()},zn=()=>{$n()},Yn=bn=>{Tn(bn)},$n=bn=>{if(z.value=!1,ie.value){const En=new FocusEvent("focus",bn);vue.nextTick(()=>$(En))}},Wn=()=>{c.inputValue.length>0?c.inputValue="":z.value=!1},On=()=>{Fe.value||(isIOS&&(c.inputHovering=!0),c.menuVisibleOnFocus?c.menuVisibleOnFocus=!1:z.value=!z.value)},Mn=()=>{z.value?Dt.value[c.hoveringIndex]&&Pn(Dt.value[c.hoveringIndex]):On()},Un=bn=>isObject(bn.value)?lodashEs.get(bn.value,i.valueKey):bn.value,er=vue.computed(()=>Dt.value.filter(bn=>bn.visible).every(bn=>bn.disabled)),tr=vue.computed(()=>i.multiple?i.collapseTags?c.selected.slice(0,i.maxCollapseTags):c.selected:[]),nr=vue.computed(()=>i.multiple?i.collapseTags?c.selected.slice(i.maxCollapseTags):[]:[]),Qn=bn=>{if(!z.value){z.value=!0;return}if(!(c.options.size===0||c.filteredOptionsCount===0||T.value)&&!er.value){bn==="next"?(c.hoveringIndex++,c.hoveringIndex===c.options.size&&(c.hoveringIndex=0)):bn==="prev"&&(c.hoveringIndex--,c.hoveringIndex<0&&(c.hoveringIndex=c.options.size-1));const En=Dt.value[c.hoveringIndex];(En.disabled===!0||En.states.groupDisabled===!0||!En.visible)&&Qn(bn),vue.nextTick(()=>Gn(V.value))}},rr=()=>{if(!f.value)return 0;const bn=window.getComputedStyle(f.value);return Number.parseFloat(bn.gap||"6px")},ir=vue.computed(()=>{const bn=rr();return{maxWidth:`${w.value&&i.maxCollapseTags===1?c.selectionWidth-c.collapseItemWidth-bn:c.selectionWidth}px`}}),or=vue.computed(()=>({maxWidth:`${c.selectionWidth}px`})),ar=vue.computed(()=>({width:`${Math.max(c.calculatorWidth,MINIMUM_INPUT_WIDTH)}px`}));return useResizeObserver(f,F),useResizeObserver(p,j),useResizeObserver(b,hn),useResizeObserver(k,hn),useResizeObserver(A,_n),useResizeObserver(w,xe),vue.onMounted(()=>{ae()}),{inputId:Ce,contentId:o,nsSelect:a,nsInput:u,states:c,isFocused:ie,expanded:z,optionsArray:Dt,hoverOption:V,selectSize:ue,filteredOptionsCount:Ue,resetCalculatorWidth:j,updateTooltip:hn,updateTagTooltip:_n,debouncedOnInputChange:Ln,onInput:xn,deletePrevTag:wn,deleteTag:An,deleteSelected:Tn,handleOptionSelect:Pn,scrollToOption:Gn,hasModelValue:Ie,shouldShowPlaceholder:Oe,currentPlaceholder:Lt,mouseEnterEventName:kt,showClose:At,iconComponent:_e,iconReverse:qe,validateState:In,validateIcon:vn,showNewOption:Et,updateOptions:pe,collapseTagSize:$e,setSelected:ae,selectDisabled:Fe,emptyText:he,handleCompositionStart:x,handleCompositionUpdate:M,handleCompositionEnd:L,onOptionCreate:Vn,onOptionDestroy:Kn,handleMenuEnter:Xn,focus:Fn,blur:zn,handleClearClick:Yn,handleClickOutside:$n,handleEsc:Wn,toggleMenu:On,selectOption:Mn,getValueKey:Un,navigateOptions:Qn,dropdownMenuVisible:Ne,showTagList:tr,collapseTagList:nr,tagStyle:ir,collapseTagStyle:or,inputStyle:ar,popperRef:Jn,inputRef:g,tooltipRef:h,tagTooltipRef:y,calculatorRef:p,prefixRef:v,suffixRef:_,selectRef:d,wrapperRef:k,selectionRef:f,scrollbarRef:S,menuRef:b,tagMenuRef:A,collapseItemRef:w}};var ElOptions=vue.defineComponent({name:"ElOptions",setup(i,{slots:r}){const n=vue.inject(selectKey);let o=[];return()=>{var a,u;const c=(a=r.default)==null?void 0:a.call(r),d=[];function f(h){isArray(h)&&h.forEach(y=>{var g,p,v,_;const b=(g=(y==null?void 0:y.type)||{})==null?void 0:g.name;b==="ElOptionGroup"?f(!isString(y.children)&&!isArray(y.children)&&isFunction((p=y.children)==null?void 0:p.default)?(v=y.children)==null?void 0:v.default():y.children):b==="ElOption"?d.push((_=y.props)==null?void 0:_.value):isArray(y.children)&&f(y.children)})}return c.length&&f((u=c[0])==null?void 0:u.children),lodashEs.isEqual(d,o)||(o=d,n&&(n.states.optionValues=d)),c}}});const SelectProps=buildProps({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:useSizeProp,effect:{type:definePropType(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:definePropType(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:useTooltipContentProps.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:iconPropType,default:circle_close_default},fitInputWidth:Boolean,suffixIcon:{type:iconPropType,default:arrow_down_default},tagType:{...tagProps.type,default:"info"},tagEffect:{...tagProps.effect,default:"light"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:definePropType(String),values:Ee,default:"bottom-start"},fallbackPlacements:{type:definePropType(Array),default:["bottom-start","top-start","right","left"]},...useEmptyValuesProps,...useAriaProps(["ariaLabel"])}),COMPONENT_NAME="ElSelect",_sfc_main$9=vue.defineComponent({name:COMPONENT_NAME,componentName:COMPONENT_NAME,components:{ElSelectMenu,ElOption:Option,ElOptions,ElTag,ElScrollbar,ElTooltip,ElIcon},directives:{ClickOutside},props:SelectProps,emits:[UPDATE_MODEL_EVENT,CHANGE_EVENT,"remove-tag","clear","visible-change","focus","blur"],setup(i,{emit:r}){const n=useSelect(i,r);return vue.provide(selectKey,vue.reactive({props:i,states:n.states,optionsArray:n.optionsArray,handleOptionSelect:n.handleOptionSelect,onOptionCreate:n.onOptionCreate,onOptionDestroy:n.onOptionDestroy,selectRef:n.selectRef,setSelected:n.setSelected})),{...n}}});function _sfc_render$1(i,r,n,o,a,u){const c=vue.resolveComponent("el-tag"),d=vue.resolveComponent("el-tooltip"),f=vue.resolveComponent("el-icon"),h=vue.resolveComponent("el-option"),y=vue.resolveComponent("el-options"),g=vue.resolveComponent("el-scrollbar"),p=vue.resolveComponent("el-select-menu"),v=vue.resolveDirective("click-outside");return vue.withDirectives((vue.openBlock(),vue.createElementBlock("div",{ref:"selectRef",class:vue.normalizeClass([i.nsSelect.b(),i.nsSelect.m(i.selectSize)]),[vue.toHandlerKey(i.mouseEnterEventName)]:_=>i.states.inputHovering=!0,onMouseleave:_=>i.states.inputHovering=!1},[vue.createVNode(d,{ref:"tooltipRef",visible:i.dropdownMenuVisible,placement:i.placement,teleported:i.teleported,"popper-class":[i.nsSelect.e("popper"),i.popperClass],"popper-options":i.popperOptions,"fallback-placements":i.fallbackPlacements,effect:i.effect,pure:"",trigger:"click",transition:`${i.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:i.persistent,onBeforeShow:i.handleMenuEnter,onHide:_=>i.states.isBeforeHide=!1},{default:vue.withCtx(()=>{var _;return[vue.createElementVNode("div",{ref:"wrapperRef",class:vue.normalizeClass([i.nsSelect.e("wrapper"),i.nsSelect.is("focused",i.isFocused),i.nsSelect.is("hovering",i.states.inputHovering),i.nsSelect.is("filterable",i.filterable),i.nsSelect.is("disabled",i.selectDisabled)]),onClick:vue.withModifiers(i.toggleMenu,["prevent","stop"])},[i.$slots.prefix?(vue.openBlock(),vue.createElementBlock("div",{key:0,ref:"prefixRef",class:vue.normalizeClass(i.nsSelect.e("prefix"))},[vue.renderSlot(i.$slots,"prefix")],2)):vue.createCommentVNode("v-if",!0),vue.createElementVNode("div",{ref:"selectionRef",class:vue.normalizeClass([i.nsSelect.e("selection"),i.nsSelect.is("near",i.multiple&&!i.$slots.prefix&&!!i.states.selected.length)])},[i.multiple?vue.renderSlot(i.$slots,"tag",{key:0},()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(i.showTagList,b=>(vue.openBlock(),vue.createElementBlock("div",{key:i.getValueKey(b),class:vue.normalizeClass(i.nsSelect.e("selected-item"))},[vue.createVNode(c,{closable:!i.selectDisabled&&!b.isDisabled,size:i.collapseTagSize,type:i.tagType,effect:i.tagEffect,"disable-transitions":"",style:vue.normalizeStyle(i.tagStyle),onClose:A=>i.deleteTag(A,b)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(i.nsSelect.e("tags-text"))},[vue.renderSlot(i.$slots,"label",{label:b.currentLabel,value:b.value},()=>[vue.createTextVNode(vue.toDisplayString(b.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","style","onClose"])],2))),128)),i.collapseTags&&i.states.selected.length>i.maxCollapseTags?(vue.openBlock(),vue.createBlock(d,{key:0,ref:"tagTooltipRef",disabled:i.dropdownMenuVisible||!i.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:i.effect,placement:"bottom",teleported:i.teleported},{default:vue.withCtx(()=>[vue.createElementVNode("div",{ref:"collapseItemRef",class:vue.normalizeClass(i.nsSelect.e("selected-item"))},[vue.createVNode(c,{closable:!1,size:i.collapseTagSize,type:i.tagType,effect:i.tagEffect,"disable-transitions":"",style:vue.normalizeStyle(i.collapseTagStyle)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(i.nsSelect.e("tags-text"))}," + "+vue.toDisplayString(i.states.selected.length-i.maxCollapseTags),3)]),_:1},8,["size","type","effect","style"])],2)]),content:vue.withCtx(()=>[vue.createElementVNode("div",{ref:"tagMenuRef",class:vue.normalizeClass(i.nsSelect.e("selection"))},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(i.collapseTagList,b=>(vue.openBlock(),vue.createElementBlock("div",{key:i.getValueKey(b),class:vue.normalizeClass(i.nsSelect.e("selected-item"))},[vue.createVNode(c,{class:"in-tooltip",closable:!i.selectDisabled&&!b.isDisabled,size:i.collapseTagSize,type:i.tagType,effect:i.tagEffect,"disable-transitions":"",onClose:A=>i.deleteTag(A,b)},{default:vue.withCtx(()=>[vue.createElementVNode("span",{class:vue.normalizeClass(i.nsSelect.e("tags-text"))},[vue.renderSlot(i.$slots,"label",{label:b.currentLabel,value:b.value},()=>[vue.createTextVNode(vue.toDisplayString(b.currentLabel),1)])],2)]),_:2},1032,["closable","size","type","effect","onClose"])],2))),128))],2)]),_:3},8,["disabled","effect","teleported"])):vue.createCommentVNode("v-if",!0)]):vue.createCommentVNode("v-if",!0),i.selectDisabled?vue.createCommentVNode("v-if",!0):(vue.openBlock(),vue.createElementBlock("div",{key:1,class:vue.normalizeClass([i.nsSelect.e("selected-item"),i.nsSelect.e("input-wrapper"),i.nsSelect.is("hidden",!i.filterable)])},[vue.withDirectives(vue.createElementVNode("input",{id:i.inputId,ref:"inputRef","onUpdate:modelValue":b=>i.states.inputValue=b,type:"text",name:i.name,class:vue.normalizeClass([i.nsSelect.e("input"),i.nsSelect.is(i.selectSize)]),disabled:i.selectDisabled,autocomplete:i.autocomplete,style:vue.normalizeStyle(i.inputStyle),role:"combobox",readonly:!i.filterable,spellcheck:"false","aria-activedescendant":((_=i.hoverOption)==null?void 0:_.id)||"","aria-controls":i.contentId,"aria-expanded":i.dropdownMenuVisible,"aria-label":i.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onKeydown:[vue.withKeys(vue.withModifiers(b=>i.navigateOptions("next"),["stop","prevent"]),["down"]),vue.withKeys(vue.withModifiers(b=>i.navigateOptions("prev"),["stop","prevent"]),["up"]),vue.withKeys(vue.withModifiers(i.handleEsc,["stop","prevent"]),["esc"]),vue.withKeys(vue.withModifiers(i.selectOption,["stop","prevent"]),["enter"]),vue.withKeys(vue.withModifiers(i.deletePrevTag,["stop"]),["delete"])],onCompositionstart:i.handleCompositionStart,onCompositionupdate:i.handleCompositionUpdate,onCompositionend:i.handleCompositionEnd,onInput:i.onInput,onClick:vue.withModifiers(i.toggleMenu,["stop"])},null,46,["id","onUpdate:modelValue","name","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label","onKeydown","onCompositionstart","onCompositionupdate","onCompositionend","onInput","onClick"]),[[vue.vModelText,i.states.inputValue]]),i.filterable?(vue.openBlock(),vue.createElementBlock("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:vue.normalizeClass(i.nsSelect.e("input-calculator")),textContent:vue.toDisplayString(i.states.inputValue)},null,10,["textContent"])):vue.createCommentVNode("v-if",!0)],2)),i.shouldShowPlaceholder?(vue.openBlock(),vue.createElementBlock("div",{key:2,class:vue.normalizeClass([i.nsSelect.e("selected-item"),i.nsSelect.e("placeholder"),i.nsSelect.is("transparent",!i.hasModelValue||i.expanded&&!i.states.inputValue)])},[i.hasModelValue?vue.renderSlot(i.$slots,"label",{key:0,label:i.currentPlaceholder,value:i.modelValue},()=>[vue.createElementVNode("span",null,vue.toDisplayString(i.currentPlaceholder),1)]):(vue.openBlock(),vue.createElementBlock("span",{key:1},vue.toDisplayString(i.currentPlaceholder),1))],2)):vue.createCommentVNode("v-if",!0)],2),vue.createElementVNode("div",{ref:"suffixRef",class:vue.normalizeClass(i.nsSelect.e("suffix"))},[i.iconComponent&&!i.showClose?(vue.openBlock(),vue.createBlock(f,{key:0,class:vue.normalizeClass([i.nsSelect.e("caret"),i.nsSelect.e("icon"),i.iconReverse])},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(i.iconComponent)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0),i.showClose&&i.clearIcon?(vue.openBlock(),vue.createBlock(f,{key:1,class:vue.normalizeClass([i.nsSelect.e("caret"),i.nsSelect.e("icon")]),onClick:i.handleClearClick},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(i.clearIcon)))]),_:1},8,["class","onClick"])):vue.createCommentVNode("v-if",!0),i.validateState&&i.validateIcon?(vue.openBlock(),vue.createBlock(f,{key:2,class:vue.normalizeClass([i.nsInput.e("icon"),i.nsInput.e("validateIcon")])},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(i.validateIcon)))]),_:1},8,["class"])):vue.createCommentVNode("v-if",!0)],2)],10,["onClick"])]}),content:vue.withCtx(()=>[vue.createVNode(p,{ref:"menuRef"},{default:vue.withCtx(()=>[i.$slots.header?(vue.openBlock(),vue.createElementBlock("div",{key:0,class:vue.normalizeClass(i.nsSelect.be("dropdown","header")),onClick:vue.withModifiers(()=>{},["stop"])},[vue.renderSlot(i.$slots,"header")],10,["onClick"])):vue.createCommentVNode("v-if",!0),vue.withDirectives(vue.createVNode(g,{id:i.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":i.nsSelect.be("dropdown","wrap"),"view-class":i.nsSelect.be("dropdown","list"),class:vue.normalizeClass([i.nsSelect.is("empty",i.filteredOptionsCount===0)]),role:"listbox","aria-label":i.ariaLabel,"aria-orientation":"vertical"},{default:vue.withCtx(()=>[i.showNewOption?(vue.openBlock(),vue.createBlock(h,{key:0,value:i.states.inputValue,created:!0},null,8,["value"])):vue.createCommentVNode("v-if",!0),vue.createVNode(y,null,{default:vue.withCtx(()=>[vue.renderSlot(i.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[vue.vShow,i.states.options.size>0&&!i.loading]]),i.$slots.loading&&i.loading?(vue.openBlock(),vue.createElementBlock("div",{key:1,class:vue.normalizeClass(i.nsSelect.be("dropdown","loading"))},[vue.renderSlot(i.$slots,"loading")],2)):i.loading||i.filteredOptionsCount===0?(vue.openBlock(),vue.createElementBlock("div",{key:2,class:vue.normalizeClass(i.nsSelect.be("dropdown","empty"))},[vue.renderSlot(i.$slots,"empty",{},()=>[vue.createElementVNode("span",null,vue.toDisplayString(i.emptyText),1)])],2)):vue.createCommentVNode("v-if",!0),i.$slots.footer?(vue.openBlock(),vue.createElementBlock("div",{key:3,class:vue.normalizeClass(i.nsSelect.be("dropdown","footer")),onClick:vue.withModifiers(()=>{},["stop"])},[vue.renderSlot(i.$slots,"footer")],10,["onClick"])):vue.createCommentVNode("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow","onHide"])],16,["onMouseleave"])),[[v,i.handleClickOutside,i.popperRef]])}var Select=_export_sfc(_sfc_main$9,[["render",_sfc_render$1],["__file","select.vue"]]);const _sfc_main$8=vue.defineComponent({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(i){const r=useNamespace("select"),n=vue.ref(null),o=vue.getCurrentInstance(),a=vue.ref([]);vue.provide(selectGroupKey,vue.reactive({...vue.toRefs(i)}));const u=vue.computed(()=>a.value.some(h=>h.visible===!0)),c=h=>{var y,g;return((y=h.type)==null?void 0:y.name)==="ElOption"&&!!((g=h.component)!=null&&g.proxy)},d=h=>{const y=lodashEs.castArray(h),g=[];return y.forEach(p=>{var v,_;c(p)?g.push(p.component.proxy):(v=p.children)!=null&&v.length?g.push(...d(p.children)):(_=p.component)!=null&&_.subTree&&g.push(...d(p.component.subTree))}),g},f=()=>{a.value=d(o.subTree)};return vue.onMounted(()=>{f()}),useMutationObserver(n,f,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:u,ns:r}}});function _sfc_render(i,r,n,o,a,u){return vue.withDirectives((vue.openBlock(),vue.createElementBlock("ul",{ref:"groupRef",class:vue.normalizeClass(i.ns.be("group","wrap"))},[vue.createElementVNode("li",{class:vue.normalizeClass(i.ns.be("group","title"))},vue.toDisplayString(i.label),3),vue.createElementVNode("li",null,[vue.createElementVNode("ul",{class:vue.normalizeClass(i.ns.b("group"))},[vue.renderSlot(i.$slots,"default")],2)])],2)),[[vue.vShow,i.visible]])}var OptionGroup=_export_sfc(_sfc_main$8,[["render",_sfc_render],["__file","option-group.vue"]]);const ElSelect=withInstall(Select,{Option,OptionGroup}),ElOption=withNoopInstall(Option);withNoopInstall(OptionGroup);const _hoisted_1$4={class:"c-wall-d"},_sfc_main$7=vue.defineComponent({__name:"condition",props:{modelValue:{default:()=>({type:EConditionType.None})}},emits:["update:modelValue"],setup(i,{emit:r}){const n=i,o=r,a=vue.computed({get(){return n.modelValue},set(d){o("update:modelValue",d)}}),u=[{label:"大于",val:"greater"},{label:"大于等于",val:">="},{label:"小于",val:"<"},{label:"小于等于",val:"<="},{label:"等于",val:"=="},{label:"不等于",val:"!="},{label:"介于",val:">=,=<"},{label:"不介于",val:"<,>"}],c=d=>{d!=="None"&&(a.value.Relation={key:"",relation:"",val:"",val2:""}),o("update:modelValue",a)};return(d,f)=>{var h,y;return vue.openBlock(),vue.createElementBlock("div",_hoisted_1$4,[vue.createVNode(vue.unref(ElFormItem),{label:"条件",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElSelect),{modelValue:vue.unref(a).type,"onUpdate:modelValue":f[0]||(f[0]=g=>vue.unref(a).type=g),onChange:c},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElOption),{value:"None",label:"无"}),vue.createVNode(vue.unref(ElOption),{value:"Relation",label:"关系运算"})]),_:1},8,["modelValue"])]),_:1}),vue.unref(a).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:0,label:"属性",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(a).Relation.key,"onUpdate:modelValue":f[1]||(f[1]=g=>vue.unref(a).Relation.key=g)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(a).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:1,label:"关系",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElSelect),{modelValue:vue.unref(a).Relation.relation,"onUpdate:modelValue":f[2]||(f[2]=g=>vue.unref(a).Relation.relation=g)},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,vue.renderList(u,(g,p)=>vue.createVNode(vue.unref(ElOption),{value:g.val,label:g.label,key:"rop"+p},null,8,["value","label"])),64))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(a).type==="Relation"?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:2,label:"值",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(a).Relation.val,"onUpdate:modelValue":f[3]||(f[3]=g=>vue.unref(a).Relation.val=g)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(a).type==="Relation"&&(((h=vue.unref(a).Relation)==null?void 0:h.relation)===">=,=<"||((y=vue.unref(a).Relation)==null?void 0:y.relation)==="<,>")?(vue.openBlock(),vue.createBlock(vue.unref(ElFormItem),{key:3,label:"值2",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(ElInput),{modelValue:vue.unref(a).Relation.val2,"onUpdate:modelValue":f[4]||(f[4]=g=>vue.unref(a).Relation.val2=g)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)])}}}),condition_vue_vue_type_style_index_0_scoped_f43f10e6_lang="",Condition=_export_sfc$1(_sfc_main$7,[["__scopeId","data-v-f43f10e6"]]),_sfc_main$6=vue.defineComponent({__name:"bind-anchor",props:{modelValue:{},title:{}},emits:["update:modelValue"],setup(i,{emit:r}){const n=useGlobalStore(pinia),o=r,a=i,u=vue.computed({get(){return a.modelValue!==null},set(g){let p=null;g&&(p={target_id:"",type:""}),o("update:modelValue",p)}}),c=vue.computed({get(){var g;return((g=a.modelValue)==null?void 0:g.target_id)??void 0},set(g){let p=null;u.value&&(p={target_id:g,type:d.value}),o("update:modelValue",p)}}),d=vue.computed({get(){var g;return((g=a.modelValue)==null?void 0:g.type)??void 0},set(g){let p=null;u.value&&(p={target_id:c.value,type:g}),o("update:modelValue",p)}}),f=vue.computed(()=>n.done_json.filter(g=>g.type!==EDoneJsonType.ConnectionLine).map(g=>({label:g.title,value:g.id}))),h=[{label:"上锚点",value:ELineBindAnchors.TopCenter},{label:"右锚点",value:ELineBindAnchors.Right},{label:"下锚点",value:ELineBindAnchors.BottomCenter},{label:"左锚点",value:ELineBindAnchors.Left}];function y(){vue.nextTick(function(){var g,p;if(u.value&&((g=a.modelValue)!=null&&g.target_id)&&((p=a.modelValue)!=null&&p.type)&&n.handle_svg_info){let v=null;for(let _ of n.done_json)_.id===a.modelValue.target_id&&(v=_);v&&(setSvgActualInfo(v),moveAnchors(v))}})}return(g,p)=>(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:a.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(u),"onUpdate:modelValue":p[0]||(p[0]=v=>vue.isRef(u)?u.value=v:null),onChange:y},null,8,["modelValue"])]),_:1},8,["label"]),vue.unref(u)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"绑定对象",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(c),"onUpdate:modelValue":p[1]||(p[1]=v=>vue.isRef(c)?c.value=v:null),onChange:y},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(f),v=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:v.value,label:v.label,value:v.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(u)?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:"绑定位置",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(d),"onUpdate:modelValue":p[2]||(p[2]=v=>vue.isRef(d)?d.value=v:null),onChange:y},{default:vue.withCtx(()=>[(vue.openBlock(),vue.createElementBlock(vue.Fragment,null,vue.renderList(h,v=>vue.createVNode(vue.unref(elementPlus.ElOption),{key:v.value,label:v.label,value:v.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)],64))}}),_withScopeId=i=>(vue.pushScopeId("data-v-9b4c5da1"),i=i(),vue.popScopeId(),i),_hoisted_1$3=_withScopeId(()=>vue.createElementVNode("span",{style:{"font-weight":"bold"}},"MQTT",-1)),_hoisted_2$2={key:2},_hoisted_3$1={class:"events-title"},_sfc_main$5=vue.defineComponent({__name:"right-panel",setup(i){const r=useConfigStore(pinia),n=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=vue.ref("page"),u=vue.ref("style"),c=(_,b)=>{_!=null&&_.common_animations&&(_.common_animations.val=b)};r.$subscribe((_,b)=>{_.storeId==="config-store"&&localStorage.setItem("svg-editor-config",JSON.stringify(b))});const d=vue.ref(numberArray(20)),f=vue.ref(["MQTT"]),h=vue.ref();h.value=()=>{var b,A;let _={type:EEventType.Null,action:EEventAction.Null,target:"",scripts:"",condition:{type:EConditionType.None}};(A=(b=n.handle_svg_info)==null?void 0:b.info)==null||A.events.push(_)};const y=(_,b)=>{_==="ChangeAttr"?b.attrs=[{key:"",val:""}]:delete b.attrs},g=_=>{var b,A;(A=(b=n.handle_svg_info)==null?void 0:b.info)==null||A.events.splice(_,1)},p=()=>{o.center_offset={x:0,y:0}},v=(_,b,A)=>{vue.nextTick(function(){if(n.handle_svg_info){const w=n.done_json[n.handle_svg_info.index];A?setSvgActualInfo(w,A):setSvgActualInfo(w),moveAnchors(w)}})};return(_,b)=>vue.unref(n).intention!=vue.unref(EGlobalStoreIntention).Select?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabs),{key:0,class:"mx-2 rightTabs",modelValue:vue.unref(a),"onUpdate:modelValue":b[13]||(b[13]=A=>vue.isRef(a)?a.value=A:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"图纸",name:"page"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"背景色",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElColorPicker),{modelValue:vue.unref(r).svg.background_color,"onUpdate:modelValue":b[0]||(b[0]=A=>vue.unref(r).svg.background_color=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"画布",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{size:"small",onClick:p,icon:vue.unref(aim_default)},{default:vue.withCtx(()=>[vue.createTextVNode("重置位置")]),_:1},8,["icon"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X轴偏移",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(o).center_offset.x,"onUpdate:modelValue":b[1]||(b[1]=A=>vue.unref(o).center_offset.x=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y轴偏移",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(o).center_offset.y,"onUpdate:modelValue":b[2]||(b[2]=A=>vue.unref(o).center_offset.y=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(r).svg.scale,"onUpdate:modelValue":b[3]||(b[3]=A=>vue.unref(r).svg.scale=A),step:.1,"step-strictly":""},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"标尺",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(r).svg.ruler,"onUpdate:modelValue":b[4]||(b[4]=A=>vue.unref(r).svg.ruler=A)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"网格",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(r).svg.grid,"onUpdate:modelValue":b[5]||(b[5]=A=>vue.unref(r).svg.grid=A)},null,8,["modelValue"])]),_:1}),vue.unref(r).svg.grid?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"网格颜色",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElColorPicker),{modelValue:vue.unref(r).svg.grid_color,"onUpdate:modelValue":b[6]||(b[6]=A=>vue.unref(r).svg.grid_color=A)},null,8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0)]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"连线",name:"line"},{default:vue.withCtx(()=>[vue.unref(r).connection_line.props?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:0,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(r).connection_line.props,hide:["point_position"]},null,8,["obj-info"])]),_:1})):vue.createCommentVNode("",!0),vue.unref(r).connection_line.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:1,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:vue.unref(r).connection_line.animations.type.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(r).connection_line.animations.type.val,"onUpdate:modelValue":b[7]||(b[7]=A=>vue.unref(r).connection_line.animations.type.val=A),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(r).connection_line.animations.type.options,A=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:A.value,label:A.label,value:A.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"]),vue.unref(r).connection_line.animations.type.val!=="None"?(vue.openBlock(),vue.createBlock(DynamicElFormItem,{key:0,"obj-info":vue.unref(r).connection_line.animations,hide:["type","repeatCount"]},null,8,["obj-info"])):vue.createCommentVNode("",!0)]),_:1})):vue.createCommentVNode("",!0)]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"通信",name:"net"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(f),"onUpdate:modelValue":b[12]||(b[12]=A=>vue.isRef(f)?f.value=A:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElCollapseItem),{name:"MQTT"},{title:vue.withCtx(()=>[_hoisted_1$3]),default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"URL",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(r).net.mqtt.url,"onUpdate:modelValue":b[8]||(b[8]=A=>vue.unref(r).net.mqtt.url=A),placeholder:"如 ws://127.0.0.1:4500"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"用户名",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(r).net.mqtt.user,"onUpdate:modelValue":b[9]||(b[9]=A=>vue.unref(r).net.mqtt.user=A),placeholder:"username"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"密码",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(r).net.mqtt.pwd,"onUpdate:modelValue":b[10]||(b[10]=A=>vue.unref(r).net.mqtt.pwd=A),placeholder:"password"},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Topics",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(r).net.mqtt.topics,"onUpdate:modelValue":b[11]||(b[11]=A=>vue.unref(r).net.mqtt.topics=A),placeholder:"topics"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"结构",name:"tree"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$u)]),_:1})]),_:1},8,["modelValue"])):vue.unref(n).intention==vue.unref(EGlobalStoreIntention).Select&&vue.unref(n).handle_svg_info?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElTabs),{key:1,class:"mx-2 rightTabs",modelValue:vue.unref(u),"onUpdate:modelValue":b[34]||(b[34]=A=>vue.isRef(u)?u.value=A:null)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"外观",name:"style"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>{var A,w,S,T;return[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"标题",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).handle_svg_info.info.title,"onUpdate:modelValue":b[14]||(b[14]=x=>vue.unref(n).handle_svg_info.info.title=x)},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X坐标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(n).handle_svg_info.info.x,"onUpdate:modelValue":b[15]||(b[15]=x=>vue.unref(n).handle_svg_info.info.x=x),onChange:v},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y坐标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(n).handle_svg_info.info.y,"onUpdate:modelValue":b[16]||(b[16]=x=>vue.unref(n).handle_svg_info.info.y=x),onChange:v},null,8,["modelValue"])]),_:1}),vue.withDirectives(vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"X缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(n).handle_svg_info.info.scale_x,"onUpdate:modelValue":b[17]||(b[17]=x=>vue.unref(n).handle_svg_info.info.scale_x=x),onChange:v},null,8,["modelValue"])]),_:1},512),[[vue.vShow,(w=(A=vue.unref(n).handle_svg_info)==null?void 0:A.info)==null?void 0:w.config.can_zoom]]),vue.withDirectives(vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"Y缩放",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(n).handle_svg_info.info.scale_y,"onUpdate:modelValue":b[18]||(b[18]=x=>vue.unref(n).handle_svg_info.info.scale_y=x),onChange:v},null,8,["modelValue"])]),_:1},512),[[vue.vShow,(T=(S=vue.unref(n).handle_svg_info)==null?void 0:S.info)==null?void 0:T.config.can_zoom]]),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"旋转",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInputNumber),{modelValue:vue.unref(n).handle_svg_info.info.rotate,"onUpdate:modelValue":b[19]||(b[19]=x=>vue.unref(n).handle_svg_info.info.rotate=x),onChange:v},null,8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"显示",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSwitch),{modelValue:vue.unref(n).handle_svg_info.info.display,"onUpdate:modelValue":b[20]||(b[20]=x=>vue.unref(n).handle_svg_info.info.display=x)},null,8,["modelValue"])]),_:1})]}),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"数据",name:"data"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"90px","label-position":"left"},{default:vue.withCtx(()=>{var A,w,S,T,x,M,L,k;return[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"ID",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).handle_svg_info.info.id,"onUpdate:modelValue":b[21]||(b[21]=ie=>vue.unref(n).handle_svg_info.info.id=ie)},null,8,["modelValue"])]),_:1}),(w=(A=vue.unref(n).handle_svg_info)==null?void 0:A.info)!=null&&w.state?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,class:"props-row",label:"state",size:"small"},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(n).handle_svg_info.info.defaultState),1)]),_:1})):vue.createCommentVNode("",!0),(T=(S=vue.unref(n).handle_svg_info)==null?void 0:S.info)!=null&&T.state?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:1,label:"状态",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(n).handle_svg_info.info.defaultState,"onUpdate:modelValue":b[22]||(b[22]=ie=>vue.unref(n).handle_svg_info.info.defaultState=ie),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(n).handle_svg_info.info.state,(ie,$)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:"state"+String($),label:ie.label,value:$},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):vue.createCommentVNode("",!0),(x=vue.unref(n).handle_svg_info.info)!=null&&x.hasOwnProperty("tag_slot")?(vue.openBlock(),vue.createElementBlock("div",_hoisted_2$2,[vue.createVNode(vue.unref(elementPlus.ElFormItem),{class:"props-row",label:"tag_slot",size:"small"},{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(vue.unref(n).handle_svg_info.info.tag_slot),1)]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"文字插槽",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:vue.unref(n).handle_svg_info.info.tag_slot,"onUpdate:modelValue":b[23]||(b[23]=ie=>vue.unref(n).handle_svg_info.info.tag_slot=ie),onInput:b[24]||(b[24]=ie=>v(ie,null,!0))},null,8,["modelValue"])]),_:1})])):vue.createCommentVNode("",!0),vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(n).handle_svg_info.info.props,code:"",onChange:b[25]||(b[25]=ie=>v(ie,null,!0))},null,8,["obj-info"]),vue.unref(n).handle_svg_info.info.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:3,label:vue.unref(n).handle_svg_info.info.animations.type.title,size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(n).handle_svg_info.info.animations.type.val,"onUpdate:modelValue":b[26]||(b[26]=ie=>vue.unref(n).handle_svg_info.info.animations.type.val=ie),placeholder:"Select",size:"small"},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(n).handle_svg_info.info.animations.type.options,ie=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElOption),{key:ie.value,label:ie.label,value:ie.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["label"])):vue.createCommentVNode("",!0),((M=vue.unref(n).handle_svg_info.info.animations)==null?void 0:M.type.val)!=="None"?(vue.openBlock(),vue.createBlock(DynamicElFormItem,{key:4,"obj-info":vue.unref(n).handle_svg_info.info.animations,hide:["type","repeatCount"]},null,8,["obj-info"])):vue.createCommentVNode("",!0),((L=vue.unref(n).handle_svg_info)==null?void 0:L.info.type)===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$6,{key:5,modelValue:vue.unref(n).handle_svg_info.info.bind_anchors.start,"onUpdate:modelValue":b[27]||(b[27]=ie=>vue.unref(n).handle_svg_info.info.bind_anchors.start=ie),title:"绑定起点"},null,8,["modelValue"])):vue.createCommentVNode("",!0),((k=vue.unref(n).handle_svg_info)==null?void 0:k.info.type)===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$6,{key:6,modelValue:vue.unref(n).handle_svg_info.info.bind_anchors.end,"onUpdate:modelValue":b[28]||(b[28]=ie=>vue.unref(n).handle_svg_info.info.bind_anchors.end=ie),title:"绑定终点"},null,8,["modelValue"])):vue.createCommentVNode("",!0)]}),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"事件",name:"event"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{type:"primary",style:{width:"100%"},onClick:vue.unref(h)},{default:vue.withCtx(()=>[vue.createTextVNode("添加事件")]),_:1},8,["onClick"]),vue.createVNode(vue.unref(elementPlus.ElCollapse),{modelValue:vue.unref(d),"onUpdate:modelValue":b[29]||(b[29]=A=>vue.isRef(d)?d.value=A:null)},{default:vue.withCtx(()=>[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(n).handle_svg_info.info.events,(A,w)=>(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElCollapseItem),{name:w,key:"event"+w},{title:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_3$1,[vue.createElementVNode("span",null,"事件"+vue.toDisplayString(w+1),1),vue.createVNode(vue.unref(elementPlus.ElIcon),{size:16,class:"bt-Icon",onClick:vue.withModifiers(S=>g(w),["stop"])},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$E,{name:"delete"})]),_:2},1032,["onClick"])])]),default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElForm),{"label-width":"90px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"类型",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:A.type,"onUpdate:modelValue":S=>A.type=S},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"Click",label:"点击"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"Change",label:"值改变"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"行为",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:A.action,"onUpdate:modelValue":S=>A.action=S,onChange:S=>y(S,A)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"ChangeAttr",label:"改变属性"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"JavaScript",label:"执行JavaScript"})]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024),A.action==="ChangeAttr"?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:0,label:"目标",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElInput),{modelValue:A.target,"onUpdate:modelValue":S=>A.target=S,placeholder:"默认自身"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):vue.createCommentVNode("",!0),A.action==="ChangeAttr"?(vue.openBlock(),vue.createBlock(List,{key:1,modelValue:A.attrs,"onUpdate:modelValue":S=>A.attrs=S},null,8,["modelValue","onUpdate:modelValue"])):vue.createCommentVNode("",!0),A.action==="JavaScript"?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElFormItem),{key:2,label:"JavaScript",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$x,{modelValue:A.scripts,"onUpdate:modelValue":S=>A.scripts=S,lang:"javascript"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)):vue.createCommentVNode("",!0),vue.createVNode(Condition,{modelValue:A.condition,"onUpdate:modelValue":S=>A.condition=S},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1024)]),_:2},1032,["name"]))),128))]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"动效",name:"animation"},{default:vue.withCtx(()=>{var A;return[(A=vue.unref(n).handle_svg_info)!=null&&A.info.animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:0,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(DynamicElFormItem,{"obj-info":vue.unref(n).handle_svg_info.info.animations},null,8,["obj-info"])]),_:1})):vue.unref(n).handle_svg_info.info.common_animations?(vue.openBlock(),vue.createBlock(vue.unref(elementPlus.ElForm),{key:1,"label-width":"60px","label-position":"left"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"动画效果",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(CommonAnimate,{onUpdateCommonAniVal:b[30]||(b[30]=w=>{var S;return c((S=vue.unref(n).handle_svg_info)==null?void 0:S.info,w)}),val:vue.unref(n).handle_svg_info.info.common_animations.val},null,8,["val"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"延迟",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(n).handle_svg_info.info.common_animations.delay,"onUpdate:modelValue":b[31]||(b[31]=w=>vue.unref(n).handle_svg_info.info.common_animations.delay=w)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-0s",label:"无"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-1s",label:"1秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-2s",label:"2秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-3s",label:"3秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-4s",label:"4秒"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"delay-5s",label:"5秒"})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"动画速度",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(n).handle_svg_info.info.common_animations.speed,"onUpdate:modelValue":b[32]||(b[32]=w=>vue.unref(n).handle_svg_info.info.common_animations.speed=w)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"slow",label:"慢"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"slower",label:"最慢"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"fast",label:"快"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"faster",label:"最快"})]),_:1},8,["modelValue"])]),_:1}),vue.createVNode(vue.unref(elementPlus.ElFormItem),{label:"循环次数",size:"small"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElSelect),{modelValue:vue.unref(n).handle_svg_info.info.common_animations.repeat,"onUpdate:modelValue":b[33]||(b[33]=w=>vue.unref(n).handle_svg_info.info.common_animations.repeat=w)},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-1",label:"一次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-2",label:"两次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"repeat-3",label:"三次"}),vue.createVNode(vue.unref(elementPlus.ElOption),{value:"infinite",label:"无限次"})]),_:1},8,["modelValue"])]),_:1})]),_:1})):vue.createCommentVNode("",!0)]}),_:1}),vue.createVNode(vue.unref(elementPlus.ElTabPane),{label:"结构",name:"tree"},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$u)]),_:1})]),_:1},8,["modelValue"])):vue.createCommentVNode("",!0)}}),rightPanel_vue_vue_type_style_index_0_scoped_9b4c5da1_lang="",rightPanel_vue_vue_type_style_index_1_lang="",RightPanel=_export_sfc$1(_sfc_main$5,[["__scopeId","data-v-9b4c5da1"]]),_sfc_main$4=vue.defineComponent({__name:"export-json",setup(i){const r=vue.ref(""),n=useGlobalStore(pinia),o=useSvgEditLayoutStore(pinia),a=useConfigStore(pinia);return vue.onMounted(()=>{const u={layout_center:o.center_offset,config:a.$state,done_json:n.done_json};r.value=JSON.stringify(u,null,2)}),(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(VAceEditor),{value:vue.unref(r),"onUpdate:value":c[0]||(c[0]=d=>vue.isRef(r)?r.value=d:null),lang:"json",theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value"]))}}),_sfc_main$3=vue.defineComponent({__name:"import-json",setup(i,{expose:r}){const n=vue.ref("");return r({setVal:u=>{n.value=u},onImportJson:()=>{useImportDataModel(n.value)&&elementPlus.ElMessage.success("导入成功")}}),(u,c)=>(vue.openBlock(),vue.createBlock(vue.unref(VAceEditor),{value:vue.unref(n),"onUpdate:value":c[0]||(c[0]=d=>vue.isRef(n)?n.value=d:null),lang:"json",theme:"kr_theme",style:{height:"400px"},options:{useWorker:!0,enableBasicAutocompletion:!0,enableSnippets:!0,enableLiveAutocompletion:!0}},null,8,["value"]))}}),_hoisted_1$2=["title","onMousedown"],_hoisted_2$1={class:"vue-ruler-content-mask"},_sfc_main$2=vue.defineComponent({__name:"vue3-ruler-tool",props:{visible:{type:Boolean,default:!0},stepLength:{default:100}},emits:["onLineMouseUp"],setup(i,{emit:r}){const n=r,o=i,a=useSvgEditLayoutStore(pinia),u=useConfigStore(pinia),c=function(){return function(pe,ue,$e){pe&&ue&&$e&&pe.addEventListener(ue,$e,!1)}}(),d=function(){return function(pe,ue,$e){pe&&ue&&pe.removeEventListener(ue,$e,!1)}}();let f=18,h=vue.ref(0),y=vue.ref(0),g=vue.ref([]),p=vue.ref([]);const v=vue.ref([]);let _=vue.ref(!1),b="",A=vue.ref(-999),w=vue.ref(-999),S=18,T=18,x="";const M=vue.ref(null),L=vue.ref(null),k=vue.ref(null),ie=vue.ref(null),$=vue.computed(()=>({width:h.value+"px",height:y.value+"px"})),z=vue.computed(()=>({padding:f+"px 0px 0px "+f+"px"})),V=vue.computed(()=>{let pe=0,ue=0;return v.value.map($e=>{const Ne=$e.type==="h";return{id:`${$e.type}_${Ne?pe++:ue++}`,type:$e.type,title:$e.site.toFixed(0)+"px",[Ne?"top":"left"]:$e.site*u.svg.scale+f+a.center_offset[Ne?"y":"x"]*u.svg.scale}})});a.$subscribe(pe=>{var ue,$e,Ne,Oe;(($e=(ue=pe.events)==null?void 0:ue.target)!=null&&$e.hasOwnProperty("left_nav")||(Oe=(Ne=pe.events)==null?void 0:Ne.target)!=null&&Oe.hasOwnProperty("right_nav"))&&window.setTimeout(re,420)}),u.$subscribe(pe=>{var ue,$e;($e=(ue=pe.events)==null?void 0:ue.target)!=null&&$e.hasOwnProperty("scale")&&Fe()}),vue.onMounted(()=>{c(document,"mousemove",At),c(document,"mouseup",In),re(),c(window,"resize",D)}),vue.onBeforeUnmount(()=>{d(document,"mousemove",At),d(document,"mouseup",In),d(window,"resize",D)});const re=()=>{de(),Fe()},D=()=>{g.value=[],p.value=[],re()},Ce=({type:pe,top:ue,left:$e})=>pe==="h"?{top:ue+"px"}:{left:$e+"px"},le=({type:pe,id:ue})=>pe==="h"?Dt(ue):jt(ue),de=()=>{const pe=window.getComputedStyle(L.value.parentNode,null);h.value=parseInt(pe.getPropertyValue("width")),y.value=parseInt(pe.getPropertyValue("height")),S=k.value.clientWidth,T=ie.value.clientHeight},Fe=()=>{Ie(g.value,h.value,a.center_offset.x),Ie(p.value,y.value,a.center_offset.y)},Ie=(pe,ue,$e)=>{if(pe.length===0)for(let Ne=0;Ne<ue;Ne+=o.stepLength)Ne%o.stepLength===0&&pe.push({id:Number((Ne/u.svg.scale-$e).toFixed(0))});else pe.forEach((Ne,Oe)=>{Ne.id=Number((Oe*o.stepLength/u.svg.scale-$e).toFixed(0))})},At=pe=>{Fe(),_e(pe)},_e=pe=>{if(!(pe.layerX===pe.x||pe.layerY===pe.y))switch(b){case"x":_.value&&(w.value=pe.layerY);break;case"y":_.value&&(A.value=pe.layerX);break;case"h":_.value&&(w.value=pe.layerY);break;case"v":_.value&&(A.value=pe.layerX);break}},qe=pe=>{_.value=!0,b=pe},In=pe=>{vn(pe)},vn=pe=>{if(_.value){switch(_.value=!1,b){case"x":const ue=Math.round((pe.layerY-f)/u.svg.scale-a.center_offset.y);if(ue<=0){w.value=-999;return}v.value.push({type:"h",site:ue});break;case"y":const $e=Math.round((pe.layerX-f)/u.svg.scale-a.center_offset.x);if($e<=0){A.value=-999;return}v.value.push({type:"v",site:$e});break;case"h":Pt(v.value,Math.round((pe.layerY-f)/u.svg.scale-a.center_offset.y),Math.round(T/u.svg.scale-a.center_offset.y),"h");break;case"v":Pt(v.value,Math.round((pe.layerX-f)/u.svg.scale-a.center_offset.x),Math.round(S/u.svg.scale-a.center_offset.x),"v");break}w.value=A.value=-999}},Pt=(pe,ue,$e,Ne)=>{if(ue<$e){let Oe;V.value.forEach((Lt,kt)=>{Lt.id===x&&(Oe=kt)}),pe.splice(Oe,1)}else{let Oe;V.value.forEach((Lt,kt)=>{Lt.id===x&&(Oe=kt)}),pe.splice(Oe,1,{type:Ne,site:ue})}},he=()=>{qe("x")},Ue=()=>{qe("y")},Dt=pe=>{_.value=!0,b="h",x=pe},jt=pe=>{_.value=!0,b="v",x=pe},Et=()=>{n("onLineMouseUp")};return(pe,ue)=>(vue.openBlock(),vue.createElementBlock("div",{style:vue.normalizeStyle(vue.unref($)),class:"vue-ruler-wrapper",onselectStart:"return false;",ref_key:"el",ref:L},[vue.withDirectives(vue.createElementVNode("section",null,[vue.createElementVNode("div",{ref_key:"horizontalRuler",ref:ie,class:"vue-ruler-h",onMousedown:vue.withModifiers(he,["stop"])},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(g),($e,Ne)=>(vue.openBlock(),vue.createElementBlock("span",{style:vue.normalizeStyle({left:Ne*pe.stepLength+"px"}),class:"n"},vue.toDisplayString($e.id),5))),256))],544),vue.createElementVNode("div",{ref_key:"verticalRuler",ref:k,class:"vue-ruler-v",onMousedown:vue.withModifiers(Ue,["stop"])},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(p),($e,Ne)=>(vue.openBlock(),vue.createElementBlock("span",{style:vue.normalizeStyle({top:Ne*pe.stepLength+"px"}),class:"n"},vue.toDisplayString($e.id),5))),256))],544),vue.createElementVNode("div",{style:vue.normalizeStyle({top:vue.unref(w)+"px"}),class:"vue-ruler-ref-dot-h"},[vue.createElementVNode("span",null,vue.toDisplayString(Math.round((vue.unref(w)-vue.unref(T))/vue.unref(u).svg.scale)),1)],4),vue.createElementVNode("div",{style:vue.normalizeStyle({left:vue.unref(A)+"px"}),class:"vue-ruler-ref-dot-v"},[vue.createElementVNode("span",null,vue.toDisplayString(Math.round((vue.unref(A)-vue.unref(S))/vue.unref(u).svg.scale)),1)],4),(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(V),$e=>(vue.openBlock(),vue.createElementBlock("div",{title:$e.title,style:vue.normalizeStyle(Ce($e)),key:$e.id,class:vue.normalizeClass(`vue-ruler-ref-line-${$e.type}`),onMousedown:Ne=>le($e),onMouseup:Et,onContextmenu:ue[0]||(ue[0]=(...Ne)=>vue.unref(preventDefault)&&vue.unref(preventDefault)(...Ne))},null,46,_hoisted_1$2))),128))],512),[[vue.vShow,o.visible]]),vue.createElementVNode("div",{ref_key:"content",ref:M,class:"vue-ruler-content",style:vue.normalizeStyle(vue.unref(z))},[vue.renderSlot(pe.$slots,"default")],4),vue.withDirectives(vue.createElementVNode("div",_hoisted_2$1,null,512),[[vue.vShow,vue.unref(_)]])],4))}}),vue3RulerTool_vue_vue_type_style_index_0_lang="";function fileWrite(i,r=new Date(Date.now()).toLocaleString()){const n=JSON.stringify(i),o=new Blob([n]);let a=document.createElement("a");a.download=r+".json",a.style.display="none",a.href=URL.createObjectURL(o),document.body.appendChild(a),a.click(),document.body.removeChild(a)}function fileRead(i){return new Promise((r,n)=>{let o=new FileReader;o.readAsText(i,"UTF-8"),o.onload=function(a){a&&a.target?r(a.target.result):n("文件读取错误")}})}const _hoisted_1$1={class:"canvas-main-pc"},_sfc_main$1=vue.defineComponent({__name:"index",props:{customToolbar:{},vueComp:{},data:{},saveFile:{type:Boolean,default:!1}},emits:["onReturn","onPreview","onSave"],setup(i,{expose:r,emit:n}){setEditorLoadTime();const o=n,a=i,u=useGlobalStore(pinia),c=useSvgEditLayoutStore(pinia),d=useConfigStore(pinia),f=useEditPrivateStore(pinia),h=vue.ref(),y=vue.ref(),g=vue.reactive({[EVisibleConfKey.ExportJson]:!1,[EVisibleConfKey.ImportJson]:!1,[EVisibleConfKey.ImportFile]:!1}),p=(x,M)=>{g[x]=M},v=vue.ref();v.value=()=>{y.value.onImportJson(),p(EVisibleConfKey.ImportJson,!1)};const _=x=>["text/plain","application/json"].indexOf(x.type)<0?(elementPlus.ElMessage.error("仅支持的格式：txt、json"),!1):(fileRead(x).then(M=>{y.value.setVal(M),elementPlus.ElMessage.success("文件读取成功！")}),!1),b=x=>{u.setDoneJson(x)};vue.onMounted(()=>{f.history_doneComponent=[],f.history_now_index=0,a.data?useImportDataModel(a.data):u.setDoneJson([]),u.intention=EGlobalStoreIntention.None});const{appContext:A}=vue.getCurrentInstance();function w(x){o("onReturn",{data:x,isChange:f.getTopBtnUndoStatus})}function S(x){a.saveFile?elementPlus.ElMessageBox.prompt("请输入文件名","保存",{cancelButtonText:"取消",confirmButtonText:"保存"},A).then(M=>{fileWrite(x,M.value.trim()),o("onSave",x)}).catch(M=>{console.log(M)}):o("onSave",x)}function T(){h.value.onCanvasMouseUp()}return r({setGraphNodeJson:b}),(x,M)=>(vue.openBlock(),vue.createElementBlock("div",null,[vue.createVNode(vue.unref(elementPlus.ElContainer),null,{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElHeader),{class:"top-el-header"},{default:vue.withCtx(()=>[vue.createVNode(TopPanel,{onChangeVisible:p,onOnReturn:w,onOnPreview:M[0]||(M[0]=L=>o("onPreview",L)),onOnSave:S})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElContainer),{class:"middle"},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElAside),{class:vue.normalizeClass(["side-nav",vue.unref(c).left_nav?"show-nav":"hide-nav"]),style:{"border-right":"1px solid #efefef"}},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{class:"el-scroll-pc"},{default:vue.withCtx(()=>[vue.createVNode(LeftPanel,{class:"content-left","custom-toolbar":a.customToolbar},null,8,["custom-toolbar"])]),_:1})]),_:1},8,["class"]),vue.createVNode(vue.unref(elementPlus.ElMain),{class:"middle main"},{default:vue.withCtx(()=>[vue.createElementVNode("div",_hoisted_1$1,[vue.createVNode(_sfc_main$2,{class:"canvas-main-pc",visible:vue.unref(d).svg.ruler,onOnLineMouseUp:T},{default:vue.withCtx(()=>[vue.createVNode(CenterPanel,{ref_key:"centerRef",ref:h,vueComp:a.vueComp},{background:vue.withCtx(()=>[vue.renderSlot(x.$slots,"background",{},void 0,!0)]),_:3},8,["vueComp"])]),_:3},8,["visible"])])]),_:3}),vue.createVNode(vue.unref(elementPlus.ElAside),{class:vue.normalizeClass(["side-nav",vue.unref(c).right_nav?"show-nav":"hide-nav"]),style:{"border-left":"1px solid #efefef"}},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElScrollbar),{class:"el-scroll-pc"},{default:vue.withCtx(()=>[vue.createVNode(RightPanel)]),_:1})]),_:1},8,["class"])]),_:3})]),_:3}),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(g).ImportJson,"onUpdate:modelValue":M[2]||(M[2]=L=>vue.unref(g).ImportJson=L),title:"导入数据",width:"60%","destroy-on-close":""},{footer:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElUpload),{beforeUpload:_,style:{display:"inline-flex","margin-right":"12px"},multiple:!1,"show-file-list":!1,limit:1},{default:vue.withCtx(()=>[vue.createVNode(vue.unref(elementPlus.ElButton),{onClick:M[1]||(M[1]=L=>p(vue.unref(EVisibleConfKey).ImportFile,!0))},{default:vue.withCtx(()=>[vue.createTextVNode("读取文件")]),_:1})]),_:1}),vue.createVNode(vue.unref(elementPlus.ElButton),{type:"primary",onClick:vue.unref(v)},{default:vue.withCtx(()=>[vue.createTextVNode("导入数据")]),_:1},8,["onClick"])]),default:vue.withCtx(()=>[vue.createVNode(_sfc_main$3,{ref_key:"importJsonRef",ref:y},null,512)]),_:1},8,["modelValue"]),vue.createVNode(vue.unref(elementPlus.ElDialog),{class:"modal-full",modelValue:vue.unref(g).ExportJson,"onUpdate:modelValue":M[3]||(M[3]=L=>vue.unref(g).ExportJson=L),title:"导出",width:"60%","destroy-on-close":""},{default:vue.withCtx(()=>[vue.createVNode(_sfc_main$4)]),_:1},8,["modelValue"])]))}}),index_vue_vue_type_style_index_0_scoped_ed6b1a90_lang="",index=_export_sfc$1(_sfc_main$1,[["__scopeId","data-v-ed6b1a90"]]);function commonjsRequire(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mqtt={exports:{}};(function(i,r){(function(n){i.exports=n()})(function(){return function(){function n(o,a,u){function c(h,y){if(!a[h]){if(!o[h]){var g=typeof commonjsRequire=="function"&&commonjsRequire;if(!y&&g)return g(h,!0);if(d)return d(h,!0);var p=new Error("Cannot find module '"+h+"'");throw p.code="MODULE_NOT_FOUND",p}var v=a[h]={exports:{}};o[h][0].call(v.exports,function(_){var b=o[h][1][_];return c(b||_)},v,v.exports,n,o,a,u)}return a[h].exports}for(var d=typeof commonjsRequire=="function"&&commonjsRequire,f=0;f<u.length;f++)c(u[f]);return c}return n}()({1:[function(n,o,a){var u=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(a,"__esModule",{value:!0}),a.TypedEventEmitter=void 0;const c=u(n("events")),d=n("./shared");class f{}a.TypedEventEmitter=f,(0,d.applyMixin)(f,c.default)},{"./shared":17,events:49}],2:[function(n,o,a){(function(u,c){(function(){var d=this&&this.__createBinding||(Object.create?function(V,re,D,Ce){Ce===void 0&&(Ce=D);var le=Object.getOwnPropertyDescriptor(re,D);(!le||("get"in le?!re.__esModule:le.writable||le.configurable))&&(le={enumerable:!0,get:function(){return re[D]}}),Object.defineProperty(V,Ce,le)}:function(V,re,D,Ce){Ce===void 0&&(Ce=D),V[Ce]=re[D]}),f=this&&this.__setModuleDefault||(Object.create?function(V,re){Object.defineProperty(V,"default",{enumerable:!0,value:re})}:function(V,re){V.default=re}),h=this&&this.__importStar||function(V){if(V&&V.__esModule)return V;var re={};if(V!=null)for(var D in V)D!=="default"&&Object.prototype.hasOwnProperty.call(V,D)&&d(re,V,D);return f(re,V),re},y=this&&this.__importDefault||function(V){return V&&V.__esModule?V:{default:V}};Object.defineProperty(a,"__esModule",{value:!0});const g=y(n("./topic-alias-recv")),p=y(n("mqtt-packet")),v=y(n("./default-message-id-provider")),_=n("readable-stream"),b=y(n("reinterval")),A=y(n("rfdc/default")),w=h(n("./validations")),S=y(n("debug")),T=y(n("./store")),x=y(n("./handlers")),M=n("./TypedEmitter"),L=u?u.nextTick:V=>{setTimeout(V,0)},k=c.setImmediate||((...V)=>{const re=V.shift();L(()=>{re(...V)})}),ie={keepalive:60,reschedulePings:!0,protocolId:"MQTT",protocolVersion:4,reconnectPeriod:1e3,connectTimeout:30*1e3,clean:!0,resubscribe:!0,writeCache:!0},$=["ECONNREFUSED","EADDRINUSE","ECONNRESET","ENOTFOUND","ETIMEDOUT"];class z extends M.TypedEventEmitter{static defaultId(){return`mqttjs_${Math.random().toString(16).substr(2,8)}`}constructor(re,D){super(),this.options=D||{};for(const Ce in ie)typeof this.options[Ce]>"u"?this.options[Ce]=ie[Ce]:this.options[Ce]=D[Ce];this.log=this.options.log||(0,S.default)("mqttjs:client"),this.noop=this._noop.bind(this),this.log("MqttClient :: options.protocol",D.protocol),this.log("MqttClient :: options.protocolVersion",D.protocolVersion),this.log("MqttClient :: options.username",D.username),this.log("MqttClient :: options.keepalive",D.keepalive),this.log("MqttClient :: options.reconnectPeriod",D.reconnectPeriod),this.log("MqttClient :: options.rejectUnauthorized",D.rejectUnauthorized),this.log("MqttClient :: options.properties.topicAliasMaximum",D.properties?D.properties.topicAliasMaximum:void 0),this.options.clientId=typeof D.clientId=="string"?D.clientId:z.defaultId(),this.log("MqttClient :: clientId",this.options.clientId),this.options.customHandleAcks=D.protocolVersion===5&&D.customHandleAcks?D.customHandleAcks:(...Ce)=>{Ce[3](null,0)},this.options.writeCache||(p.default.writeToStream.cacheNumbers=!1),this.streamBuilder=re,this.messageIdProvider=typeof this.options.messageIdProvider>"u"?new v.default:this.options.messageIdProvider,this.outgoingStore=D.outgoingStore||new T.default,this.incomingStore=D.incomingStore||new T.default,this.queueQoSZero=D.queueQoSZero===void 0?!0:D.queueQoSZero,this._resubscribeTopics={},this.messageIdToTopic={},this.pingTimer=null,this.connected=!1,this.disconnecting=!1,this.reconnecting=!1,this.queue=[],this.connackTimer=null,this.reconnectTimer=null,this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={},this._storeProcessingQueue=[],this.outgoing={},this._firstConnection=!0,D.properties&&D.properties.topicAliasMaximum>0&&(D.properties.topicAliasMaximum>65535?this.log("MqttClient :: options.properties.topicAliasMaximum is out of range"):this.topicAliasRecv=new g.default(D.properties.topicAliasMaximum)),this.on("connect",()=>{const{queue:Ce}=this,le=()=>{const de=Ce.shift();this.log("deliver :: entry %o",de);let Fe=null;if(!de){this._resubscribe();return}Fe=de.packet,this.log("deliver :: call _sendPacket for %o",Fe);let Ie=!0;Fe.messageId&&Fe.messageId!==0&&(this.messageIdProvider.register(Fe.messageId)||(Ie=!1)),Ie?this._sendPacket(Fe,At=>{de.cb&&de.cb(At),le()}):(this.log("messageId: %d has already used. The message is skipped and removed.",Fe.messageId),le())};this.log("connect :: sending queued packets"),le()}),this.on("close",()=>{this.log("close :: connected set to `false`"),this.connected=!1,this.log("close :: clearing connackTimer"),clearTimeout(this.connackTimer),this.log("close :: clearing ping timer"),this.pingTimer!==null&&(this.pingTimer.clear(),this.pingTimer=null),this.topicAliasRecv&&this.topicAliasRecv.clear(),this.log("close :: calling _setupReconnect"),this._setupReconnect()}),this.options.manualConnect||(this.log("MqttClient :: setting up stream"),this.connect())}handleAuth(re,D){D()}handleMessage(re,D){D()}_nextId(){return this.messageIdProvider.allocate()}getLastMessageId(){return this.messageIdProvider.getLastAllocated()}connect(){var re;const D=new _.Writable,Ce=p.default.parser(this.options);let le=null;const de=[];this.log("connect :: calling method to clear reconnect"),this._clearReconnect(),this.log("connect :: using streamBuilder provided to client to create stream"),this.stream=this.streamBuilder(this),Ce.on("packet",qe=>{this.log("parser :: on packet push to packets array."),de.push(qe)});const Fe=()=>{this.log("work :: getting next packet in queue");const qe=de.shift();if(qe)this.log("work :: packet pulled from queue"),(0,x.default)(this,qe,Ie);else{this.log("work :: no packets in queue");const In=le;le=null,this.log("work :: done flag is %s",!!In),In&&In()}},Ie=()=>{if(de.length)L(Fe);else{const qe=le;le=null,qe()}};D._write=(qe,In,vn)=>{le=vn,this.log("writable stream :: parsing buffer"),Ce.parse(qe),Fe()};const At=qe=>{this.log("streamErrorHandler :: error",qe.message),$.includes(qe.code)?(this.log("streamErrorHandler :: emitting error"),this.emit("error",qe)):this.noop(qe)};this.log("connect :: pipe stream to writable stream"),this.stream.pipe(D),this.stream.on("error",At),this.stream.on("close",()=>{this.log("(%s)stream :: on close",this.options.clientId),this._flushVolatile(),this.log("stream: emit close to MqttClient"),this.emit("close")}),this.log("connect: sending packet `connect`");const _e={cmd:"connect",protocolId:this.options.protocolId,protocolVersion:this.options.protocolVersion,clean:this.options.clean,clientId:this.options.clientId,keepalive:this.options.keepalive,username:this.options.username,password:this.options.password,properties:this.options.properties};if(this.options.will&&(_e.will=Object.assign(Object.assign({},this.options.will),{payload:(re=this.options.will)===null||re===void 0?void 0:re.payload})),this.topicAliasRecv&&(_e.properties||(_e.properties={}),this.topicAliasRecv&&(_e.properties.topicAliasMaximum=this.topicAliasRecv.max)),this._writePacket(_e),Ce.on("error",this.emit.bind(this,"error")),this.options.properties){if(!this.options.properties.authenticationMethod&&this.options.properties.authenticationData)return this.end(()=>this.emit("error",new Error("Packet has no Authentication Method"))),this;if(this.options.properties.authenticationMethod&&this.options.authPacket&&typeof this.options.authPacket=="object"){const qe=Object.assign({cmd:"auth",reasonCode:0},this.options.authPacket);this._writePacket(qe)}}return this.stream.setMaxListeners(1e3),clearTimeout(this.connackTimer),this.connackTimer=setTimeout(()=>{this.log("!!connectTimeout hit!! Calling _cleanUp with force `true`"),this._cleanUp(!0)},this.options.connectTimeout),this}publish(re,D,Ce,le){this.log("publish :: message `%s` to topic `%s`",D,re);const{options:de}=this;typeof Ce=="function"&&(le=Ce,Ce=null),Ce=Ce||{},Ce=Object.assign(Object.assign({},{qos:0,retain:!1,dup:!1}),Ce);const{qos:Ie,retain:At,dup:_e,properties:qe,cbStorePut:In}=Ce;if(this._checkDisconnecting(le))return this;const vn=()=>{let Pt=0;if((Ie===1||Ie===2)&&(Pt=this._nextId(),Pt===null))return this.log("No messageId left"),!1;const he={cmd:"publish",topic:re,payload:D,qos:Ie,retain:At,messageId:Pt,dup:_e};switch(de.protocolVersion===5&&(he.properties=qe),this.log("publish :: qos",Ie),Ie){case 1:case 2:this.outgoing[he.messageId]={volatile:!1,cb:le||this.noop},this.log("MqttClient:publish: packet cmd: %s",he.cmd),this._sendPacket(he,void 0,In);break;default:this.log("MqttClient:publish: packet cmd: %s",he.cmd),this._sendPacket(he,le,In);break}return!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!vn())&&this._storeProcessingQueue.push({invoke:vn,cbStorePut:Ce.cbStorePut,callback:le}),this}publishAsync(re,D,Ce){return new Promise((le,de)=>{this.publish(re,D,Ce,(Fe,Ie)=>{Fe?de(Fe):le(Ie)})})}subscribe(re,D,Ce){const le=this.options.protocolVersion;typeof D=="function"&&(Ce=D),Ce=Ce||this.noop;let de=!1,Fe=[];typeof re=="string"?(re=[re],Fe=re):Array.isArray(re)?Fe=re:typeof re=="object"&&(de=re.resubscribe,delete re.resubscribe,Fe=Object.keys(re));const Ie=w.validateTopics(Fe);if(Ie!==null)return k(Ce,new Error(`Invalid topic ${Ie}`)),this;if(this._checkDisconnecting(Ce))return this.log("subscribe: discconecting true"),this;const At={qos:0};le===5&&(At.nl=!1,At.rap=!1,At.rh=0),D=Object.assign(Object.assign({},At),D);const _e=D.properties,qe=[],In=(Pt,he)=>{if(he=he||D,!Object.prototype.hasOwnProperty.call(this._resubscribeTopics,Pt)||this._resubscribeTopics[Pt].qos<he.qos||de){const Ue={topic:Pt,qos:he.qos};le===5&&(Ue.nl=he.nl,Ue.rap=he.rap,Ue.rh=he.rh,Ue.properties=_e),this.log("subscribe: pushing topic `%s` and qos `%s` to subs list",Ue.topic,Ue.qos),qe.push(Ue)}};if(Array.isArray(re)?re.forEach(Pt=>{this.log("subscribe: array topic %s",Pt),In(Pt)}):Object.keys(re).forEach(Pt=>{this.log("subscribe: object topic %s, %o",Pt,re[Pt]),In(Pt,re[Pt])}),!qe.length)return Ce(null,[]),this;const vn=()=>{const Pt=this._nextId();if(Pt===null)return this.log("No messageId left"),!1;const he={cmd:"subscribe",subscriptions:qe,messageId:Pt};if(_e&&(he.properties=_e),this.options.resubscribe){this.log("subscribe :: resubscribe true");const Ue=[];qe.forEach(Dt=>{if(this.options.reconnectPeriod>0){const jt={qos:Dt.qos};le===5&&(jt.nl=Dt.nl||!1,jt.rap=Dt.rap||!1,jt.rh=Dt.rh||0,jt.properties=Dt.properties),this._resubscribeTopics[Dt.topic]=jt,Ue.push(Dt.topic)}}),this.messageIdToTopic[he.messageId]=Ue}return this.outgoing[he.messageId]={volatile:!0,cb(Ue,Dt){if(!Ue){const{granted:jt}=Dt;for(let Et=0;Et<jt.length;Et+=1)qe[Et].qos=jt[Et]}Ce(Ue,qe)}},this.log("subscribe :: call _sendPacket"),this._sendPacket(he),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!vn())&&this._storeProcessingQueue.push({invoke:vn,callback:Ce}),this}subscribeAsync(re,D){return new Promise((Ce,le)=>{this.subscribe(re,D,(de,Fe)=>{de?le(de):Ce(Fe)})})}unsubscribe(re,D,Ce){typeof re=="string"&&(re=[re]),typeof D=="function"&&(Ce=D),Ce=Ce||this.noop;const le=w.validateTopics(re);if(le!==null)return k(Ce,new Error(`Invalid topic ${le}`)),this;if(this._checkDisconnecting(Ce))return this;const de=()=>{const Fe=this._nextId();if(Fe===null)return this.log("No messageId left"),!1;const Ie={cmd:"unsubscribe",messageId:Fe,unsubscriptions:[]};return typeof re=="string"?Ie.unsubscriptions=[re]:Array.isArray(re)&&(Ie.unsubscriptions=re),this.options.resubscribe&&Ie.unsubscriptions.forEach(At=>{delete this._resubscribeTopics[At]}),typeof D=="object"&&D.properties&&(Ie.properties=D.properties),this.outgoing[Ie.messageId]={volatile:!0,cb:Ce},this.log("unsubscribe: call _sendPacket"),this._sendPacket(Ie),!0};return(this._storeProcessing||this._storeProcessingQueue.length>0||!de())&&this._storeProcessingQueue.push({invoke:de,callback:Ce}),this}unsubscribeAsync(re,D){return new Promise((Ce,le)=>{this.unsubscribe(re,D,(de,Fe)=>{de?le(de):Ce(Fe)})})}end(re,D,Ce){this.log("end :: (%s)",this.options.clientId),(re==null||typeof re!="boolean")&&(Ce=Ce||D,D=re,re=!1),typeof D!="object"&&(Ce=Ce||D,D=null),this.log("end :: cb? %s",!!Ce),(!Ce||typeof Ce!="function")&&(Ce=this.noop);const le=()=>{this.log("end :: closeStores: closing incoming and outgoing stores"),this.disconnected=!0,this.incomingStore.close(Fe=>{this.outgoingStore.close(Ie=>{if(this.log("end :: closeStores: emitting end"),this.emit("end"),Ce){const At=Fe||Ie;this.log("end :: closeStores: invoking callback with args"),Ce(At)}})}),this._deferredReconnect&&this._deferredReconnect()},de=()=>{this.log("end :: (%s) :: finish :: calling _cleanUp with force %s",this.options.clientId,re),this._cleanUp(re,()=>{this.log("end :: finish :: calling process.nextTick on closeStores"),L(le)},D)};return this.disconnecting?(Ce(),this):(this._clearReconnect(),this.disconnecting=!0,!re&&Object.keys(this.outgoing).length>0?(this.log("end :: (%s) :: calling finish in 10ms once outgoing is empty",this.options.clientId),this.once("outgoingEmpty",setTimeout.bind(null,de,10))):(this.log("end :: (%s) :: immediately calling finish",this.options.clientId),de()),this)}endAsync(re,D){return new Promise((Ce,le)=>{this.end(re,D,de=>{de?le(de):Ce()})})}removeOutgoingMessage(re){if(this.outgoing[re]){const{cb:D}=this.outgoing[re];this._removeOutgoingAndStoreMessage(re,()=>{D(new Error("Message removed"))})}return this}reconnect(re){this.log("client reconnect");const D=()=>{re?(this.options.incomingStore=re.incomingStore,this.options.outgoingStore=re.outgoingStore):(this.options.incomingStore=null,this.options.outgoingStore=null),this.incomingStore=this.options.incomingStore||new T.default,this.outgoingStore=this.options.outgoingStore||new T.default,this.disconnecting=!1,this.disconnected=!1,this._deferredReconnect=null,this._reconnect()};return this.disconnecting&&!this.disconnected?this._deferredReconnect=D:D(),this}_flushVolatile(){this.outgoing&&(this.log("_flushVolatile :: deleting volatile messages from the queue and setting their callbacks as error function"),Object.keys(this.outgoing).forEach(re=>{this.outgoing[re].volatile&&typeof this.outgoing[re].cb=="function"&&(this.outgoing[re].cb(new Error("Connection closed")),delete this.outgoing[re])}))}_flush(){this.outgoing&&(this.log("_flush: queue exists? %b",!!this.outgoing),Object.keys(this.outgoing).forEach(re=>{typeof this.outgoing[re].cb=="function"&&(this.outgoing[re].cb(new Error("Connection closed")),delete this.outgoing[re])}))}_removeTopicAliasAndRecoverTopicName(re){let D;re.properties&&(D=re.properties.topicAlias);let Ce=re.topic.toString();if(this.log("_removeTopicAliasAndRecoverTopicName :: alias %d, topic %o",D,Ce),Ce.length===0){if(typeof D>"u")return new Error("Unregistered Topic Alias");if(Ce=this.topicAliasSend.getTopicByAlias(D),typeof Ce>"u")return new Error("Unregistered Topic Alias");re.topic=Ce}D&&delete re.properties.topicAlias}_checkDisconnecting(re){return this.disconnecting&&(re&&re!==this.noop?re(new Error("client disconnecting")):this.emit("error",new Error("client disconnecting"))),this.disconnecting}_reconnect(){this.log("_reconnect: emitting reconnect to client"),this.emit("reconnect"),this.connected?(this.end(()=>{this.connect()}),this.log("client already connected. disconnecting first.")):(this.log("_reconnect: calling connect"),this.connect())}_setupReconnect(){!this.disconnecting&&!this.reconnectTimer&&this.options.reconnectPeriod>0?(this.reconnecting||(this.log("_setupReconnect :: emit `offline` state"),this.emit("offline"),this.log("_setupReconnect :: set `reconnecting` to `true`"),this.reconnecting=!0),this.log("_setupReconnect :: setting reconnectTimer for %d ms",this.options.reconnectPeriod),this.reconnectTimer=setInterval(()=>{this.log("reconnectTimer :: reconnect triggered!"),this._reconnect()},this.options.reconnectPeriod)):this.log("_setupReconnect :: doing nothing...")}_clearReconnect(){this.log("_clearReconnect : clearing reconnect timer"),this.reconnectTimer&&(clearInterval(this.reconnectTimer),this.reconnectTimer=null)}_cleanUp(re,D,Ce={}){if(D&&(this.log("_cleanUp :: done callback provided for on stream close"),this.stream.on("close",D)),this.log("_cleanUp :: forced? %s",re),re)this.options.reconnectPeriod===0&&this.options.clean&&this._flush(),this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),this.stream.destroy();else{const le=Object.assign({cmd:"disconnect"},Ce);this.log("_cleanUp :: (%s) :: call _sendPacket with disconnect packet",this.options.clientId),this._sendPacket(le,()=>{this.log("_cleanUp :: (%s) :: destroying stream",this.options.clientId),k(()=>{this.stream.end(()=>{this.log("_cleanUp :: (%s) :: stream destroyed",this.options.clientId)})})})}this.disconnecting||(this.log("_cleanUp :: client not disconnecting. Clearing and resetting reconnect."),this._clearReconnect(),this._setupReconnect()),this.pingTimer!==null&&(this.log("_cleanUp :: clearing pingTimer"),this.pingTimer.clear(),this.pingTimer=null),D&&!this.connected&&(this.log("_cleanUp :: (%s) :: removing stream `done` callback `close` listener",this.options.clientId),this.stream.removeListener("close",D),D())}_storeAndSend(re,D,Ce){this.log("storeAndSend :: store packet with cmd %s to outgoingStore",re.cmd);let le=re,de;if(le.cmd==="publish"&&(le=(0,A.default)(re),de=this._removeTopicAliasAndRecoverTopicName(le),de))return D&&D(de);this.outgoingStore.put(le,Fe=>{if(Fe)return D&&D(Fe);Ce(),this._writePacket(re,D)})}_applyTopicAlias(re){if(this.options.protocolVersion===5&&re.cmd==="publish"){let D;re.properties&&(D=re.properties.topicAlias);const Ce=re.topic.toString();if(this.topicAliasSend)if(D){if(Ce.length!==0&&(this.log("applyTopicAlias :: register topic: %s - alias: %d",Ce,D),!this.topicAliasSend.put(Ce,D)))return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",Ce,D),new Error("Sending Topic Alias out of range")}else Ce.length!==0&&(this.options.autoAssignTopicAlias?(D=this.topicAliasSend.getAliasByTopic(Ce),D?(re.topic="",re.properties=Object.assign(Object.assign({},re.properties),{topicAlias:D}),this.log("applyTopicAlias :: auto assign(use) topic: %s - alias: %d",Ce,D)):(D=this.topicAliasSend.getLruAlias(),this.topicAliasSend.put(Ce,D),re.properties=Object.assign(Object.assign({},re.properties),{topicAlias:D}),this.log("applyTopicAlias :: auto assign topic: %s - alias: %d",Ce,D))):this.options.autoUseTopicAlias&&(D=this.topicAliasSend.getAliasByTopic(Ce),D&&(re.topic="",re.properties=Object.assign(Object.assign({},re.properties),{topicAlias:D}),this.log("applyTopicAlias :: auto use topic: %s - alias: %d",Ce,D))));else if(D)return this.log("applyTopicAlias :: error out of range. topic: %s - alias: %d",Ce,D),new Error("Sending Topic Alias out of range")}}_noop(re){this.log("noop ::",re)}_writePacket(re,D){this.log("_writePacket :: packet: %O",re),this.log("_writePacket :: emitting `packetsend`"),this.emit("packetsend",re),this._shiftPingInterval(),this.log("_writePacket :: writing to stream");const Ce=p.default.writeToStream(re,this.stream,this.options);this.log("_writePacket :: writeToStream result %s",Ce),!Ce&&D&&D!==this.noop?(this.log("_writePacket :: handle events on `drain` once through callback."),this.stream.once("drain",D)):D&&(this.log("_writePacket :: invoking cb"),D())}_sendPacket(re,D,Ce,le){this.log("_sendPacket :: (%s) ::  start",this.options.clientId),Ce=Ce||this.noop,D=D||this.noop;const de=this._applyTopicAlias(re);if(de){D(de);return}if(!this.connected){if(re.cmd==="auth"){this._writePacket(re,D);return}this.log("_sendPacket :: client not connected. Storing packet offline."),this._storePacket(re,D,Ce);return}if(le){this._writePacket(re,D);return}switch(re.cmd){case"publish":break;case"pubrel":this._storeAndSend(re,D,Ce);return;default:this._writePacket(re,D);return}switch(re.qos){case 2:case 1:this._storeAndSend(re,D,Ce);break;case 0:default:this._writePacket(re,D);break}this.log("_sendPacket :: (%s) ::  end",this.options.clientId)}_storePacket(re,D,Ce){this.log("_storePacket :: packet: %o",re),this.log("_storePacket :: cb? %s",!!D),Ce=Ce||this.noop;let le=re;if(le.cmd==="publish"){le=(0,A.default)(re);const Fe=this._removeTopicAliasAndRecoverTopicName(le);if(Fe)return D&&D(Fe)}const de=le.qos||0;de===0&&this.queueQoSZero||le.cmd!=="publish"?this.queue.push({packet:le,cb:D}):de>0?(D=this.outgoing[le.messageId]?this.outgoing[le.messageId].cb:null,this.outgoingStore.put(le,Fe=>{if(Fe)return D&&D(Fe);Ce()})):D&&D(new Error("No connection to broker"))}_setupPingTimer(){this.log("_setupPingTimer :: keepalive %d (seconds)",this.options.keepalive),!this.pingTimer&&this.options.keepalive&&(this.pingResp=!0,this.pingTimer=(0,b.default)(()=>{this._checkPing()},this.options.keepalive*1e3))}_shiftPingInterval(){this.pingTimer&&this.options.keepalive&&this.options.reschedulePings&&this.pingTimer.reschedule(this.options.keepalive*1e3)}_checkPing(){this.log("_checkPing :: checking ping..."),this.pingResp?(this.log("_checkPing :: ping response received. Clearing flag and sending `pingreq`"),this.pingResp=!1,this._sendPacket({cmd:"pingreq"})):(this.log("_checkPing :: calling _cleanUp with force true"),this._cleanUp(!0))}_resubscribe(){this.log("_resubscribe");const re=Object.keys(this._resubscribeTopics);if(!this._firstConnection&&(this.options.clean||this.options.protocolVersion>=4&&!this.connackPacket.sessionPresent)&&re.length>0)if(this.options.resubscribe)if(this.options.protocolVersion===5){this.log("_resubscribe: protocolVersion 5");for(let D=0;D<re.length;D++){const Ce={};Ce[re[D]]=this._resubscribeTopics[re[D]],Ce.resubscribe=!0,this.subscribe(Ce,{properties:Ce[re[D]].properties})}}else this._resubscribeTopics.resubscribe=!0,this.subscribe(this._resubscribeTopics);else this._resubscribeTopics={};this._firstConnection=!1}_onConnect(re){if(this.disconnected){this.emit("connect",re);return}this.connackPacket=re,this.messageIdProvider.clear(),this._setupPingTimer(),this.connected=!0;const D=()=>{let Ce=this.outgoingStore.createStream();const le=()=>{Ce.destroy(),Ce=null,this._flushStoreProcessingQueue(),de()},de=()=>{this._storeProcessing=!1,this._packetIdsDuringStoreProcessing={}};this.once("close",le),Ce.on("error",Ie=>{de(),this._flushStoreProcessingQueue(),this.removeListener("close",le),this.emit("error",Ie)});const Fe=()=>{if(!Ce)return;const Ie=Ce.read(1);let At;if(!Ie){Ce.once("readable",Fe);return}if(this._storeProcessing=!0,this._packetIdsDuringStoreProcessing[Ie.messageId]){Fe();return}!this.disconnecting&&!this.reconnectTimer?(At=this.outgoing[Ie.messageId]?this.outgoing[Ie.messageId].cb:null,this.outgoing[Ie.messageId]={volatile:!1,cb(_e,qe){At&&At(_e,qe),Fe()}},this._packetIdsDuringStoreProcessing[Ie.messageId]=!0,this.messageIdProvider.register(Ie.messageId)?this._sendPacket(Ie,void 0,void 0,!0):this.log("messageId: %d has already used.",Ie.messageId)):Ce.destroy&&Ce.destroy()};Ce.on("end",()=>{let Ie=!0;for(const At in this._packetIdsDuringStoreProcessing)if(!this._packetIdsDuringStoreProcessing[At]){Ie=!1;break}Ie?(de(),this.removeListener("close",le),this._invokeAllStoreProcessingQueue(),this.emit("connect",re)):D()}),Fe()};D()}_invokeStoreProcessingQueue(){if(!this._storeProcessing&&this._storeProcessingQueue.length>0){const re=this._storeProcessingQueue[0];if(re&&re.invoke())return this._storeProcessingQueue.shift(),!0}return!1}_invokeAllStoreProcessingQueue(){for(;this._invokeStoreProcessingQueue(););}_flushStoreProcessingQueue(){for(const re of this._storeProcessingQueue)re.cbStorePut&&re.cbStorePut(new Error("Connection closed")),re.callback&&re.callback(new Error("Connection closed"));this._storeProcessingQueue.splice(0)}_removeOutgoingAndStoreMessage(re,D){delete this.outgoing[re],this.outgoingStore.del({messageId:re},(Ce,le)=>{D(Ce,le),this.messageIdProvider.deallocate(re),this._invokeStoreProcessingQueue()})}}a.default=z}).call(this)}).call(this,n("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"./TypedEmitter":1,"./default-message-id-provider":9,"./handlers":13,"./store":18,"./topic-alias-recv":19,"./validations":22,_process:102,debug:30,"mqtt-packet":75,"readable-stream":125,reinterval:131,"rfdc/default":132}],3:[function(n,o,a){var u=this&&this.__importDefault||function(S){return S&&S.__esModule?S:{default:S}};Object.defineProperty(a,"__esModule",{value:!0});const c=n("buffer"),d=n("readable-stream"),f=u(n("duplexify"));let h,y,g,p=!1;function v(){const S=new d.Transform;return S._write=(T,x,M)=>{h.sendSocketMessage({data:T.buffer,success(){M()},fail(){M(new Error)}})},S._flush=T=>{h.closeSocket({success(){T()}})},S}function _(S){S.hostname||(S.hostname="localhost"),S.path||(S.path="/"),S.wsOptions||(S.wsOptions={})}function b(S,T){const x=S.protocol==="alis"?"wss":"ws";let M=`${x}://${S.hostname}${S.path}`;return S.port&&S.port!==80&&S.port!==443&&(M=`${x}://${S.hostname}:${S.port}${S.path}`),typeof S.transformWsUrl=="function"&&(M=S.transformWsUrl(M,S,T)),M}function A(){p||(p=!0,h.onSocketOpen(()=>{g.setReadable(y),g.setWritable(y),g.emit("connect")}),h.onSocketMessage(S=>{if(typeof S.data=="string"){const T=c.Buffer.from(S.data,"base64");y.push(T)}else{const T=new FileReader;T.addEventListener("load",()=>{let x=T.result;x instanceof ArrayBuffer?x=c.Buffer.from(x):x=c.Buffer.from(x,"utf8"),y.push(x)}),T.readAsArrayBuffer(S.data)}}),h.onSocketClose(()=>{g.end(),g.destroy()}),h.onSocketError(S=>{g.destroy(S)}))}const w=(S,T)=>{if(T.hostname=T.hostname||T.host,!T.hostname)throw new Error("Could not determine host. Specify host manually.");const x=T.protocolId==="MQIsdp"&&T.protocolVersion===3?"mqttv3.1":"mqtt";_(T);const M=b(T,S);return h=T.my,h.connectSocket({url:M,protocols:x}),y=v(),g=f.default.obj(),A(),g};a.default=w},{buffer:29,duplexify:32,"readable-stream":125}],4:[function(n,o,a){var u=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(a,"__esModule",{value:!0}),a.connectAsync=void 0;const c=u(n("debug")),d=u(n("url")),f=u(n("../client")),h=u(n("../is-browser")),y=(0,c.default)("mqttjs"),g={};h.default?(g.wx=n("./wx").default,g.wxs=n("./wx").default,g.ali=n("./ali").default,g.alis=n("./ali").default):(g.mqtt=n("./tcp").default,g.tcp=n("./tcp").default,g.ssl=n("./tls").default,g.tls=g.ssl,g.mqtts=n("./tls").default),g.ws=n("./ws").default,g.wss=n("./ws").default;function p(b){let A;b.auth&&(A=b.auth.match(/^(.+):(.+)$/),A?(b.username=A[1],b.password=A[2]):b.username=b.auth)}function v(b,A){if(y("connecting to an MQTT broker..."),typeof b=="object"&&!A&&(A=b,b=""),A=A||{},b&&typeof b=="string"){const T=d.default.parse(b,!0);if(T.port!=null&&(T.port=Number(T.port)),A=Object.assign(Object.assign({},T),A),A.protocol===null)throw new Error("Missing protocol");A.protocol=A.protocol.replace(/:$/,"")}if(p(A),A.query&&typeof A.query.clientId=="string"&&(A.clientId=A.query.clientId),A.cert&&A.key)if(A.protocol){if(["mqtts","wss","wxs","alis"].indexOf(A.protocol)===-1)switch(A.protocol){case"mqtt":A.protocol="mqtts";break;case"ws":A.protocol="wss";break;case"wx":A.protocol="wxs";break;case"ali":A.protocol="alis";break;default:throw new Error(`Unknown protocol for secure connection: "${A.protocol}"!`)}}else throw new Error("Missing secure protocol key");if(!g[A.protocol]){const T=["mqtts","wss"].indexOf(A.protocol)!==-1;A.protocol=["mqtt","mqtts","ws","wss","wx","wxs","ali","alis"].filter((x,M)=>T&&M%2===0?!1:typeof g[x]=="function")[0]}if(A.clean===!1&&!A.clientId)throw new Error("Missing clientId for unclean clients");A.protocol&&(A.defaultProtocol=A.protocol);function w(T){return A.servers&&((!T._reconnectCount||T._reconnectCount===A.servers.length)&&(T._reconnectCount=0),A.host=A.servers[T._reconnectCount].host,A.port=A.servers[T._reconnectCount].port,A.protocol=A.servers[T._reconnectCount].protocol?A.servers[T._reconnectCount].protocol:A.defaultProtocol,A.hostname=A.host,T._reconnectCount++),y("calling streambuilder for",A.protocol),g[A.protocol](T,A)}const S=new f.default(w,A);return S.on("error",()=>{}),S}function _(b,A,w=!0){return new Promise((S,T)=>{const x=v(b,A),M={connect:k=>{L(),S(x)},end:()=>{L(),S(x)},error:k=>{L(),x.end(),T(k)}};w===!1&&(M.close=()=>{M.error(new Error("Couldn't connect to server"))});function L(){Object.keys(M).forEach(k=>{x.off(k,M[k])})}Object.keys(M).forEach(k=>{x.on(k,M[k])})})}a.connectAsync=_,a.default=v},{"../client":2,"../is-browser":16,"./ali":3,"./tcp":5,"./tls":6,"./ws":7,"./wx":8,debug:30,url:137}],5:[function(n,o,a){var u=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(n("net")),f=(0,u(n("debug")).default)("mqttjs:tcp"),h=(y,g)=>{g.port=g.port||1883,g.hostname=g.hostname||g.host||"localhost";const{port:p}=g,v=g.hostname;return f("port %d and host %s",p,v),c.default.createConnection(p,v)};a.default=h},{debug:30,net:26}],6:[function(n,o,a){var u=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(n("tls")),d=u(n("net")),h=(0,u(n("debug")).default)("mqttjs:tls"),y=(g,p)=>{p.port=p.port||8883,p.host=p.hostname||p.host||"localhost",d.default.isIP(p.host)===0&&(p.servername=p.host),p.rejectUnauthorized=p.rejectUnauthorized!==!1,delete p.path,h("port %d host %s rejectUnauthorized %b",p.port,p.host,p.rejectUnauthorized);const v=c.default.connect(p);v.on("secureConnect",()=>{p.rejectUnauthorized&&!v.authorized?v.emit("error",new Error("TLS not authorized")):v.removeListener("error",_)});function _(b){p.rejectUnauthorized&&g.emit("error",b),v.end()}return v.on("error",_),v};a.default=y},{debug:30,net:26,tls:26}],7:[function(n,o,a){var u=this&&this.__importDefault||function(M){return M&&M.__esModule?M:{default:M}};Object.defineProperty(a,"__esModule",{value:!0});const c=n("buffer"),d=u(n("ws")),f=u(n("debug")),h=u(n("duplexify")),y=n("readable-stream"),g=u(n("../is-browser")),p=(0,f.default)("mqttjs:ws"),v=["rejectUnauthorized","ca","cert","key","pfx","passphrase"];function _(M,L){let k=`${M.protocol}://${M.hostname}:${M.port}${M.path}`;return typeof M.transformWsUrl=="function"&&(k=M.transformWsUrl(k,M,L)),k}function b(M){const L=M;return M.hostname||(L.hostname="localhost"),M.port||(M.protocol==="wss"?L.port=443:L.port=80),M.path||(L.path="/"),M.wsOptions||(L.wsOptions={}),!g.default&&M.protocol==="wss"&&v.forEach(k=>{Object.prototype.hasOwnProperty.call(M,k)&&!Object.prototype.hasOwnProperty.call(M.wsOptions,k)&&(L.wsOptions[k]=M[k])}),L}function A(M){const L=b(M);if(L.hostname||(L.hostname=L.host),!L.hostname){if(typeof document>"u")throw new Error("Could not determine host. Specify host manually.");const k=new URL(document.URL);L.hostname=k.hostname,L.port||(L.port=Number(k.port))}return L.objectMode===void 0&&(L.objectMode=!(L.binary===!0||L.binary===void 0)),L}function w(M,L,k){p("createWebSocket"),p(`protocol: ${k.protocolId} ${k.protocolVersion}`);const ie=k.protocolId==="MQIsdp"&&k.protocolVersion===3?"mqttv3.1":"mqtt";p(`creating new Websocket for url: ${L} and protocol: ${ie}`);let $;return k.createWebsocket?$=k.createWebsocket(L,[ie],k):$=new d.default(L,[ie],k.wsOptions),$}function S(M,L){const k=L.protocolId==="MQIsdp"&&L.protocolVersion===3?"mqttv3.1":"mqtt",ie=_(L,M);let $;return L.createWebsocket?$=L.createWebsocket(ie,[k],L):$=new WebSocket(ie,[k]),$.binaryType="arraybuffer",$}const T=(M,L)=>{p("streamBuilder");const k=b(L),ie=_(k,M),$=w(M,ie,k),z=d.default.createWebSocketStream($,k.wsOptions);return z.url=ie,$.on("close",()=>{z.destroy()}),z},x=(M,L)=>{p("browserStreamBuilder");let k;const $=A(L).browserBufferSize||1024*512,z=L.browserBufferTimeout||1e3,V=!L.objectMode,re=S(M,L),D=le(L,qe,In);L.objectMode||(D._writev=_e),D.on("close",()=>{re.close()});const Ce=typeof re.addEventListener<"u";re.readyState===re.OPEN?k=D:(k=(0,h.default)(void 0,void 0,L),L.objectMode||(k._writev=_e),Ce?re.addEventListener("open",de):re.onopen=de),k.socket=re,Ce?(re.addEventListener("close",Fe),re.addEventListener("error",Ie),re.addEventListener("message",At)):(re.onclose=Fe,re.onerror=Ie,re.onmessage=At);function le(vn,Pt,he){const Ue=new y.Transform({objectMode:vn.objectMode});return Ue._write=Pt,Ue._flush=he,Ue}function de(){k.setReadable(D),k.setWritable(D),k.emit("connect")}function Fe(){k.end(),k.destroy()}function Ie(vn){k.destroy(vn)}function At(vn){let{data:Pt}=vn;Pt instanceof ArrayBuffer?Pt=c.Buffer.from(Pt):Pt=c.Buffer.from(Pt,"utf8"),D.push(Pt)}function _e(vn,Pt){const he=new Array(vn.length);for(let Ue=0;Ue<vn.length;Ue++)typeof vn[Ue].chunk=="string"?he[Ue]=c.Buffer.from(vn[Ue],"utf8"):he[Ue]=vn[Ue].chunk;this._write(c.Buffer.concat(he),"binary",Pt)}function qe(vn,Pt,he){re.bufferedAmount>$&&setTimeout(qe,z,vn,Pt,he),V&&typeof vn=="string"&&(vn=c.Buffer.from(vn,"utf8"));try{re.send(vn)}catch(Ue){return he(Ue)}he()}function In(vn){re.close(),vn()}return k};a.default=g.default?x:T},{"../is-browser":16,buffer:29,debug:30,duplexify:32,"readable-stream":125,ws:141}],8:[function(n,o,a){var u=this&&this.__importDefault||function(w){return w&&w.__esModule?w:{default:w}};Object.defineProperty(a,"__esModule",{value:!0});const c=n("buffer"),d=n("readable-stream"),f=u(n("duplexify"));let h,y,g;function p(){const w=new d.Transform;return w._write=(S,T,x)=>{h.send({data:S.buffer,success(){x()},fail(M){x(new Error(M))}})},w._flush=S=>{h.close({success(){S()}})},w}function v(w){w.hostname||(w.hostname="localhost"),w.path||(w.path="/"),w.wsOptions||(w.wsOptions={})}function _(w,S){const T=w.protocol==="wxs"?"wss":"ws";let x=`${T}://${w.hostname}${w.path}`;return w.port&&w.port!==80&&w.port!==443&&(x=`${T}://${w.hostname}:${w.port}${w.path}`),typeof w.transformWsUrl=="function"&&(x=w.transformWsUrl(x,w,S)),x}function b(){h.onOpen(()=>{g.setReadable(y),g.setWritable(y),g.emit("connect")}),h.onMessage(w=>{let{data:S}=w;S instanceof ArrayBuffer?S=c.Buffer.from(S):S=c.Buffer.from(S,"utf8"),y.push(S)}),h.onClose(()=>{g.emit("close"),g.end(),g.destroy()}),h.onError(w=>{g.destroy(new Error(w.errMsg))})}const A=(w,S)=>{if(S.hostname=S.hostname||S.host,!S.hostname)throw new Error("Could not determine host. Specify host manually.");const T=S.protocolId==="MQIsdp"&&S.protocolVersion===3?"mqttv3.1":"mqtt";v(S);const x=_(S,w);h=wx.connectSocket({url:x,protocols:[T]}),y=p(),g=f.default.obj(),g._destroy=(L,k)=>{h.close({success(){k&&k(L)}})};const M=g.destroy;return g.destroy=()=>{g.destroy=M,setTimeout(()=>{h.close({fail(){g._destroy(new Error)}})},0)},b(),g};a.default=A},{buffer:29,duplexify:32,"readable-stream":125}],9:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});class u{constructor(){this.nextId=Math.max(1,Math.floor(Math.random()*65535))}allocate(){const d=this.nextId++;return this.nextId===65536&&(this.nextId=1),d}getLastAllocated(){return this.nextId===1?65535:this.nextId-1}register(d){return!0}deallocate(d){}clear(){}}a.default=u},{}],10:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.ReasonCodes=void 0,a.ReasonCodes={0:"",1:"Unacceptable protocol version",2:"Identifier rejected",3:"Server unavailable",4:"Bad username or password",5:"Not authorized",16:"No matching subscribers",17:"No subscription existed",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",132:"Unsupported Protocol Version",133:"Client Identifier not valid",134:"Bad User Name or Password",135:"Not authorized",136:"Server unavailable",137:"Server busy",138:"Banned",139:"Server shutting down",140:"Bad authentication method",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",145:"Packet identifier in use",146:"Packet Identifier not found",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"};const u=(c,d)=>{const{messageId:f}=d,h=d.cmd;let y=null;const g=c.outgoing[f]?c.outgoing[f].cb:null;let p;if(!g){c.log("_handleAck :: Server sent an ack in error. Ignoring.");return}switch(c.log("_handleAck :: packet type",h),h){case"pubcomp":case"puback":{const v=d.reasonCode;v&&v>0&&v!==16?(p=new Error(`Publish error: ${a.ReasonCodes[v]}`),p.code=v,c._removeOutgoingAndStoreMessage(f,()=>{g(p,d)})):c._removeOutgoingAndStoreMessage(f,g);break}case"pubrec":{y={cmd:"pubrel",qos:2,messageId:f};const v=d.reasonCode;v&&v>0&&v!==16?(p=new Error(`Publish error: ${a.ReasonCodes[v]}`),p.code=v,c._removeOutgoingAndStoreMessage(f,()=>{g(p,d)})):c._sendPacket(y);break}case"suback":{delete c.outgoing[f],c.messageIdProvider.deallocate(f);const v=d.granted;for(let _=0;_<v.length;_++)if(v[_]&128){const b=c.messageIdToTopic[f];b&&b.forEach(A=>{delete c._resubscribeTopics[A]})}delete c.messageIdToTopic[f],c._invokeStoreProcessingQueue(),g(null,d);break}case"unsuback":{delete c.outgoing[f],c.messageIdProvider.deallocate(f),c._invokeStoreProcessingQueue(),g(null);break}default:c.emit("error",new Error("unrecognized packet type"))}c.disconnecting&&Object.keys(c.outgoing).length===0&&c.emit("outgoingEmpty")};a.default=u},{}],11:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=n("../shared"),c=n("./ack"),d=(f,h)=>{const{options:y}=f,g=y.protocolVersion,p=g===5?h.reasonCode:h.returnCode;if(g!==5){const v=new u.ErrorWithReasonCode(`Protocol error: Auth packets are only supported in MQTT 5. Your version:${g}`,p);f.emit("error",v);return}f.handleAuth(h,(v,_)=>{if(v){f.emit("error",v);return}if(p===24)f.reconnecting=!1,f._sendPacket(_);else{const b=new u.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[p]}`,p);f.emit("error",b)}})};a.default=d},{"../shared":17,"./ack":10}],12:[function(n,o,a){var u=this&&this.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(a,"__esModule",{value:!0});const c=n("./ack"),d=u(n("../topic-alias-send")),f=n("../shared"),h=(y,g)=>{y.log("_handleConnack");const{options:p}=y,_=p.protocolVersion===5?g.reasonCode:g.returnCode;if(clearTimeout(y.connackTimer),delete y.topicAliasSend,g.properties){if(g.properties.topicAliasMaximum){if(g.properties.topicAliasMaximum>65535){y.emit("error",new Error("topicAliasMaximum from broker is out of range"));return}g.properties.topicAliasMaximum>0&&(y.topicAliasSend=new d.default(g.properties.topicAliasMaximum))}g.properties.serverKeepAlive&&p.keepalive&&(p.keepalive=g.properties.serverKeepAlive,y._shiftPingInterval()),g.properties.maximumPacketSize&&(p.properties||(p.properties={}),p.properties.maximumPacketSize=g.properties.maximumPacketSize)}if(_===0)y.reconnecting=!1,y._onConnect(g);else if(_>0){const b=new f.ErrorWithReasonCode(`Connection refused: ${c.ReasonCodes[_]}`,_);y.emit("error",b)}};a.default=h},{"../shared":17,"../topic-alias-send":20,"./ack":10}],13:[function(n,o,a){var u=this&&this.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(n("./publish")),d=u(n("./auth")),f=u(n("./connack")),h=u(n("./ack")),y=u(n("./pubrel")),g=(p,v,_)=>{const{options:b}=p;if(b.protocolVersion===5&&b.properties&&b.properties.maximumPacketSize&&b.properties.maximumPacketSize<v.length)return p.emit("error",new Error(`exceeding packets size ${v.cmd}`)),p.end({reasonCode:149,properties:{reasonString:"Maximum packet size was exceeded"}}),p;switch(p.log("_handlePacket :: emitting packetreceive"),p.emit("packetreceive",v),v.cmd){case"publish":(0,c.default)(p,v,_);break;case"puback":case"pubrec":case"pubcomp":case"suback":case"unsuback":(0,h.default)(p,v),_();break;case"pubrel":(0,y.default)(p,v,_);break;case"connack":(0,f.default)(p,v),_();break;case"auth":(0,d.default)(p,v),_();break;case"pingresp":p.pingResp=!0,_();break;case"disconnect":p.emit("disconnect",v),_();break;default:p.log("_handlePacket :: unknown command"),_();break}};a.default=g},{"./ack":10,"./auth":11,"./connack":12,"./publish":14,"./pubrel":15}],14:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=[0,16,128,131,135,144,145,151,153],c=(d,f,h)=>{d.log("handlePublish: packet %o",f),h=typeof h<"u"?h:d.noop;let y=f.topic.toString();const g=f.payload,{qos:p}=f,{messageId:v}=f,{options:_}=d;if(d.options.protocolVersion===5){let b;if(f.properties&&(b=f.properties.topicAlias),typeof b<"u")if(y.length===0)if(b>0&&b<=65535){const A=d.topicAliasRecv.getTopicByAlias(b);if(A)y=A,d.log("handlePublish :: topic complemented by alias. topic: %s - alias: %d",y,b);else{d.log("handlePublish :: unregistered topic alias. alias: %d",b),d.emit("error",new Error("Received unregistered Topic Alias"));return}}else{d.log("handlePublish :: topic alias out of range. alias: %d",b),d.emit("error",new Error("Received Topic Alias is out of range"));return}else if(d.topicAliasRecv.put(y,b))d.log("handlePublish :: registered topic: %s - alias: %d",y,b);else{d.log("handlePublish :: topic alias out of range. alias: %d",b),d.emit("error",new Error("Received Topic Alias is out of range"));return}}switch(d.log("handlePublish: qos %d",p),p){case 2:{_.customHandleAcks(y,g,f,(b,A)=>{if(typeof b=="number"&&(A=b,b=null),b)return d.emit("error",b);if(u.indexOf(A)===-1)return d.emit("error",new Error("Wrong reason code for pubrec"));A?d._sendPacket({cmd:"pubrec",messageId:v,reasonCode:A},h):d.incomingStore.put(f,()=>{d._sendPacket({cmd:"pubrec",messageId:v},h)})});break}case 1:{_.customHandleAcks(y,g,f,(b,A)=>{if(typeof b=="number"&&(A=b,b=null),b)return d.emit("error",b);if(u.indexOf(A)===-1)return d.emit("error",new Error("Wrong reason code for puback"));A||d.emit("message",y,g,f),d.handleMessage(f,w=>{if(w)return h&&h(w);d._sendPacket({cmd:"puback",messageId:v,reasonCode:A},h)})});break}case 0:d.emit("message",y,g,f),d.handleMessage(f,h);break;default:d.log("handlePublish: unknown QoS. Doing nothing.");break}};a.default=c},{}],15:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=(c,d,f)=>{c.log("handling pubrel packet");const h=typeof f<"u"?f:c.noop,{messageId:y}=d,g={cmd:"pubcomp",messageId:y};c.incomingStore.get(d,(p,v)=>{p?c._sendPacket(g,h):(c.emit("message",v.topic,v.payload,v),c.handleMessage(v,_=>{if(_)return h(_);c.incomingStore.del(v,c.noop),c._sendPacket(g,h)}))})};a.default=u},{}],16:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=typeof window<"u"&&typeof window.document<"u"||typeof self<"u"&&typeof self.postMessage=="function";a.default=u},{}],17:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.applyMixin=a.ErrorWithReasonCode=void 0;class u extends Error{constructor(f,h){super(f),this.code=h,Object.setPrototypeOf(this,u.prototype),Object.getPrototypeOf(this).name="ErrorWithReasonCode"}}a.ErrorWithReasonCode=u;function c(d,f,h=!1){var y;const g=[f];for(;;){const p=g[0],v=Object.getPrototypeOf(p);if(v!=null&&v.prototype)g.unshift(v);else break}for(const p of g)for(const v of Object.getOwnPropertyNames(p.prototype))(h||v!=="constructor")&&Object.defineProperty(d.prototype,v,(y=Object.getOwnPropertyDescriptor(p.prototype,v))!==null&&y!==void 0?y:Object.create(null))}a.applyMixin=c},{}],18:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=n("readable-stream"),c={objectMode:!0},d={clean:!0};class f{constructor(y){this.options=y||{},this.options=Object.assign(Object.assign({},d),y),this._inflights=new Map}put(y,g){return this._inflights.set(y.messageId,y),g&&g(),this}createStream(){const y=new u.Readable(c),g=[];let p=!1,v=0;return this._inflights.forEach((_,b)=>{g.push(_)}),y._read=()=>{!p&&v<g.length?y.push(g[v++]):y.push(null)},y.destroy=_=>{if(!p)return p=!0,setTimeout(()=>{y.emit("close")},0),y},y}del(y,g){const p=this._inflights.get(y.messageId);return p?(this._inflights.delete(y.messageId),g(null,p)):g&&g(new Error("missing packet")),this}get(y,g){const p=this._inflights.get(y.messageId);return p?g(null,p):g&&g(new Error("missing packet")),this}close(y){this.options.clean&&(this._inflights=null),y&&y()}}a.default=f},{"readable-stream":125}],19:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});class u{constructor(d){this.aliasToTopic={},this.max=d}put(d,f){return f===0||f>this.max?!1:(this.aliasToTopic[f]=d,this.length=Object.keys(this.aliasToTopic).length,!0)}getTopicByAlias(d){return this.aliasToTopic[d]}clear(){this.aliasToTopic={}}}a.default=u},{}],20:[function(n,o,a){var u=this&&this.__importDefault||function(h){return h&&h.__esModule?h:{default:h}};Object.defineProperty(a,"__esModule",{value:!0});const c=u(n("lru-cache")),d=n("number-allocator");class f{constructor(y){y>0&&(this.aliasToTopic=new c.default({max:y}),this.topicToAlias={},this.numberAllocator=new d.NumberAllocator(1,y),this.max=y,this.length=0)}put(y,g){if(g===0||g>this.max)return!1;const p=this.aliasToTopic.get(g);return p&&delete this.topicToAlias[p],this.aliasToTopic.set(g,y),this.topicToAlias[y]=g,this.numberAllocator.use(g),this.length=this.aliasToTopic.size,!0}getTopicByAlias(y){return this.aliasToTopic.get(y)}getAliasByTopic(y){const g=this.topicToAlias[y];return typeof g<"u"&&this.aliasToTopic.get(g),g}clear(){this.aliasToTopic.clear(),this.topicToAlias={},this.numberAllocator.clear(),this.length=0}getLruAlias(){const y=this.numberAllocator.firstVacant();return y||[...this.aliasToTopic.keys()][this.aliasToTopic.size-1]}}a.default=f},{"lru-cache":72,"number-allocator":98}],21:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0});const u=n("number-allocator");class c{constructor(){this.numberAllocator=new u.NumberAllocator(1,65535)}allocate(){return this.lastId=this.numberAllocator.alloc(),this.lastId}getLastAllocated(){return this.lastId}register(f){return this.numberAllocator.use(f)}deallocate(f){this.numberAllocator.free(f)}clear(){this.numberAllocator.clear()}}a.default=c},{"number-allocator":98}],22:[function(n,o,a){Object.defineProperty(a,"__esModule",{value:!0}),a.validateTopics=a.validateTopic=void 0;function u(d){const f=d.split("/");for(let h=0;h<f.length;h++)if(f[h]!=="+"){if(f[h]==="#")return h===f.length-1;if(f[h].indexOf("+")!==-1||f[h].indexOf("#")!==-1)return!1}return!0}a.validateTopic=u;function c(d){if(d.length===0)return"empty_topic_list";for(let f=0;f<d.length;f++)if(!u(d[f]))return d[f];return null}a.validateTopics=c},{}],23:[function(n,o,a){var u=this&&this.__createBinding||(Object.create?function(A,w,S,T){T===void 0&&(T=S);var x=Object.getOwnPropertyDescriptor(w,S);(!x||("get"in x?!w.__esModule:x.writable||x.configurable))&&(x={enumerable:!0,get:function(){return w[S]}}),Object.defineProperty(A,T,x)}:function(A,w,S,T){T===void 0&&(T=S),A[T]=w[S]}),c=this&&this.__setModuleDefault||(Object.create?function(A,w){Object.defineProperty(A,"default",{enumerable:!0,value:w})}:function(A,w){A.default=w}),d=this&&this.__importStar||function(A){if(A&&A.__esModule)return A;var w={};if(A!=null)for(var S in A)S!=="default"&&Object.prototype.hasOwnProperty.call(A,S)&&u(w,A,S);return c(w,A),w},f=this&&this.__exportStar||function(A,w){for(var S in A)S!=="default"&&!Object.prototype.hasOwnProperty.call(w,S)&&u(w,A,S)},h=this&&this.__importDefault||function(A){return A&&A.__esModule?A:{default:A}};Object.defineProperty(a,"__esModule",{value:!0}),a.ReasonCodes=a.UniqueMessageIdProvider=a.DefaultMessageIdProvider=a.Store=a.MqttClient=a.connectAsync=a.connect=a.Client=void 0;const y=h(n("./lib/client"));a.MqttClient=y.default;const g=h(n("./lib/default-message-id-provider"));a.DefaultMessageIdProvider=g.default;const p=h(n("./lib/unique-message-id-provider"));a.UniqueMessageIdProvider=p.default;const v=h(n("./lib/store"));a.Store=v.default;const _=d(n("./lib/connect"));a.connect=_.default,Object.defineProperty(a,"connectAsync",{enumerable:!0,get:function(){return _.connectAsync}}),a.Client=y.default,f(n("./lib/client"),a),f(n("./lib/shared"),a);var b=n("./lib/handlers/ack");Object.defineProperty(a,"ReasonCodes",{enumerable:!0,get:function(){return b.ReasonCodes}})},{"./lib/client":2,"./lib/connect":4,"./lib/default-message-id-provider":9,"./lib/handlers/ack":10,"./lib/shared":17,"./lib/store":18,"./lib/unique-message-id-provider":21}],24:[function(n,o,a){const{AbortController:u,AbortSignal:c}=typeof self<"u"?self:typeof window<"u"?window:void 0;o.exports=u,o.exports.AbortSignal=c,o.exports.default=u},{}],25:[function(n,o,a){a.byteLength=p,a.toByteArray=_,a.fromByteArray=w;for(var u=[],c=[],d=typeof Uint8Array<"u"?Uint8Array:Array,f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h=0,y=f.length;h<y;++h)u[h]=f[h],c[f.charCodeAt(h)]=h;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63;function g(S){var T=S.length;if(T%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var x=S.indexOf("=");x===-1&&(x=T);var M=x===T?0:4-x%4;return[x,M]}function p(S){var T=g(S),x=T[0],M=T[1];return(x+M)*3/4-M}function v(S,T,x){return(T+x)*3/4-x}function _(S){var T,x=g(S),M=x[0],L=x[1],k=new d(v(S,M,L)),ie=0,$=L>0?M-4:M,z;for(z=0;z<$;z+=4)T=c[S.charCodeAt(z)]<<18|c[S.charCodeAt(z+1)]<<12|c[S.charCodeAt(z+2)]<<6|c[S.charCodeAt(z+3)],k[ie++]=T>>16&255,k[ie++]=T>>8&255,k[ie++]=T&255;return L===2&&(T=c[S.charCodeAt(z)]<<2|c[S.charCodeAt(z+1)]>>4,k[ie++]=T&255),L===1&&(T=c[S.charCodeAt(z)]<<10|c[S.charCodeAt(z+1)]<<4|c[S.charCodeAt(z+2)]>>2,k[ie++]=T>>8&255,k[ie++]=T&255),k}function b(S){return u[S>>18&63]+u[S>>12&63]+u[S>>6&63]+u[S&63]}function A(S,T,x){for(var M,L=[],k=T;k<x;k+=3)M=(S[k]<<16&16711680)+(S[k+1]<<8&65280)+(S[k+2]&255),L.push(b(M));return L.join("")}function w(S){for(var T,x=S.length,M=x%3,L=[],k=16383,ie=0,$=x-M;ie<$;ie+=k)L.push(A(S,ie,ie+k>$?$:ie+k));return M===1?(T=S[x-1],L.push(u[T>>2]+u[T<<4&63]+"==")):M===2&&(T=(S[x-2]<<8)+S[x-1],L.push(u[T>>10]+u[T>>4&63]+u[T<<2&63]+"=")),L.join("")}},{}],26:[function(n,o,a){},{}],27:[function(n,o,a){var u=n("buffer"),c=u.Buffer;function d(h,y){for(var g in h)y[g]=h[g]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?o.exports=u:(d(u,a),a.Buffer=f);function f(h,y,g){return c(h,y,g)}d(c,f),f.from=function(h,y,g){if(typeof h=="number")throw new TypeError("Argument must not be a number");return c(h,y,g)},f.alloc=function(h,y,g){if(typeof h!="number")throw new TypeError("Argument must be a number");var p=c(h);return y!==void 0?typeof g=="string"?p.fill(y,g):p.fill(y):p.fill(0),p},f.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return c(h)},f.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(h)}},{buffer:29}],28:[function(n,o,a){var u=n("safe-buffer").Buffer,c=u.isEncoding||function(L){switch(L=""+L,L&&L.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function d(L){if(!L)return"utf8";for(var k;;)switch(L){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return L;default:if(k)return;L=(""+L).toLowerCase(),k=!0}}function f(L){var k=d(L);if(typeof k!="string"&&(u.isEncoding===c||!c(L)))throw new Error("Unknown encoding: "+L);return k||L}a.StringDecoder=h;function h(L){this.encoding=f(L);var k;switch(this.encoding){case"utf16le":this.text=A,this.end=w,k=4;break;case"utf8":this.fillLast=v,k=4;break;case"base64":this.text=S,this.end=T,k=3;break;default:this.write=x,this.end=M;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=u.allocUnsafe(k)}h.prototype.write=function(L){if(L.length===0)return"";var k,ie;if(this.lastNeed){if(k=this.fillLast(L),k===void 0)return"";ie=this.lastNeed,this.lastNeed=0}else ie=0;return ie<L.length?k?k+this.text(L,ie):this.text(L,ie):k||""},h.prototype.end=b,h.prototype.text=_,h.prototype.fillLast=function(L){if(this.lastNeed<=L.length)return L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,this.lastTotal-this.lastNeed,0,L.length),this.lastNeed-=L.length};function y(L){return L<=127?0:L>>5===6?2:L>>4===14?3:L>>3===30?4:L>>6===2?-1:-2}function g(L,k,ie){var $=k.length-1;if($<ie)return 0;var z=y(k[$]);return z>=0?(z>0&&(L.lastNeed=z-1),z):--$<ie||z===-2?0:(z=y(k[$]),z>=0?(z>0&&(L.lastNeed=z-2),z):--$<ie||z===-2?0:(z=y(k[$]),z>=0?(z>0&&(z===2?z=0:L.lastNeed=z-3),z):0))}function p(L,k,ie){if((k[0]&192)!==128)return L.lastNeed=0,"�";if(L.lastNeed>1&&k.length>1){if((k[1]&192)!==128)return L.lastNeed=1,"�";if(L.lastNeed>2&&k.length>2&&(k[2]&192)!==128)return L.lastNeed=2,"�"}}function v(L){var k=this.lastTotal-this.lastNeed,ie=p(this,L);if(ie!==void 0)return ie;if(this.lastNeed<=L.length)return L.copy(this.lastChar,k,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);L.copy(this.lastChar,k,0,L.length),this.lastNeed-=L.length}function _(L,k){var ie=g(this,L,k);if(!this.lastNeed)return L.toString("utf8",k);this.lastTotal=ie;var $=L.length-(ie-this.lastNeed);return L.copy(this.lastChar,0,$),L.toString("utf8",k,$)}function b(L){var k=L&&L.length?this.write(L):"";return this.lastNeed?k+"�":k}function A(L,k){if((L.length-k)%2===0){var ie=L.toString("utf16le",k);if(ie){var $=ie.charCodeAt(ie.length-1);if($>=55296&&$<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1],ie.slice(0,-1)}return ie}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=L[L.length-1],L.toString("utf16le",k,L.length-1)}function w(L){var k=L&&L.length?this.write(L):"";if(this.lastNeed){var ie=this.lastTotal-this.lastNeed;return k+this.lastChar.toString("utf16le",0,ie)}return k}function S(L,k){var ie=(L.length-k)%3;return ie===0?L.toString("base64",k):(this.lastNeed=3-ie,this.lastTotal=3,ie===1?this.lastChar[0]=L[L.length-1]:(this.lastChar[0]=L[L.length-2],this.lastChar[1]=L[L.length-1]),L.toString("base64",k,L.length-ie))}function T(L){var k=L&&L.length?this.write(L):"";return this.lastNeed?k+this.lastChar.toString("base64",0,3-this.lastNeed):k}function x(L){return L.toString(this.encoding)}function M(L){return L&&L.length?this.write(L):""}},{"safe-buffer":27}],29:[function(n,o,a){(function(u){(function(){var c=n("base64-js"),d=n("ieee754");a.Buffer=g,a.SlowBuffer=M,a.INSPECT_MAX_BYTES=50;var f=2147483647;a.kMaxLength=f,g.TYPED_ARRAY_SUPPORT=h(),!g.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function h(){try{var Y=new Uint8Array(1);return Y.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Y.foo()===42}catch{return!1}}Object.defineProperty(g.prototype,"parent",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.buffer}}),Object.defineProperty(g.prototype,"offset",{enumerable:!0,get:function(){if(g.isBuffer(this))return this.byteOffset}});function y(Y){if(Y>f)throw new RangeError('The value "'+Y+'" is invalid for option "size"');var O=new Uint8Array(Y);return O.__proto__=g.prototype,O}function g(Y,O,F){if(typeof Y=="number"){if(typeof O=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return b(Y)}return p(Y,O,F)}typeof Symbol<"u"&&Symbol.species!=null&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),g.poolSize=8192;function p(Y,O,F){if(typeof Y=="string")return A(Y,O);if(ArrayBuffer.isView(Y))return w(Y);if(Y==null)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y);if(oe(Y,ArrayBuffer)||Y&&oe(Y.buffer,ArrayBuffer))return S(Y,O,F);if(typeof Y=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var j=Y.valueOf&&Y.valueOf();if(j!=null&&j!==Y)return g.from(j,O,F);var xe=T(Y);if(xe)return xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Y[Symbol.toPrimitive]=="function")return g.from(Y[Symbol.toPrimitive]("string"),O,F);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Y)}g.from=function(Y,O,F){return p(Y,O,F)},g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array;function v(Y){if(typeof Y!="number")throw new TypeError('"size" argument must be of type number');if(Y<0)throw new RangeError('The value "'+Y+'" is invalid for option "size"')}function _(Y,O,F){return v(Y),Y<=0?y(Y):O!==void 0?typeof F=="string"?y(Y).fill(O,F):y(Y).fill(O):y(Y)}g.alloc=function(Y,O,F){return _(Y,O,F)};function b(Y){return v(Y),y(Y<0?0:x(Y)|0)}g.allocUnsafe=function(Y){return b(Y)},g.allocUnsafeSlow=function(Y){return b(Y)};function A(Y,O){if((typeof O!="string"||O==="")&&(O="utf8"),!g.isEncoding(O))throw new TypeError("Unknown encoding: "+O);var F=L(Y,O)|0,j=y(F),xe=j.write(Y,O);return xe!==F&&(j=j.slice(0,xe)),j}function w(Y){for(var O=Y.length<0?0:x(Y.length)|0,F=y(O),j=0;j<O;j+=1)F[j]=Y[j]&255;return F}function S(Y,O,F){if(O<0||Y.byteLength<O)throw new RangeError('"offset" is outside of buffer bounds');if(Y.byteLength<O+(F||0))throw new RangeError('"length" is outside of buffer bounds');var j;return O===void 0&&F===void 0?j=new Uint8Array(Y):F===void 0?j=new Uint8Array(Y,O):j=new Uint8Array(Y,O,F),j.__proto__=g.prototype,j}function T(Y){if(g.isBuffer(Y)){var O=x(Y.length)|0,F=y(O);return F.length===0||Y.copy(F,0,0,O),F}if(Y.length!==void 0)return typeof Y.length!="number"||ae(Y.length)?y(0):w(Y);if(Y.type==="Buffer"&&Array.isArray(Y.data))return w(Y.data)}function x(Y){if(Y>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return Y|0}function M(Y){return+Y!=Y&&(Y=0),g.alloc(+Y)}g.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==g.prototype},g.compare=function(O,F){if(oe(O,Uint8Array)&&(O=g.from(O,O.offset,O.byteLength)),oe(F,Uint8Array)&&(F=g.from(F,F.offset,F.byteLength)),!g.isBuffer(O)||!g.isBuffer(F))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===F)return 0;for(var j=O.length,xe=F.length,hn=0,_n=Math.min(j,xe);hn<_n;++hn)if(O[hn]!==F[hn]){j=O[hn],xe=F[hn];break}return j<xe?-1:xe<j?1:0},g.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(O,F){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return g.alloc(0);var j;if(F===void 0)for(F=0,j=0;j<O.length;++j)F+=O[j].length;var xe=g.allocUnsafe(F),hn=0;for(j=0;j<O.length;++j){var _n=O[j];if(oe(_n,Uint8Array)&&(_n=g.from(_n)),!g.isBuffer(_n))throw new TypeError('"list" argument must be an Array of Buffers');_n.copy(xe,hn),hn+=_n.length}return xe};function L(Y,O){if(g.isBuffer(Y))return Y.length;if(ArrayBuffer.isView(Y)||oe(Y,ArrayBuffer))return Y.byteLength;if(typeof Y!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Y);var F=Y.length,j=arguments.length>2&&arguments[2]===!0;if(!j&&F===0)return 0;for(var xe=!1;;)switch(O){case"ascii":case"latin1":case"binary":return F;case"utf8":case"utf-8":return Ne(Y).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F*2;case"hex":return F>>>1;case"base64":return kt(Y).length;default:if(xe)return j?-1:Ne(Y).length;O=(""+O).toLowerCase(),xe=!0}}g.byteLength=L;function k(Y,O,F){var j=!1;if((O===void 0||O<0)&&(O=0),O>this.length||((F===void 0||F>this.length)&&(F=this.length),F<=0)||(F>>>=0,O>>>=0,F<=O))return"";for(Y||(Y="utf8");;)switch(Y){case"hex":return vn(this,O,F);case"utf8":case"utf-8":return Ie(this,O,F);case"ascii":return qe(this,O,F);case"latin1":case"binary":return In(this,O,F);case"base64":return Fe(this,O,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Pt(this,O,F);default:if(j)throw new TypeError("Unknown encoding: "+Y);Y=(Y+"").toLowerCase(),j=!0}}g.prototype._isBuffer=!0;function ie(Y,O,F){var j=Y[O];Y[O]=Y[F],Y[F]=j}g.prototype.swap16=function(){var O=this.length;if(O%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var F=0;F<O;F+=2)ie(this,F,F+1);return this},g.prototype.swap32=function(){var O=this.length;if(O%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var F=0;F<O;F+=4)ie(this,F,F+3),ie(this,F+1,F+2);return this},g.prototype.swap64=function(){var O=this.length;if(O%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var F=0;F<O;F+=8)ie(this,F,F+7),ie(this,F+1,F+6),ie(this,F+2,F+5),ie(this,F+3,F+4);return this},g.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?Ie(this,0,O):k.apply(this,arguments)},g.prototype.toLocaleString=g.prototype.toString,g.prototype.equals=function(O){if(!g.isBuffer(O))throw new TypeError("Argument must be a Buffer");return this===O?!0:g.compare(this,O)===0},g.prototype.inspect=function(){var O="",F=a.INSPECT_MAX_BYTES;return O=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim(),this.length>F&&(O+=" ... "),"<Buffer "+O+">"},g.prototype.compare=function(O,F,j,xe,hn){if(oe(O,Uint8Array)&&(O=g.from(O,O.offset,O.byteLength)),!g.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(F===void 0&&(F=0),j===void 0&&(j=O?O.length:0),xe===void 0&&(xe=0),hn===void 0&&(hn=this.length),F<0||j>O.length||xe<0||hn>this.length)throw new RangeError("out of range index");if(xe>=hn&&F>=j)return 0;if(xe>=hn)return-1;if(F>=j)return 1;if(F>>>=0,j>>>=0,xe>>>=0,hn>>>=0,this===O)return 0;for(var _n=hn-xe,Sn=j-F,xn=Math.min(_n,Sn),Ln=this.slice(xe,hn),Ve=O.slice(F,j),ze=0;ze<xn;++ze)if(Ln[ze]!==Ve[ze]){_n=Ln[ze],Sn=Ve[ze];break}return _n<Sn?-1:Sn<_n?1:0};function $(Y,O,F,j,xe){if(Y.length===0)return-1;if(typeof F=="string"?(j=F,F=0):F>2147483647?F=2147483647:F<-2147483648&&(F=-2147483648),F=+F,ae(F)&&(F=xe?0:Y.length-1),F<0&&(F=Y.length+F),F>=Y.length){if(xe)return-1;F=Y.length-1}else if(F<0)if(xe)F=0;else return-1;if(typeof O=="string"&&(O=g.from(O,j)),g.isBuffer(O))return O.length===0?-1:z(Y,O,F,j,xe);if(typeof O=="number")return O=O&255,typeof Uint8Array.prototype.indexOf=="function"?xe?Uint8Array.prototype.indexOf.call(Y,O,F):Uint8Array.prototype.lastIndexOf.call(Y,O,F):z(Y,[O],F,j,xe);throw new TypeError("val must be string, number or Buffer")}function z(Y,O,F,j,xe){var hn=1,_n=Y.length,Sn=O.length;if(j!==void 0&&(j=String(j).toLowerCase(),j==="ucs2"||j==="ucs-2"||j==="utf16le"||j==="utf-16le")){if(Y.length<2||O.length<2)return-1;hn=2,_n/=2,Sn/=2,F/=2}function xn(An,Tn){return hn===1?An[Tn]:An.readUInt16BE(Tn*hn)}var Ln;if(xe){var Ve=-1;for(Ln=F;Ln<_n;Ln++)if(xn(Y,Ln)===xn(O,Ve===-1?0:Ln-Ve)){if(Ve===-1&&(Ve=Ln),Ln-Ve+1===Sn)return Ve*hn}else Ve!==-1&&(Ln-=Ln-Ve),Ve=-1}else for(F+Sn>_n&&(F=_n-Sn),Ln=F;Ln>=0;Ln--){for(var ze=!0,wn=0;wn<Sn;wn++)if(xn(Y,Ln+wn)!==xn(O,wn)){ze=!1;break}if(ze)return Ln}return-1}g.prototype.includes=function(O,F,j){return this.indexOf(O,F,j)!==-1},g.prototype.indexOf=function(O,F,j){return $(this,O,F,j,!0)},g.prototype.lastIndexOf=function(O,F,j){return $(this,O,F,j,!1)};function V(Y,O,F,j){F=Number(F)||0;var xe=Y.length-F;j?(j=Number(j),j>xe&&(j=xe)):j=xe;var hn=O.length;j>hn/2&&(j=hn/2);for(var _n=0;_n<j;++_n){var Sn=parseInt(O.substr(_n*2,2),16);if(ae(Sn))return _n;Y[F+_n]=Sn}return _n}function re(Y,O,F,j){return Cn(Ne(O,Y.length-F),Y,F,j)}function D(Y,O,F,j){return Cn(Oe(O),Y,F,j)}function Ce(Y,O,F,j){return D(Y,O,F,j)}function le(Y,O,F,j){return Cn(kt(O),Y,F,j)}function de(Y,O,F,j){return Cn(Lt(O,Y.length-F),Y,F,j)}g.prototype.write=function(O,F,j,xe){if(F===void 0)xe="utf8",j=this.length,F=0;else if(j===void 0&&typeof F=="string")xe=F,j=this.length,F=0;else if(isFinite(F))F=F>>>0,isFinite(j)?(j=j>>>0,xe===void 0&&(xe="utf8")):(xe=j,j=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var hn=this.length-F;if((j===void 0||j>hn)&&(j=hn),O.length>0&&(j<0||F<0)||F>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");for(var _n=!1;;)switch(xe){case"hex":return V(this,O,F,j);case"utf8":case"utf-8":return re(this,O,F,j);case"ascii":return D(this,O,F,j);case"latin1":case"binary":return Ce(this,O,F,j);case"base64":return le(this,O,F,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return de(this,O,F,j);default:if(_n)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),_n=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fe(Y,O,F){return O===0&&F===Y.length?c.fromByteArray(Y):c.fromByteArray(Y.slice(O,F))}function Ie(Y,O,F){F=Math.min(Y.length,F);for(var j=[],xe=O;xe<F;){var hn=Y[xe],_n=null,Sn=hn>239?4:hn>223?3:hn>191?2:1;if(xe+Sn<=F){var xn,Ln,Ve,ze;switch(Sn){case 1:hn<128&&(_n=hn);break;case 2:xn=Y[xe+1],(xn&192)===128&&(ze=(hn&31)<<6|xn&63,ze>127&&(_n=ze));break;case 3:xn=Y[xe+1],Ln=Y[xe+2],(xn&192)===128&&(Ln&192)===128&&(ze=(hn&15)<<12|(xn&63)<<6|Ln&63,ze>2047&&(ze<55296||ze>57343)&&(_n=ze));break;case 4:xn=Y[xe+1],Ln=Y[xe+2],Ve=Y[xe+3],(xn&192)===128&&(Ln&192)===128&&(Ve&192)===128&&(ze=(hn&15)<<18|(xn&63)<<12|(Ln&63)<<6|Ve&63,ze>65535&&ze<1114112&&(_n=ze))}}_n===null?(_n=65533,Sn=1):_n>65535&&(_n-=65536,j.push(_n>>>10&1023|55296),_n=56320|_n&1023),j.push(_n),xe+=Sn}return _e(j)}var At=4096;function _e(Y){var O=Y.length;if(O<=At)return String.fromCharCode.apply(String,Y);for(var F="",j=0;j<O;)F+=String.fromCharCode.apply(String,Y.slice(j,j+=At));return F}function qe(Y,O,F){var j="";F=Math.min(Y.length,F);for(var xe=O;xe<F;++xe)j+=String.fromCharCode(Y[xe]&127);return j}function In(Y,O,F){var j="";F=Math.min(Y.length,F);for(var xe=O;xe<F;++xe)j+=String.fromCharCode(Y[xe]);return j}function vn(Y,O,F){var j=Y.length;(!O||O<0)&&(O=0),(!F||F<0||F>j)&&(F=j);for(var xe="",hn=O;hn<F;++hn)xe+=$e(Y[hn]);return xe}function Pt(Y,O,F){for(var j=Y.slice(O,F),xe="",hn=0;hn<j.length;hn+=2)xe+=String.fromCharCode(j[hn]+j[hn+1]*256);return xe}g.prototype.slice=function(O,F){var j=this.length;O=~~O,F=F===void 0?j:~~F,O<0?(O+=j,O<0&&(O=0)):O>j&&(O=j),F<0?(F+=j,F<0&&(F=0)):F>j&&(F=j),F<O&&(F=O);var xe=this.subarray(O,F);return xe.__proto__=g.prototype,xe};function he(Y,O,F){if(Y%1!==0||Y<0)throw new RangeError("offset is not uint");if(Y+O>F)throw new RangeError("Trying to access beyond buffer length")}g.prototype.readUIntLE=function(O,F,j){O=O>>>0,F=F>>>0,j||he(O,F,this.length);for(var xe=this[O],hn=1,_n=0;++_n<F&&(hn*=256);)xe+=this[O+_n]*hn;return xe},g.prototype.readUIntBE=function(O,F,j){O=O>>>0,F=F>>>0,j||he(O,F,this.length);for(var xe=this[O+--F],hn=1;F>0&&(hn*=256);)xe+=this[O+--F]*hn;return xe},g.prototype.readUInt8=function(O,F){return O=O>>>0,F||he(O,1,this.length),this[O]},g.prototype.readUInt16LE=function(O,F){return O=O>>>0,F||he(O,2,this.length),this[O]|this[O+1]<<8},g.prototype.readUInt16BE=function(O,F){return O=O>>>0,F||he(O,2,this.length),this[O]<<8|this[O+1]},g.prototype.readUInt32LE=function(O,F){return O=O>>>0,F||he(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+this[O+3]*16777216},g.prototype.readUInt32BE=function(O,F){return O=O>>>0,F||he(O,4,this.length),this[O]*16777216+(this[O+1]<<16|this[O+2]<<8|this[O+3])},g.prototype.readIntLE=function(O,F,j){O=O>>>0,F=F>>>0,j||he(O,F,this.length);for(var xe=this[O],hn=1,_n=0;++_n<F&&(hn*=256);)xe+=this[O+_n]*hn;return hn*=128,xe>=hn&&(xe-=Math.pow(2,8*F)),xe},g.prototype.readIntBE=function(O,F,j){O=O>>>0,F=F>>>0,j||he(O,F,this.length);for(var xe=F,hn=1,_n=this[O+--xe];xe>0&&(hn*=256);)_n+=this[O+--xe]*hn;return hn*=128,_n>=hn&&(_n-=Math.pow(2,8*F)),_n},g.prototype.readInt8=function(O,F){return O=O>>>0,F||he(O,1,this.length),this[O]&128?(255-this[O]+1)*-1:this[O]},g.prototype.readInt16LE=function(O,F){O=O>>>0,F||he(O,2,this.length);var j=this[O]|this[O+1]<<8;return j&32768?j|4294901760:j},g.prototype.readInt16BE=function(O,F){O=O>>>0,F||he(O,2,this.length);var j=this[O+1]|this[O]<<8;return j&32768?j|4294901760:j},g.prototype.readInt32LE=function(O,F){return O=O>>>0,F||he(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},g.prototype.readInt32BE=function(O,F){return O=O>>>0,F||he(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},g.prototype.readFloatLE=function(O,F){return O=O>>>0,F||he(O,4,this.length),d.read(this,O,!0,23,4)},g.prototype.readFloatBE=function(O,F){return O=O>>>0,F||he(O,4,this.length),d.read(this,O,!1,23,4)},g.prototype.readDoubleLE=function(O,F){return O=O>>>0,F||he(O,8,this.length),d.read(this,O,!0,52,8)},g.prototype.readDoubleBE=function(O,F){return O=O>>>0,F||he(O,8,this.length),d.read(this,O,!1,52,8)};function Ue(Y,O,F,j,xe,hn){if(!g.isBuffer(Y))throw new TypeError('"buffer" argument must be a Buffer instance');if(O>xe||O<hn)throw new RangeError('"value" argument is out of bounds');if(F+j>Y.length)throw new RangeError("Index out of range")}g.prototype.writeUIntLE=function(O,F,j,xe){if(O=+O,F=F>>>0,j=j>>>0,!xe){var hn=Math.pow(2,8*j)-1;Ue(this,O,F,j,hn,0)}var _n=1,Sn=0;for(this[F]=O&255;++Sn<j&&(_n*=256);)this[F+Sn]=O/_n&255;return F+j},g.prototype.writeUIntBE=function(O,F,j,xe){if(O=+O,F=F>>>0,j=j>>>0,!xe){var hn=Math.pow(2,8*j)-1;Ue(this,O,F,j,hn,0)}var _n=j-1,Sn=1;for(this[F+_n]=O&255;--_n>=0&&(Sn*=256);)this[F+_n]=O/Sn&255;return F+j},g.prototype.writeUInt8=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,1,255,0),this[F]=O&255,F+1},g.prototype.writeUInt16LE=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,2,65535,0),this[F]=O&255,this[F+1]=O>>>8,F+2},g.prototype.writeUInt16BE=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,2,65535,0),this[F]=O>>>8,this[F+1]=O&255,F+2},g.prototype.writeUInt32LE=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,4,4294967295,0),this[F+3]=O>>>24,this[F+2]=O>>>16,this[F+1]=O>>>8,this[F]=O&255,F+4},g.prototype.writeUInt32BE=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,4,4294967295,0),this[F]=O>>>24,this[F+1]=O>>>16,this[F+2]=O>>>8,this[F+3]=O&255,F+4},g.prototype.writeIntLE=function(O,F,j,xe){if(O=+O,F=F>>>0,!xe){var hn=Math.pow(2,8*j-1);Ue(this,O,F,j,hn-1,-hn)}var _n=0,Sn=1,xn=0;for(this[F]=O&255;++_n<j&&(Sn*=256);)O<0&&xn===0&&this[F+_n-1]!==0&&(xn=1),this[F+_n]=(O/Sn>>0)-xn&255;return F+j},g.prototype.writeIntBE=function(O,F,j,xe){if(O=+O,F=F>>>0,!xe){var hn=Math.pow(2,8*j-1);Ue(this,O,F,j,hn-1,-hn)}var _n=j-1,Sn=1,xn=0;for(this[F+_n]=O&255;--_n>=0&&(Sn*=256);)O<0&&xn===0&&this[F+_n+1]!==0&&(xn=1),this[F+_n]=(O/Sn>>0)-xn&255;return F+j},g.prototype.writeInt8=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,1,127,-128),O<0&&(O=255+O+1),this[F]=O&255,F+1},g.prototype.writeInt16LE=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,2,32767,-32768),this[F]=O&255,this[F+1]=O>>>8,F+2},g.prototype.writeInt16BE=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,2,32767,-32768),this[F]=O>>>8,this[F+1]=O&255,F+2},g.prototype.writeInt32LE=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,4,2147483647,-2147483648),this[F]=O&255,this[F+1]=O>>>8,this[F+2]=O>>>16,this[F+3]=O>>>24,F+4},g.prototype.writeInt32BE=function(O,F,j){return O=+O,F=F>>>0,j||Ue(this,O,F,4,2147483647,-2147483648),O<0&&(O=4294967295+O+1),this[F]=O>>>24,this[F+1]=O>>>16,this[F+2]=O>>>8,this[F+3]=O&255,F+4};function Dt(Y,O,F,j,xe,hn){if(F+j>Y.length)throw new RangeError("Index out of range");if(F<0)throw new RangeError("Index out of range")}function jt(Y,O,F,j,xe){return O=+O,F=F>>>0,xe||Dt(Y,O,F,4),d.write(Y,O,F,j,23,4),F+4}g.prototype.writeFloatLE=function(O,F,j){return jt(this,O,F,!0,j)},g.prototype.writeFloatBE=function(O,F,j){return jt(this,O,F,!1,j)};function Et(Y,O,F,j,xe){return O=+O,F=F>>>0,xe||Dt(Y,O,F,8),d.write(Y,O,F,j,52,8),F+8}g.prototype.writeDoubleLE=function(O,F,j){return Et(this,O,F,!0,j)},g.prototype.writeDoubleBE=function(O,F,j){return Et(this,O,F,!1,j)},g.prototype.copy=function(O,F,j,xe){if(!g.isBuffer(O))throw new TypeError("argument should be a Buffer");if(j||(j=0),!xe&&xe!==0&&(xe=this.length),F>=O.length&&(F=O.length),F||(F=0),xe>0&&xe<j&&(xe=j),xe===j||O.length===0||this.length===0)return 0;if(F<0)throw new RangeError("targetStart out of bounds");if(j<0||j>=this.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),O.length-F<xe-j&&(xe=O.length-F+j);var hn=xe-j;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(F,j,xe);else if(this===O&&j<F&&F<xe)for(var _n=hn-1;_n>=0;--_n)O[_n+F]=this[_n+j];else Uint8Array.prototype.set.call(O,this.subarray(j,xe),F);return hn},g.prototype.fill=function(O,F,j,xe){if(typeof O=="string"){if(typeof F=="string"?(xe=F,F=0,j=this.length):typeof j=="string"&&(xe=j,j=this.length),xe!==void 0&&typeof xe!="string")throw new TypeError("encoding must be a string");if(typeof xe=="string"&&!g.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);if(O.length===1){var hn=O.charCodeAt(0);(xe==="utf8"&&hn<128||xe==="latin1")&&(O=hn)}}else typeof O=="number"&&(O=O&255);if(F<0||this.length<F||this.length<j)throw new RangeError("Out of range index");if(j<=F)return this;F=F>>>0,j=j===void 0?this.length:j>>>0,O||(O=0);var _n;if(typeof O=="number")for(_n=F;_n<j;++_n)this[_n]=O;else{var Sn=g.isBuffer(O)?O:g.from(O,xe),xn=Sn.length;if(xn===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(_n=0;_n<j-F;++_n)this[_n+F]=Sn[_n%xn]}return this};var pe=/[^+/0-9A-Za-z-_]/g;function ue(Y){if(Y=Y.split("=")[0],Y=Y.trim().replace(pe,""),Y.length<2)return"";for(;Y.length%4!==0;)Y=Y+"=";return Y}function $e(Y){return Y<16?"0"+Y.toString(16):Y.toString(16)}function Ne(Y,O){O=O||1/0;for(var F,j=Y.length,xe=null,hn=[],_n=0;_n<j;++_n){if(F=Y.charCodeAt(_n),F>55295&&F<57344){if(!xe){if(F>56319){(O-=3)>-1&&hn.push(239,191,189);continue}else if(_n+1===j){(O-=3)>-1&&hn.push(239,191,189);continue}xe=F;continue}if(F<56320){(O-=3)>-1&&hn.push(239,191,189),xe=F;continue}F=(xe-55296<<10|F-56320)+65536}else xe&&(O-=3)>-1&&hn.push(239,191,189);if(xe=null,F<128){if((O-=1)<0)break;hn.push(F)}else if(F<2048){if((O-=2)<0)break;hn.push(F>>6|192,F&63|128)}else if(F<65536){if((O-=3)<0)break;hn.push(F>>12|224,F>>6&63|128,F&63|128)}else if(F<1114112){if((O-=4)<0)break;hn.push(F>>18|240,F>>12&63|128,F>>6&63|128,F&63|128)}else throw new Error("Invalid code point")}return hn}function Oe(Y){for(var O=[],F=0;F<Y.length;++F)O.push(Y.charCodeAt(F)&255);return O}function Lt(Y,O){for(var F,j,xe,hn=[],_n=0;_n<Y.length&&!((O-=2)<0);++_n)F=Y.charCodeAt(_n),j=F>>8,xe=F%256,hn.push(xe),hn.push(j);return hn}function kt(Y){return c.toByteArray(ue(Y))}function Cn(Y,O,F,j){for(var xe=0;xe<j&&!(xe+F>=O.length||xe>=Y.length);++xe)O[xe+F]=Y[xe];return xe}function oe(Y,O){return Y instanceof O||Y!=null&&Y.constructor!=null&&Y.constructor.name!=null&&Y.constructor.name===O.name}function ae(Y){return Y!==Y}}).call(this)}).call(this,n("buffer").Buffer)},{"base64-js":25,buffer:29,ieee754:50}],30:[function(n,o,a){(function(u){(function(){a.formatArgs=d,a.save=f,a.load=h,a.useColors=c,a.storage=y(),a.destroy=(()=>{let p=!1;return()=>{p||(p=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),a.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function c(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function d(p){if(p[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+p[0]+(this.useColors?"%c ":" ")+"+"+o.exports.humanize(this.diff),!this.useColors)return;const v="color: "+this.color;p.splice(1,0,v,"color: inherit");let _=0,b=0;p[0].replace(/%[a-zA-Z%]/g,A=>{A!=="%%"&&(_++,A==="%c"&&(b=_))}),p.splice(b,0,v)}a.log=console.debug||console.log||(()=>{});function f(p){try{p?a.storage.setItem("debug",p):a.storage.removeItem("debug")}catch{}}function h(){let p;try{p=a.storage.getItem("debug")}catch{}return!p&&typeof u<"u"&&"env"in u&&(p=u.env.DEBUG),p}function y(){try{return localStorage}catch{}}o.exports=n("./common")(a);const{formatters:g}=o.exports;g.j=function(p){try{return JSON.stringify(p)}catch(v){return"[UnexpectedJSONParseError]: "+v.message}}}).call(this)}).call(this,n("_process"))},{"./common":31,_process:102}],31:[function(n,o,a){function u(c){f.debug=f,f.default=f,f.coerce=_,f.disable=g,f.enable=y,f.enabled=p,f.humanize=n("ms"),f.destroy=b,Object.keys(c).forEach(A=>{f[A]=c[A]}),f.names=[],f.skips=[],f.formatters={};function d(A){let w=0;for(let S=0;S<A.length;S++)w=(w<<5)-w+A.charCodeAt(S),w|=0;return f.colors[Math.abs(w)%f.colors.length]}f.selectColor=d;function f(A){let w,S=null,T,x;function M(...L){if(!M.enabled)return;const k=M,ie=Number(new Date),$=ie-(w||ie);k.diff=$,k.prev=w,k.curr=ie,w=ie,L[0]=f.coerce(L[0]),typeof L[0]!="string"&&L.unshift("%O");let z=0;L[0]=L[0].replace(/%([a-zA-Z%])/g,(re,D)=>{if(re==="%%")return"%";z++;const Ce=f.formatters[D];if(typeof Ce=="function"){const le=L[z];re=Ce.call(k,le),L.splice(z,1),z--}return re}),f.formatArgs.call(k,L),(k.log||f.log).apply(k,L)}return M.namespace=A,M.useColors=f.useColors(),M.color=f.selectColor(A),M.extend=h,M.destroy=f.destroy,Object.defineProperty(M,"enabled",{enumerable:!0,configurable:!1,get:()=>S!==null?S:(T!==f.namespaces&&(T=f.namespaces,x=f.enabled(A)),x),set:L=>{S=L}}),typeof f.init=="function"&&f.init(M),M}function h(A,w){const S=f(this.namespace+(typeof w>"u"?":":w)+A);return S.log=this.log,S}function y(A){f.save(A),f.namespaces=A,f.names=[],f.skips=[];let w;const S=(typeof A=="string"?A:"").split(/[\s,]+/),T=S.length;for(w=0;w<T;w++)S[w]&&(A=S[w].replace(/\*/g,".*?"),A[0]==="-"?f.skips.push(new RegExp("^"+A.slice(1)+"$")):f.names.push(new RegExp("^"+A+"$")))}function g(){const A=[...f.names.map(v),...f.skips.map(v).map(w=>"-"+w)].join(",");return f.enable(""),A}function p(A){if(A[A.length-1]==="*")return!0;let w,S;for(w=0,S=f.skips.length;w<S;w++)if(f.skips[w].test(A))return!1;for(w=0,S=f.names.length;w<S;w++)if(f.names[w].test(A))return!0;return!1}function v(A){return A.toString().substring(2,A.toString().length-2).replace(/\.\*\?$/,"*")}function _(A){return A instanceof Error?A.stack||A.message:A}function b(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}return f.enable(f.load()),f}o.exports=u},{ms:97}],32:[function(n,o,a){(function(u,c){(function(){var d=n("readable-stream"),f=n("end-of-stream"),h=n("inherits"),y=n("stream-shift"),g=c.from&&c.from!==Uint8Array.from?c.from([0]):new c([0]),p=function(T,x){T._corked?T.once("uncork",x):x()},v=function(T,x){T._autoDestroy&&T.destroy(x)},_=function(T,x){return function(M){M?v(T,M.message==="premature close"?null:M):x&&!T._ended&&T.end()}},b=function(T,x){if(!T||T._writableState&&T._writableState.finished)return x();if(T._writableState)return T.end(x);T.end(),x()},A=function(){},w=function(T){return new d.Readable({objectMode:!0,highWaterMark:16}).wrap(T)},S=function(T,x,M){if(!(this instanceof S))return new S(T,x,M);d.Duplex.call(this,M),this._writable=null,this._readable=null,this._readable2=null,this._autoDestroy=!M||M.autoDestroy!==!1,this._forwardDestroy=!M||M.destroy!==!1,this._forwardEnd=!M||M.end!==!1,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,T&&this.setWritable(T),x&&this.setReadable(x)};h(S,d.Duplex),S.obj=function(T,x,M){return M||(M={}),M.objectMode=!0,M.highWaterMark=16,new S(T,x,M)},S.prototype.cork=function(){++this._corked===1&&this.emit("cork")},S.prototype.uncork=function(){this._corked&&--this._corked===0&&this.emit("uncork")},S.prototype.setWritable=function(T){if(this._unwrite&&this._unwrite(),this.destroyed){T&&T.destroy&&T.destroy();return}if(T===null||T===!1){this.end();return}var x=this,M=f(T,{writable:!0,readable:!1},_(this,this._forwardEnd)),L=function(){var ie=x._ondrain;x._ondrain=null,ie&&ie()},k=function(){x._writable.removeListener("drain",L),M()};this._unwrite&&u.nextTick(L),this._writable=T,this._writable.on("drain",L),this._unwrite=k,this.uncork()},S.prototype.setReadable=function(T){if(this._unread&&this._unread(),this.destroyed){T&&T.destroy&&T.destroy();return}if(T===null||T===!1){this.push(null),this.resume();return}var x=this,M=f(T,{writable:!1,readable:!0},_(this)),L=function(){x._forward()},k=function(){x.push(null)},ie=function(){x._readable2.removeListener("readable",L),x._readable2.removeListener("end",k),M()};this._drained=!0,this._readable=T,this._readable2=T._readableState?T:w(T),this._readable2.on("readable",L),this._readable2.on("end",k),this._unread=ie,this._forward()},S.prototype._read=function(){this._drained=!0,this._forward()},S.prototype._forward=function(){if(!(this._forwarding||!this._readable2||!this._drained)){this._forwarding=!0;for(var T;this._drained&&(T=y(this._readable2))!==null;)this.destroyed||(this._drained=this.push(T));this._forwarding=!1}},S.prototype.destroy=function(T,x){if(x||(x=A),this.destroyed)return x(null);this.destroyed=!0;var M=this;u.nextTick(function(){M._destroy(T),x(null)})},S.prototype._destroy=function(T){if(T){var x=this._ondrain;this._ondrain=null,x?x(T):this.emit("error",T)}this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},S.prototype._write=function(T,x,M){if(!this.destroyed){if(this._corked)return p(this,this._write.bind(this,T,x,M));if(T===g)return this._finish(M);if(!this._writable)return M();this._writable.write(T)===!1?this._ondrain=M:this.destroyed||M()}},S.prototype._finish=function(T){var x=this;this.emit("preend"),p(this,function(){b(x._forwardEnd&&x._writable,function(){x._writableState.prefinished===!1&&(x._writableState.prefinished=!0),x.emit("prefinish"),p(x,T)})})},S.prototype.end=function(T,x,M){return typeof T=="function"?this.end(null,null,T):typeof x=="function"?this.end(T,null,x):(this._ended=!0,T&&this.write(T),!this._writableState.ending&&!this._writableState.destroyed&&this.write(g),d.Writable.prototype.end.call(this,M))},o.exports=S}).call(this)}).call(this,n("_process"),n("buffer").Buffer)},{_process:102,buffer:29,"end-of-stream":48,inherits:51,"readable-stream":47,"stream-shift":135}],33:[function(n,o,a){function u(p,v){p.prototype=Object.create(v.prototype),p.prototype.constructor=p,p.__proto__=v}var c={};function d(p,v,_){_||(_=Error);function b(w,S,T){return typeof v=="string"?v:v(w,S,T)}var A=function(w){u(S,w);function S(T,x,M){return w.call(this,b(T,x,M))||this}return S}(_);A.prototype.name=_.name,A.prototype.code=p,c[p]=A}function f(p,v){if(Array.isArray(p)){var _=p.length;return p=p.map(function(b){return String(b)}),_>2?"one of ".concat(v," ").concat(p.slice(0,_-1).join(", "),", or ")+p[_-1]:_===2?"one of ".concat(v," ").concat(p[0]," or ").concat(p[1]):"of ".concat(v," ").concat(p[0])}else return"of ".concat(v," ").concat(String(p))}function h(p,v,_){return p.substr(!_||_<0?0:+_,v.length)===v}function y(p,v,_){return(_===void 0||_>p.length)&&(_=p.length),p.substring(_-v.length,_)===v}function g(p,v,_){return typeof _!="number"&&(_=0),_+v.length>p.length?!1:p.indexOf(v,_)!==-1}d("ERR_INVALID_OPT_VALUE",function(p,v){return'The value "'+v+'" is invalid for option "'+p+'"'},TypeError),d("ERR_INVALID_ARG_TYPE",function(p,v,_){var b;typeof v=="string"&&h(v,"not ")?(b="must not be",v=v.replace(/^not /,"")):b="must be";var A;if(y(p," argument"))A="The ".concat(p," ").concat(b," ").concat(f(v,"type"));else{var w=g(p,".")?"property":"argument";A='The "'.concat(p,'" ').concat(w," ").concat(b," ").concat(f(v,"type"))}return A+=". Received type ".concat(typeof _),A},TypeError),d("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),d("ERR_METHOD_NOT_IMPLEMENTED",function(p){return"The "+p+" method is not implemented"}),d("ERR_STREAM_PREMATURE_CLOSE","Premature close"),d("ERR_STREAM_DESTROYED",function(p){return"Cannot call "+p+" after a stream was destroyed"}),d("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),d("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),d("ERR_STREAM_WRITE_AFTER_END","write after end"),d("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),d("ERR_UNKNOWN_ENCODING",function(p){return"Unknown encoding: "+p},TypeError),d("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),o.exports.codes=c},{}],34:[function(n,o,a){(function(u){(function(){var c=Object.keys||function(b){var A=[];for(var w in b)A.push(w);return A};o.exports=p;var d=n("./_stream_readable"),f=n("./_stream_writable");n("inherits")(p,d);for(var h=c(f.prototype),y=0;y<h.length;y++){var g=h[y];p.prototype[g]||(p.prototype[g]=f.prototype[g])}function p(b){if(!(this instanceof p))return new p(b);d.call(this,b),f.call(this,b),this.allowHalfOpen=!0,b&&(b.readable===!1&&(this.readable=!1),b.writable===!1&&(this.writable=!1),b.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",v)))}Object.defineProperty(p.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(p.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(p.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function v(){this._writableState.ended||u.nextTick(_,this)}function _(b){b.end()}Object.defineProperty(p.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(A){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=A,this._writableState.destroyed=A)}})}).call(this)}).call(this,n("_process"))},{"./_stream_readable":36,"./_stream_writable":38,_process:102,inherits:51}],35:[function(n,o,a){o.exports=c;var u=n("./_stream_transform");n("inherits")(c,u);function c(d){if(!(this instanceof c))return new c(d);u.call(this,d)}c.prototype._transform=function(d,f,h){h(null,d)}},{"./_stream_transform":37,inherits:51}],36:[function(n,o,a){(function(u,c){(function(){o.exports=de;var d;de.ReadableState=le,n("events").EventEmitter;var f=function(ae,Y){return ae.listeners(Y).length},h=n("./internal/streams/stream"),y=n("buffer").Buffer,g=c.Uint8Array||function(){};function p(oe){return y.from(oe)}function v(oe){return y.isBuffer(oe)||oe instanceof g}var _=n("util"),b;_&&_.debuglog?b=_.debuglog("stream"):b=function(){};var A=n("./internal/streams/buffer_list"),w=n("./internal/streams/destroy"),S=n("./internal/streams/state"),T=S.getHighWaterMark,x=n("../errors").codes,M=x.ERR_INVALID_ARG_TYPE,L=x.ERR_STREAM_PUSH_AFTER_EOF,k=x.ERR_METHOD_NOT_IMPLEMENTED,ie=x.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,$,z,V;n("inherits")(de,h);var re=w.errorOrDestroy,D=["error","close","destroy","pause","resume"];function Ce(oe,ae,Y){if(typeof oe.prependListener=="function")return oe.prependListener(ae,Y);!oe._events||!oe._events[ae]?oe.on(ae,Y):Array.isArray(oe._events[ae])?oe._events[ae].unshift(Y):oe._events[ae]=[Y,oe._events[ae]]}function le(oe,ae,Y){d=d||n("./_stream_duplex"),oe=oe||{},typeof Y!="boolean"&&(Y=ae instanceof d),this.objectMode=!!oe.objectMode,Y&&(this.objectMode=this.objectMode||!!oe.readableObjectMode),this.highWaterMark=T(this,oe,"readableHighWaterMark",Y),this.buffer=new A,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=oe.emitClose!==!1,this.autoDestroy=!!oe.autoDestroy,this.destroyed=!1,this.defaultEncoding=oe.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,oe.encoding&&($||($=n("string_decoder/").StringDecoder),this.decoder=new $(oe.encoding),this.encoding=oe.encoding)}function de(oe){if(d=d||n("./_stream_duplex"),!(this instanceof de))return new de(oe);var ae=this instanceof d;this._readableState=new le(oe,this,ae),this.readable=!0,oe&&(typeof oe.read=="function"&&(this._read=oe.read),typeof oe.destroy=="function"&&(this._destroy=oe.destroy)),h.call(this)}Object.defineProperty(de.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ae){this._readableState&&(this._readableState.destroyed=ae)}}),de.prototype.destroy=w.destroy,de.prototype._undestroy=w.undestroy,de.prototype._destroy=function(oe,ae){ae(oe)},de.prototype.push=function(oe,ae){var Y=this._readableState,O;return Y.objectMode?O=!0:typeof oe=="string"&&(ae=ae||Y.defaultEncoding,ae!==Y.encoding&&(oe=y.from(oe,ae),ae=""),O=!0),Fe(this,oe,ae,!1,O)},de.prototype.unshift=function(oe){return Fe(this,oe,null,!0,!1)};function Fe(oe,ae,Y,O,F){b("readableAddChunk",ae);var j=oe._readableState;if(ae===null)j.reading=!1,vn(oe,j);else{var xe;if(F||(xe=At(j,ae)),xe)re(oe,xe);else if(j.objectMode||ae&&ae.length>0)if(typeof ae!="string"&&!j.objectMode&&Object.getPrototypeOf(ae)!==y.prototype&&(ae=p(ae)),O)j.endEmitted?re(oe,new ie):Ie(oe,j,ae,!0);else if(j.ended)re(oe,new L);else{if(j.destroyed)return!1;j.reading=!1,j.decoder&&!Y?(ae=j.decoder.write(ae),j.objectMode||ae.length!==0?Ie(oe,j,ae,!1):Ue(oe,j)):Ie(oe,j,ae,!1)}else O||(j.reading=!1,Ue(oe,j))}return!j.ended&&(j.length<j.highWaterMark||j.length===0)}function Ie(oe,ae,Y,O){ae.flowing&&ae.length===0&&!ae.sync?(ae.awaitDrain=0,oe.emit("data",Y)):(ae.length+=ae.objectMode?1:Y.length,O?ae.buffer.unshift(Y):ae.buffer.push(Y),ae.needReadable&&Pt(oe)),Ue(oe,ae)}function At(oe,ae){var Y;return!v(ae)&&typeof ae!="string"&&ae!==void 0&&!oe.objectMode&&(Y=new M("chunk",["string","Buffer","Uint8Array"],ae)),Y}de.prototype.isPaused=function(){return this._readableState.flowing===!1},de.prototype.setEncoding=function(oe){$||($=n("string_decoder/").StringDecoder);var ae=new $(oe);this._readableState.decoder=ae,this._readableState.encoding=this._readableState.decoder.encoding;for(var Y=this._readableState.buffer.head,O="";Y!==null;)O+=ae.write(Y.data),Y=Y.next;return this._readableState.buffer.clear(),O!==""&&this._readableState.buffer.push(O),this._readableState.length=O.length,this};var _e=1073741824;function qe(oe){return oe>=_e?oe=_e:(oe--,oe|=oe>>>1,oe|=oe>>>2,oe|=oe>>>4,oe|=oe>>>8,oe|=oe>>>16,oe++),oe}function In(oe,ae){return oe<=0||ae.length===0&&ae.ended?0:ae.objectMode?1:oe!==oe?ae.flowing&&ae.length?ae.buffer.head.data.length:ae.length:(oe>ae.highWaterMark&&(ae.highWaterMark=qe(oe)),oe<=ae.length?oe:ae.ended?ae.length:(ae.needReadable=!0,0))}de.prototype.read=function(oe){b("read",oe),oe=parseInt(oe,10);var ae=this._readableState,Y=oe;if(oe!==0&&(ae.emittedReadable=!1),oe===0&&ae.needReadable&&((ae.highWaterMark!==0?ae.length>=ae.highWaterMark:ae.length>0)||ae.ended))return b("read: emitReadable",ae.length,ae.ended),ae.length===0&&ae.ended?Lt(this):Pt(this),null;if(oe=In(oe,ae),oe===0&&ae.ended)return ae.length===0&&Lt(this),null;var O=ae.needReadable;b("need readable",O),(ae.length===0||ae.length-oe<ae.highWaterMark)&&(O=!0,b("length less than watermark",O)),ae.ended||ae.reading?(O=!1,b("reading or ended",O)):O&&(b("do read"),ae.reading=!0,ae.sync=!0,ae.length===0&&(ae.needReadable=!0),this._read(ae.highWaterMark),ae.sync=!1,ae.reading||(oe=In(Y,ae)));var F;return oe>0?F=Oe(oe,ae):F=null,F===null?(ae.needReadable=ae.length<=ae.highWaterMark,oe=0):(ae.length-=oe,ae.awaitDrain=0),ae.length===0&&(ae.ended||(ae.needReadable=!0),Y!==oe&&ae.ended&&Lt(this)),F!==null&&this.emit("data",F),F};function vn(oe,ae){if(b("onEofChunk"),!ae.ended){if(ae.decoder){var Y=ae.decoder.end();Y&&Y.length&&(ae.buffer.push(Y),ae.length+=ae.objectMode?1:Y.length)}ae.ended=!0,ae.sync?Pt(oe):(ae.needReadable=!1,ae.emittedReadable||(ae.emittedReadable=!0,he(oe)))}}function Pt(oe){var ae=oe._readableState;b("emitReadable",ae.needReadable,ae.emittedReadable),ae.needReadable=!1,ae.emittedReadable||(b("emitReadable",ae.flowing),ae.emittedReadable=!0,u.nextTick(he,oe))}function he(oe){var ae=oe._readableState;b("emitReadable_",ae.destroyed,ae.length,ae.ended),!ae.destroyed&&(ae.length||ae.ended)&&(oe.emit("readable"),ae.emittedReadable=!1),ae.needReadable=!ae.flowing&&!ae.ended&&ae.length<=ae.highWaterMark,Ne(oe)}function Ue(oe,ae){ae.readingMore||(ae.readingMore=!0,u.nextTick(Dt,oe,ae))}function Dt(oe,ae){for(;!ae.reading&&!ae.ended&&(ae.length<ae.highWaterMark||ae.flowing&&ae.length===0);){var Y=ae.length;if(b("maybeReadMore read 0"),oe.read(0),Y===ae.length)break}ae.readingMore=!1}de.prototype._read=function(oe){re(this,new k("_read()"))},de.prototype.pipe=function(oe,ae){var Y=this,O=this._readableState;switch(O.pipesCount){case 0:O.pipes=oe;break;case 1:O.pipes=[O.pipes,oe];break;default:O.pipes.push(oe);break}O.pipesCount+=1,b("pipe count=%d opts=%j",O.pipesCount,ae);var F=(!ae||ae.end!==!1)&&oe!==u.stdout&&oe!==u.stderr,j=F?hn:An;O.endEmitted?u.nextTick(j):Y.once("end",j),oe.on("unpipe",xe);function xe(Tn,Pn){b("onunpipe"),Tn===Y&&Pn&&Pn.hasUnpiped===!1&&(Pn.hasUnpiped=!0,xn())}function hn(){b("onend"),oe.end()}var _n=jt(Y);oe.on("drain",_n);var Sn=!1;function xn(){b("cleanup"),oe.removeListener("close",ze),oe.removeListener("finish",wn),oe.removeListener("drain",_n),oe.removeListener("error",Ve),oe.removeListener("unpipe",xe),Y.removeListener("end",hn),Y.removeListener("end",An),Y.removeListener("data",Ln),Sn=!0,O.awaitDrain&&(!oe._writableState||oe._writableState.needDrain)&&_n()}Y.on("data",Ln);function Ln(Tn){b("ondata");var Pn=oe.write(Tn);b("dest.write",Pn),Pn===!1&&((O.pipesCount===1&&O.pipes===oe||O.pipesCount>1&&Cn(O.pipes,oe)!==-1)&&!Sn&&(b("false write response, pause",O.awaitDrain),O.awaitDrain++),Y.pause())}function Ve(Tn){b("onerror",Tn),An(),oe.removeListener("error",Ve),f(oe,"error")===0&&re(oe,Tn)}Ce(oe,"error",Ve);function ze(){oe.removeListener("finish",wn),An()}oe.once("close",ze);function wn(){b("onfinish"),oe.removeListener("close",ze),An()}oe.once("finish",wn);function An(){b("unpipe"),Y.unpipe(oe)}return oe.emit("pipe",Y),O.flowing||(b("pipe resume"),Y.resume()),oe};function jt(oe){return function(){var Y=oe._readableState;b("pipeOnDrain",Y.awaitDrain),Y.awaitDrain&&Y.awaitDrain--,Y.awaitDrain===0&&f(oe,"data")&&(Y.flowing=!0,Ne(oe))}}de.prototype.unpipe=function(oe){var ae=this._readableState,Y={hasUnpiped:!1};if(ae.pipesCount===0)return this;if(ae.pipesCount===1)return oe&&oe!==ae.pipes?this:(oe||(oe=ae.pipes),ae.pipes=null,ae.pipesCount=0,ae.flowing=!1,oe&&oe.emit("unpipe",this,Y),this);if(!oe){var O=ae.pipes,F=ae.pipesCount;ae.pipes=null,ae.pipesCount=0,ae.flowing=!1;for(var j=0;j<F;j++)O[j].emit("unpipe",this,{hasUnpiped:!1});return this}var xe=Cn(ae.pipes,oe);return xe===-1?this:(ae.pipes.splice(xe,1),ae.pipesCount-=1,ae.pipesCount===1&&(ae.pipes=ae.pipes[0]),oe.emit("unpipe",this,Y),this)},de.prototype.on=function(oe,ae){var Y=h.prototype.on.call(this,oe,ae),O=this._readableState;return oe==="data"?(O.readableListening=this.listenerCount("readable")>0,O.flowing!==!1&&this.resume()):oe==="readable"&&!O.endEmitted&&!O.readableListening&&(O.readableListening=O.needReadable=!0,O.flowing=!1,O.emittedReadable=!1,b("on readable",O.length,O.reading),O.length?Pt(this):O.reading||u.nextTick(pe,this)),Y},de.prototype.addListener=de.prototype.on,de.prototype.removeListener=function(oe,ae){var Y=h.prototype.removeListener.call(this,oe,ae);return oe==="readable"&&u.nextTick(Et,this),Y},de.prototype.removeAllListeners=function(oe){var ae=h.prototype.removeAllListeners.apply(this,arguments);return(oe==="readable"||oe===void 0)&&u.nextTick(Et,this),ae};function Et(oe){var ae=oe._readableState;ae.readableListening=oe.listenerCount("readable")>0,ae.resumeScheduled&&!ae.paused?ae.flowing=!0:oe.listenerCount("data")>0&&oe.resume()}function pe(oe){b("readable nexttick read 0"),oe.read(0)}de.prototype.resume=function(){var oe=this._readableState;return oe.flowing||(b("resume"),oe.flowing=!oe.readableListening,ue(this,oe)),oe.paused=!1,this};function ue(oe,ae){ae.resumeScheduled||(ae.resumeScheduled=!0,u.nextTick($e,oe,ae))}function $e(oe,ae){b("resume",ae.reading),ae.reading||oe.read(0),ae.resumeScheduled=!1,oe.emit("resume"),Ne(oe),ae.flowing&&!ae.reading&&oe.read(0)}de.prototype.pause=function(){return b("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(b("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function Ne(oe){var ae=oe._readableState;for(b("flow",ae.flowing);ae.flowing&&oe.read()!==null;);}de.prototype.wrap=function(oe){var ae=this,Y=this._readableState,O=!1;oe.on("end",function(){if(b("wrapped end"),Y.decoder&&!Y.ended){var xe=Y.decoder.end();xe&&xe.length&&ae.push(xe)}ae.push(null)}),oe.on("data",function(xe){if(b("wrapped data"),Y.decoder&&(xe=Y.decoder.write(xe)),!(Y.objectMode&&xe==null)&&!(!Y.objectMode&&(!xe||!xe.length))){var hn=ae.push(xe);hn||(O=!0,oe.pause())}});for(var F in oe)this[F]===void 0&&typeof oe[F]=="function"&&(this[F]=function(hn){return function(){return oe[hn].apply(oe,arguments)}}(F));for(var j=0;j<D.length;j++)oe.on(D[j],this.emit.bind(this,D[j]));return this._read=function(xe){b("wrapped _read",xe),O&&(O=!1,oe.resume())},this},typeof Symbol=="function"&&(de.prototype[Symbol.asyncIterator]=function(){return z===void 0&&(z=n("./internal/streams/async_iterator")),z(this)}),Object.defineProperty(de.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(de.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(de.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ae){this._readableState&&(this._readableState.flowing=ae)}}),de._fromList=Oe,Object.defineProperty(de.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function Oe(oe,ae){if(ae.length===0)return null;var Y;return ae.objectMode?Y=ae.buffer.shift():!oe||oe>=ae.length?(ae.decoder?Y=ae.buffer.join(""):ae.buffer.length===1?Y=ae.buffer.first():Y=ae.buffer.concat(ae.length),ae.buffer.clear()):Y=ae.buffer.consume(oe,ae.decoder),Y}function Lt(oe){var ae=oe._readableState;b("endReadable",ae.endEmitted),ae.endEmitted||(ae.ended=!0,u.nextTick(kt,ae,oe))}function kt(oe,ae){if(b("endReadableNT",oe.endEmitted,oe.length),!oe.endEmitted&&oe.length===0&&(oe.endEmitted=!0,ae.readable=!1,ae.emit("end"),oe.autoDestroy)){var Y=ae._writableState;(!Y||Y.autoDestroy&&Y.finished)&&ae.destroy()}}typeof Symbol=="function"&&(de.from=function(oe,ae){return V===void 0&&(V=n("./internal/streams/from")),V(de,oe,ae)});function Cn(oe,ae){for(var Y=0,O=oe.length;Y<O;Y++)if(oe[Y]===ae)return Y;return-1}}).call(this)}).call(this,n("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":33,"./_stream_duplex":34,"./internal/streams/async_iterator":39,"./internal/streams/buffer_list":40,"./internal/streams/destroy":41,"./internal/streams/from":43,"./internal/streams/state":45,"./internal/streams/stream":46,_process:102,buffer:29,events:49,inherits:51,"string_decoder/":136,util:26}],37:[function(n,o,a){o.exports=p;var u=n("../errors").codes,c=u.ERR_METHOD_NOT_IMPLEMENTED,d=u.ERR_MULTIPLE_CALLBACK,f=u.ERR_TRANSFORM_ALREADY_TRANSFORMING,h=u.ERR_TRANSFORM_WITH_LENGTH_0,y=n("./_stream_duplex");n("inherits")(p,y);function g(b,A){var w=this._transformState;w.transforming=!1;var S=w.writecb;if(S===null)return this.emit("error",new d);w.writechunk=null,w.writecb=null,A!=null&&this.push(A),S(b);var T=this._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}function p(b){if(!(this instanceof p))return new p(b);y.call(this,b),this._transformState={afterTransform:g.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,b&&(typeof b.transform=="function"&&(this._transform=b.transform),typeof b.flush=="function"&&(this._flush=b.flush)),this.on("prefinish",v)}function v(){var b=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(A,w){_(b,A,w)}):_(this,null,null)}p.prototype.push=function(b,A){return this._transformState.needTransform=!1,y.prototype.push.call(this,b,A)},p.prototype._transform=function(b,A,w){w(new c("_transform()"))},p.prototype._write=function(b,A,w){var S=this._transformState;if(S.writecb=w,S.writechunk=b,S.writeencoding=A,!S.transforming){var T=this._readableState;(S.needTransform||T.needReadable||T.length<T.highWaterMark)&&this._read(T.highWaterMark)}},p.prototype._read=function(b){var A=this._transformState;A.writechunk!==null&&!A.transforming?(A.transforming=!0,this._transform(A.writechunk,A.writeencoding,A.afterTransform)):A.needTransform=!0},p.prototype._destroy=function(b,A){y.prototype._destroy.call(this,b,function(w){A(w)})};function _(b,A,w){if(A)return b.emit("error",A);if(w!=null&&b.push(w),b._writableState.length)throw new h;if(b._transformState.transforming)throw new f;return b.push(null)}},{"../errors":33,"./_stream_duplex":34,inherits:51}],38:[function(n,o,a){(function(u,c){(function(){o.exports=le;function d(Ne){var Oe=this;this.next=null,this.entry=null,this.finish=function(){$e(Oe,Ne)}}var f;le.WritableState=D;var h={deprecate:n("util-deprecate")},y=n("./internal/streams/stream"),g=n("buffer").Buffer,p=c.Uint8Array||function(){};function v(Ne){return g.from(Ne)}function _(Ne){return g.isBuffer(Ne)||Ne instanceof p}var b=n("./internal/streams/destroy"),A=n("./internal/streams/state"),w=A.getHighWaterMark,S=n("../errors").codes,T=S.ERR_INVALID_ARG_TYPE,x=S.ERR_METHOD_NOT_IMPLEMENTED,M=S.ERR_MULTIPLE_CALLBACK,L=S.ERR_STREAM_CANNOT_PIPE,k=S.ERR_STREAM_DESTROYED,ie=S.ERR_STREAM_NULL_VALUES,$=S.ERR_STREAM_WRITE_AFTER_END,z=S.ERR_UNKNOWN_ENCODING,V=b.errorOrDestroy;n("inherits")(le,y);function re(){}function D(Ne,Oe,Lt){f=f||n("./_stream_duplex"),Ne=Ne||{},typeof Lt!="boolean"&&(Lt=Oe instanceof f),this.objectMode=!!Ne.objectMode,Lt&&(this.objectMode=this.objectMode||!!Ne.writableObjectMode),this.highWaterMark=w(this,Ne,"writableHighWaterMark",Lt),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var kt=Ne.decodeStrings===!1;this.decodeStrings=!kt,this.defaultEncoding=Ne.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Cn){vn(Oe,Cn)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=Ne.emitClose!==!1,this.autoDestroy=!!Ne.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new d(this)}D.prototype.getBuffer=function(){for(var Oe=this.bufferedRequest,Lt=[];Oe;)Lt.push(Oe),Oe=Oe.next;return Lt},function(){try{Object.defineProperty(D.prototype,"buffer",{get:h.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var Ce;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(Ce=Function.prototype[Symbol.hasInstance],Object.defineProperty(le,Symbol.hasInstance,{value:function(Oe){return Ce.call(this,Oe)?!0:this!==le?!1:Oe&&Oe._writableState instanceof D}})):Ce=function(Oe){return Oe instanceof this};function le(Ne){f=f||n("./_stream_duplex");var Oe=this instanceof f;if(!Oe&&!Ce.call(le,this))return new le(Ne);this._writableState=new D(Ne,this,Oe),this.writable=!0,Ne&&(typeof Ne.write=="function"&&(this._write=Ne.write),typeof Ne.writev=="function"&&(this._writev=Ne.writev),typeof Ne.destroy=="function"&&(this._destroy=Ne.destroy),typeof Ne.final=="function"&&(this._final=Ne.final)),y.call(this)}le.prototype.pipe=function(){V(this,new L)};function de(Ne,Oe){var Lt=new $;V(Ne,Lt),u.nextTick(Oe,Lt)}function Fe(Ne,Oe,Lt,kt){var Cn;return Lt===null?Cn=new ie:typeof Lt!="string"&&!Oe.objectMode&&(Cn=new T("chunk",["string","Buffer"],Lt)),Cn?(V(Ne,Cn),u.nextTick(kt,Cn),!1):!0}le.prototype.write=function(Ne,Oe,Lt){var kt=this._writableState,Cn=!1,oe=!kt.objectMode&&_(Ne);return oe&&!g.isBuffer(Ne)&&(Ne=v(Ne)),typeof Oe=="function"&&(Lt=Oe,Oe=null),oe?Oe="buffer":Oe||(Oe=kt.defaultEncoding),typeof Lt!="function"&&(Lt=re),kt.ending?de(this,Lt):(oe||Fe(this,kt,Ne,Lt))&&(kt.pendingcb++,Cn=At(this,kt,oe,Ne,Oe,Lt)),Cn},le.prototype.cork=function(){this._writableState.corked++},le.prototype.uncork=function(){var Ne=this._writableState;Ne.corked&&(Ne.corked--,!Ne.writing&&!Ne.corked&&!Ne.bufferProcessing&&Ne.bufferedRequest&&Ue(this,Ne))},le.prototype.setDefaultEncoding=function(Oe){if(typeof Oe=="string"&&(Oe=Oe.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((Oe+"").toLowerCase())>-1))throw new z(Oe);return this._writableState.defaultEncoding=Oe,this},Object.defineProperty(le.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function Ie(Ne,Oe,Lt){return!Ne.objectMode&&Ne.decodeStrings!==!1&&typeof Oe=="string"&&(Oe=g.from(Oe,Lt)),Oe}Object.defineProperty(le.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function At(Ne,Oe,Lt,kt,Cn,oe){if(!Lt){var ae=Ie(Oe,kt,Cn);kt!==ae&&(Lt=!0,Cn="buffer",kt=ae)}var Y=Oe.objectMode?1:kt.length;Oe.length+=Y;var O=Oe.length<Oe.highWaterMark;if(O||(Oe.needDrain=!0),Oe.writing||Oe.corked){var F=Oe.lastBufferedRequest;Oe.lastBufferedRequest={chunk:kt,encoding:Cn,isBuf:Lt,callback:oe,next:null},F?F.next=Oe.lastBufferedRequest:Oe.bufferedRequest=Oe.lastBufferedRequest,Oe.bufferedRequestCount+=1}else _e(Ne,Oe,!1,Y,kt,Cn,oe);return O}function _e(Ne,Oe,Lt,kt,Cn,oe,ae){Oe.writelen=kt,Oe.writecb=ae,Oe.writing=!0,Oe.sync=!0,Oe.destroyed?Oe.onwrite(new k("write")):Lt?Ne._writev(Cn,Oe.onwrite):Ne._write(Cn,oe,Oe.onwrite),Oe.sync=!1}function qe(Ne,Oe,Lt,kt,Cn){--Oe.pendingcb,Lt?(u.nextTick(Cn,kt),u.nextTick(pe,Ne,Oe),Ne._writableState.errorEmitted=!0,V(Ne,kt)):(Cn(kt),Ne._writableState.errorEmitted=!0,V(Ne,kt),pe(Ne,Oe))}function In(Ne){Ne.writing=!1,Ne.writecb=null,Ne.length-=Ne.writelen,Ne.writelen=0}function vn(Ne,Oe){var Lt=Ne._writableState,kt=Lt.sync,Cn=Lt.writecb;if(typeof Cn!="function")throw new M;if(In(Lt),Oe)qe(Ne,Lt,kt,Oe,Cn);else{var oe=Dt(Lt)||Ne.destroyed;!oe&&!Lt.corked&&!Lt.bufferProcessing&&Lt.bufferedRequest&&Ue(Ne,Lt),kt?u.nextTick(Pt,Ne,Lt,oe,Cn):Pt(Ne,Lt,oe,Cn)}}function Pt(Ne,Oe,Lt,kt){Lt||he(Ne,Oe),Oe.pendingcb--,kt(),pe(Ne,Oe)}function he(Ne,Oe){Oe.length===0&&Oe.needDrain&&(Oe.needDrain=!1,Ne.emit("drain"))}function Ue(Ne,Oe){Oe.bufferProcessing=!0;var Lt=Oe.bufferedRequest;if(Ne._writev&&Lt&&Lt.next){var kt=Oe.bufferedRequestCount,Cn=new Array(kt),oe=Oe.corkedRequestsFree;oe.entry=Lt;for(var ae=0,Y=!0;Lt;)Cn[ae]=Lt,Lt.isBuf||(Y=!1),Lt=Lt.next,ae+=1;Cn.allBuffers=Y,_e(Ne,Oe,!0,Oe.length,Cn,"",oe.finish),Oe.pendingcb++,Oe.lastBufferedRequest=null,oe.next?(Oe.corkedRequestsFree=oe.next,oe.next=null):Oe.corkedRequestsFree=new d(Oe),Oe.bufferedRequestCount=0}else{for(;Lt;){var O=Lt.chunk,F=Lt.encoding,j=Lt.callback,xe=Oe.objectMode?1:O.length;if(_e(Ne,Oe,!1,xe,O,F,j),Lt=Lt.next,Oe.bufferedRequestCount--,Oe.writing)break}Lt===null&&(Oe.lastBufferedRequest=null)}Oe.bufferedRequest=Lt,Oe.bufferProcessing=!1}le.prototype._write=function(Ne,Oe,Lt){Lt(new x("_write()"))},le.prototype._writev=null,le.prototype.end=function(Ne,Oe,Lt){var kt=this._writableState;return typeof Ne=="function"?(Lt=Ne,Ne=null,Oe=null):typeof Oe=="function"&&(Lt=Oe,Oe=null),Ne!=null&&this.write(Ne,Oe),kt.corked&&(kt.corked=1,this.uncork()),kt.ending||ue(this,kt,Lt),this},Object.defineProperty(le.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function Dt(Ne){return Ne.ending&&Ne.length===0&&Ne.bufferedRequest===null&&!Ne.finished&&!Ne.writing}function jt(Ne,Oe){Ne._final(function(Lt){Oe.pendingcb--,Lt&&V(Ne,Lt),Oe.prefinished=!0,Ne.emit("prefinish"),pe(Ne,Oe)})}function Et(Ne,Oe){!Oe.prefinished&&!Oe.finalCalled&&(typeof Ne._final=="function"&&!Oe.destroyed?(Oe.pendingcb++,Oe.finalCalled=!0,u.nextTick(jt,Ne,Oe)):(Oe.prefinished=!0,Ne.emit("prefinish")))}function pe(Ne,Oe){var Lt=Dt(Oe);if(Lt&&(Et(Ne,Oe),Oe.pendingcb===0&&(Oe.finished=!0,Ne.emit("finish"),Oe.autoDestroy))){var kt=Ne._readableState;(!kt||kt.autoDestroy&&kt.endEmitted)&&Ne.destroy()}return Lt}function ue(Ne,Oe,Lt){Oe.ending=!0,pe(Ne,Oe),Lt&&(Oe.finished?u.nextTick(Lt):Ne.once("finish",Lt)),Oe.ended=!0,Ne.writable=!1}function $e(Ne,Oe,Lt){var kt=Ne.entry;for(Ne.entry=null;kt;){var Cn=kt.callback;Oe.pendingcb--,Cn(Lt),kt=kt.next}Oe.corkedRequestsFree.next=Ne}Object.defineProperty(le.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Oe){this._writableState&&(this._writableState.destroyed=Oe)}}),le.prototype.destroy=b.destroy,le.prototype._undestroy=b.undestroy,le.prototype._destroy=function(Ne,Oe){Oe(Ne)}}).call(this)}).call(this,n("_process"),typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{"../errors":33,"./_stream_duplex":34,"./internal/streams/destroy":41,"./internal/streams/state":45,"./internal/streams/stream":46,_process:102,buffer:29,inherits:51,"util-deprecate":139}],39:[function(n,o,a){(function(u){(function(){var c;function d(k,ie,$){return ie in k?Object.defineProperty(k,ie,{value:$,enumerable:!0,configurable:!0,writable:!0}):k[ie]=$,k}var f=n("./end-of-stream"),h=Symbol("lastResolve"),y=Symbol("lastReject"),g=Symbol("error"),p=Symbol("ended"),v=Symbol("lastPromise"),_=Symbol("handlePromise"),b=Symbol("stream");function A(k,ie){return{value:k,done:ie}}function w(k){var ie=k[h];if(ie!==null){var $=k[b].read();$!==null&&(k[v]=null,k[h]=null,k[y]=null,ie(A($,!1)))}}function S(k){u.nextTick(w,k)}function T(k,ie){return function($,z){k.then(function(){if(ie[p]){$(A(void 0,!0));return}ie[_]($,z)},z)}}var x=Object.getPrototypeOf(function(){}),M=Object.setPrototypeOf((c={get stream(){return this[b]},next:function(){var ie=this,$=this[g];if($!==null)return Promise.reject($);if(this[p])return Promise.resolve(A(void 0,!0));if(this[b].destroyed)return new Promise(function(D,Ce){u.nextTick(function(){ie[g]?Ce(ie[g]):D(A(void 0,!0))})});var z=this[v],V;if(z)V=new Promise(T(z,this));else{var re=this[b].read();if(re!==null)return Promise.resolve(A(re,!1));V=new Promise(this[_])}return this[v]=V,V}},d(c,Symbol.asyncIterator,function(){return this}),d(c,"return",function(){var ie=this;return new Promise(function($,z){ie[b].destroy(null,function(V){if(V){z(V);return}$(A(void 0,!0))})})}),c),x),L=function(ie){var $,z=Object.create(M,($={},d($,b,{value:ie,writable:!0}),d($,h,{value:null,writable:!0}),d($,y,{value:null,writable:!0}),d($,g,{value:null,writable:!0}),d($,p,{value:ie._readableState.endEmitted,writable:!0}),d($,_,{value:function(re,D){var Ce=z[b].read();Ce?(z[v]=null,z[h]=null,z[y]=null,re(A(Ce,!1))):(z[h]=re,z[y]=D)},writable:!0}),$));return z[v]=null,f(ie,function(V){if(V&&V.code!=="ERR_STREAM_PREMATURE_CLOSE"){var re=z[y];re!==null&&(z[v]=null,z[h]=null,z[y]=null,re(V)),z[g]=V;return}var D=z[h];D!==null&&(z[v]=null,z[h]=null,z[y]=null,D(A(void 0,!0))),z[p]=!0}),ie.on("readable",S.bind(null,z)),z};o.exports=L}).call(this)}).call(this,n("_process"))},{"./end-of-stream":42,_process:102}],40:[function(n,o,a){function u(w,S){var T=Object.keys(w);if(Object.getOwnPropertySymbols){var x=Object.getOwnPropertySymbols(w);S&&(x=x.filter(function(M){return Object.getOwnPropertyDescriptor(w,M).enumerable})),T.push.apply(T,x)}return T}function c(w){for(var S=1;S<arguments.length;S++){var T=arguments[S]!=null?arguments[S]:{};S%2?u(Object(T),!0).forEach(function(x){d(w,x,T[x])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(T)):u(Object(T)).forEach(function(x){Object.defineProperty(w,x,Object.getOwnPropertyDescriptor(T,x))})}return w}function d(w,S,T){return S in w?Object.defineProperty(w,S,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[S]=T,w}function f(w,S){if(!(w instanceof S))throw new TypeError("Cannot call a class as a function")}function h(w,S){for(var T=0;T<S.length;T++){var x=S[T];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(w,x.key,x)}}function y(w,S,T){return S&&h(w.prototype,S),T&&h(w,T),w}var g=n("buffer"),p=g.Buffer,v=n("util"),_=v.inspect,b=_&&_.custom||"inspect";function A(w,S,T){p.prototype.copy.call(w,S,T)}o.exports=function(){function w(){f(this,w),this.head=null,this.tail=null,this.length=0}return y(w,[{key:"push",value:function(T){var x={data:T,next:null};this.length>0?this.tail.next=x:this.head=x,this.tail=x,++this.length}},{key:"unshift",value:function(T){var x={data:T,next:this.head};this.length===0&&(this.tail=x),this.head=x,++this.length}},{key:"shift",value:function(){if(this.length!==0){var T=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,T}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(T){if(this.length===0)return"";for(var x=this.head,M=""+x.data;x=x.next;)M+=T+x.data;return M}},{key:"concat",value:function(T){if(this.length===0)return p.alloc(0);for(var x=p.allocUnsafe(T>>>0),M=this.head,L=0;M;)A(M.data,x,L),L+=M.data.length,M=M.next;return x}},{key:"consume",value:function(T,x){var M;return T<this.head.data.length?(M=this.head.data.slice(0,T),this.head.data=this.head.data.slice(T)):T===this.head.data.length?M=this.shift():M=x?this._getString(T):this._getBuffer(T),M}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(T){var x=this.head,M=1,L=x.data;for(T-=L.length;x=x.next;){var k=x.data,ie=T>k.length?k.length:T;if(ie===k.length?L+=k:L+=k.slice(0,T),T-=ie,T===0){ie===k.length?(++M,x.next?this.head=x.next:this.head=this.tail=null):(this.head=x,x.data=k.slice(ie));break}++M}return this.length-=M,L}},{key:"_getBuffer",value:function(T){var x=p.allocUnsafe(T),M=this.head,L=1;for(M.data.copy(x),T-=M.data.length;M=M.next;){var k=M.data,ie=T>k.length?k.length:T;if(k.copy(x,x.length-T,0,ie),T-=ie,T===0){ie===k.length?(++L,M.next?this.head=M.next:this.head=this.tail=null):(this.head=M,M.data=k.slice(ie));break}++L}return this.length-=L,x}},{key:b,value:function(T,x){return _(this,c({},x,{depth:0,customInspect:!1}))}}]),w}()},{buffer:29,util:26}],41:[function(n,o,a){(function(u){(function(){function c(p,v){var _=this,b=this._readableState&&this._readableState.destroyed,A=this._writableState&&this._writableState.destroyed;return b||A?(v?v(p):p&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,u.nextTick(y,this,p)):u.nextTick(y,this,p)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(p||null,function(w){!v&&w?_._writableState?_._writableState.errorEmitted?u.nextTick(f,_):(_._writableState.errorEmitted=!0,u.nextTick(d,_,w)):u.nextTick(d,_,w):v?(u.nextTick(f,_),v(w)):u.nextTick(f,_)}),this)}function d(p,v){y(p,v),f(p)}function f(p){p._writableState&&!p._writableState.emitClose||p._readableState&&!p._readableState.emitClose||p.emit("close")}function h(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function y(p,v){p.emit("error",v)}function g(p,v){var _=p._readableState,b=p._writableState;_&&_.autoDestroy||b&&b.autoDestroy?p.destroy(v):p.emit("error",v)}o.exports={destroy:c,undestroy:h,errorOrDestroy:g}}).call(this)}).call(this,n("_process"))},{_process:102}],42:[function(n,o,a){var u=n("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function c(y){var g=!1;return function(){if(!g){g=!0;for(var p=arguments.length,v=new Array(p),_=0;_<p;_++)v[_]=arguments[_];y.apply(this,v)}}}function d(){}function f(y){return y.setHeader&&typeof y.abort=="function"}function h(y,g,p){if(typeof g=="function")return h(y,null,g);g||(g={}),p=c(p||d);var v=g.readable||g.readable!==!1&&y.readable,_=g.writable||g.writable!==!1&&y.writable,b=function(){y.writable||w()},A=y._writableState&&y._writableState.finished,w=function(){_=!1,A=!0,v||p.call(y)},S=y._readableState&&y._readableState.endEmitted,T=function(){v=!1,S=!0,_||p.call(y)},x=function(ie){p.call(y,ie)},M=function(){var ie;if(v&&!S)return(!y._readableState||!y._readableState.ended)&&(ie=new u),p.call(y,ie);if(_&&!A)return(!y._writableState||!y._writableState.ended)&&(ie=new u),p.call(y,ie)},L=function(){y.req.on("finish",w)};return f(y)?(y.on("complete",w),y.on("abort",M),y.req?L():y.on("request",L)):_&&!y._writableState&&(y.on("end",b),y.on("close",b)),y.on("end",T),y.on("finish",w),g.error!==!1&&y.on("error",x),y.on("close",M),function(){y.removeListener("complete",w),y.removeListener("abort",M),y.removeListener("request",L),y.req&&y.req.removeListener("finish",w),y.removeListener("end",b),y.removeListener("close",b),y.removeListener("finish",w),y.removeListener("end",T),y.removeListener("error",x),y.removeListener("close",M)}}o.exports=h},{"../../../errors":33}],43:[function(n,o,a){o.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],44:[function(n,o,a){var u;function c(w){var S=!1;return function(){S||(S=!0,w.apply(void 0,arguments))}}var d=n("../../../errors").codes,f=d.ERR_MISSING_ARGS,h=d.ERR_STREAM_DESTROYED;function y(w){if(w)throw w}function g(w){return w.setHeader&&typeof w.abort=="function"}function p(w,S,T,x){x=c(x);var M=!1;w.on("close",function(){M=!0}),u===void 0&&(u=n("./end-of-stream")),u(w,{readable:S,writable:T},function(k){if(k)return x(k);M=!0,x()});var L=!1;return function(k){if(!M&&!L){if(L=!0,g(w))return w.abort();if(typeof w.destroy=="function")return w.destroy();x(k||new h("pipe"))}}}function v(w){w()}function _(w,S){return w.pipe(S)}function b(w){return!w.length||typeof w[w.length-1]!="function"?y:w.pop()}function A(){for(var w=arguments.length,S=new Array(w),T=0;T<w;T++)S[T]=arguments[T];var x=b(S);if(Array.isArray(S[0])&&(S=S[0]),S.length<2)throw new f("streams");var M,L=S.map(function(k,ie){var $=ie<S.length-1,z=ie>0;return p(k,$,z,function(V){M||(M=V),V&&L.forEach(v),!$&&(L.forEach(v),x(M))})});return S.reduce(_)}o.exports=A},{"../../../errors":33,"./end-of-stream":42}],45:[function(n,o,a){var u=n("../../../errors").codes.ERR_INVALID_OPT_VALUE;function c(f,h,y){return f.highWaterMark!=null?f.highWaterMark:h?f[y]:null}function d(f,h,y,g){var p=c(h,g,y);if(p!=null){if(!(isFinite(p)&&Math.floor(p)===p)||p<0){var v=g?y:"highWaterMark";throw new u(v,p)}return Math.floor(p)}return f.objectMode?16:16*1024}o.exports={getHighWaterMark:d}},{"../../../errors":33}],46:[function(n,o,a){o.exports=n("events").EventEmitter},{events:49}],47:[function(n,o,a){a=o.exports=n("./lib/_stream_readable.js"),a.Stream=a,a.Readable=a,a.Writable=n("./lib/_stream_writable.js"),a.Duplex=n("./lib/_stream_duplex.js"),a.Transform=n("./lib/_stream_transform.js"),a.PassThrough=n("./lib/_stream_passthrough.js"),a.finished=n("./lib/internal/streams/end-of-stream.js"),a.pipeline=n("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":34,"./lib/_stream_passthrough.js":35,"./lib/_stream_readable.js":36,"./lib/_stream_transform.js":37,"./lib/_stream_writable.js":38,"./lib/internal/streams/end-of-stream.js":42,"./lib/internal/streams/pipeline.js":44}],48:[function(n,o,a){(function(u){(function(){var c=n("once"),d=function(){},f=function(g){return g.setHeader&&typeof g.abort=="function"},h=function(g){return g.stdio&&Array.isArray(g.stdio)&&g.stdio.length===3},y=function(g,p,v){if(typeof p=="function")return y(g,null,p);p||(p={}),v=c(v||d);var _=g._writableState,b=g._readableState,A=p.readable||p.readable!==!1&&g.readable,w=p.writable||p.writable!==!1&&g.writable,S=!1,T=function(){g.writable||x()},x=function(){w=!1,A||v.call(g)},M=function(){A=!1,w||v.call(g)},L=function(V){v.call(g,V?new Error("exited with error code: "+V):null)},k=function(V){v.call(g,V)},ie=function(){u.nextTick($)},$=function(){if(!S){if(A&&!(b&&b.ended&&!b.destroyed))return v.call(g,new Error("premature close"));if(w&&!(_&&_.ended&&!_.destroyed))return v.call(g,new Error("premature close"))}},z=function(){g.req.on("finish",x)};return f(g)?(g.on("complete",x),g.on("abort",ie),g.req?z():g.on("request",z)):w&&!_&&(g.on("end",T),g.on("close",T)),h(g)&&g.on("exit",L),g.on("end",M),g.on("finish",x),p.error!==!1&&g.on("error",k),g.on("close",ie),function(){S=!0,g.removeListener("complete",x),g.removeListener("abort",ie),g.removeListener("request",z),g.req&&g.req.removeListener("finish",x),g.removeListener("end",T),g.removeListener("close",T),g.removeListener("finish",x),g.removeListener("exit",L),g.removeListener("end",M),g.removeListener("error",k),g.removeListener("close",ie)}};o.exports=y}).call(this)}).call(this,n("_process"))},{_process:102,once:100}],49:[function(n,o,a){var u=typeof Reflect=="object"?Reflect:null,c=u&&typeof u.apply=="function"?u.apply:function(z,V,re){return Function.prototype.apply.call(z,V,re)},d;u&&typeof u.ownKeys=="function"?d=u.ownKeys:Object.getOwnPropertySymbols?d=function(z){return Object.getOwnPropertyNames(z).concat(Object.getOwnPropertySymbols(z))}:d=function(z){return Object.getOwnPropertyNames(z)};function f($){console&&console.warn&&console.warn($)}var h=Number.isNaN||function(z){return z!==z};function y(){y.init.call(this)}o.exports=y,o.exports.once=L,y.EventEmitter=y,y.prototype._events=void 0,y.prototype._eventsCount=0,y.prototype._maxListeners=void 0;var g=10;function p($){if(typeof $!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof $)}Object.defineProperty(y,"defaultMaxListeners",{enumerable:!0,get:function(){return g},set:function($){if(typeof $!="number"||$<0||h($))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+$+".");g=$}}),y.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},y.prototype.setMaxListeners=function(z){if(typeof z!="number"||z<0||h(z))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+z+".");return this._maxListeners=z,this};function v($){return $._maxListeners===void 0?y.defaultMaxListeners:$._maxListeners}y.prototype.getMaxListeners=function(){return v(this)},y.prototype.emit=function(z){for(var V=[],re=1;re<arguments.length;re++)V.push(arguments[re]);var D=z==="error",Ce=this._events;if(Ce!==void 0)D=D&&Ce.error===void 0;else if(!D)return!1;if(D){var le;if(V.length>0&&(le=V[0]),le instanceof Error)throw le;var de=new Error("Unhandled error."+(le?" ("+le.message+")":""));throw de.context=le,de}var Fe=Ce[z];if(Fe===void 0)return!1;if(typeof Fe=="function")c(Fe,this,V);else for(var Ie=Fe.length,At=T(Fe,Ie),re=0;re<Ie;++re)c(At[re],this,V);return!0};function _($,z,V,re){var D,Ce,le;if(p(V),Ce=$._events,Ce===void 0?(Ce=$._events=Object.create(null),$._eventsCount=0):(Ce.newListener!==void 0&&($.emit("newListener",z,V.listener?V.listener:V),Ce=$._events),le=Ce[z]),le===void 0)le=Ce[z]=V,++$._eventsCount;else if(typeof le=="function"?le=Ce[z]=re?[V,le]:[le,V]:re?le.unshift(V):le.push(V),D=v($),D>0&&le.length>D&&!le.warned){le.warned=!0;var de=new Error("Possible EventEmitter memory leak detected. "+le.length+" "+String(z)+" listeners added. Use emitter.setMaxListeners() to increase limit");de.name="MaxListenersExceededWarning",de.emitter=$,de.type=z,de.count=le.length,f(de)}return $}y.prototype.addListener=function(z,V){return _(this,z,V,!1)},y.prototype.on=y.prototype.addListener,y.prototype.prependListener=function(z,V){return _(this,z,V,!0)};function b(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function A($,z,V){var re={fired:!1,wrapFn:void 0,target:$,type:z,listener:V},D=b.bind(re);return D.listener=V,re.wrapFn=D,D}y.prototype.once=function(z,V){return p(V),this.on(z,A(this,z,V)),this},y.prototype.prependOnceListener=function(z,V){return p(V),this.prependListener(z,A(this,z,V)),this},y.prototype.removeListener=function(z,V){var re,D,Ce,le,de;if(p(V),D=this._events,D===void 0)return this;if(re=D[z],re===void 0)return this;if(re===V||re.listener===V)--this._eventsCount===0?this._events=Object.create(null):(delete D[z],D.removeListener&&this.emit("removeListener",z,re.listener||V));else if(typeof re!="function"){for(Ce=-1,le=re.length-1;le>=0;le--)if(re[le]===V||re[le].listener===V){de=re[le].listener,Ce=le;break}if(Ce<0)return this;Ce===0?re.shift():x(re,Ce),re.length===1&&(D[z]=re[0]),D.removeListener!==void 0&&this.emit("removeListener",z,de||V)}return this},y.prototype.off=y.prototype.removeListener,y.prototype.removeAllListeners=function(z){var V,re,D;if(re=this._events,re===void 0)return this;if(re.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):re[z]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete re[z]),this;if(arguments.length===0){var Ce=Object.keys(re),le;for(D=0;D<Ce.length;++D)le=Ce[D],le!=="removeListener"&&this.removeAllListeners(le);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(V=re[z],typeof V=="function")this.removeListener(z,V);else if(V!==void 0)for(D=V.length-1;D>=0;D--)this.removeListener(z,V[D]);return this};function w($,z,V){var re=$._events;if(re===void 0)return[];var D=re[z];return D===void 0?[]:typeof D=="function"?V?[D.listener||D]:[D]:V?M(D):T(D,D.length)}y.prototype.listeners=function(z){return w(this,z,!0)},y.prototype.rawListeners=function(z){return w(this,z,!1)},y.listenerCount=function($,z){return typeof $.listenerCount=="function"?$.listenerCount(z):S.call($,z)},y.prototype.listenerCount=S;function S($){var z=this._events;if(z!==void 0){var V=z[$];if(typeof V=="function")return 1;if(V!==void 0)return V.length}return 0}y.prototype.eventNames=function(){return this._eventsCount>0?d(this._events):[]};function T($,z){for(var V=new Array(z),re=0;re<z;++re)V[re]=$[re];return V}function x($,z){for(;z+1<$.length;z++)$[z]=$[z+1];$.pop()}function M($){for(var z=new Array($.length),V=0;V<z.length;++V)z[V]=$[V].listener||$[V];return z}function L($,z){return new Promise(function(V,re){function D(le){$.removeListener(z,Ce),re(le)}function Ce(){typeof $.removeListener=="function"&&$.removeListener("error",D),V([].slice.call(arguments))}ie($,z,Ce,{once:!0}),z!=="error"&&k($,D,{once:!0})})}function k($,z,V){typeof $.on=="function"&&ie($,"error",z,V)}function ie($,z,V,re){if(typeof $.on=="function")re.once?$.once(z,V):$.on(z,V);else if(typeof $.addEventListener=="function")$.addEventListener(z,function D(Ce){re.once&&$.removeEventListener(z,D),V(Ce)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof $)}},{}],50:[function(n,o,a){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */a.read=function(u,c,d,f,h){var y,g,p=h*8-f-1,v=(1<<p)-1,_=v>>1,b=-7,A=d?h-1:0,w=d?-1:1,S=u[c+A];for(A+=w,y=S&(1<<-b)-1,S>>=-b,b+=p;b>0;y=y*256+u[c+A],A+=w,b-=8);for(g=y&(1<<-b)-1,y>>=-b,b+=f;b>0;g=g*256+u[c+A],A+=w,b-=8);if(y===0)y=1-_;else{if(y===v)return g?NaN:(S?-1:1)*(1/0);g=g+Math.pow(2,f),y=y-_}return(S?-1:1)*g*Math.pow(2,y-f)},a.write=function(u,c,d,f,h,y){var g,p,v,_=y*8-h-1,b=(1<<_)-1,A=b>>1,w=h===23?Math.pow(2,-24)-Math.pow(2,-77):0,S=f?0:y-1,T=f?1:-1,x=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(p=isNaN(c)?1:0,g=b):(g=Math.floor(Math.log(c)/Math.LN2),c*(v=Math.pow(2,-g))<1&&(g--,v*=2),g+A>=1?c+=w/v:c+=w*Math.pow(2,1-A),c*v>=2&&(g++,v/=2),g+A>=b?(p=0,g=b):g+A>=1?(p=(c*v-1)*Math.pow(2,h),g=g+A):(p=c*Math.pow(2,A-1)*Math.pow(2,h),g=0));h>=8;u[d+S]=p&255,S+=T,p/=256,h-=8);for(g=g<<h|p,_+=h;_>0;u[d+S]=g&255,S+=T,g/=256,_-=8);u[d+S-T]|=x*128}},{}],51:[function(n,o,a){typeof Object.create=="function"?o.exports=function(c,d){d&&(c.super_=d,c.prototype=Object.create(d.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:o.exports=function(c,d){if(d){c.super_=d;var f=function(){};f.prototype=d.prototype,c.prototype=new f,c.prototype.constructor=c}}},{}],52:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.ContainerIterator=a.Container=a.Base=void 0;class u{constructor(h=0){this.iteratorType=h}equals(h){return this.o===h.o}}a.ContainerIterator=u;class c{constructor(){this.i=0}get length(){return this.i}size(){return this.i}empty(){return this.i===0}}a.Base=c;class d extends c{}a.Container=d},{}],53:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.HashContainerIterator=a.HashContainer=void 0;var u=n("../../ContainerBase"),c=f(n("../../../utils/checkObject")),d=n("../../../utils/throwError");function f(g){return g&&g.t?g:{default:g}}class h extends u.ContainerIterator{constructor(p,v,_){super(_),this.o=p,this.h=v,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,d.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,d.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,d.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,d.throwIteratorAccessError)(),this.o=this.o.L,this})}}a.HashContainerIterator=h;class y extends u.Container{constructor(){super(),this.H=[],this.g={},this.HASH_TAG=Symbol("@@HASH_TAG"),Object.setPrototypeOf(this.g,null),this.h={},this.h.L=this.h.B=this.p=this._=this.h}V(p){const{L:v,B:_}=p;v.B=_,_.L=v,p===this.p&&(this.p=_),p===this._&&(this._=v),this.i-=1}M(p,v,_){_===void 0&&(_=(0,c.default)(p));let b;if(_){const A=p[this.HASH_TAG];if(A!==void 0)return this.H[A].l=v,this.i;Object.defineProperty(p,this.HASH_TAG,{value:this.H.length,configurable:!0}),b={u:p,l:v,L:this._,B:this.h},this.H.push(b)}else{const A=this.g[p];if(A)return A.l=v,this.i;b={u:p,l:v,L:this._,B:this.h},this.g[p]=b}return this.i===0?(this.p=b,this.h.B=b):this._.B=b,this._=b,this.h.L=b,++this.i}I(p,v){if(v===void 0&&(v=(0,c.default)(p)),v){const _=p[this.HASH_TAG];return _===void 0?this.h:this.H[_]}else return this.g[p]||this.h}clear(){const p=this.HASH_TAG;this.H.forEach(function(v){delete v.u[p]}),this.H=[],this.g={},Object.setPrototypeOf(this.g,null),this.i=0,this.p=this._=this.h.L=this.h.B=this.h}eraseElementByKey(p,v){let _;if(v===void 0&&(v=(0,c.default)(p)),v){const b=p[this.HASH_TAG];if(b===void 0)return!1;delete p[this.HASH_TAG],_=this.H[b],delete this.H[b]}else{if(_=this.g[p],_===void 0)return!1;delete this.g[p]}return this.V(_),!0}eraseElementByIterator(p){const v=p.o;return v===this.h&&(0,d.throwIteratorAccessError)(),this.V(v),p.next()}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;let v=this.p;for(;p--;)v=v.B;return this.V(v),this.i}}a.HashContainer=y},{"../../../utils/checkObject":70,"../../../utils/throwError":71,"../../ContainerBase":52}],54:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=n("./Base"),c=f(n("../../utils/checkObject")),d=n("../../utils/throwError");function f(p){return p&&p.t?p:{default:p}}class h extends u.HashContainerIterator{constructor(v,_,b,A){super(v,_,A),this.container=b}get pointer(){this.o===this.h&&(0,d.throwIteratorAccessError)();const v=this;return new Proxy([],{get(_,b){if(b==="0")return v.o.u;if(b==="1")return v.o.l},set(_,b,A){if(b!=="1")throw new TypeError("props must be 1");return v.o.l=A,!0}})}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class y extends u.HashContainer{constructor(v=[]){super();const _=this;v.forEach(function(b){_.setElement(b[0],b[1])})}begin(){return new h(this.p,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this._,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){if(this.i!==0)return[this.p.u,this.p.l]}back(){if(this.i!==0)return[this._.u,this._.l]}setElement(v,_,b){return this.M(v,_,b)}getElementByKey(v,_){if(_===void 0&&(_=(0,c.default)(v)),_){const A=v[this.HASH_TAG];return A!==void 0?this.H[A].l:void 0}const b=this.g[v];return b?b.l:void 0}getElementByPos(v){if(v<0||v>this.i-1)throw new RangeError;let _=this.p;for(;v--;)_=_.B;return[_.u,_.l]}find(v,_){const b=this.I(v,_);return new h(b,this.h,this)}forEach(v){let _=0,b=this.p;for(;b!==this.h;)v([b.u,b.l],_++,this),b=b.B}[Symbol.iterator](){return(function*(){let v=this.p;for(;v!==this.h;)yield[v.u,v.l],v=v.B}).bind(this)()}}var g=y;a.default=g},{"../../utils/checkObject":70,"../../utils/throwError":71,"./Base":53}],55:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=n("./Base"),c=n("../../utils/throwError");class d extends u.HashContainerIterator{constructor(g,p,v,_){super(g,p,_),this.container=v}get pointer(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o.u}copy(){return new d(this.o,this.h,this.container,this.iteratorType)}}class f extends u.HashContainer{constructor(g=[]){super();const p=this;g.forEach(function(v){p.insert(v)})}begin(){return new d(this.p,this.h,this)}end(){return new d(this.h,this.h,this)}rBegin(){return new d(this._,this.h,this,1)}rEnd(){return new d(this.h,this.h,this,1)}front(){return this.p.u}back(){return this._.u}insert(g,p){return this.M(g,void 0,p)}getElementByPos(g){if(g<0||g>this.i-1)throw new RangeError;let p=this.p;for(;g--;)p=p.B;return p.u}find(g,p){const v=this.I(g,p);return new d(v,this.h,this)}forEach(g){let p=0,v=this.p;for(;v!==this.h;)g(v.u,p++,this),v=v.B}[Symbol.iterator](){return(function*(){let g=this.p;for(;g!==this.h;)yield g.u,g=g.B}).bind(this)()}}var h=f;a.default=h},{"../../utils/throwError":71,"./Base":53}],56:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=n("../ContainerBase");class c extends u.Base{constructor(h=[],y=function(p,v){return p>v?-1:p<v?1:0},g=!0){if(super(),this.v=y,Array.isArray(h))this.C=g?[...h]:h;else{this.C=[];const v=this;h.forEach(function(_){v.C.push(_)})}this.i=this.C.length;const p=this.i>>1;for(let v=this.i-1>>1;v>=0;--v)this.k(v,p)}m(h){const y=this.C[h];for(;h>0;){const g=h-1>>1,p=this.C[g];if(this.v(p,y)<=0)break;this.C[h]=p,h=g}this.C[h]=y}k(h,y){const g=this.C[h];for(;h<y;){let p=h<<1|1;const v=p+1;let _=this.C[p];if(v<this.i&&this.v(_,this.C[v])>0&&(p=v,_=this.C[v]),this.v(_,g)>=0)break;this.C[h]=_,h=p}this.C[h]=g}clear(){this.i=0,this.C.length=0}push(h){this.C.push(h),this.m(this.i),this.i+=1}pop(){if(this.i===0)return;const h=this.C[0],y=this.C.pop();return this.i-=1,this.i&&(this.C[0]=y,this.k(0,this.i>>1)),h}top(){return this.C[0]}find(h){return this.C.indexOf(h)>=0}remove(h){const y=this.C.indexOf(h);return y<0?!1:(y===0?this.pop():y===this.i-1?(this.C.pop(),this.i-=1):(this.C.splice(y,1,this.C.pop()),this.i-=1,this.m(y),this.k(y,this.i>>1)),!0)}updateItem(h){const y=this.C.indexOf(h);return y<0?!1:(this.m(y),this.k(y,this.i>>1),!0)}toArray(){return[...this.C]}}var d=c;a.default=d},{"../ContainerBase":52}],57:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=n("../ContainerBase");class c extends u.Base{constructor(h=[]){super(),this.j=0,this.q=[];const y=this;h.forEach(function(g){y.push(g)})}clear(){this.q=[],this.i=this.j=0}push(h){const y=this.q.length;if(this.j/y>.5&&this.j+this.i>=y&&y>4096){const g=this.i;for(let p=0;p<g;++p)this.q[p]=this.q[this.j+p];this.j=0,this.q[this.i]=h}else this.q[this.j+this.i]=h;return++this.i}pop(){if(this.i===0)return;const h=this.q[this.j++];return this.i-=1,h}front(){if(this.i!==0)return this.q[this.j]}}var d=c;a.default=d},{"../ContainerBase":52}],58:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=n("../ContainerBase");class c extends u.Base{constructor(h=[]){super(),this.S=[];const y=this;h.forEach(function(g){y.push(g)})}clear(){this.i=0,this.S=[]}push(h){return this.S.push(h),this.i+=1,this.i}pop(){if(this.i!==0)return this.i-=1,this.S.pop()}top(){return this.S[this.i-1]}}var d=c;a.default=d},{"../ContainerBase":52}],59:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.RandomIterator=void 0;var u=n("../../ContainerBase"),c=n("../../../utils/throwError");class d extends u.ContainerIterator{constructor(h,y){super(y),this.o=h,this.iteratorType===0?(this.pre=function(){return this.o===0&&(0,c.throwIteratorAccessError)(),this.o-=1,this},this.next=function(){return this.o===this.container.size()&&(0,c.throwIteratorAccessError)(),this.o+=1,this}):(this.pre=function(){return this.o===this.container.size()-1&&(0,c.throwIteratorAccessError)(),this.o+=1,this},this.next=function(){return this.o===-1&&(0,c.throwIteratorAccessError)(),this.o-=1,this})}get pointer(){return this.container.getElementByPos(this.o)}set pointer(h){this.container.setElementByPos(this.o,h)}}a.RandomIterator=d},{"../../../utils/throwError":71,"../../ContainerBase":52}],60:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=n("../../ContainerBase");class c extends u.Container{}var d=c;a.default=d},{"../../ContainerBase":52}],61:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=d(n("./Base")),c=n("./Base/RandomIterator");function d(g){return g&&g.t?g:{default:g}}class f extends c.RandomIterator{constructor(p,v,_){super(p,_),this.container=v}copy(){return new f(this.o,this.container,this.iteratorType)}}class h extends u.default{constructor(p=[],v=4096){super(),this.j=0,this.D=0,this.R=0,this.N=0,this.P=0,this.A=[];const _=(()=>{if(typeof p.length=="number")return p.length;if(typeof p.size=="number")return p.size;if(typeof p.size=="function")return p.size();throw new TypeError("Cannot get the length or size of the container")})();this.F=v,this.P=Math.max(Math.ceil(_/this.F),1);for(let w=0;w<this.P;++w)this.A.push(new Array(this.F));const b=Math.ceil(_/this.F);this.j=this.R=(this.P>>1)-(b>>1),this.D=this.N=this.F-_%this.F>>1;const A=this;p.forEach(function(w){A.pushBack(w)})}T(){const p=[],v=Math.max(this.P>>1,1);for(let _=0;_<v;++_)p[_]=new Array(this.F);for(let _=this.j;_<this.P;++_)p[p.length]=this.A[_];for(let _=0;_<this.R;++_)p[p.length]=this.A[_];p[p.length]=[...this.A[this.R]],this.j=v,this.R=p.length-1;for(let _=0;_<v;++_)p[p.length]=new Array(this.F);this.A=p,this.P=p.length}O(p){const v=this.D+p+1,_=v%this.F;let b=_-1,A=this.j+(v-_)/this.F;return _===0&&(A-=1),A%=this.P,b<0&&(b+=this.F),{curNodeBucketIndex:A,curNodePointerIndex:b}}clear(){this.A=[new Array(this.F)],this.P=1,this.j=this.R=this.i=0,this.D=this.N=this.F>>1}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){if(this.i!==0)return this.A[this.j][this.D]}back(){if(this.i!==0)return this.A[this.R][this.N]}pushBack(p){return this.i&&(this.N<this.F-1?this.N+=1:this.R<this.P-1?(this.R+=1,this.N=0):(this.R=0,this.N=0),this.R===this.j&&this.N===this.D&&this.T()),this.i+=1,this.A[this.R][this.N]=p,this.i}popBack(){if(this.i===0)return;const p=this.A[this.R][this.N];return this.i!==1&&(this.N>0?this.N-=1:this.R>0?(this.R-=1,this.N=this.F-1):(this.R=this.P-1,this.N=this.F-1)),this.i-=1,p}pushFront(p){return this.i&&(this.D>0?this.D-=1:this.j>0?(this.j-=1,this.D=this.F-1):(this.j=this.P-1,this.D=this.F-1),this.j===this.R&&this.D===this.N&&this.T()),this.i+=1,this.A[this.j][this.D]=p,this.i}popFront(){if(this.i===0)return;const p=this.A[this.j][this.D];return this.i!==1&&(this.D<this.F-1?this.D+=1:this.j<this.P-1?(this.j+=1,this.D=0):(this.j=0,this.D=0)),this.i-=1,p}getElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;const{curNodeBucketIndex:v,curNodePointerIndex:_}=this.O(p);return this.A[v][_]}setElementByPos(p,v){if(p<0||p>this.i-1)throw new RangeError;const{curNodeBucketIndex:_,curNodePointerIndex:b}=this.O(p);this.A[_][b]=v}insert(p,v,_=1){if(p<0||p>this.i)throw new RangeError;if(p===0)for(;_--;)this.pushFront(v);else if(p===this.i)for(;_--;)this.pushBack(v);else{const b=[];for(let A=p;A<this.i;++A)b.push(this.getElementByPos(A));this.cut(p-1);for(let A=0;A<_;++A)this.pushBack(v);for(let A=0;A<b.length;++A)this.pushBack(b[A])}return this.i}cut(p){if(p<0)return this.clear(),0;const{curNodeBucketIndex:v,curNodePointerIndex:_}=this.O(p);return this.R=v,this.N=_,this.i=p+1,this.i}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;if(p===0)this.popFront();else if(p===this.i-1)this.popBack();else{const v=[];for(let b=p+1;b<this.i;++b)v.push(this.getElementByPos(b));this.cut(p),this.popBack();const _=this;v.forEach(function(b){_.pushBack(b)})}return this.i}eraseElementByValue(p){if(this.i===0)return 0;const v=[];for(let b=0;b<this.i;++b){const A=this.getElementByPos(b);A!==p&&v.push(A)}const _=v.length;for(let b=0;b<_;++b)this.setElementByPos(b,v[b]);return this.cut(_-1)}eraseElementByIterator(p){const v=p.o;return this.eraseElementByPos(v),p=p.next(),p}find(p){for(let v=0;v<this.i;++v)if(this.getElementByPos(v)===p)return new f(v,this);return this.end()}reverse(){let p=0,v=this.i-1;for(;p<v;){const _=this.getElementByPos(p);this.setElementByPos(p,this.getElementByPos(v)),this.setElementByPos(v,_),p+=1,v-=1}}unique(){if(this.i<=1)return this.i;let p=1,v=this.getElementByPos(0);for(let _=1;_<this.i;++_){const b=this.getElementByPos(_);b!==v&&(v=b,this.setElementByPos(p++,b))}for(;this.i>p;)this.popBack();return this.i}sort(p){const v=[];for(let _=0;_<this.i;++_)v.push(this.getElementByPos(_));v.sort(p);for(let _=0;_<this.i;++_)this.setElementByPos(_,v[_])}shrinkToFit(){if(this.i===0)return;const p=[];this.forEach(function(v){p.push(v)}),this.P=Math.max(Math.ceil(this.i/this.F),1),this.i=this.j=this.R=this.D=this.N=0,this.A=[];for(let v=0;v<this.P;++v)this.A.push(new Array(this.F));for(let v=0;v<p.length;++v)this.pushBack(p[v])}forEach(p){for(let v=0;v<this.i;++v)p(this.getElementByPos(v),v,this)}[Symbol.iterator](){return(function*(){for(let p=0;p<this.i;++p)yield this.getElementByPos(p)}).bind(this)()}}var y=h;a.default=y},{"./Base":60,"./Base/RandomIterator":59}],62:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=f(n("./Base")),c=n("../ContainerBase"),d=n("../../utils/throwError");function f(p){return p&&p.t?p:{default:p}}class h extends c.ContainerIterator{constructor(v,_,b,A){super(A),this.o=v,this.h=_,this.container=b,this.iteratorType===0?(this.pre=function(){return this.o.L===this.h&&(0,d.throwIteratorAccessError)(),this.o=this.o.L,this},this.next=function(){return this.o===this.h&&(0,d.throwIteratorAccessError)(),this.o=this.o.B,this}):(this.pre=function(){return this.o.B===this.h&&(0,d.throwIteratorAccessError)(),this.o=this.o.B,this},this.next=function(){return this.o===this.h&&(0,d.throwIteratorAccessError)(),this.o=this.o.L,this})}get pointer(){return this.o===this.h&&(0,d.throwIteratorAccessError)(),this.o.l}set pointer(v){this.o===this.h&&(0,d.throwIteratorAccessError)(),this.o.l=v}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class y extends u.default{constructor(v=[]){super(),this.h={},this.p=this._=this.h.L=this.h.B=this.h;const _=this;v.forEach(function(b){_.pushBack(b)})}V(v){const{L:_,B:b}=v;_.B=b,b.L=_,v===this.p&&(this.p=b),v===this._&&(this._=_),this.i-=1}G(v,_){const b=_.B,A={l:v,L:_,B:b};_.B=A,b.L=A,_===this.h&&(this.p=A),b===this.h&&(this._=A),this.i+=1}clear(){this.i=0,this.p=this._=this.h.L=this.h.B=this.h}begin(){return new h(this.p,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this._,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){return this.p.l}back(){return this._.l}getElementByPos(v){if(v<0||v>this.i-1)throw new RangeError;let _=this.p;for(;v--;)_=_.B;return _.l}eraseElementByPos(v){if(v<0||v>this.i-1)throw new RangeError;let _=this.p;for(;v--;)_=_.B;return this.V(_),this.i}eraseElementByValue(v){let _=this.p;for(;_!==this.h;)_.l===v&&this.V(_),_=_.B;return this.i}eraseElementByIterator(v){const _=v.o;return _===this.h&&(0,d.throwIteratorAccessError)(),v=v.next(),this.V(_),v}pushBack(v){return this.G(v,this._),this.i}popBack(){if(this.i===0)return;const v=this._.l;return this.V(this._),v}pushFront(v){return this.G(v,this.h),this.i}popFront(){if(this.i===0)return;const v=this.p.l;return this.V(this.p),v}setElementByPos(v,_){if(v<0||v>this.i-1)throw new RangeError;let b=this.p;for(;v--;)b=b.B;b.l=_}insert(v,_,b=1){if(v<0||v>this.i)throw new RangeError;if(b<=0)return this.i;if(v===0)for(;b--;)this.pushFront(_);else if(v===this.i)for(;b--;)this.pushBack(_);else{let A=this.p;for(let S=1;S<v;++S)A=A.B;const w=A.B;for(this.i+=b;b--;)A.B={l:_,L:A},A.B.L=A,A=A.B;A.B=w,w.L=A}return this.i}find(v){let _=this.p;for(;_!==this.h;){if(_.l===v)return new h(_,this.h,this);_=_.B}return this.end()}reverse(){if(this.i<=1)return;let v=this.p,_=this._,b=0;for(;b<<1<this.i;){const A=v.l;v.l=_.l,_.l=A,v=v.B,_=_.L,b+=1}}unique(){if(this.i<=1)return this.i;let v=this.p;for(;v!==this.h;){let _=v;for(;_.B!==this.h&&_.l===_.B.l;)_=_.B,this.i-=1;v.B=_.B,v.B.L=v,v=v.B}return this.i}sort(v){if(this.i<=1)return;const _=[];this.forEach(function(A){_.push(A)}),_.sort(v);let b=this.p;_.forEach(function(A){b.l=A,b=b.B})}merge(v){const _=this;if(this.i===0)v.forEach(function(b){_.pushBack(b)});else{let b=this.p;v.forEach(function(A){for(;b!==_.h&&b.l<=A;)b=b.B;_.G(A,b.L)})}return this.i}forEach(v){let _=this.p,b=0;for(;_!==this.h;)v(_.l,b++,this),_=_.B}[Symbol.iterator](){return(function*(){if(this.i===0)return;let v=this.p;for(;v!==this.h;)yield v.l,v=v.B}).bind(this)()}}var g=y;a.default=g},{"../../utils/throwError":71,"../ContainerBase":52,"./Base":60}],63:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=d(n("./Base")),c=n("./Base/RandomIterator");function d(g){return g&&g.t?g:{default:g}}class f extends c.RandomIterator{constructor(p,v,_){super(p,_),this.container=v}copy(){return new f(this.o,this.container,this.iteratorType)}}class h extends u.default{constructor(p=[],v=!0){if(super(),Array.isArray(p))this.J=v?[...p]:p,this.i=p.length;else{this.J=[];const _=this;p.forEach(function(b){_.pushBack(b)})}}clear(){this.i=0,this.J.length=0}begin(){return new f(0,this)}end(){return new f(this.i,this)}rBegin(){return new f(this.i-1,this,1)}rEnd(){return new f(-1,this,1)}front(){return this.J[0]}back(){return this.J[this.i-1]}getElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;return this.J[p]}eraseElementByPos(p){if(p<0||p>this.i-1)throw new RangeError;return this.J.splice(p,1),this.i-=1,this.i}eraseElementByValue(p){let v=0;for(let _=0;_<this.i;++_)this.J[_]!==p&&(this.J[v++]=this.J[_]);return this.i=this.J.length=v,this.i}eraseElementByIterator(p){const v=p.o;return p=p.next(),this.eraseElementByPos(v),p}pushBack(p){return this.J.push(p),this.i+=1,this.i}popBack(){if(this.i!==0)return this.i-=1,this.J.pop()}setElementByPos(p,v){if(p<0||p>this.i-1)throw new RangeError;this.J[p]=v}insert(p,v,_=1){if(p<0||p>this.i)throw new RangeError;return this.J.splice(p,0,...new Array(_).fill(v)),this.i+=_,this.i}find(p){for(let v=0;v<this.i;++v)if(this.J[v]===p)return new f(v,this);return this.end()}reverse(){this.J.reverse()}unique(){let p=1;for(let v=1;v<this.i;++v)this.J[v]!==this.J[v-1]&&(this.J[p++]=this.J[v]);return this.i=this.J.length=p,this.i}sort(p){this.J.sort(p)}forEach(p){for(let v=0;v<this.i;++v)p(this.J[v],v,this)}[Symbol.iterator](){return(function*(){yield*this.J}).bind(this)()}}var y=h;a.default=y},{"./Base":60,"./Base/RandomIterator":59}],64:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=n("../../ContainerBase"),c=n("../../../utils/throwError");class d extends u.ContainerIterator{constructor(y,g,p){super(p),this.o=y,this.h=g,this.iteratorType===0?(this.pre=function(){return this.o===this.h.U&&(0,c.throwIteratorAccessError)(),this.o=this.o.L(),this},this.next=function(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o=this.o.B(),this}):(this.pre=function(){return this.o===this.h.W&&(0,c.throwIteratorAccessError)(),this.o=this.o.B(),this},this.next=function(){return this.o===this.h&&(0,c.throwIteratorAccessError)(),this.o=this.o.L(),this})}get index(){let y=this.o;const g=this.h.tt;if(y===this.h)return g?g.rt-1:0;let p=0;for(y.U&&(p+=y.U.rt);y!==g;){const v=y.tt;y===v.W&&(p+=1,v.U&&(p+=v.U.rt)),y=v}return p}}var f=d;a.default=f},{"../../../utils/throwError":71,"../../ContainerBase":52}],65:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.TreeNodeEnableIndex=a.TreeNode=void 0;class u{constructor(f,h){this.ee=1,this.u=void 0,this.l=void 0,this.U=void 0,this.W=void 0,this.tt=void 0,this.u=f,this.l=h}L(){let f=this;if(f.ee===1&&f.tt.tt===f)f=f.W;else if(f.U)for(f=f.U;f.W;)f=f.W;else{let h=f.tt;for(;h.U===f;)f=h,h=f.tt;f=h}return f}B(){let f=this;if(f.W){for(f=f.W;f.U;)f=f.U;return f}else{let h=f.tt;for(;h.W===f;)f=h,h=f.tt;return f.W!==h?h:f}}te(){const f=this.tt,h=this.W,y=h.U;return f.tt===this?f.tt=h:f.U===this?f.U=h:f.W=h,h.tt=f,h.U=this,this.tt=h,this.W=y,y&&(y.tt=this),h}se(){const f=this.tt,h=this.U,y=h.W;return f.tt===this?f.tt=h:f.U===this?f.U=h:f.W=h,h.tt=f,h.W=this,this.tt=h,this.U=y,y&&(y.tt=this),h}}a.TreeNode=u;class c extends u{constructor(){super(...arguments),this.rt=1}te(){const f=super.te();return this.ie(),f.ie(),f}se(){const f=super.se();return this.ie(),f.ie(),f}ie(){this.rt=1,this.U&&(this.rt+=this.U.rt),this.W&&(this.rt+=this.W.rt)}}a.TreeNodeEnableIndex=c},{}],66:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=n("./TreeNode"),c=n("../../ContainerBase"),d=n("../../../utils/throwError");class f extends c.Container{constructor(g=function(v,_){return v<_?-1:v>_?1:0},p=!1){super(),this.Y=void 0,this.v=g,p?(this.re=u.TreeNodeEnableIndex,this.M=function(v,_,b){const A=this.ne(v,_,b);if(A){let w=A.tt;for(;w!==this.h;)w.rt+=1,w=w.tt;const S=this.he(A);if(S){const{parentNode:T,grandParent:x,curNode:M}=S;T.ie(),x.ie(),M.ie()}}return this.i},this.V=function(v){let _=this.fe(v);for(;_!==this.h;)_.rt-=1,_=_.tt}):(this.re=u.TreeNode,this.M=function(v,_,b){const A=this.ne(v,_,b);return A&&this.he(A),this.i},this.V=this.fe),this.h=new this.re}X(g,p){let v=this.h;for(;g;){const _=this.v(g.u,p);if(_<0)g=g.W;else if(_>0)v=g,g=g.U;else return g}return v}Z(g,p){let v=this.h;for(;g;)this.v(g.u,p)<=0?g=g.W:(v=g,g=g.U);return v}$(g,p){let v=this.h;for(;g;){const _=this.v(g.u,p);if(_<0)v=g,g=g.W;else if(_>0)g=g.U;else return g}return v}rr(g,p){let v=this.h;for(;g;)this.v(g.u,p)<0?(v=g,g=g.W):g=g.U;return v}ue(g){for(;;){const p=g.tt;if(p===this.h)return;if(g.ee===1){g.ee=0;return}if(g===p.U){const v=p.W;if(v.ee===1)v.ee=0,p.ee=1,p===this.Y?this.Y=p.te():p.te();else if(v.W&&v.W.ee===1){v.ee=p.ee,p.ee=0,v.W.ee=0,p===this.Y?this.Y=p.te():p.te();return}else v.U&&v.U.ee===1?(v.ee=1,v.U.ee=0,v.se()):(v.ee=1,g=p)}else{const v=p.U;if(v.ee===1)v.ee=0,p.ee=1,p===this.Y?this.Y=p.se():p.se();else if(v.U&&v.U.ee===1){v.ee=p.ee,p.ee=0,v.U.ee=0,p===this.Y?this.Y=p.se():p.se();return}else v.W&&v.W.ee===1?(v.ee=1,v.W.ee=0,v.te()):(v.ee=1,g=p)}}}fe(g){if(this.i===1)return this.clear(),this.h;let p=g;for(;p.U||p.W;){if(p.W)for(p=p.W;p.U;)p=p.U;else p=p.U;[g.u,p.u]=[p.u,g.u],[g.l,p.l]=[p.l,g.l],g=p}this.h.U===p?this.h.U=p.tt:this.h.W===p&&(this.h.W=p.tt),this.ue(p);const v=p.tt;return p===v.U?v.U=void 0:v.W=void 0,this.i-=1,this.Y.ee=0,v}oe(g,p){return g===void 0?!1:this.oe(g.U,p)||p(g)?!0:this.oe(g.W,p)}he(g){for(;;){const p=g.tt;if(p.ee===0)return;const v=p.tt;if(p===v.U){const _=v.W;if(_&&_.ee===1){if(_.ee=p.ee=0,v===this.Y)return;v.ee=1,g=v;continue}else if(g===p.W){if(g.ee=0,g.U&&(g.U.tt=p),g.W&&(g.W.tt=v),p.W=g.U,v.U=g.W,g.U=p,g.W=v,v===this.Y)this.Y=g,this.h.tt=g;else{const b=v.tt;b.U===v?b.U=g:b.W=g}return g.tt=v.tt,p.tt=g,v.tt=g,v.ee=1,{parentNode:p,grandParent:v,curNode:g}}else p.ee=0,v===this.Y?this.Y=v.se():v.se(),v.ee=1}else{const _=v.U;if(_&&_.ee===1){if(_.ee=p.ee=0,v===this.Y)return;v.ee=1,g=v;continue}else if(g===p.U){if(g.ee=0,g.U&&(g.U.tt=v),g.W&&(g.W.tt=p),v.W=g.U,p.U=g.W,g.U=v,g.W=p,v===this.Y)this.Y=g,this.h.tt=g;else{const b=v.tt;b.U===v?b.U=g:b.W=g}return g.tt=v.tt,p.tt=g,v.tt=g,v.ee=1,{parentNode:p,grandParent:v,curNode:g}}else p.ee=0,v===this.Y?this.Y=v.te():v.te(),v.ee=1}return}}ne(g,p,v){if(this.Y===void 0){this.i+=1,this.Y=new this.re(g,p),this.Y.ee=0,this.Y.tt=this.h,this.h.tt=this.Y,this.h.U=this.Y,this.h.W=this.Y;return}let _;const b=this.h.U,A=this.v(b.u,g);if(A===0){b.l=p;return}else if(A>0)b.U=new this.re(g,p),b.U.tt=b,_=b.U,this.h.U=_;else{const w=this.h.W,S=this.v(w.u,g);if(S===0){w.l=p;return}else if(S<0)w.W=new this.re(g,p),w.W.tt=w,_=w.W,this.h.W=_;else{if(v!==void 0){const T=v.o;if(T!==this.h){const x=this.v(T.u,g);if(x===0){T.l=p;return}else if(x>0){const M=T.L(),L=this.v(M.u,g);if(L===0){M.l=p;return}else L<0&&(_=new this.re(g,p),M.W===void 0?(M.W=_,_.tt=M):(T.U=_,_.tt=T))}}}if(_===void 0)for(_=this.Y;;){const T=this.v(_.u,g);if(T>0){if(_.U===void 0){_.U=new this.re(g,p),_.U.tt=_,_=_.U;break}_=_.U}else if(T<0){if(_.W===void 0){_.W=new this.re(g,p),_.W.tt=_,_=_.W;break}_=_.W}else{_.l=p;return}}}}return this.i+=1,_}I(g,p){for(;g;){const v=this.v(g.u,p);if(v<0)g=g.W;else if(v>0)g=g.U;else return g}return g||this.h}clear(){this.i=0,this.Y=void 0,this.h.tt=void 0,this.h.U=this.h.W=void 0}updateKeyByIterator(g,p){const v=g.o;if(v===this.h&&(0,d.throwIteratorAccessError)(),this.i===1)return v.u=p,!0;if(v===this.h.U)return this.v(v.B().u,p)>0?(v.u=p,!0):!1;if(v===this.h.W)return this.v(v.L().u,p)<0?(v.u=p,!0):!1;const _=v.L().u;if(this.v(_,p)>=0)return!1;const b=v.B().u;return this.v(b,p)<=0?!1:(v.u=p,!0)}eraseElementByPos(g){if(g<0||g>this.i-1)throw new RangeError;let p=0;const v=this;return this.oe(this.Y,function(_){return g===p?(v.V(_),!0):(p+=1,!1)}),this.i}eraseElementByKey(g){if(this.i===0)return!1;const p=this.I(this.Y,g);return p===this.h?!1:(this.V(p),!0)}eraseElementByIterator(g){const p=g.o;p===this.h&&(0,d.throwIteratorAccessError)();const v=p.W===void 0;return g.iteratorType===0?v&&g.next():(!v||p.U===void 0)&&g.next(),this.V(p),g}forEach(g){let p=0;for(const v of this)g(v,p++,this)}getElementByPos(g){if(g<0||g>this.i-1)throw new RangeError;let p,v=0;for(const _ of this){if(v===g){p=_;break}v+=1}return p}getHeight(){if(this.i===0)return 0;const g=function(p){return p?Math.max(g(p.U),g(p.W))+1:0};return g(this.Y)}}var h=f;a.default=h},{"../../../utils/throwError":71,"../../ContainerBase":52,"./TreeNode":65}],67:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=f(n("./Base")),c=f(n("./Base/TreeIterator")),d=n("../../utils/throwError");function f(p){return p&&p.t?p:{default:p}}class h extends c.default{constructor(v,_,b,A){super(v,_,A),this.container=b}get pointer(){this.o===this.h&&(0,d.throwIteratorAccessError)();const v=this;return new Proxy([],{get(_,b){if(b==="0")return v.o.u;if(b==="1")return v.o.l},set(_,b,A){if(b!=="1")throw new TypeError("props must be 1");return v.o.l=A,!0}})}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class y extends u.default{constructor(v=[],_,b){super(_,b);const A=this;v.forEach(function(w){A.setElement(w[0],w[1])})}*K(v){v!==void 0&&(yield*this.K(v.U),yield[v.u,v.l],yield*this.K(v.W))}begin(){return new h(this.h.U||this.h,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this.h.W||this.h,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){if(this.i===0)return;const v=this.h.U;return[v.u,v.l]}back(){if(this.i===0)return;const v=this.h.W;return[v.u,v.l]}lowerBound(v){const _=this.X(this.Y,v);return new h(_,this.h,this)}upperBound(v){const _=this.Z(this.Y,v);return new h(_,this.h,this)}reverseLowerBound(v){const _=this.$(this.Y,v);return new h(_,this.h,this)}reverseUpperBound(v){const _=this.rr(this.Y,v);return new h(_,this.h,this)}setElement(v,_,b){return this.M(v,_,b)}find(v){const _=this.I(this.Y,v);return new h(_,this.h,this)}getElementByKey(v){return this.I(this.Y,v).l}union(v){const _=this;return v.forEach(function(b){_.setElement(b[0],b[1])}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var g=y;a.default=g},{"../../utils/throwError":71,"./Base":66,"./Base/TreeIterator":64}],68:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=void 0;var u=f(n("./Base")),c=f(n("./Base/TreeIterator")),d=n("../../utils/throwError");function f(p){return p&&p.t?p:{default:p}}class h extends c.default{constructor(v,_,b,A){super(v,_,A),this.container=b}get pointer(){return this.o===this.h&&(0,d.throwIteratorAccessError)(),this.o.u}copy(){return new h(this.o,this.h,this.container,this.iteratorType)}}class y extends u.default{constructor(v=[],_,b){super(_,b);const A=this;v.forEach(function(w){A.insert(w)})}*K(v){v!==void 0&&(yield*this.K(v.U),yield v.u,yield*this.K(v.W))}begin(){return new h(this.h.U||this.h,this.h,this)}end(){return new h(this.h,this.h,this)}rBegin(){return new h(this.h.W||this.h,this.h,this,1)}rEnd(){return new h(this.h,this.h,this,1)}front(){return this.h.U?this.h.U.u:void 0}back(){return this.h.W?this.h.W.u:void 0}insert(v,_){return this.M(v,void 0,_)}find(v){const _=this.I(this.Y,v);return new h(_,this.h,this)}lowerBound(v){const _=this.X(this.Y,v);return new h(_,this.h,this)}upperBound(v){const _=this.Z(this.Y,v);return new h(_,this.h,this)}reverseLowerBound(v){const _=this.$(this.Y,v);return new h(_,this.h,this)}reverseUpperBound(v){const _=this.rr(this.Y,v);return new h(_,this.h,this)}union(v){const _=this;return v.forEach(function(b){_.insert(b)}),this.i}[Symbol.iterator](){return this.K(this.Y)}}var g=y;a.default=g},{"../../utils/throwError":71,"./Base":66,"./Base/TreeIterator":64}],69:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),Object.defineProperty(a,"Deque",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(a,"HashMap",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(a,"HashSet",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(a,"LinkList",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(a,"OrderedMap",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(a,"OrderedSet",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(a,"PriorityQueue",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(a,"Queue",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(a,"Stack",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(a,"Vector",{enumerable:!0,get:function(){return f.default}});var u=b(n("./container/OtherContainer/Stack")),c=b(n("./container/OtherContainer/Queue")),d=b(n("./container/OtherContainer/PriorityQueue")),f=b(n("./container/SequentialContainer/Vector")),h=b(n("./container/SequentialContainer/LinkList")),y=b(n("./container/SequentialContainer/Deque")),g=b(n("./container/TreeContainer/OrderedSet")),p=b(n("./container/TreeContainer/OrderedMap")),v=b(n("./container/HashContainer/HashSet")),_=b(n("./container/HashContainer/HashMap"));function b(A){return A&&A.t?A:{default:A}}},{"./container/HashContainer/HashMap":54,"./container/HashContainer/HashSet":55,"./container/OtherContainer/PriorityQueue":56,"./container/OtherContainer/Queue":57,"./container/OtherContainer/Stack":58,"./container/SequentialContainer/Deque":61,"./container/SequentialContainer/LinkList":62,"./container/SequentialContainer/Vector":63,"./container/TreeContainer/OrderedMap":67,"./container/TreeContainer/OrderedSet":68}],70:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.default=u;function u(c){const d=typeof c;return d==="object"&&c!==null||d==="function"}},{}],71:[function(n,o,a){Object.defineProperty(a,"t",{value:!0}),a.throwIteratorAccessError=u;function u(){throw new RangeError("Iterator access denied!")}},{}],72:[function(n,o,a){(function(u){(function(){const c=typeof performance=="object"&&performance&&typeof performance.now=="function"?performance:Date,f=typeof AbortController=="function"?AbortController:class{constructor(){this.signal=new g}abort($=new Error("This operation was aborted")){this.signal.reason=this.signal.reason||$,this.signal.aborted=!0,this.signal.dispatchEvent({type:"abort",target:this.signal})}},h=typeof AbortSignal=="function",y=typeof f.AbortSignal=="function",g=h?AbortSignal:y?f.AbortController:class{constructor(){this.reason=void 0,this.aborted=!1,this._listeners=[]}dispatchEvent($){$.type==="abort"&&(this.aborted=!0,this.onabort($),this._listeners.forEach(z=>z($),this))}onabort(){}addEventListener($,z){$==="abort"&&this._listeners.push(z)}removeEventListener($,z){$==="abort"&&(this._listeners=this._listeners.filter(V=>V!==z))}},p=new Set,v=(ie,$)=>{const z=`LRU_CACHE_OPTION_${ie}`;w(z)&&S(z,`${ie} option`,`options.${$}`,k)},_=(ie,$)=>{const z=`LRU_CACHE_METHOD_${ie}`;if(w(z)){const{prototype:V}=k,{get:re}=Object.getOwnPropertyDescriptor(V,ie);S(z,`${ie} method`,`cache.${$}()`,re)}},b=(ie,$)=>{const z=`LRU_CACHE_PROPERTY_${ie}`;if(w(z)){const{prototype:V}=k,{get:re}=Object.getOwnPropertyDescriptor(V,ie);S(z,`${ie} property`,`cache.${$}`,re)}},A=(...ie)=>{typeof u=="object"&&u&&typeof u.emitWarning=="function"?u.emitWarning(...ie):console.error(...ie)},w=ie=>!p.has(ie),S=(ie,$,z,V)=>{p.add(ie);const re=`The ${$} is deprecated. Please use ${z} instead.`;A(re,"DeprecationWarning",ie,V)},T=ie=>ie&&ie===Math.floor(ie)&&ie>0&&isFinite(ie),x=ie=>T(ie)?ie<=Math.pow(2,8)?Uint8Array:ie<=Math.pow(2,16)?Uint16Array:ie<=Math.pow(2,32)?Uint32Array:ie<=Number.MAX_SAFE_INTEGER?M:null:null;class M extends Array{constructor($){super($),this.fill(0)}}class L{constructor($){if($===0)return[];const z=x($);this.heap=new z($),this.length=0}push($){this.heap[this.length++]=$}pop(){return this.heap[--this.length]}}class k{constructor($={}){const{max:z=0,ttl:V,ttlResolution:re=1,ttlAutopurge:D,updateAgeOnGet:Ce,updateAgeOnHas:le,allowStale:de,dispose:Fe,disposeAfter:Ie,noDisposeOnSet:At,noUpdateTTL:_e,maxSize:qe=0,maxEntrySize:In=0,sizeCalculation:vn,fetchMethod:Pt,fetchContext:he,noDeleteOnFetchRejection:Ue,noDeleteOnStaleGet:Dt,allowStaleOnFetchRejection:jt,allowStaleOnFetchAbort:Et,ignoreFetchAbort:pe}=$,{length:ue,maxAge:$e,stale:Ne}=$ instanceof k?{}:$;if(z!==0&&!T(z))throw new TypeError("max option must be a nonnegative integer");const Oe=z?x(z):Array;if(!Oe)throw new Error("invalid max value: "+z);if(this.max=z,this.maxSize=qe,this.maxEntrySize=In||this.maxSize,this.sizeCalculation=vn||ue,this.sizeCalculation){if(!this.maxSize&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if(typeof this.sizeCalculation!="function")throw new TypeError("sizeCalculation set to non-function")}if(this.fetchMethod=Pt||null,this.fetchMethod&&typeof this.fetchMethod!="function")throw new TypeError("fetchMethod must be a function if specified");if(this.fetchContext=he,!this.fetchMethod&&he!==void 0)throw new TypeError("cannot set fetchContext without fetchMethod");if(this.keyMap=new Map,this.keyList=new Array(z).fill(null),this.valList=new Array(z).fill(null),this.next=new Oe(z),this.prev=new Oe(z),this.head=0,this.tail=0,this.free=new L(z),this.initialFill=1,this.size=0,typeof Fe=="function"&&(this.dispose=Fe),typeof Ie=="function"?(this.disposeAfter=Ie,this.disposed=[]):(this.disposeAfter=null,this.disposed=null),this.noDisposeOnSet=!!At,this.noUpdateTTL=!!_e,this.noDeleteOnFetchRejection=!!Ue,this.allowStaleOnFetchRejection=!!jt,this.allowStaleOnFetchAbort=!!Et,this.ignoreFetchAbort=!!pe,this.maxEntrySize!==0){if(this.maxSize!==0&&!T(this.maxSize))throw new TypeError("maxSize must be a positive integer if specified");if(!T(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");this.initializeSizeTracking()}if(this.allowStale=!!de||!!Ne,this.noDeleteOnStaleGet=!!Dt,this.updateAgeOnGet=!!Ce,this.updateAgeOnHas=!!le,this.ttlResolution=T(re)||re===0?re:1,this.ttlAutopurge=!!D,this.ttl=V||$e||0,this.ttl){if(!T(this.ttl))throw new TypeError("ttl must be a positive integer if specified");this.initializeTTLTracking()}if(this.max===0&&this.ttl===0&&this.maxSize===0)throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!this.max&&!this.maxSize){const Lt="LRU_CACHE_UNBOUNDED";w(Lt)&&(p.add(Lt),A("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",Lt,k))}Ne&&v("stale","allowStale"),$e&&v("maxAge","ttl"),ue&&v("length","sizeCalculation")}getRemainingTTL($){return this.has($,{updateAgeOnHas:!1})?1/0:0}initializeTTLTracking(){this.ttls=new M(this.max),this.starts=new M(this.max),this.setItemTTL=(V,re,D=c.now())=>{if(this.starts[V]=re!==0?D:0,this.ttls[V]=re,re!==0&&this.ttlAutopurge){const Ce=setTimeout(()=>{this.isStale(V)&&this.delete(this.keyList[V])},re+1);Ce.unref&&Ce.unref()}},this.updateItemAge=V=>{this.starts[V]=this.ttls[V]!==0?c.now():0},this.statusTTL=(V,re)=>{V&&(V.ttl=this.ttls[re],V.start=this.starts[re],V.now=$||z(),V.remainingTTL=V.now+V.ttl-V.start)};let $=0;const z=()=>{const V=c.now();if(this.ttlResolution>0){$=V;const re=setTimeout(()=>$=0,this.ttlResolution);re.unref&&re.unref()}return V};this.getRemainingTTL=V=>{const re=this.keyMap.get(V);return re===void 0?0:this.ttls[re]===0||this.starts[re]===0?1/0:this.starts[re]+this.ttls[re]-($||z())},this.isStale=V=>this.ttls[V]!==0&&this.starts[V]!==0&&($||z())-this.starts[V]>this.ttls[V]}updateItemAge($){}statusTTL($,z){}setItemTTL($,z,V){}isStale($){return!1}initializeSizeTracking(){this.calculatedSize=0,this.sizes=new M(this.max),this.removeItemSize=$=>{this.calculatedSize-=this.sizes[$],this.sizes[$]=0},this.requireSize=($,z,V,re)=>{if(this.isBackgroundFetch(z))return 0;if(!T(V))if(re){if(typeof re!="function")throw new TypeError("sizeCalculation must be a function");if(V=re(z,$),!T(V))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}else throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");return V},this.addItemSize=($,z,V)=>{if(this.sizes[$]=z,this.maxSize){const re=this.maxSize-this.sizes[$];for(;this.calculatedSize>re;)this.evict(!0)}this.calculatedSize+=this.sizes[$],V&&(V.entrySize=z,V.totalCalculatedSize=this.calculatedSize)}}removeItemSize($){}addItemSize($,z){}requireSize($,z,V,re){if(V||re)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache")}*indexes({allowStale:$=this.allowStale}={}){if(this.size)for(let z=this.tail;!(!this.isValidIndex(z)||(($||!this.isStale(z))&&(yield z),z===this.head));)z=this.prev[z]}*rindexes({allowStale:$=this.allowStale}={}){if(this.size)for(let z=this.head;!(!this.isValidIndex(z)||(($||!this.isStale(z))&&(yield z),z===this.tail));)z=this.next[z]}isValidIndex($){return $!==void 0&&this.keyMap.get(this.keyList[$])===$}*entries(){for(const $ of this.indexes())this.valList[$]!==void 0&&this.keyList[$]!==void 0&&!this.isBackgroundFetch(this.valList[$])&&(yield[this.keyList[$],this.valList[$]])}*rentries(){for(const $ of this.rindexes())this.valList[$]!==void 0&&this.keyList[$]!==void 0&&!this.isBackgroundFetch(this.valList[$])&&(yield[this.keyList[$],this.valList[$]])}*keys(){for(const $ of this.indexes())this.keyList[$]!==void 0&&!this.isBackgroundFetch(this.valList[$])&&(yield this.keyList[$])}*rkeys(){for(const $ of this.rindexes())this.keyList[$]!==void 0&&!this.isBackgroundFetch(this.valList[$])&&(yield this.keyList[$])}*values(){for(const $ of this.indexes())this.valList[$]!==void 0&&!this.isBackgroundFetch(this.valList[$])&&(yield this.valList[$])}*rvalues(){for(const $ of this.rindexes())this.valList[$]!==void 0&&!this.isBackgroundFetch(this.valList[$])&&(yield this.valList[$])}[Symbol.iterator](){return this.entries()}find($,z){for(const V of this.indexes()){const re=this.valList[V],D=this.isBackgroundFetch(re)?re.__staleWhileFetching:re;if(D!==void 0&&$(D,this.keyList[V],this))return this.get(this.keyList[V],z)}}forEach($,z=this){for(const V of this.indexes()){const re=this.valList[V],D=this.isBackgroundFetch(re)?re.__staleWhileFetching:re;D!==void 0&&$.call(z,D,this.keyList[V],this)}}rforEach($,z=this){for(const V of this.rindexes()){const re=this.valList[V],D=this.isBackgroundFetch(re)?re.__staleWhileFetching:re;D!==void 0&&$.call(z,D,this.keyList[V],this)}}get prune(){return _("prune","purgeStale"),this.purgeStale}purgeStale(){let $=!1;for(const z of this.rindexes({allowStale:!0}))this.isStale(z)&&(this.delete(this.keyList[z]),$=!0);return $}dump(){const $=[];for(const z of this.indexes({allowStale:!0})){const V=this.keyList[z],re=this.valList[z],D=this.isBackgroundFetch(re)?re.__staleWhileFetching:re;if(D===void 0)continue;const Ce={value:D};if(this.ttls){Ce.ttl=this.ttls[z];const le=c.now()-this.starts[z];Ce.start=Math.floor(Date.now()-le)}this.sizes&&(Ce.size=this.sizes[z]),$.unshift([V,Ce])}return $}load($){this.clear();for(const[z,V]of $){if(V.start){const re=Date.now()-V.start;V.start=c.now()-re}this.set(z,V.value,V)}}dispose($,z,V){}set($,z,{ttl:V=this.ttl,start:re,noDisposeOnSet:D=this.noDisposeOnSet,size:Ce=0,sizeCalculation:le=this.sizeCalculation,noUpdateTTL:de=this.noUpdateTTL,status:Fe}={}){if(Ce=this.requireSize($,z,Ce,le),this.maxEntrySize&&Ce>this.maxEntrySize)return Fe&&(Fe.set="miss",Fe.maxEntrySizeExceeded=!0),this.delete($),this;let Ie=this.size===0?void 0:this.keyMap.get($);if(Ie===void 0)Ie=this.newIndex(),this.keyList[Ie]=$,this.valList[Ie]=z,this.keyMap.set($,Ie),this.next[this.tail]=Ie,this.prev[Ie]=this.tail,this.tail=Ie,this.size++,this.addItemSize(Ie,Ce,Fe),Fe&&(Fe.set="add"),de=!1;else{this.moveToTail(Ie);const At=this.valList[Ie];if(z!==At){if(this.isBackgroundFetch(At)?At.__abortController.abort(new Error("replaced")):D||(this.dispose(At,$,"set"),this.disposeAfter&&this.disposed.push([At,$,"set"])),this.removeItemSize(Ie),this.valList[Ie]=z,this.addItemSize(Ie,Ce,Fe),Fe){Fe.set="replace";const _e=At&&this.isBackgroundFetch(At)?At.__staleWhileFetching:At;_e!==void 0&&(Fe.oldValue=_e)}}else Fe&&(Fe.set="update")}if(V!==0&&this.ttl===0&&!this.ttls&&this.initializeTTLTracking(),de||this.setItemTTL(Ie,V,re),this.statusTTL(Fe,Ie),this.disposeAfter)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return this}newIndex(){return this.size===0?this.tail:this.size===this.max&&this.max!==0?this.evict(!1):this.free.length!==0?this.free.pop():this.initialFill++}pop(){if(this.size){const $=this.valList[this.head];return this.evict(!0),$}}evict($){const z=this.head,V=this.keyList[z],re=this.valList[z];return this.isBackgroundFetch(re)?re.__abortController.abort(new Error("evicted")):(this.dispose(re,V,"evict"),this.disposeAfter&&this.disposed.push([re,V,"evict"])),this.removeItemSize(z),$&&(this.keyList[z]=null,this.valList[z]=null,this.free.push(z)),this.head=this.next[z],this.keyMap.delete(V),this.size--,z}has($,{updateAgeOnHas:z=this.updateAgeOnHas,status:V}={}){const re=this.keyMap.get($);if(re!==void 0)if(this.isStale(re))V&&(V.has="stale",this.statusTTL(V,re));else return z&&this.updateItemAge(re),V&&(V.has="hit"),this.statusTTL(V,re),!0;else V&&(V.has="miss");return!1}peek($,{allowStale:z=this.allowStale}={}){const V=this.keyMap.get($);if(V!==void 0&&(z||!this.isStale(V))){const re=this.valList[V];return this.isBackgroundFetch(re)?re.__staleWhileFetching:re}}backgroundFetch($,z,V,re){const D=z===void 0?void 0:this.valList[z];if(this.isBackgroundFetch(D))return D;const Ce=new f;V.signal&&V.signal.addEventListener("abort",()=>Ce.abort(V.signal.reason));const le={signal:Ce.signal,options:V,context:re},de=(qe,In=!1)=>{const{aborted:vn}=Ce.signal,Pt=V.ignoreFetchAbort&&qe!==void 0;return V.status&&(vn&&!In?(V.status.fetchAborted=!0,V.status.fetchError=Ce.signal.reason,Pt&&(V.status.fetchAbortIgnored=!0)):V.status.fetchResolved=!0),vn&&!Pt&&!In?Ie(Ce.signal.reason):(this.valList[z]===_e&&(qe===void 0?_e.__staleWhileFetching?this.valList[z]=_e.__staleWhileFetching:this.delete($):(V.status&&(V.status.fetchUpdated=!0),this.set($,qe,le.options))),qe)},Fe=qe=>(V.status&&(V.status.fetchRejected=!0,V.status.fetchError=qe),Ie(qe)),Ie=qe=>{const{aborted:In}=Ce.signal,vn=In&&V.allowStaleOnFetchAbort,Pt=vn||V.allowStaleOnFetchRejection,he=Pt||V.noDeleteOnFetchRejection;if(this.valList[z]===_e&&(!he||_e.__staleWhileFetching===void 0?this.delete($):vn||(this.valList[z]=_e.__staleWhileFetching)),Pt)return V.status&&_e.__staleWhileFetching!==void 0&&(V.status.returnedStale=!0),_e.__staleWhileFetching;if(_e.__returned===_e)throw qe},At=(qe,In)=>{this.fetchMethod($,D,le).then(vn=>qe(vn),In),Ce.signal.addEventListener("abort",()=>{(!V.ignoreFetchAbort||V.allowStaleOnFetchAbort)&&(qe(),V.allowStaleOnFetchAbort&&(qe=vn=>de(vn,!0)))})};V.status&&(V.status.fetchDispatched=!0);const _e=new Promise(At).then(de,Fe);return _e.__abortController=Ce,_e.__staleWhileFetching=D,_e.__returned=null,z===void 0?(this.set($,_e,{...le.options,status:void 0}),z=this.keyMap.get($)):this.valList[z]=_e,_e}isBackgroundFetch($){return $&&typeof $=="object"&&typeof $.then=="function"&&Object.prototype.hasOwnProperty.call($,"__staleWhileFetching")&&Object.prototype.hasOwnProperty.call($,"__returned")&&($.__returned===$||$.__returned===null)}async fetch($,{allowStale:z=this.allowStale,updateAgeOnGet:V=this.updateAgeOnGet,noDeleteOnStaleGet:re=this.noDeleteOnStaleGet,ttl:D=this.ttl,noDisposeOnSet:Ce=this.noDisposeOnSet,size:le=0,sizeCalculation:de=this.sizeCalculation,noUpdateTTL:Fe=this.noUpdateTTL,noDeleteOnFetchRejection:Ie=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:At=this.allowStaleOnFetchRejection,ignoreFetchAbort:_e=this.ignoreFetchAbort,allowStaleOnFetchAbort:qe=this.allowStaleOnFetchAbort,fetchContext:In=this.fetchContext,forceRefresh:vn=!1,status:Pt,signal:he}={}){if(!this.fetchMethod)return Pt&&(Pt.fetch="get"),this.get($,{allowStale:z,updateAgeOnGet:V,noDeleteOnStaleGet:re,status:Pt});const Ue={allowStale:z,updateAgeOnGet:V,noDeleteOnStaleGet:re,ttl:D,noDisposeOnSet:Ce,size:le,sizeCalculation:de,noUpdateTTL:Fe,noDeleteOnFetchRejection:Ie,allowStaleOnFetchRejection:At,allowStaleOnFetchAbort:qe,ignoreFetchAbort:_e,status:Pt,signal:he};let Dt=this.keyMap.get($);if(Dt===void 0){Pt&&(Pt.fetch="miss");const jt=this.backgroundFetch($,Dt,Ue,In);return jt.__returned=jt}else{const jt=this.valList[Dt];if(this.isBackgroundFetch(jt)){const Ne=z&&jt.__staleWhileFetching!==void 0;return Pt&&(Pt.fetch="inflight",Ne&&(Pt.returnedStale=!0)),Ne?jt.__staleWhileFetching:jt.__returned=jt}const Et=this.isStale(Dt);if(!vn&&!Et)return Pt&&(Pt.fetch="hit"),this.moveToTail(Dt),V&&this.updateItemAge(Dt),this.statusTTL(Pt,Dt),jt;const pe=this.backgroundFetch($,Dt,Ue,In),ue=pe.__staleWhileFetching!==void 0,$e=ue&&z;return Pt&&(Pt.fetch=ue&&Et?"stale":"refresh",$e&&Et&&(Pt.returnedStale=!0)),$e?pe.__staleWhileFetching:pe.__returned=pe}}get($,{allowStale:z=this.allowStale,updateAgeOnGet:V=this.updateAgeOnGet,noDeleteOnStaleGet:re=this.noDeleteOnStaleGet,status:D}={}){const Ce=this.keyMap.get($);if(Ce!==void 0){const le=this.valList[Ce],de=this.isBackgroundFetch(le);return this.statusTTL(D,Ce),this.isStale(Ce)?(D&&(D.get="stale"),de?(D&&(D.returnedStale=z&&le.__staleWhileFetching!==void 0),z?le.__staleWhileFetching:void 0):(re||this.delete($),D&&(D.returnedStale=z),z?le:void 0)):(D&&(D.get="hit"),de?le.__staleWhileFetching:(this.moveToTail(Ce),V&&this.updateItemAge(Ce),le))}else D&&(D.get="miss")}connect($,z){this.prev[z]=$,this.next[$]=z}moveToTail($){$!==this.tail&&($===this.head?this.head=this.next[$]:this.connect(this.prev[$],this.next[$]),this.connect(this.tail,$),this.tail=$)}get del(){return _("del","delete"),this.delete}delete($){let z=!1;if(this.size!==0){const V=this.keyMap.get($);if(V!==void 0)if(z=!0,this.size===1)this.clear();else{this.removeItemSize(V);const re=this.valList[V];this.isBackgroundFetch(re)?re.__abortController.abort(new Error("deleted")):(this.dispose(re,$,"delete"),this.disposeAfter&&this.disposed.push([re,$,"delete"])),this.keyMap.delete($),this.keyList[V]=null,this.valList[V]=null,V===this.tail?this.tail=this.prev[V]:V===this.head?this.head=this.next[V]:(this.next[this.prev[V]]=this.next[V],this.prev[this.next[V]]=this.prev[V]),this.size--,this.free.push(V)}}if(this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift());return z}clear(){for(const $ of this.rindexes({allowStale:!0})){const z=this.valList[$];if(this.isBackgroundFetch(z))z.__abortController.abort(new Error("deleted"));else{const V=this.keyList[$];this.dispose(z,V,"delete"),this.disposeAfter&&this.disposed.push([z,V,"delete"])}}if(this.keyMap.clear(),this.valList.fill(null),this.keyList.fill(null),this.ttls&&(this.ttls.fill(0),this.starts.fill(0)),this.sizes&&this.sizes.fill(0),this.head=0,this.tail=0,this.initialFill=1,this.free.length=0,this.calculatedSize=0,this.size=0,this.disposed)for(;this.disposed.length;)this.disposeAfter(...this.disposed.shift())}get reset(){return _("reset","clear"),this.clear}get length(){return b("length","size"),this.size}static get AbortController(){return f}static get AbortSignal(){return g}}o.exports=k}).call(this)}).call(this,n("_process"))},{_process:102}],73:[function(n,o,a){const u=o.exports,{Buffer:c}=n("buffer");u.types={0:"reserved",1:"connect",2:"connack",3:"publish",4:"puback",5:"pubrec",6:"pubrel",7:"pubcomp",8:"subscribe",9:"suback",10:"unsubscribe",11:"unsuback",12:"pingreq",13:"pingresp",14:"disconnect",15:"auth"},u.requiredHeaderFlags={1:0,2:0,4:0,5:0,6:2,7:0,8:2,9:0,10:2,11:0,12:0,13:0,14:0,15:0},u.requiredHeaderFlagsErrors={};for(const f in u.requiredHeaderFlags){const h=u.requiredHeaderFlags[f];u.requiredHeaderFlagsErrors[f]="Invalid header flag bits, must be 0x"+h.toString(16)+" for "+u.types[f]+" packet"}u.codes={};for(const f in u.types){const h=u.types[f];u.codes[h]=f}u.CMD_SHIFT=4,u.CMD_MASK=240,u.DUP_MASK=8,u.QOS_MASK=3,u.QOS_SHIFT=1,u.RETAIN_MASK=1,u.VARBYTEINT_MASK=127,u.VARBYTEINT_FIN_MASK=128,u.VARBYTEINT_MAX=268435455,u.SESSIONPRESENT_MASK=1,u.SESSIONPRESENT_HEADER=c.from([u.SESSIONPRESENT_MASK]),u.CONNACK_HEADER=c.from([u.codes.connack<<u.CMD_SHIFT]),u.USERNAME_MASK=128,u.PASSWORD_MASK=64,u.WILL_RETAIN_MASK=32,u.WILL_QOS_MASK=24,u.WILL_QOS_SHIFT=3,u.WILL_FLAG_MASK=4,u.CLEAN_SESSION_MASK=2,u.CONNECT_HEADER=c.from([u.codes.connect<<u.CMD_SHIFT]),u.properties={sessionExpiryInterval:17,willDelayInterval:24,receiveMaximum:33,maximumPacketSize:39,topicAliasMaximum:34,requestResponseInformation:25,requestProblemInformation:23,userProperties:38,authenticationMethod:21,authenticationData:22,payloadFormatIndicator:1,messageExpiryInterval:2,contentType:3,responseTopic:8,correlationData:9,maximumQoS:36,retainAvailable:37,assignedClientIdentifier:18,reasonString:31,wildcardSubscriptionAvailable:40,subscriptionIdentifiersAvailable:41,sharedSubscriptionAvailable:42,serverKeepAlive:19,responseInformation:26,serverReference:28,topicAlias:35,subscriptionIdentifier:11},u.propertiesCodes={};for(const f in u.properties){const h=u.properties[f];u.propertiesCodes[h]=f}u.propertiesTypes={sessionExpiryInterval:"int32",willDelayInterval:"int32",receiveMaximum:"int16",maximumPacketSize:"int32",topicAliasMaximum:"int16",requestResponseInformation:"byte",requestProblemInformation:"byte",userProperties:"pair",authenticationMethod:"string",authenticationData:"binary",payloadFormatIndicator:"byte",messageExpiryInterval:"int32",contentType:"string",responseTopic:"string",correlationData:"binary",maximumQoS:"int8",retainAvailable:"byte",assignedClientIdentifier:"string",reasonString:"string",wildcardSubscriptionAvailable:"byte",subscriptionIdentifiersAvailable:"byte",sharedSubscriptionAvailable:"byte",serverKeepAlive:"int16",responseInformation:"string",serverReference:"string",topicAlias:"int16",subscriptionIdentifier:"var"};function d(f){return[0,1,2].map(h=>[0,1].map(y=>[0,1].map(g=>{const p=c.alloc(1);return p.writeUInt8(u.codes[f]<<u.CMD_SHIFT|(y?u.DUP_MASK:0)|h<<u.QOS_SHIFT|g,0,!0),p})))}u.PUBLISH_HEADER=d("publish"),u.SUBSCRIBE_HEADER=d("subscribe"),u.SUBSCRIBE_OPTIONS_QOS_MASK=3,u.SUBSCRIBE_OPTIONS_NL_MASK=1,u.SUBSCRIBE_OPTIONS_NL_SHIFT=2,u.SUBSCRIBE_OPTIONS_RAP_MASK=1,u.SUBSCRIBE_OPTIONS_RAP_SHIFT=3,u.SUBSCRIBE_OPTIONS_RH_MASK=3,u.SUBSCRIBE_OPTIONS_RH_SHIFT=4,u.SUBSCRIBE_OPTIONS_RH=[0,16,32],u.SUBSCRIBE_OPTIONS_NL=4,u.SUBSCRIBE_OPTIONS_RAP=8,u.SUBSCRIBE_OPTIONS_QOS=[0,1,2],u.UNSUBSCRIBE_HEADER=d("unsubscribe"),u.ACKS={unsuback:d("unsuback"),puback:d("puback"),pubcomp:d("pubcomp"),pubrel:d("pubrel"),pubrec:d("pubrec")},u.SUBACK_HEADER=c.from([u.codes.suback<<u.CMD_SHIFT]),u.VERSION3=c.from([3]),u.VERSION4=c.from([4]),u.VERSION5=c.from([5]),u.VERSION131=c.from([131]),u.VERSION132=c.from([132]),u.QOS=[0,1,2].map(f=>c.from([f])),u.EMPTY={pingreq:c.from([u.codes.pingreq<<4,0]),pingresp:c.from([u.codes.pingresp<<4,0]),disconnect:c.from([u.codes.disconnect<<4,0])},u.MQTT5_PUBACK_PUBREC_CODES={0:"Success",16:"No matching subscribers",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",144:"Topic Name invalid",145:"Packet identifier in use",151:"Quota exceeded",153:"Payload format invalid"},u.MQTT5_PUBREL_PUBCOMP_CODES={0:"Success",146:"Packet Identifier not found"},u.MQTT5_SUBACK_CODES={0:"Granted QoS 0",1:"Granted QoS 1",2:"Granted QoS 2",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use",151:"Quota exceeded",158:"Shared Subscriptions not supported",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},u.MQTT5_UNSUBACK_CODES={0:"Success",17:"No subscription existed",128:"Unspecified error",131:"Implementation specific error",135:"Not authorized",143:"Topic Filter invalid",145:"Packet Identifier in use"},u.MQTT5_DISCONNECT_CODES={0:"Normal disconnection",4:"Disconnect with Will Message",128:"Unspecified error",129:"Malformed Packet",130:"Protocol Error",131:"Implementation specific error",135:"Not authorized",137:"Server busy",139:"Server shutting down",141:"Keep Alive timeout",142:"Session taken over",143:"Topic Filter invalid",144:"Topic Name invalid",147:"Receive Maximum exceeded",148:"Topic Alias invalid",149:"Packet too large",150:"Message rate too high",151:"Quota exceeded",152:"Administrative action",153:"Payload format invalid",154:"Retain not supported",155:"QoS not supported",156:"Use another server",157:"Server moved",158:"Shared Subscriptions not supported",159:"Connection rate exceeded",160:"Maximum connect time",161:"Subscription Identifiers not supported",162:"Wildcard Subscriptions not supported"},u.MQTT5_AUTH_CODES={0:"Success",24:"Continue authentication",25:"Re-authenticate"}},{buffer:29}],74:[function(n,o,a){const u=n("./writeToStream"),c=n("events"),{Buffer:d}=n("buffer");function f(y,g){const p=new h;return u(y,p,g),p.concat()}class h extends c{constructor(){super(),this._array=new Array(20),this._i=0}write(g){return this._array[this._i++]=g,!0}concat(){let g=0;const p=new Array(this._array.length),v=this._array;let _=0,b;for(b=0;b<v.length&&v[b]!==void 0;b++)typeof v[b]!="string"?p[b]=v[b].length:p[b]=d.byteLength(v[b]),g+=p[b];const A=d.allocUnsafe(g);for(b=0;b<v.length&&v[b]!==void 0;b++)typeof v[b]!="string"?(v[b].copy(A,_),_+=p[b]):(A.write(v[b],_),_+=p[b]);return A}destroy(g){g&&this.emit("error",g)}}o.exports=f},{"./writeToStream":96,buffer:29,events:49}],75:[function(n,o,a){a.parser=n("./parser").parser,a.generate=n("./generate"),a.writeToStream=n("./writeToStream")},{"./generate":74,"./parser":95,"./writeToStream":96}],76:[function(n,o,a){const{Buffer:u}=n("buffer"),c=Symbol.for("BufferList");function d(f){if(!(this instanceof d))return new d(f);d._init.call(this,f)}d._init=function(h){Object.defineProperty(this,c,{value:!0}),this._bufs=[],this.length=0,h&&this.append(h)},d.prototype._new=function(h){return new d(h)},d.prototype._offset=function(h){if(h===0)return[0,0];let y=0;for(let g=0;g<this._bufs.length;g++){const p=y+this._bufs[g].length;if(h<p||g===this._bufs.length-1)return[g,h-y];y=p}},d.prototype._reverseOffset=function(f){const h=f[0];let y=f[1];for(let g=0;g<h;g++)y+=this._bufs[g].length;return y},d.prototype.get=function(h){if(h>this.length||h<0)return;const y=this._offset(h);return this._bufs[y[0]][y[1]]},d.prototype.slice=function(h,y){return typeof h=="number"&&h<0&&(h+=this.length),typeof y=="number"&&y<0&&(y+=this.length),this.copy(null,0,h,y)},d.prototype.copy=function(h,y,g,p){if((typeof g!="number"||g<0)&&(g=0),(typeof p!="number"||p>this.length)&&(p=this.length),g>=this.length||p<=0)return h||u.alloc(0);const v=!!h,_=this._offset(g),b=p-g;let A=b,w=v&&y||0,S=_[1];if(g===0&&p===this.length){if(!v)return this._bufs.length===1?this._bufs[0]:u.concat(this._bufs,this.length);for(let T=0;T<this._bufs.length;T++)this._bufs[T].copy(h,w),w+=this._bufs[T].length;return h}if(A<=this._bufs[_[0]].length-S)return v?this._bufs[_[0]].copy(h,y,S,S+A):this._bufs[_[0]].slice(S,S+A);v||(h=u.allocUnsafe(b));for(let T=_[0];T<this._bufs.length;T++){const x=this._bufs[T].length-S;if(A>x)this._bufs[T].copy(h,w,S),w+=x;else{this._bufs[T].copy(h,w,S,S+A),w+=x;break}A-=x,S&&(S=0)}return h.length>w?h.slice(0,w):h},d.prototype.shallowSlice=function(h,y){if(h=h||0,y=typeof y!="number"?this.length:y,h<0&&(h+=this.length),y<0&&(y+=this.length),h===y)return this._new();const g=this._offset(h),p=this._offset(y),v=this._bufs.slice(g[0],p[0]+1);return p[1]===0?v.pop():v[v.length-1]=v[v.length-1].slice(0,p[1]),g[1]!==0&&(v[0]=v[0].slice(g[1])),this._new(v)},d.prototype.toString=function(h,y,g){return this.slice(y,g).toString(h)},d.prototype.consume=function(h){if(h=Math.trunc(h),Number.isNaN(h)||h<=0)return this;for(;this._bufs.length;)if(h>=this._bufs[0].length)h-=this._bufs[0].length,this.length-=this._bufs[0].length,this._bufs.shift();else{this._bufs[0]=this._bufs[0].slice(h),this.length-=h;break}return this},d.prototype.duplicate=function(){const h=this._new();for(let y=0;y<this._bufs.length;y++)h.append(this._bufs[y]);return h},d.prototype.append=function(h){if(h==null)return this;if(h.buffer)this._appendBuffer(u.from(h.buffer,h.byteOffset,h.byteLength));else if(Array.isArray(h))for(let y=0;y<h.length;y++)this.append(h[y]);else if(this._isBufferList(h))for(let y=0;y<h._bufs.length;y++)this.append(h._bufs[y]);else typeof h=="number"&&(h=h.toString()),this._appendBuffer(u.from(h));return this},d.prototype._appendBuffer=function(h){this._bufs.push(h),this.length+=h.length},d.prototype.indexOf=function(f,h,y){if(y===void 0&&typeof h=="string"&&(y=h,h=void 0),typeof f=="function"||Array.isArray(f))throw new TypeError('The "value" argument must be one of type string, Buffer, BufferList, or Uint8Array.');if(typeof f=="number"?f=u.from([f]):typeof f=="string"?f=u.from(f,y):this._isBufferList(f)?f=f.slice():Array.isArray(f.buffer)?f=u.from(f.buffer,f.byteOffset,f.byteLength):u.isBuffer(f)||(f=u.from(f)),h=Number(h||0),isNaN(h)&&(h=0),h<0&&(h=this.length+h),h<0&&(h=0),f.length===0)return h>this.length?this.length:h;const g=this._offset(h);let p=g[0],v=g[1];for(;p<this._bufs.length;p++){const _=this._bufs[p];for(;v<_.length;)if(_.length-v>=f.length){const A=_.indexOf(f,v);if(A!==-1)return this._reverseOffset([p,A]);v=_.length-f.length+1}else{const A=this._reverseOffset([p,v]);if(this._match(A,f))return A;v++}v=0}return-1},d.prototype._match=function(f,h){if(this.length-f<h.length)return!1;for(let y=0;y<h.length;y++)if(this.get(f+y)!==h[y])return!1;return!0},function(){const f={readDoubleBE:8,readDoubleLE:8,readFloatBE:4,readFloatLE:4,readInt32BE:4,readInt32LE:4,readUInt32BE:4,readUInt32LE:4,readInt16BE:2,readInt16LE:2,readUInt16BE:2,readUInt16LE:2,readInt8:1,readUInt8:1,readIntBE:null,readIntLE:null,readUIntBE:null,readUIntLE:null};for(const h in f)(function(y){f[y]===null?d.prototype[y]=function(g,p){return this.slice(g,g+p)[y](0,p)}:d.prototype[y]=function(g=0){return this.slice(g,g+f[y])[y](0)}})(h)}(),d.prototype._isBufferList=function(h){return h instanceof d||d.isBufferList(h)},d.isBufferList=function(h){return h!=null&&h[c]},o.exports=d},{buffer:29}],77:[function(n,o,a){const u=n("readable-stream").Duplex,c=n("inherits"),d=n("./BufferList");function f(h){if(!(this instanceof f))return new f(h);if(typeof h=="function"){this._callback=h;const y=(function(p){this._callback&&(this._callback(p),this._callback=null)}).bind(this);this.on("pipe",function(p){p.on("error",y)}),this.on("unpipe",function(p){p.removeListener("error",y)}),h=null}d._init.call(this,h),u.call(this)}c(f,u),Object.assign(f.prototype,d.prototype),f.prototype._new=function(y){return new f(y)},f.prototype._write=function(y,g,p){this._appendBuffer(y),typeof p=="function"&&p()},f.prototype._read=function(y){if(!this.length)return this.push(null);y=Math.min(y,this.length),this.push(this.slice(0,y)),this.consume(y)},f.prototype.end=function(y){u.prototype.end.call(this,y),this._callback&&(this._callback(null,this.slice()),this._callback=null)},f.prototype._destroy=function(y,g){this._bufs.length=0,this.length=0,g(y)},f.prototype._isBufferList=function(y){return y instanceof f||y instanceof d||f.isBufferList(y)},f.isBufferList=d.isBufferList,o.exports=f,o.exports.BufferListStream=f,o.exports.BufferList=d},{"./BufferList":76,inherits:51,"readable-stream":92}],78:[function(n,o,a){arguments[4][33][0].apply(a,arguments)},{dup:33}],79:[function(n,o,a){arguments[4][34][0].apply(a,arguments)},{"./_stream_readable":81,"./_stream_writable":83,_process:102,dup:34,inherits:51}],80:[function(n,o,a){arguments[4][35][0].apply(a,arguments)},{"./_stream_transform":82,dup:35,inherits:51}],81:[function(n,o,a){arguments[4][36][0].apply(a,arguments)},{"../errors":78,"./_stream_duplex":79,"./internal/streams/async_iterator":84,"./internal/streams/buffer_list":85,"./internal/streams/destroy":86,"./internal/streams/from":88,"./internal/streams/state":90,"./internal/streams/stream":91,_process:102,buffer:29,dup:36,events:49,inherits:51,"string_decoder/":136,util:26}],82:[function(n,o,a){arguments[4][37][0].apply(a,arguments)},{"../errors":78,"./_stream_duplex":79,dup:37,inherits:51}],83:[function(n,o,a){arguments[4][38][0].apply(a,arguments)},{"../errors":78,"./_stream_duplex":79,"./internal/streams/destroy":86,"./internal/streams/state":90,"./internal/streams/stream":91,_process:102,buffer:29,dup:38,inherits:51,"util-deprecate":139}],84:[function(n,o,a){arguments[4][39][0].apply(a,arguments)},{"./end-of-stream":87,_process:102,dup:39}],85:[function(n,o,a){arguments[4][40][0].apply(a,arguments)},{buffer:29,dup:40,util:26}],86:[function(n,o,a){arguments[4][41][0].apply(a,arguments)},{_process:102,dup:41}],87:[function(n,o,a){arguments[4][42][0].apply(a,arguments)},{"../../../errors":78,dup:42}],88:[function(n,o,a){arguments[4][43][0].apply(a,arguments)},{dup:43}],89:[function(n,o,a){arguments[4][44][0].apply(a,arguments)},{"../../../errors":78,"./end-of-stream":87,dup:44}],90:[function(n,o,a){arguments[4][45][0].apply(a,arguments)},{"../../../errors":78,dup:45}],91:[function(n,o,a){arguments[4][46][0].apply(a,arguments)},{dup:46,events:49}],92:[function(n,o,a){arguments[4][47][0].apply(a,arguments)},{"./lib/_stream_duplex.js":79,"./lib/_stream_passthrough.js":80,"./lib/_stream_readable.js":81,"./lib/_stream_transform.js":82,"./lib/_stream_writable.js":83,"./lib/internal/streams/end-of-stream.js":87,"./lib/internal/streams/pipeline.js":89,dup:47}],93:[function(n,o,a){const{Buffer:u}=n("buffer"),c=65536,d={},f=u.isBuffer(u.from([1,2]).subarray(0,1));function h(v){const _=u.allocUnsafe(2);return _.writeUInt8(v>>8,0),_.writeUInt8(v&255,0+1),_}function y(){for(let v=0;v<c;v++)d[v]=h(v)}function g(v){let b=0,A=0;const w=u.allocUnsafe(4);do b=v%128|0,v=v/128|0,v>0&&(b=b|128),w.writeUInt8(b,A++);while(v>0&&A<4);return v>0&&(A=0),f?w.subarray(0,A):w.slice(0,A)}function p(v){const _=u.allocUnsafe(4);return _.writeUInt32BE(v,0),_}o.exports={cache:d,generateCache:y,generateNumber:h,genBufVariableByteInt:g,generate4ByteBuffer:p}},{buffer:29}],94:[function(n,o,a){class u{constructor(){this.cmd=null,this.retain=!1,this.qos=0,this.dup=!1,this.length=-1,this.topic=null,this.payload=null}}o.exports=u},{}],95:[function(n,o,a){const u=n("bl"),c=n("events"),d=n("./packet"),f=n("./constants"),h=n("debug")("mqtt-packet:parser");class y extends c{constructor(){super(),this.parser=this.constructor.parser}static parser(p){return this instanceof y?(this.settings=p||{},this._states=["_parseHeader","_parseLength","_parsePayload","_newPacket"],this._resetState(),this):new y().parser(p)}_resetState(){h("_resetState: resetting packet, error, _list, and _stateCounter"),this.packet=new d,this.error=null,this._list=u(),this._stateCounter=0}parse(p){for(this.error&&this._resetState(),this._list.append(p),h("parse: current state: %s",this._states[this._stateCounter]);(this.packet.length!==-1||this._list.length>0)&&this[this._states[this._stateCounter]]()&&!this.error;)this._stateCounter++,h("parse: state complete. _stateCounter is now: %d",this._stateCounter),h("parse: packet.length: %d, buffer list length: %d",this.packet.length,this._list.length),this._stateCounter>=this._states.length&&(this._stateCounter=0);return h("parse: exited while loop. packet: %d, buffer list length: %d",this.packet.length,this._list.length),this._list.length}_parseHeader(){const p=this._list.readUInt8(0),v=p>>f.CMD_SHIFT;this.packet.cmd=f.types[v];const _=p&15,b=f.requiredHeaderFlags[v];return b!=null&&_!==b?this._emitError(new Error(f.requiredHeaderFlagsErrors[v])):(this.packet.retain=(p&f.RETAIN_MASK)!==0,this.packet.qos=p>>f.QOS_SHIFT&f.QOS_MASK,this.packet.qos>2?this._emitError(new Error("Packet must not have both QoS bits set to 1")):(this.packet.dup=(p&f.DUP_MASK)!==0,h("_parseHeader: packet: %o",this.packet),this._list.consume(1),!0))}_parseLength(){const p=this._parseVarByteNum(!0);return p&&(this.packet.length=p.value,this._list.consume(p.bytes)),h("_parseLength %d",p.value),!!p}_parsePayload(){h("_parsePayload: payload %O",this._list);let p=!1;if(this.packet.length===0||this._list.length>=this.packet.length){switch(this._pos=0,this.packet.cmd){case"connect":this._parseConnect();break;case"connack":this._parseConnack();break;case"publish":this._parsePublish();break;case"puback":case"pubrec":case"pubrel":case"pubcomp":this._parseConfirmation();break;case"subscribe":this._parseSubscribe();break;case"suback":this._parseSuback();break;case"unsubscribe":this._parseUnsubscribe();break;case"unsuback":this._parseUnsuback();break;case"pingreq":case"pingresp":break;case"disconnect":this._parseDisconnect();break;case"auth":this._parseAuth();break;default:this._emitError(new Error("Not supported"))}p=!0}return h("_parsePayload complete result: %s",p),p}_parseConnect(){h("_parseConnect");let p,v,_,b;const A={},w=this.packet,S=this._parseString();if(S===null)return this._emitError(new Error("Cannot parse protocolId"));if(S!=="MQTT"&&S!=="MQIsdp")return this._emitError(new Error("Invalid protocolId"));if(w.protocolId=S,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(w.protocolVersion=this._list.readUInt8(this._pos),w.protocolVersion>=128&&(w.bridgeMode=!0,w.protocolVersion=w.protocolVersion-128),w.protocolVersion!==3&&w.protocolVersion!==4&&w.protocolVersion!==5)return this._emitError(new Error("Invalid protocol version"));if(this._pos++,this._pos>=this._list.length)return this._emitError(new Error("Packet too short"));if(this._list.readUInt8(this._pos)&1)return this._emitError(new Error("Connect flag bit 0 must be 0, but got 1"));A.username=this._list.readUInt8(this._pos)&f.USERNAME_MASK,A.password=this._list.readUInt8(this._pos)&f.PASSWORD_MASK,A.will=this._list.readUInt8(this._pos)&f.WILL_FLAG_MASK;const T=!!(this._list.readUInt8(this._pos)&f.WILL_RETAIN_MASK),x=(this._list.readUInt8(this._pos)&f.WILL_QOS_MASK)>>f.WILL_QOS_SHIFT;if(A.will)w.will={},w.will.retain=T,w.will.qos=x;else{if(T)return this._emitError(new Error("Will Retain Flag must be set to zero when Will Flag is set to 0"));if(x)return this._emitError(new Error("Will QoS must be set to zero when Will Flag is set to 0"))}if(w.clean=(this._list.readUInt8(this._pos)&f.CLEAN_SESSION_MASK)!==0,this._pos++,w.keepalive=this._parseNum(),w.keepalive===-1)return this._emitError(new Error("Packet too short"));if(w.protocolVersion===5){const L=this._parseProperties();Object.getOwnPropertyNames(L).length&&(w.properties=L)}const M=this._parseString();if(M===null)return this._emitError(new Error("Packet too short"));if(w.clientId=M,h("_parseConnect: packet.clientId: %s",w.clientId),A.will){if(w.protocolVersion===5){const L=this._parseProperties();Object.getOwnPropertyNames(L).length&&(w.will.properties=L)}if(p=this._parseString(),p===null)return this._emitError(new Error("Cannot parse will topic"));if(w.will.topic=p,h("_parseConnect: packet.will.topic: %s",w.will.topic),v=this._parseBuffer(),v===null)return this._emitError(new Error("Cannot parse will payload"));w.will.payload=v,h("_parseConnect: packet.will.paylaod: %s",w.will.payload)}if(A.username){if(b=this._parseString(),b===null)return this._emitError(new Error("Cannot parse username"));w.username=b,h("_parseConnect: packet.username: %s",w.username)}if(A.password){if(_=this._parseBuffer(),_===null)return this._emitError(new Error("Cannot parse password"));w.password=_}return this.settings=w,h("_parseConnect: complete"),w}_parseConnack(){h("_parseConnack");const p=this.packet;if(this._list.length<1)return null;const v=this._list.readUInt8(this._pos++);if(v>1)return this._emitError(new Error("Invalid connack flags, bits 7-1 must be set to 0"));if(p.sessionPresent=!!(v&f.SESSIONPRESENT_MASK),this.settings.protocolVersion===5)this._list.length>=2?p.reasonCode=this._list.readUInt8(this._pos++):p.reasonCode=0;else{if(this._list.length<2)return null;p.returnCode=this._list.readUInt8(this._pos++)}if(p.returnCode===-1||p.reasonCode===-1)return this._emitError(new Error("Cannot parse return code"));if(this.settings.protocolVersion===5){const _=this._parseProperties();Object.getOwnPropertyNames(_).length&&(p.properties=_)}h("_parseConnack: complete")}_parsePublish(){h("_parsePublish");const p=this.packet;if(p.topic=this._parseString(),p.topic===null)return this._emitError(new Error("Cannot parse topic"));if(!(p.qos>0&&!this._parseMessageId())){if(this.settings.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(p.properties=v)}p.payload=this._list.slice(this._pos,p.length),h("_parsePublish: payload from buffer list: %o",p.payload)}}_parseSubscribe(){h("_parseSubscribe");const p=this.packet;let v,_,b,A,w,S,T;if(p.subscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const x=this._parseProperties();Object.getOwnPropertyNames(x).length&&(p.properties=x)}if(p.length<=0)return this._emitError(new Error("Malformed subscribe, no payload specified"));for(;this._pos<p.length;){if(v=this._parseString(),v===null)return this._emitError(new Error("Cannot parse topic"));if(this._pos>=p.length)return this._emitError(new Error("Malformed Subscribe Payload"));if(_=this._parseByte(),this.settings.protocolVersion===5){if(_&192)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-6 must be 0"))}else if(_&252)return this._emitError(new Error("Invalid subscribe topic flag bits, bits 7-2 must be 0"));if(b=_&f.SUBSCRIBE_OPTIONS_QOS_MASK,b>2)return this._emitError(new Error("Invalid subscribe QoS, must be <= 2"));if(S=(_>>f.SUBSCRIBE_OPTIONS_NL_SHIFT&f.SUBSCRIBE_OPTIONS_NL_MASK)!==0,w=(_>>f.SUBSCRIBE_OPTIONS_RAP_SHIFT&f.SUBSCRIBE_OPTIONS_RAP_MASK)!==0,A=_>>f.SUBSCRIBE_OPTIONS_RH_SHIFT&f.SUBSCRIBE_OPTIONS_RH_MASK,A>2)return this._emitError(new Error("Invalid retain handling, must be <= 2"));T={topic:v,qos:b},this.settings.protocolVersion===5?(T.nl=S,T.rap=w,T.rh=A):this.settings.bridgeMode&&(T.rh=0,T.rap=!0,T.nl=!0),h("_parseSubscribe: push subscription `%s` to subscription",T),p.subscriptions.push(T)}}}_parseSuback(){h("_parseSuback");const p=this.packet;if(this.packet.granted=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(p.properties=v)}if(p.length<=0)return this._emitError(new Error("Malformed suback, no payload specified"));for(;this._pos<this.packet.length;){const v=this._list.readUInt8(this._pos++);if(this.settings.protocolVersion===5){if(!f.MQTT5_SUBACK_CODES[v])return this._emitError(new Error("Invalid suback code"))}else if(v>2&&v!==128)return this._emitError(new Error("Invalid suback QoS, must be 0, 1, 2 or 128"));this.packet.granted.push(v)}}}_parseUnsubscribe(){h("_parseUnsubscribe");const p=this.packet;if(p.unsubscriptions=[],!!this._parseMessageId()){if(this.settings.protocolVersion===5){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(p.properties=v)}if(p.length<=0)return this._emitError(new Error("Malformed unsubscribe, no payload specified"));for(;this._pos<p.length;){const v=this._parseString();if(v===null)return this._emitError(new Error("Cannot parse topic"));h("_parseUnsubscribe: push topic `%s` to unsubscriptions",v),p.unsubscriptions.push(v)}}}_parseUnsuback(){h("_parseUnsuback");const p=this.packet;if(!this._parseMessageId())return this._emitError(new Error("Cannot parse messageId"));if((this.settings.protocolVersion===3||this.settings.protocolVersion===4)&&p.length!==2)return this._emitError(new Error("Malformed unsuback, payload length must be 2"));if(p.length<=0)return this._emitError(new Error("Malformed unsuback, no payload specified"));if(this.settings.protocolVersion===5){const v=this._parseProperties();for(Object.getOwnPropertyNames(v).length&&(p.properties=v),p.granted=[];this._pos<this.packet.length;){const _=this._list.readUInt8(this._pos++);if(!f.MQTT5_UNSUBACK_CODES[_])return this._emitError(new Error("Invalid unsuback code"));this.packet.granted.push(_)}}}_parseConfirmation(){h("_parseConfirmation: packet.cmd: `%s`",this.packet.cmd);const p=this.packet;if(this._parseMessageId(),this.settings.protocolVersion===5){if(p.length>2){switch(p.reasonCode=this._parseByte(),this.packet.cmd){case"puback":case"pubrec":if(!f.MQTT5_PUBACK_PUBREC_CODES[p.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break;case"pubrel":case"pubcomp":if(!f.MQTT5_PUBREL_PUBCOMP_CODES[p.reasonCode])return this._emitError(new Error("Invalid "+this.packet.cmd+" reason code"));break}h("_parseConfirmation: packet.reasonCode `%d`",p.reasonCode)}else p.reasonCode=0;if(p.length>3){const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(p.properties=v)}}return!0}_parseDisconnect(){const p=this.packet;if(h("_parseDisconnect"),this.settings.protocolVersion===5){this._list.length>0?(p.reasonCode=this._parseByte(),f.MQTT5_DISCONNECT_CODES[p.reasonCode]||this._emitError(new Error("Invalid disconnect reason code"))):p.reasonCode=0;const v=this._parseProperties();Object.getOwnPropertyNames(v).length&&(p.properties=v)}return h("_parseDisconnect result: true"),!0}_parseAuth(){h("_parseAuth");const p=this.packet;if(this.settings.protocolVersion!==5)return this._emitError(new Error("Not supported auth packet for this version MQTT"));if(p.reasonCode=this._parseByte(),!f.MQTT5_AUTH_CODES[p.reasonCode])return this._emitError(new Error("Invalid auth reason code"));const v=this._parseProperties();return Object.getOwnPropertyNames(v).length&&(p.properties=v),h("_parseAuth: result: true"),!0}_parseMessageId(){const p=this.packet;return p.messageId=this._parseNum(),p.messageId===null?(this._emitError(new Error("Cannot parse messageId")),!1):(h("_parseMessageId: packet.messageId %d",p.messageId),!0)}_parseString(p){const v=this._parseNum(),_=v+this._pos;if(v===-1||_>this._list.length||_>this.packet.length)return null;const b=this._list.toString("utf8",this._pos,_);return this._pos+=v,h("_parseString: result: %s",b),b}_parseStringPair(){return h("_parseStringPair"),{name:this._parseString(),value:this._parseString()}}_parseBuffer(){const p=this._parseNum(),v=p+this._pos;if(p===-1||v>this._list.length||v>this.packet.length)return null;const _=this._list.slice(this._pos,v);return this._pos+=p,h("_parseBuffer: result: %o",_),_}_parseNum(){if(this._list.length-this._pos<2)return-1;const p=this._list.readUInt16BE(this._pos);return this._pos+=2,h("_parseNum: result: %s",p),p}_parse4ByteNum(){if(this._list.length-this._pos<4)return-1;const p=this._list.readUInt32BE(this._pos);return this._pos+=4,h("_parse4ByteNum: result: %s",p),p}_parseVarByteNum(p){h("_parseVarByteNum");const v=4;let _=0,b=1,A=0,w=!1,S;const T=this._pos?this._pos:0;for(;_<v&&T+_<this._list.length;){if(S=this._list.readUInt8(T+_++),A+=b*(S&f.VARBYTEINT_MASK),b*=128,!(S&f.VARBYTEINT_FIN_MASK)){w=!0;break}if(this._list.length<=_)break}return!w&&_===v&&this._list.length>=_&&this._emitError(new Error("Invalid variable byte integer")),T&&(this._pos+=_),w?p?w={bytes:_,value:A}:w=A:w=!1,h("_parseVarByteNum: result: %o",w),w}_parseByte(){let p;return this._pos<this._list.length&&(p=this._list.readUInt8(this._pos),this._pos++),h("_parseByte: result: %o",p),p}_parseByType(p){switch(h("_parseByType: type: %s",p),p){case"byte":return this._parseByte()!==0;case"int8":return this._parseByte();case"int16":return this._parseNum();case"int32":return this._parse4ByteNum();case"var":return this._parseVarByteNum();case"string":return this._parseString();case"pair":return this._parseStringPair();case"binary":return this._parseBuffer()}}_parseProperties(){h("_parseProperties");const p=this._parseVarByteNum(),_=this._pos+p,b={};for(;this._pos<_;){const A=this._parseByte();if(!A)return this._emitError(new Error("Cannot parse property code type")),!1;const w=f.propertiesCodes[A];if(!w)return this._emitError(new Error("Unknown property")),!1;if(w==="userProperties"){b[w]||(b[w]=Object.create(null));const S=this._parseByType(f.propertiesTypes[w]);if(b[w][S.name])if(Array.isArray(b[w][S.name]))b[w][S.name].push(S.value);else{const T=b[w][S.name];b[w][S.name]=[T],b[w][S.name].push(S.value)}else b[w][S.name]=S.value;continue}b[w]?Array.isArray(b[w])?b[w].push(this._parseByType(f.propertiesTypes[w])):(b[w]=[b[w]],b[w].push(this._parseByType(f.propertiesTypes[w]))):b[w]=this._parseByType(f.propertiesTypes[w])}return b}_newPacket(){return h("_newPacket"),this.packet&&(this._list.consume(this.packet.length),h("_newPacket: parser emit packet: packet.cmd: %s, packet.payload: %s, packet.length: %d",this.packet.cmd,this.packet.payload,this.packet.length),this.emit("packet",this.packet)),h("_newPacket: new packet"),this.packet=new d,this._pos=0,!0}_emitError(p){h("_emitError",p),this.error=p,this.emit("error",p)}}o.exports=y},{"./constants":73,"./packet":94,bl:77,debug:30,events:49}],96:[function(n,o,a){const u=n("./constants"),{Buffer:c}=n("buffer"),d=c.allocUnsafe(0),f=c.from([0]),h=n("./numbers"),y=n("process-nextick-args").nextTick,g=n("debug")("mqtt-packet:writeToStream"),p=h.cache,v=h.generateNumber,_=h.generateCache,b=h.genBufVariableByteInt,A=h.generate4ByteBuffer;let w=_e,S=!0;function T(pe,ue,$e){switch(g("generate called"),ue.cork&&(ue.cork(),y(x,ue)),S&&(S=!1,_()),g("generate: packet.cmd: %s",pe.cmd),pe.cmd){case"connect":return M(pe,ue);case"connack":return L(pe,ue,$e);case"publish":return k(pe,ue,$e);case"puback":case"pubrec":case"pubrel":case"pubcomp":return ie(pe,ue,$e);case"subscribe":return $(pe,ue,$e);case"suback":return z(pe,ue,$e);case"unsubscribe":return V(pe,ue,$e);case"unsuback":return re(pe,ue,$e);case"pingreq":case"pingresp":return D(pe,ue);case"disconnect":return Ce(pe,ue,$e);case"auth":return le(pe,ue,$e);default:return ue.destroy(new Error("Unknown command")),!1}}Object.defineProperty(T,"cacheNumbers",{get(){return w===_e},set(pe){pe?((!p||Object.keys(p).length===0)&&(S=!0),w=_e):(S=!1,w=qe)}});function x(pe){pe.uncork()}function M(pe,ue,$e){const Ne=pe||{},Oe=Ne.protocolId||"MQTT";let Lt=Ne.protocolVersion||4;const kt=Ne.will;let Cn=Ne.clean;const oe=Ne.keepalive||0,ae=Ne.clientId||"",Y=Ne.username,O=Ne.password,F=Ne.properties;Cn===void 0&&(Cn=!0);let j=0;if(!Oe||typeof Oe!="string"&&!c.isBuffer(Oe))return ue.destroy(new Error("Invalid protocolId")),!1;if(j+=Oe.length+2,Lt!==3&&Lt!==4&&Lt!==5)return ue.destroy(new Error("Invalid protocol version")),!1;if(j+=1,(typeof ae=="string"||c.isBuffer(ae))&&(ae||Lt>=4)&&(ae||Cn))j+=c.byteLength(ae)+2;else{if(Lt<4)return ue.destroy(new Error("clientId must be supplied before 3.1.1")),!1;if(Cn*1===0)return ue.destroy(new Error("clientId must be given if cleanSession set to 0")),!1}if(typeof oe!="number"||oe<0||oe>65535||oe%1!==0)return ue.destroy(new Error("Invalid keepalive")),!1;j+=2,j+=1;let xe,hn;if(Lt===5){if(xe=Pt(ue,F),!xe)return!1;j+=xe.length}if(kt){if(typeof kt!="object")return ue.destroy(new Error("Invalid will")),!1;if(!kt.topic||typeof kt.topic!="string")return ue.destroy(new Error("Invalid will topic")),!1;if(j+=c.byteLength(kt.topic)+2,j+=2,kt.payload)if(kt.payload.length>=0)typeof kt.payload=="string"?j+=c.byteLength(kt.payload):j+=kt.payload.length;else return ue.destroy(new Error("Invalid will payload")),!1;if(hn={},Lt===5){if(hn=Pt(ue,kt.properties),!hn)return!1;j+=hn.length}}let _n=!1;if(Y!=null)if(Et(Y))_n=!0,j+=c.byteLength(Y)+2;else return ue.destroy(new Error("Invalid username")),!1;if(O!=null){if(!_n)return ue.destroy(new Error("Username is required to use password")),!1;if(Et(O))j+=jt(O)+2;else return ue.destroy(new Error("Invalid password")),!1}ue.write(u.CONNECT_HEADER),Fe(ue,j),vn(ue,Oe),Ne.bridgeMode&&(Lt+=128),ue.write(Lt===131?u.VERSION131:Lt===132?u.VERSION132:Lt===4?u.VERSION4:Lt===5?u.VERSION5:u.VERSION3);let Sn=0;return Sn|=Y!=null?u.USERNAME_MASK:0,Sn|=O!=null?u.PASSWORD_MASK:0,Sn|=kt&&kt.retain?u.WILL_RETAIN_MASK:0,Sn|=kt&&kt.qos?kt.qos<<u.WILL_QOS_SHIFT:0,Sn|=kt?u.WILL_FLAG_MASK:0,Sn|=Cn?u.CLEAN_SESSION_MASK:0,ue.write(c.from([Sn])),w(ue,oe),Lt===5&&xe.write(),vn(ue,ae),kt&&(Lt===5&&hn.write(),Ie(ue,kt.topic),vn(ue,kt.payload)),Y!=null&&vn(ue,Y),O!=null&&vn(ue,O),!0}function L(pe,ue,$e){const Ne=$e?$e.protocolVersion:4,Oe=pe||{},Lt=Ne===5?Oe.reasonCode:Oe.returnCode,kt=Oe.properties;let Cn=2;if(typeof Lt!="number")return ue.destroy(new Error("Invalid return code")),!1;let oe=null;if(Ne===5){if(oe=Pt(ue,kt),!oe)return!1;Cn+=oe.length}return ue.write(u.CONNACK_HEADER),Fe(ue,Cn),ue.write(Oe.sessionPresent?u.SESSIONPRESENT_HEADER:f),ue.write(c.from([Lt])),oe!=null&&oe.write(),!0}function k(pe,ue,$e){g("publish: packet: %o",pe);const Ne=$e?$e.protocolVersion:4,Oe=pe||{},Lt=Oe.qos||0,kt=Oe.retain?u.RETAIN_MASK:0,Cn=Oe.topic,oe=Oe.payload||d,ae=Oe.messageId,Y=Oe.properties;let O=0;if(typeof Cn=="string")O+=c.byteLength(Cn)+2;else if(c.isBuffer(Cn))O+=Cn.length+2;else return ue.destroy(new Error("Invalid topic")),!1;if(c.isBuffer(oe)?O+=oe.length:O+=c.byteLength(oe),Lt&&typeof ae!="number")return ue.destroy(new Error("Invalid messageId")),!1;Lt&&(O+=2);let F=null;if(Ne===5){if(F=Pt(ue,Y),!F)return!1;O+=F.length}return ue.write(u.PUBLISH_HEADER[Lt][Oe.dup?1:0][kt?1:0]),Fe(ue,O),w(ue,jt(Cn)),ue.write(Cn),Lt>0&&w(ue,ae),F!=null&&F.write(),g("publish: payload: %o",oe),ue.write(oe)}function ie(pe,ue,$e){const Ne=$e?$e.protocolVersion:4,Oe=pe||{},Lt=Oe.cmd||"puback",kt=Oe.messageId,Cn=Oe.dup&&Lt==="pubrel"?u.DUP_MASK:0;let oe=0;const ae=Oe.reasonCode,Y=Oe.properties;let O=Ne===5?3:2;if(Lt==="pubrel"&&(oe=1),typeof kt!="number")return ue.destroy(new Error("Invalid messageId")),!1;let F=null;if(Ne===5&&typeof Y=="object"){if(F=he(ue,Y,$e,O),!F)return!1;O+=F.length}return ue.write(u.ACKS[Lt][oe][Cn][0]),O===3&&(O+=ae!==0?1:-1),Fe(ue,O),w(ue,kt),Ne===5&&O!==2&&ue.write(c.from([ae])),F!==null?F.write():O===4&&ue.write(c.from([0])),!0}function $(pe,ue,$e){g("subscribe: packet: ");const Ne=$e?$e.protocolVersion:4,Oe=pe||{},Lt=Oe.dup?u.DUP_MASK:0,kt=Oe.messageId,Cn=Oe.subscriptions,oe=Oe.properties;let ae=0;if(typeof kt!="number")return ue.destroy(new Error("Invalid messageId")),!1;ae+=2;let Y=null;if(Ne===5){if(Y=Pt(ue,oe),!Y)return!1;ae+=Y.length}if(typeof Cn=="object"&&Cn.length)for(let F=0;F<Cn.length;F+=1){const j=Cn[F].topic,xe=Cn[F].qos;if(typeof j!="string")return ue.destroy(new Error("Invalid subscriptions - invalid topic")),!1;if(typeof xe!="number")return ue.destroy(new Error("Invalid subscriptions - invalid qos")),!1;if(Ne===5){if(typeof(Cn[F].nl||!1)!="boolean")return ue.destroy(new Error("Invalid subscriptions - invalid No Local")),!1;if(typeof(Cn[F].rap||!1)!="boolean")return ue.destroy(new Error("Invalid subscriptions - invalid Retain as Published")),!1;const Sn=Cn[F].rh||0;if(typeof Sn!="number"||Sn>2)return ue.destroy(new Error("Invalid subscriptions - invalid Retain Handling")),!1}ae+=c.byteLength(j)+2+1}else return ue.destroy(new Error("Invalid subscriptions")),!1;g("subscribe: writing to stream: %o",u.SUBSCRIBE_HEADER),ue.write(u.SUBSCRIBE_HEADER[1][Lt?1:0][0]),Fe(ue,ae),w(ue,kt),Y!==null&&Y.write();let O=!0;for(const F of Cn){const j=F.topic,xe=F.qos,hn=+F.nl,_n=+F.rap,Sn=F.rh;let xn;Ie(ue,j),xn=u.SUBSCRIBE_OPTIONS_QOS[xe],Ne===5&&(xn|=hn?u.SUBSCRIBE_OPTIONS_NL:0,xn|=_n?u.SUBSCRIBE_OPTIONS_RAP:0,xn|=Sn?u.SUBSCRIBE_OPTIONS_RH[Sn]:0),O=ue.write(c.from([xn]))}return O}function z(pe,ue,$e){const Ne=$e?$e.protocolVersion:4,Oe=pe||{},Lt=Oe.messageId,kt=Oe.granted,Cn=Oe.properties;let oe=0;if(typeof Lt!="number")return ue.destroy(new Error("Invalid messageId")),!1;if(oe+=2,typeof kt=="object"&&kt.length)for(let Y=0;Y<kt.length;Y+=1){if(typeof kt[Y]!="number")return ue.destroy(new Error("Invalid qos vector")),!1;oe+=1}else return ue.destroy(new Error("Invalid qos vector")),!1;let ae=null;if(Ne===5){if(ae=he(ue,Cn,$e,oe),!ae)return!1;oe+=ae.length}return ue.write(u.SUBACK_HEADER),Fe(ue,oe),w(ue,Lt),ae!==null&&ae.write(),ue.write(c.from(kt))}function V(pe,ue,$e){const Ne=$e?$e.protocolVersion:4,Oe=pe||{},Lt=Oe.messageId,kt=Oe.dup?u.DUP_MASK:0,Cn=Oe.unsubscriptions,oe=Oe.properties;let ae=0;if(typeof Lt!="number")return ue.destroy(new Error("Invalid messageId")),!1;if(ae+=2,typeof Cn=="object"&&Cn.length)for(let F=0;F<Cn.length;F+=1){if(typeof Cn[F]!="string")return ue.destroy(new Error("Invalid unsubscriptions")),!1;ae+=c.byteLength(Cn[F])+2}else return ue.destroy(new Error("Invalid unsubscriptions")),!1;let Y=null;if(Ne===5){if(Y=Pt(ue,oe),!Y)return!1;ae+=Y.length}ue.write(u.UNSUBSCRIBE_HEADER[1][kt?1:0][0]),Fe(ue,ae),w(ue,Lt),Y!==null&&Y.write();let O=!0;for(let F=0;F<Cn.length;F++)O=Ie(ue,Cn[F]);return O}function re(pe,ue,$e){const Ne=$e?$e.protocolVersion:4,Oe=pe||{},Lt=Oe.messageId,kt=Oe.dup?u.DUP_MASK:0,Cn=Oe.granted,oe=Oe.properties,ae=Oe.cmd,Y=0;let O=2;if(typeof Lt!="number")return ue.destroy(new Error("Invalid messageId")),!1;if(Ne===5)if(typeof Cn=="object"&&Cn.length)for(let j=0;j<Cn.length;j+=1){if(typeof Cn[j]!="number")return ue.destroy(new Error("Invalid qos vector")),!1;O+=1}else return ue.destroy(new Error("Invalid qos vector")),!1;let F=null;if(Ne===5){if(F=he(ue,oe,$e,O),!F)return!1;O+=F.length}return ue.write(u.ACKS[ae][Y][kt][0]),Fe(ue,O),w(ue,Lt),F!==null&&F.write(),Ne===5&&ue.write(c.from(Cn)),!0}function D(pe,ue,$e){return ue.write(u.EMPTY[pe.cmd])}function Ce(pe,ue,$e){const Ne=$e?$e.protocolVersion:4,Oe=pe||{},Lt=Oe.reasonCode,kt=Oe.properties;let Cn=Ne===5?1:0,oe=null;if(Ne===5){if(oe=he(ue,kt,$e,Cn),!oe)return!1;Cn+=oe.length}return ue.write(c.from([u.codes.disconnect<<4])),Fe(ue,Cn),Ne===5&&ue.write(c.from([Lt])),oe!==null&&oe.write(),!0}function le(pe,ue,$e){const Ne=$e?$e.protocolVersion:4,Oe=pe||{},Lt=Oe.reasonCode,kt=Oe.properties;let Cn=Ne===5?1:0;Ne!==5&&ue.destroy(new Error("Invalid mqtt version for auth packet"));const oe=he(ue,kt,$e,Cn);return oe?(Cn+=oe.length,ue.write(c.from([u.codes.auth<<4])),Fe(ue,Cn),ue.write(c.from([Lt])),oe!==null&&oe.write(),!0):!1}const de={};function Fe(pe,ue){if(ue>u.VARBYTEINT_MAX)return pe.destroy(new Error(`Invalid variable byte integer: ${ue}`)),!1;let $e=de[ue];return $e||($e=b(ue),ue<16384&&(de[ue]=$e)),g("writeVarByteInt: writing to stream: %o",$e),pe.write($e)}function Ie(pe,ue){const $e=c.byteLength(ue);return w(pe,$e),g("writeString: %s",ue),pe.write(ue,"utf8")}function At(pe,ue,$e){Ie(pe,ue),Ie(pe,$e)}function _e(pe,ue){return g("writeNumberCached: number: %d",ue),g("writeNumberCached: %o",p[ue]),pe.write(p[ue])}function qe(pe,ue){const $e=v(ue);return g("writeNumberGenerated: %o",$e),pe.write($e)}function In(pe,ue){const $e=A(ue);return g("write4ByteNumber: %o",$e),pe.write($e)}function vn(pe,ue){typeof ue=="string"?Ie(pe,ue):ue?(w(pe,ue.length),pe.write(ue)):w(pe,0)}function Pt(pe,ue){if(typeof ue!="object"||ue.length!=null)return{length:1,write(){Dt(pe,{},0)}};let $e=0;function Ne(Lt,kt){const Cn=u.propertiesTypes[Lt];let oe=0;switch(Cn){case"byte":{if(typeof kt!="boolean")return pe.destroy(new Error(`Invalid ${Lt}: ${kt}`)),!1;oe+=1+1;break}case"int8":{if(typeof kt!="number"||kt<0||kt>255)return pe.destroy(new Error(`Invalid ${Lt}: ${kt}`)),!1;oe+=1+1;break}case"binary":{if(kt&&kt===null)return pe.destroy(new Error(`Invalid ${Lt}: ${kt}`)),!1;oe+=1+c.byteLength(kt)+2;break}case"int16":{if(typeof kt!="number"||kt<0||kt>65535)return pe.destroy(new Error(`Invalid ${Lt}: ${kt}`)),!1;oe+=1+2;break}case"int32":{if(typeof kt!="number"||kt<0||kt>4294967295)return pe.destroy(new Error(`Invalid ${Lt}: ${kt}`)),!1;oe+=1+4;break}case"var":{if(typeof kt!="number"||kt<0||kt>268435455)return pe.destroy(new Error(`Invalid ${Lt}: ${kt}`)),!1;oe+=1+c.byteLength(b(kt));break}case"string":{if(typeof kt!="string")return pe.destroy(new Error(`Invalid ${Lt}: ${kt}`)),!1;oe+=1+2+c.byteLength(kt.toString());break}case"pair":{if(typeof kt!="object")return pe.destroy(new Error(`Invalid ${Lt}: ${kt}`)),!1;oe+=Object.getOwnPropertyNames(kt).reduce((ae,Y)=>{const O=kt[Y];return Array.isArray(O)?ae+=O.reduce((F,j)=>(F+=1+2+c.byteLength(Y.toString())+2+c.byteLength(j.toString()),F),0):ae+=1+2+c.byteLength(Y.toString())+2+c.byteLength(kt[Y].toString()),ae},0);break}default:return pe.destroy(new Error(`Invalid property ${Lt}: ${kt}`)),!1}return oe}if(ue)for(const Lt in ue){let kt=0,Cn=0;const oe=ue[Lt];if(Array.isArray(oe))for(let ae=0;ae<oe.length;ae++){if(Cn=Ne(Lt,oe[ae]),!Cn)return!1;kt+=Cn}else{if(Cn=Ne(Lt,oe),!Cn)return!1;kt=Cn}if(!kt)return!1;$e+=kt}return{length:c.byteLength(b($e))+$e,write(){Dt(pe,ue,$e)}}}function he(pe,ue,$e,Ne){const Oe=["reasonString","userProperties"],Lt=$e&&$e.properties&&$e.properties.maximumPacketSize?$e.properties.maximumPacketSize:0;let kt=Pt(pe,ue);if(Lt)for(;Ne+kt.length>Lt;){const Cn=Oe.shift();if(Cn&&ue[Cn])delete ue[Cn],kt=Pt(pe,ue);else return!1}return kt}function Ue(pe,ue,$e){switch(u.propertiesTypes[ue]){case"byte":{pe.write(c.from([u.properties[ue]])),pe.write(c.from([+$e]));break}case"int8":{pe.write(c.from([u.properties[ue]])),pe.write(c.from([$e]));break}case"binary":{pe.write(c.from([u.properties[ue]])),vn(pe,$e);break}case"int16":{pe.write(c.from([u.properties[ue]])),w(pe,$e);break}case"int32":{pe.write(c.from([u.properties[ue]])),In(pe,$e);break}case"var":{pe.write(c.from([u.properties[ue]])),Fe(pe,$e);break}case"string":{pe.write(c.from([u.properties[ue]])),Ie(pe,$e);break}case"pair":{Object.getOwnPropertyNames($e).forEach(Oe=>{const Lt=$e[Oe];Array.isArray(Lt)?Lt.forEach(kt=>{pe.write(c.from([u.properties[ue]])),At(pe,Oe.toString(),kt.toString())}):(pe.write(c.from([u.properties[ue]])),At(pe,Oe.toString(),Lt.toString()))});break}default:return pe.destroy(new Error(`Invalid property ${ue} value: ${$e}`)),!1}}function Dt(pe,ue,$e){Fe(pe,$e);for(const Ne in ue)if(Object.prototype.hasOwnProperty.call(ue,Ne)&&ue[Ne]!==null){const Oe=ue[Ne];if(Array.isArray(Oe))for(let Lt=0;Lt<Oe.length;Lt++)Ue(pe,Ne,Oe[Lt]);else Ue(pe,Ne,Oe)}}function jt(pe){return pe?pe instanceof c?pe.length:c.byteLength(pe):0}function Et(pe){return typeof pe=="string"||pe instanceof c}o.exports=T},{"./constants":73,"./numbers":93,buffer:29,debug:30,"process-nextick-args":101}],97:[function(n,o,a){var u=1e3,c=u*60,d=c*60,f=d*24,h=f*7,y=f*365.25;o.exports=function(b,A){A=A||{};var w=typeof b;if(w==="string"&&b.length>0)return g(b);if(w==="number"&&isFinite(b))return A.long?v(b):p(b);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(b))};function g(b){if(b=String(b),!(b.length>100)){var A=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(b);if(A){var w=parseFloat(A[1]),S=(A[2]||"ms").toLowerCase();switch(S){case"years":case"year":case"yrs":case"yr":case"y":return w*y;case"weeks":case"week":case"w":return w*h;case"days":case"day":case"d":return w*f;case"hours":case"hour":case"hrs":case"hr":case"h":return w*d;case"minutes":case"minute":case"mins":case"min":case"m":return w*c;case"seconds":case"second":case"secs":case"sec":case"s":return w*u;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return w;default:return}}}}function p(b){var A=Math.abs(b);return A>=f?Math.round(b/f)+"d":A>=d?Math.round(b/d)+"h":A>=c?Math.round(b/c)+"m":A>=u?Math.round(b/u)+"s":b+"ms"}function v(b){var A=Math.abs(b);return A>=f?_(b,A,f,"day"):A>=d?_(b,A,d,"hour"):A>=c?_(b,A,c,"minute"):A>=u?_(b,A,u,"second"):b+" ms"}function _(b,A,w,S){var T=A>=w*1.5;return Math.round(b/w)+" "+S+(T?"s":"")}},{}],98:[function(n,o,a){const u=n("./lib/number-allocator.js");o.exports.NumberAllocator=u},{"./lib/number-allocator.js":99}],99:[function(n,o,a){const u=n("js-sdsl").OrderedSet,c=n("debug")("number-allocator:trace"),d=n("debug")("number-allocator:error");function f(y,g){this.low=y,this.high=g}f.prototype.equals=function(y){return this.low===y.low&&this.high===y.high},f.prototype.compare=function(y){return this.low<y.low&&this.high<y.low?-1:y.low<this.low&&y.high<this.low?1:0};function h(y,g){if(!(this instanceof h))return new h(y,g);this.min=y,this.max=g,this.ss=new u([],(p,v)=>p.compare(v)),c("Create"),this.clear()}h.prototype.firstVacant=function(){return this.ss.size()===0?null:this.ss.front().low},h.prototype.alloc=function(){if(this.ss.size()===0)return c("alloc():empty"),null;const y=this.ss.begin(),g=y.pointer.low,p=y.pointer.high,v=g;return v+1<=p?this.ss.updateKeyByIterator(y,new f(g+1,p)):this.ss.eraseElementByPos(0),c("alloc():"+v),v},h.prototype.use=function(y){const g=new f(y,y),p=this.ss.lowerBound(g);if(!p.equals(this.ss.end())){const v=p.pointer.low,_=p.pointer.high;return p.pointer.equals(g)?(this.ss.eraseElementByIterator(p),c("use():"+y),!0):v>y?!1:v===y?(this.ss.updateKeyByIterator(p,new f(v+1,_)),c("use():"+y),!0):_===y?(this.ss.updateKeyByIterator(p,new f(v,_-1)),c("use():"+y),!0):(this.ss.updateKeyByIterator(p,new f(y+1,_)),this.ss.insert(new f(v,y-1)),c("use():"+y),!0)}return c("use():failed"),!1},h.prototype.free=function(y){if(y<this.min||y>this.max){d("free():"+y+" is out of range");return}const g=new f(y,y),p=this.ss.upperBound(g);if(p.equals(this.ss.end())){if(p.equals(this.ss.begin())){this.ss.insert(g);return}p.pre();const v=p.pointer.high;p.pointer.high+1===y?this.ss.updateKeyByIterator(p,new f(v,y)):this.ss.insert(g)}else if(p.equals(this.ss.begin()))if(y+1===p.pointer.low){const v=p.pointer.high;this.ss.updateKeyByIterator(p,new f(y,v))}else this.ss.insert(g);else{const v=p.pointer.low,_=p.pointer.high;p.pre();const b=p.pointer.low;p.pointer.high+1===y?y+1===v?(this.ss.eraseElementByIterator(p),this.ss.updateKeyByIterator(p,new f(b,_))):this.ss.updateKeyByIterator(p,new f(b,y)):y+1===v?(this.ss.eraseElementByIterator(p.next()),this.ss.insert(new f(y,_))):this.ss.insert(g)}c("free():"+y)},h.prototype.clear=function(){c("clear()"),this.ss.clear(),this.ss.insert(new f(this.min,this.max))},h.prototype.intervalCount=function(){return this.ss.size()},h.prototype.dump=function(){console.log("length:"+this.ss.size());for(const y of this.ss)console.log(y)},o.exports=h},{debug:30,"js-sdsl":69}],100:[function(n,o,a){var u=n("wrappy");o.exports=u(c),o.exports.strict=u(d),c.proto=c(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return c(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return d(this)},configurable:!0})});function c(f){var h=function(){return h.called?h.value:(h.called=!0,h.value=f.apply(this,arguments))};return h.called=!1,h}function d(f){var h=function(){if(h.called)throw new Error(h.onceError);return h.called=!0,h.value=f.apply(this,arguments)},y=f.name||"Function wrapped with `once`";return h.onceError=y+" shouldn't be called more than once",h.called=!1,h}},{wrappy:140}],101:[function(n,o,a){(function(u){(function(){typeof u>"u"||!u.version||u.version.indexOf("v0.")===0||u.version.indexOf("v1.")===0&&u.version.indexOf("v1.8.")!==0?o.exports={nextTick:c}:o.exports=u;function c(d,f,h,y){if(typeof d!="function")throw new TypeError('"callback" argument must be a function');var g=arguments.length,p,v;switch(g){case 0:case 1:return u.nextTick(d);case 2:return u.nextTick(function(){d.call(null,f)});case 3:return u.nextTick(function(){d.call(null,f,h)});case 4:return u.nextTick(function(){d.call(null,f,h,y)});default:for(p=new Array(g-1),v=0;v<p.length;)p[v++]=arguments[v];return u.nextTick(function(){d.apply(null,p)})}}}).call(this)}).call(this,n("_process"))},{_process:102}],102:[function(n,o,a){var u=o.exports={},c,d;function f(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=f}catch{c=f}try{typeof clearTimeout=="function"?d=clearTimeout:d=h}catch{d=h}})();function y(x){if(c===setTimeout)return setTimeout(x,0);if((c===f||!c)&&setTimeout)return c=setTimeout,setTimeout(x,0);try{return c(x,0)}catch{try{return c.call(null,x,0)}catch{return c.call(this,x,0)}}}function g(x){if(d===clearTimeout)return clearTimeout(x);if((d===h||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(x);try{return d(x)}catch{try{return d.call(null,x)}catch{return d.call(this,x)}}}var p=[],v=!1,_,b=-1;function A(){!v||!_||(v=!1,_.length?p=_.concat(p):b=-1,p.length&&w())}function w(){if(!v){var x=y(A);v=!0;for(var M=p.length;M;){for(_=p,p=[];++b<M;)_&&_[b].run();b=-1,M=p.length}_=null,v=!1,g(x)}}u.nextTick=function(x){var M=new Array(arguments.length-1);if(arguments.length>1)for(var L=1;L<arguments.length;L++)M[L-1]=arguments[L];p.push(new S(x,M)),p.length===1&&!v&&y(w)};function S(x,M){this.fun=x,this.array=M}S.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={};function T(){}u.on=T,u.addListener=T,u.once=T,u.off=T,u.removeListener=T,u.removeAllListeners=T,u.emit=T,u.prependListener=T,u.prependOnceListener=T,u.listeners=function(x){return[]},u.binding=function(x){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(x){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},{}],103:[function(n,o,a){(function(u){(function(){(function(c){var d=typeof a=="object"&&a&&!a.nodeType&&a,f=typeof o=="object"&&o&&!o.nodeType&&o,h=typeof u=="object"&&u;(h.global===h||h.window===h||h.self===h)&&(c=h);var y,g=2147483647,p=36,v=1,_=26,b=38,A=700,w=72,S=128,T="-",x=/^xn--/,M=/[^\x20-\x7E]/,L=/[\x2E\u3002\uFF0E\uFF61]/g,k={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},ie=p-v,$=Math.floor,z=String.fromCharCode,V;function re(Pt){throw new RangeError(k[Pt])}function D(Pt,he){for(var Ue=Pt.length,Dt=[];Ue--;)Dt[Ue]=he(Pt[Ue]);return Dt}function Ce(Pt,he){var Ue=Pt.split("@"),Dt="";Ue.length>1&&(Dt=Ue[0]+"@",Pt=Ue[1]),Pt=Pt.replace(L,".");var jt=Pt.split("."),Et=D(jt,he).join(".");return Dt+Et}function le(Pt){for(var he=[],Ue=0,Dt=Pt.length,jt,Et;Ue<Dt;)jt=Pt.charCodeAt(Ue++),jt>=55296&&jt<=56319&&Ue<Dt?(Et=Pt.charCodeAt(Ue++),(Et&64512)==56320?he.push(((jt&1023)<<10)+(Et&1023)+65536):(he.push(jt),Ue--)):he.push(jt);return he}function de(Pt){return D(Pt,function(he){var Ue="";return he>65535&&(he-=65536,Ue+=z(he>>>10&1023|55296),he=56320|he&1023),Ue+=z(he),Ue}).join("")}function Fe(Pt){return Pt-48<10?Pt-22:Pt-65<26?Pt-65:Pt-97<26?Pt-97:p}function Ie(Pt,he){return Pt+22+75*(Pt<26)-((he!=0)<<5)}function At(Pt,he,Ue){var Dt=0;for(Pt=Ue?$(Pt/A):Pt>>1,Pt+=$(Pt/he);Pt>ie*_>>1;Dt+=p)Pt=$(Pt/ie);return $(Dt+(ie+1)*Pt/(Pt+b))}function _e(Pt){var he=[],Ue=Pt.length,Dt,jt=0,Et=S,pe=w,ue,$e,Ne,Oe,Lt,kt,Cn,oe,ae;for(ue=Pt.lastIndexOf(T),ue<0&&(ue=0),$e=0;$e<ue;++$e)Pt.charCodeAt($e)>=128&&re("not-basic"),he.push(Pt.charCodeAt($e));for(Ne=ue>0?ue+1:0;Ne<Ue;){for(Oe=jt,Lt=1,kt=p;Ne>=Ue&&re("invalid-input"),Cn=Fe(Pt.charCodeAt(Ne++)),(Cn>=p||Cn>$((g-jt)/Lt))&&re("overflow"),jt+=Cn*Lt,oe=kt<=pe?v:kt>=pe+_?_:kt-pe,!(Cn<oe);kt+=p)ae=p-oe,Lt>$(g/ae)&&re("overflow"),Lt*=ae;Dt=he.length+1,pe=At(jt-Oe,Dt,Oe==0),$(jt/Dt)>g-Et&&re("overflow"),Et+=$(jt/Dt),jt%=Dt,he.splice(jt++,0,Et)}return de(he)}function qe(Pt){var he,Ue,Dt,jt,Et,pe,ue,$e,Ne,Oe,Lt,kt=[],Cn,oe,ae,Y;for(Pt=le(Pt),Cn=Pt.length,he=S,Ue=0,Et=w,pe=0;pe<Cn;++pe)Lt=Pt[pe],Lt<128&&kt.push(z(Lt));for(Dt=jt=kt.length,jt&&kt.push(T);Dt<Cn;){for(ue=g,pe=0;pe<Cn;++pe)Lt=Pt[pe],Lt>=he&&Lt<ue&&(ue=Lt);for(oe=Dt+1,ue-he>$((g-Ue)/oe)&&re("overflow"),Ue+=(ue-he)*oe,he=ue,pe=0;pe<Cn;++pe)if(Lt=Pt[pe],Lt<he&&++Ue>g&&re("overflow"),Lt==he){for($e=Ue,Ne=p;Oe=Ne<=Et?v:Ne>=Et+_?_:Ne-Et,!($e<Oe);Ne+=p)Y=$e-Oe,ae=p-Oe,kt.push(z(Ie(Oe+Y%ae,0))),$e=$(Y/ae);kt.push(z(Ie($e,0))),Et=At(Ue,oe,Dt==jt),Ue=0,++Dt}++Ue,++he}return kt.join("")}function In(Pt){return Ce(Pt,function(he){return x.test(he)?_e(he.slice(4).toLowerCase()):he})}function vn(Pt){return Ce(Pt,function(he){return M.test(he)?"xn--"+qe(he):he})}if(y={version:"1.4.1",ucs2:{decode:le,encode:de},decode:_e,encode:qe,toASCII:vn,toUnicode:In},d&&f)if(o.exports==d)f.exports=y;else for(V in y)y.hasOwnProperty(V)&&(d[V]=y[V]);else c.punycode=y})(this)}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],104:[function(n,o,a){function u(d,f){return Object.prototype.hasOwnProperty.call(d,f)}o.exports=function(d,f,h,y){f=f||"&",h=h||"=";var g={};if(typeof d!="string"||d.length===0)return g;var p=/\+/g;d=d.split(f);var v=1e3;y&&typeof y.maxKeys=="number"&&(v=y.maxKeys);var _=d.length;v>0&&_>v&&(_=v);for(var b=0;b<_;++b){var A=d[b].replace(p,"%20"),w=A.indexOf(h),S,T,x,M;w>=0?(S=A.substr(0,w),T=A.substr(w+1)):(S=A,T=""),x=decodeURIComponent(S),M=decodeURIComponent(T),u(g,x)?c(g[x])?g[x].push(M):g[x]=[g[x],M]:g[x]=M}return g};var c=Array.isArray||function(d){return Object.prototype.toString.call(d)==="[object Array]"}},{}],105:[function(n,o,a){var u=function(h){switch(typeof h){case"string":return h;case"boolean":return h?"true":"false";case"number":return isFinite(h)?h:"";default:return""}};o.exports=function(h,y,g,p){return y=y||"&",g=g||"=",h===null&&(h=void 0),typeof h=="object"?d(f(h),function(v){var _=encodeURIComponent(u(v))+g;return c(h[v])?d(h[v],function(b){return _+encodeURIComponent(u(b))}).join(y):_+encodeURIComponent(u(h[v]))}).join(y):p?encodeURIComponent(u(p))+g+encodeURIComponent(u(h)):""};var c=Array.isArray||function(h){return Object.prototype.toString.call(h)==="[object Array]"};function d(h,y){if(h.map)return h.map(y);for(var g=[],p=0;p<h.length;p++)g.push(y(h[p],p));return g}var f=Object.keys||function(h){var y=[];for(var g in h)Object.prototype.hasOwnProperty.call(h,g)&&y.push(g);return y}},{}],106:[function(n,o,a){a.decode=a.parse=n("./decode"),a.encode=a.stringify=n("./encode")},{"./decode":104,"./encode":105}],107:[function(n,o,a){const{AbortError:u,codes:c}=n("../../ours/errors"),{isNodeStream:d,isWebStream:f,kControllerErrorFunction:h}=n("./utils"),y=n("./end-of-stream"),{ERR_INVALID_ARG_TYPE:g}=c,p=(v,_)=>{if(typeof v!="object"||!("aborted"in v))throw new g(_,"AbortSignal",v)};o.exports.addAbortSignal=function(_,b){if(p(_,"signal"),!d(b)&&!f(b))throw new g("stream",["ReadableStream","WritableStream","Stream"],b);return o.exports.addAbortSignalNoValidate(_,b)},o.exports.addAbortSignalNoValidate=function(v,_){if(typeof v!="object"||!("aborted"in v))return _;const b=d(_)?()=>{_.destroy(new u(void 0,{cause:v.reason}))}:()=>{_[h](new u(void 0,{cause:v.reason}))};return v.aborted?b():(v.addEventListener("abort",b),y(_,()=>v.removeEventListener("abort",b))),_}},{"../../ours/errors":126,"./end-of-stream":113,"./utils":122}],108:[function(n,o,a){const{StringPrototypeSlice:u,SymbolIterator:c,TypedArrayPrototypeSet:d,Uint8Array:f}=n("../../ours/primordials"),{Buffer:h}=n("buffer"),{inspect:y}=n("../../ours/util");o.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(p){const v={data:p,next:null};this.length>0?this.tail.next=v:this.head=v,this.tail=v,++this.length}unshift(p){const v={data:p,next:this.head};this.length===0&&(this.tail=v),this.head=v,++this.length}shift(){if(this.length===0)return;const p=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,p}clear(){this.head=this.tail=null,this.length=0}join(p){if(this.length===0)return"";let v=this.head,_=""+v.data;for(;(v=v.next)!==null;)_+=p+v.data;return _}concat(p){if(this.length===0)return h.alloc(0);const v=h.allocUnsafe(p>>>0);let _=this.head,b=0;for(;_;)d(v,_.data,b),b+=_.data.length,_=_.next;return v}consume(p,v){const _=this.head.data;if(p<_.length){const b=_.slice(0,p);return this.head.data=_.slice(p),b}return p===_.length?this.shift():v?this._getString(p):this._getBuffer(p)}first(){return this.head.data}*[c](){for(let p=this.head;p;p=p.next)yield p.data}_getString(p){let v="",_=this.head,b=0;do{const A=_.data;if(p>A.length)v+=A,p-=A.length;else{p===A.length?(v+=A,++b,_.next?this.head=_.next:this.head=this.tail=null):(v+=u(A,0,p),this.head=_,_.data=u(A,p));break}++b}while((_=_.next)!==null);return this.length-=b,v}_getBuffer(p){const v=h.allocUnsafe(p),_=p;let b=this.head,A=0;do{const w=b.data;if(p>w.length)d(v,w,_-p),p-=w.length;else{p===w.length?(d(v,w,_-p),++A,b.next?this.head=b.next:this.head=this.tail=null):(d(v,new f(w.buffer,w.byteOffset,p),_-p),this.head=b,b.data=w.slice(p));break}++A}while((b=b.next)!==null);return this.length-=A,v}[Symbol.for("nodejs.util.inspect.custom")](p,v){return y(this,{...v,depth:0,customInspect:!1})}}},{"../../ours/primordials":127,"../../ours/util":128,buffer:29}],109:[function(n,o,a){const{pipeline:u}=n("./pipeline"),c=n("./duplex"),{destroyer:d}=n("./destroy"),{isNodeStream:f,isReadable:h,isWritable:y,isWebStream:g,isTransformStream:p,isWritableStream:v,isReadableStream:_}=n("./utils"),{AbortError:b,codes:{ERR_INVALID_ARG_VALUE:A,ERR_MISSING_ARGS:w}}=n("../../ours/errors"),S=n("./end-of-stream");o.exports=function(...x){if(x.length===0)throw new w("streams");if(x.length===1)return c.from(x[0]);const M=[...x];if(typeof x[0]=="function"&&(x[0]=c.from(x[0])),typeof x[x.length-1]=="function"){const de=x.length-1;x[de]=c.from(x[de])}for(let de=0;de<x.length;++de)if(!(!f(x[de])&&!g(x[de]))){if(de<x.length-1&&!(h(x[de])||_(x[de])||p(x[de])))throw new A(`streams[${de}]`,M[de],"must be readable");if(de>0&&!(y(x[de])||v(x[de])||p(x[de])))throw new A(`streams[${de}]`,M[de],"must be writable")}let L,k,ie,$,z;function V(de){const Fe=$;$=null,Fe?Fe(de):de?z.destroy(de):!le&&!Ce&&z.destroy()}const re=x[0],D=u(x,V),Ce=!!(y(re)||v(re)||p(re)),le=!!(h(D)||_(D)||p(D));if(z=new c({writableObjectMode:!!(re!=null&&re.writableObjectMode),readableObjectMode:!!(D!=null&&D.writableObjectMode),writable:Ce,readable:le}),Ce){if(f(re))z._write=function(Fe,Ie,At){re.write(Fe,Ie)?At():L=At},z._final=function(Fe){re.end(),k=Fe},re.on("drain",function(){if(L){const Fe=L;L=null,Fe()}});else if(g(re)){const Ie=(p(re)?re.writable:re).getWriter();z._write=async function(At,_e,qe){try{await Ie.ready,Ie.write(At).catch(()=>{}),qe()}catch(In){qe(In)}},z._final=async function(At){try{await Ie.ready,Ie.close().catch(()=>{}),k=At}catch(_e){At(_e)}}}const de=p(D)?D.readable:D;S(de,()=>{if(k){const Fe=k;k=null,Fe()}})}if(le){if(f(D))D.on("readable",function(){if(ie){const de=ie;ie=null,de()}}),D.on("end",function(){z.push(null)}),z._read=function(){for(;;){const de=D.read();if(de===null){ie=z._read;return}if(!z.push(de))return}};else if(g(D)){const Fe=(p(D)?D.readable:D).getReader();z._read=async function(){for(;;)try{const{value:Ie,done:At}=await Fe.read();if(!z.push(Ie))return;if(At){z.push(null);return}}catch{return}}}}return z._destroy=function(de,Fe){!de&&$!==null&&(de=new b),ie=null,L=null,k=null,$===null?Fe(de):($=Fe,f(D)&&d(D,de))},z}},{"../../ours/errors":126,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./pipeline":118,"./utils":122}],110:[function(n,o,a){const u=n("process/"),{aggregateTwoErrors:c,codes:{ERR_MULTIPLE_CALLBACK:d},AbortError:f}=n("../../ours/errors"),{Symbol:h}=n("../../ours/primordials"),{kDestroyed:y,isDestroyed:g,isFinished:p,isServerRequest:v}=n("./utils"),_=h("kDestroy"),b=h("kConstruct");function A(le,de,Fe){le&&(le.stack,de&&!de.errored&&(de.errored=le),Fe&&!Fe.errored&&(Fe.errored=le))}function w(le,de){const Fe=this._readableState,Ie=this._writableState,At=Ie||Fe;return Ie!=null&&Ie.destroyed||Fe!=null&&Fe.destroyed?(typeof de=="function"&&de(),this):(A(le,Ie,Fe),Ie&&(Ie.destroyed=!0),Fe&&(Fe.destroyed=!0),At.constructed?S(this,le,de):this.once(_,function(_e){S(this,c(_e,le),de)}),this)}function S(le,de,Fe){let Ie=!1;function At(_e){if(Ie)return;Ie=!0;const qe=le._readableState,In=le._writableState;A(_e,In,qe),In&&(In.closed=!0),qe&&(qe.closed=!0),typeof Fe=="function"&&Fe(_e),_e?u.nextTick(T,le,_e):u.nextTick(x,le)}try{le._destroy(de||null,At)}catch(_e){At(_e)}}function T(le,de){M(le,de),x(le)}function x(le){const de=le._readableState,Fe=le._writableState;Fe&&(Fe.closeEmitted=!0),de&&(de.closeEmitted=!0),(Fe!=null&&Fe.emitClose||de!=null&&de.emitClose)&&le.emit("close")}function M(le,de){const Fe=le._readableState,Ie=le._writableState;Ie!=null&&Ie.errorEmitted||Fe!=null&&Fe.errorEmitted||(Ie&&(Ie.errorEmitted=!0),Fe&&(Fe.errorEmitted=!0),le.emit("error",de))}function L(){const le=this._readableState,de=this._writableState;le&&(le.constructed=!0,le.closed=!1,le.closeEmitted=!1,le.destroyed=!1,le.errored=null,le.errorEmitted=!1,le.reading=!1,le.ended=le.readable===!1,le.endEmitted=le.readable===!1),de&&(de.constructed=!0,de.destroyed=!1,de.closed=!1,de.closeEmitted=!1,de.errored=null,de.errorEmitted=!1,de.finalCalled=!1,de.prefinished=!1,de.ended=de.writable===!1,de.ending=de.writable===!1,de.finished=de.writable===!1)}function k(le,de,Fe){const Ie=le._readableState,At=le._writableState;if(At!=null&&At.destroyed||Ie!=null&&Ie.destroyed)return this;Ie!=null&&Ie.autoDestroy||At!=null&&At.autoDestroy?le.destroy(de):de&&(de.stack,At&&!At.errored&&(At.errored=de),Ie&&!Ie.errored&&(Ie.errored=de),Fe?u.nextTick(M,le,de):M(le,de))}function ie(le,de){if(typeof le._construct!="function")return;const Fe=le._readableState,Ie=le._writableState;Fe&&(Fe.constructed=!1),Ie&&(Ie.constructed=!1),le.once(b,de),!(le.listenerCount(b)>1)&&u.nextTick($,le)}function $(le){let de=!1;function Fe(Ie){if(de){k(le,Ie??new d);return}de=!0;const At=le._readableState,_e=le._writableState,qe=_e||At;At&&(At.constructed=!0),_e&&(_e.constructed=!0),qe.destroyed?le.emit(_,Ie):Ie?k(le,Ie,!0):u.nextTick(z,le)}try{le._construct(Ie=>{u.nextTick(Fe,Ie)})}catch(Ie){u.nextTick(Fe,Ie)}}function z(le){le.emit(b)}function V(le){return(le==null?void 0:le.setHeader)&&typeof le.abort=="function"}function re(le){le.emit("close")}function D(le,de){le.emit("error",de),u.nextTick(re,le)}function Ce(le,de){!le||g(le)||(!de&&!p(le)&&(de=new f),v(le)?(le.socket=null,le.destroy(de)):V(le)?le.abort():V(le.req)?le.req.abort():typeof le.destroy=="function"?le.destroy(de):typeof le.close=="function"?le.close():de?u.nextTick(D,le,de):u.nextTick(re,le),le.destroyed||(le[y]=!0))}o.exports={construct:ie,destroyer:Ce,destroy:w,undestroy:L,errorOrDestroy:k}},{"../../ours/errors":126,"../../ours/primordials":127,"./utils":122,"process/":102}],111:[function(n,o,a){const{ObjectDefineProperties:u,ObjectGetOwnPropertyDescriptor:c,ObjectKeys:d,ObjectSetPrototypeOf:f}=n("../../ours/primordials");o.exports=g;const h=n("./readable"),y=n("./writable");f(g.prototype,h.prototype),f(g,h);{const b=d(y.prototype);for(let A=0;A<b.length;A++){const w=b[A];g.prototype[w]||(g.prototype[w]=y.prototype[w])}}function g(b){if(!(this instanceof g))return new g(b);h.call(this,b),y.call(this,b),b?(this.allowHalfOpen=b.allowHalfOpen!==!1,b.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),b.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}u(g.prototype,{writable:{__proto__:null,...c(y.prototype,"writable")},writableHighWaterMark:{__proto__:null,...c(y.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...c(y.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...c(y.prototype,"writableBuffer")},writableLength:{__proto__:null,...c(y.prototype,"writableLength")},writableFinished:{__proto__:null,...c(y.prototype,"writableFinished")},writableCorked:{__proto__:null,...c(y.prototype,"writableCorked")},writableEnded:{__proto__:null,...c(y.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...c(y.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(b){this._readableState&&this._writableState&&(this._readableState.destroyed=b,this._writableState.destroyed=b)}}});let p;function v(){return p===void 0&&(p={}),p}g.fromWeb=function(b,A){return v().newStreamDuplexFromReadableWritablePair(b,A)},g.toWeb=function(b){return v().newReadableWritablePairFromDuplex(b)};let _;g.from=function(b){return _||(_=n("./duplexify")),_(b,"body")}},{"../../ours/primordials":127,"./duplexify":112,"./readable":119,"./writable":123}],112:[function(n,o,a){const u=n("process/"),c=n("buffer"),{isReadable:d,isWritable:f,isIterable:h,isNodeStream:y,isReadableNodeStream:g,isWritableNodeStream:p,isDuplexNodeStream:v}=n("./utils"),_=n("./end-of-stream"),{AbortError:b,codes:{ERR_INVALID_ARG_TYPE:A,ERR_INVALID_RETURN_VALUE:w}}=n("../../ours/errors"),{destroyer:S}=n("./destroy"),T=n("./duplex"),x=n("./readable"),{createDeferredPromise:M}=n("../../ours/util"),L=n("./from"),k=globalThis.Blob||c.Blob,ie=typeof k<"u"?function(le){return le instanceof k}:function(le){return!1},$=globalThis.AbortController||n("abort-controller").AbortController,{FunctionPrototypeCall:z}=n("../../ours/primordials");class V extends T{constructor(le){super(le),(le==null?void 0:le.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(le==null?void 0:le.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}o.exports=function Ce(le,de){if(v(le))return le;if(g(le))return D({readable:le});if(p(le))return D({writable:le});if(y(le))return D({writable:!1,readable:!1});if(typeof le=="function"){const{value:Ie,write:At,final:_e,destroy:qe}=re(le);if(h(Ie))return L(V,Ie,{objectMode:!0,write:At,final:_e,destroy:qe});const In=Ie==null?void 0:Ie.then;if(typeof In=="function"){let vn;const Pt=z(In,Ie,he=>{if(he!=null)throw new w("nully","body",he)},he=>{S(vn,he)});return vn=new V({objectMode:!0,readable:!1,write:At,final(he){_e(async()=>{try{await Pt,u.nextTick(he,null)}catch(Ue){u.nextTick(he,Ue)}})},destroy:qe})}throw new w("Iterable, AsyncIterable or AsyncFunction",de,Ie)}if(ie(le))return Ce(le.arrayBuffer());if(h(le))return L(V,le,{objectMode:!0,writable:!1});if(typeof(le==null?void 0:le.writable)=="object"||typeof(le==null?void 0:le.readable)=="object"){const Ie=le!=null&&le.readable?g(le==null?void 0:le.readable)?le==null?void 0:le.readable:Ce(le.readable):void 0,At=le!=null&&le.writable?p(le==null?void 0:le.writable)?le==null?void 0:le.writable:Ce(le.writable):void 0;return D({readable:Ie,writable:At})}const Fe=le==null?void 0:le.then;if(typeof Fe=="function"){let Ie;return z(Fe,le,At=>{At!=null&&Ie.push(At),Ie.push(null)},At=>{S(Ie,At)}),Ie=new V({objectMode:!0,writable:!1,read(){}})}throw new A(de,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],le)};function re(Ce){let{promise:le,resolve:de}=M();const Fe=new $,Ie=Fe.signal;return{value:Ce(async function*(){for(;;){const _e=le;le=null;const{chunk:qe,done:In,cb:vn}=await _e;if(u.nextTick(vn),In)return;if(Ie.aborted)throw new b(void 0,{cause:Ie.reason});({promise:le,resolve:de}=M()),yield qe}}(),{signal:Ie}),write(_e,qe,In){const vn=de;de=null,vn({chunk:_e,done:!1,cb:In})},final(_e){const qe=de;de=null,qe({done:!0,cb:_e})},destroy(_e,qe){Fe.abort(),qe(_e)}}}function D(Ce){const le=Ce.readable&&typeof Ce.readable.read!="function"?x.wrap(Ce.readable):Ce.readable,de=Ce.writable;let Fe=!!d(le),Ie=!!f(de),At,_e,qe,In,vn;function Pt(he){const Ue=In;In=null,Ue?Ue(he):he&&vn.destroy(he)}return vn=new V({readableObjectMode:!!(le!=null&&le.readableObjectMode),writableObjectMode:!!(de!=null&&de.writableObjectMode),readable:Fe,writable:Ie}),Ie&&(_(de,he=>{Ie=!1,he&&S(le,he),Pt(he)}),vn._write=function(he,Ue,Dt){de.write(he,Ue)?Dt():At=Dt},vn._final=function(he){de.end(),_e=he},de.on("drain",function(){if(At){const he=At;At=null,he()}}),de.on("finish",function(){if(_e){const he=_e;_e=null,he()}})),Fe&&(_(le,he=>{Fe=!1,he&&S(le,he),Pt(he)}),le.on("readable",function(){if(qe){const he=qe;qe=null,he()}}),le.on("end",function(){vn.push(null)}),vn._read=function(){for(;;){const he=le.read();if(he===null){qe=vn._read;return}if(!vn.push(he))return}}),vn._destroy=function(he,Ue){!he&&In!==null&&(he=new b),qe=null,At=null,_e=null,In===null?Ue(he):(In=Ue,S(de,he),S(le,he))},vn}},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./from":114,"./readable":119,"./utils":122,"abort-controller":24,buffer:29,"process/":102}],113:[function(n,o,a){const u=n("process/"),{AbortError:c,codes:d}=n("../../ours/errors"),{ERR_INVALID_ARG_TYPE:f,ERR_STREAM_PREMATURE_CLOSE:h}=d,{kEmptyObject:y,once:g}=n("../../ours/util"),{validateAbortSignal:p,validateFunction:v,validateObject:_,validateBoolean:b}=n("../validators"),{Promise:A,PromisePrototypeThen:w}=n("../../ours/primordials"),{isClosed:S,isReadable:T,isReadableNodeStream:x,isReadableStream:M,isReadableFinished:L,isReadableErrored:k,isWritable:ie,isWritableNodeStream:$,isWritableStream:z,isWritableFinished:V,isWritableErrored:re,isNodeStream:D,willEmitClose:Ce,kIsClosedPromise:le}=n("./utils");function de(qe){return qe.setHeader&&typeof qe.abort=="function"}const Fe=()=>{};function Ie(qe,In,vn){var Pt,he;if(arguments.length===2?(vn=In,In=y):In==null?In=y:_(In,"options"),v(vn,"callback"),p(In.signal,"options.signal"),vn=g(vn),M(qe)||z(qe))return At(qe,In,vn);if(!D(qe))throw new f("stream",["ReadableStream","WritableStream","Stream"],qe);const Ue=(Pt=In.readable)!==null&&Pt!==void 0?Pt:x(qe),Dt=(he=In.writable)!==null&&he!==void 0?he:$(qe),jt=qe._writableState,Et=qe._readableState,pe=()=>{qe.writable||Ne()};let ue=Ce(qe)&&x(qe)===Ue&&$(qe)===Dt,$e=V(qe,!1);const Ne=()=>{$e=!0,qe.destroyed&&(ue=!1),!(ue&&(!qe.readable||Ue))&&(!Ue||Oe)&&vn.call(qe)};let Oe=L(qe,!1);const Lt=()=>{Oe=!0,qe.destroyed&&(ue=!1),!(ue&&(!qe.writable||Dt))&&(!Dt||$e)&&vn.call(qe)},kt=F=>{vn.call(qe,F)};let Cn=S(qe);const oe=()=>{Cn=!0;const F=re(qe)||k(qe);if(F&&typeof F!="boolean")return vn.call(qe,F);if(Ue&&!Oe&&x(qe,!0)&&!L(qe,!1))return vn.call(qe,new h);if(Dt&&!$e&&!V(qe,!1))return vn.call(qe,new h);vn.call(qe)},ae=()=>{Cn=!0;const F=re(qe)||k(qe);if(F&&typeof F!="boolean")return vn.call(qe,F);vn.call(qe)},Y=()=>{qe.req.on("finish",Ne)};de(qe)?(qe.on("complete",Ne),ue||qe.on("abort",oe),qe.req?Y():qe.on("request",Y)):Dt&&!jt&&(qe.on("end",pe),qe.on("close",pe)),!ue&&typeof qe.aborted=="boolean"&&qe.on("aborted",oe),qe.on("end",Lt),qe.on("finish",Ne),In.error!==!1&&qe.on("error",kt),qe.on("close",oe),Cn?u.nextTick(oe):jt!=null&&jt.errorEmitted||Et!=null&&Et.errorEmitted?ue||u.nextTick(ae):(!Ue&&(!ue||T(qe))&&($e||ie(qe)===!1)||!Dt&&(!ue||ie(qe))&&(Oe||T(qe)===!1)||Et&&qe.req&&qe.aborted)&&u.nextTick(ae);const O=()=>{vn=Fe,qe.removeListener("aborted",oe),qe.removeListener("complete",Ne),qe.removeListener("abort",oe),qe.removeListener("request",Y),qe.req&&qe.req.removeListener("finish",Ne),qe.removeListener("end",pe),qe.removeListener("close",pe),qe.removeListener("finish",Ne),qe.removeListener("end",Lt),qe.removeListener("error",kt),qe.removeListener("close",oe)};if(In.signal&&!Cn){const F=()=>{const j=vn;O(),j.call(qe,new c(void 0,{cause:In.signal.reason}))};if(In.signal.aborted)u.nextTick(F);else{const j=vn;vn=g((...xe)=>{In.signal.removeEventListener("abort",F),j.apply(qe,xe)}),In.signal.addEventListener("abort",F)}}return O}function At(qe,In,vn){let Pt=!1,he=Fe;if(In.signal)if(he=()=>{Pt=!0,vn.call(qe,new c(void 0,{cause:In.signal.reason}))},In.signal.aborted)u.nextTick(he);else{const Dt=vn;vn=g((...jt)=>{In.signal.removeEventListener("abort",he),Dt.apply(qe,jt)}),In.signal.addEventListener("abort",he)}const Ue=(...Dt)=>{Pt||u.nextTick(()=>vn.apply(qe,Dt))};return w(qe[le].promise,Ue,Ue),Fe}function _e(qe,In){var vn;let Pt=!1;return In===null&&(In=y),(vn=In)!==null&&vn!==void 0&&vn.cleanup&&(b(In.cleanup,"cleanup"),Pt=In.cleanup),new A((he,Ue)=>{const Dt=Ie(qe,In,jt=>{Pt&&Dt(),jt?Ue(jt):he()})})}o.exports=Ie,o.exports.finished=_e},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"../validators":124,"./utils":122,"process/":102}],114:[function(n,o,a){const u=n("process/"),{PromisePrototypeThen:c,SymbolAsyncIterator:d,SymbolIterator:f}=n("../../ours/primordials"),{Buffer:h}=n("buffer"),{ERR_INVALID_ARG_TYPE:y,ERR_STREAM_NULL_VALUES:g}=n("../../ours/errors").codes;function p(v,_,b){let A;if(typeof _=="string"||_ instanceof h)return new v({objectMode:!0,...b,read(){this.push(_),this.push(null)}});let w;if(_&&_[d])w=!0,A=_[d]();else if(_&&_[f])w=!1,A=_[f]();else throw new y("iterable",["Iterable"],_);const S=new v({objectMode:!0,highWaterMark:1,...b});let T=!1;S._read=function(){T||(T=!0,M())},S._destroy=function(L,k){c(x(L),()=>u.nextTick(k,L),ie=>u.nextTick(k,ie||L))};async function x(L){const k=L!=null,ie=typeof A.throw=="function";if(k&&ie){const{value:$,done:z}=await A.throw(L);if(await $,z)return}if(typeof A.return=="function"){const{value:$}=await A.return();await $}}async function M(){for(;;){try{const{value:L,done:k}=w?await A.next():A.next();if(k)S.push(null);else{const ie=L&&typeof L.then=="function"?await L:L;if(ie===null)throw T=!1,new g;if(S.push(ie))continue;T=!1}}catch(L){S.destroy(L)}break}}return S}o.exports=p},{"../../ours/errors":126,"../../ours/primordials":127,buffer:29,"process/":102}],115:[function(n,o,a){const{ArrayIsArray:u,ObjectSetPrototypeOf:c}=n("../../ours/primordials"),{EventEmitter:d}=n("events");function f(y){d.call(this,y)}c(f.prototype,d.prototype),c(f,d),f.prototype.pipe=function(y,g){const p=this;function v(x){y.writable&&y.write(x)===!1&&p.pause&&p.pause()}p.on("data",v);function _(){p.readable&&p.resume&&p.resume()}y.on("drain",_),!y._isStdio&&(!g||g.end!==!1)&&(p.on("end",A),p.on("close",w));let b=!1;function A(){b||(b=!0,y.end())}function w(){b||(b=!0,typeof y.destroy=="function"&&y.destroy())}function S(x){T(),d.listenerCount(this,"error")===0&&this.emit("error",x)}h(p,"error",S),h(y,"error",S);function T(){p.removeListener("data",v),y.removeListener("drain",_),p.removeListener("end",A),p.removeListener("close",w),p.removeListener("error",S),y.removeListener("error",S),p.removeListener("end",T),p.removeListener("close",T),y.removeListener("close",T)}return p.on("end",T),p.on("close",T),y.on("close",T),y.emit("pipe",p),y};function h(y,g,p){if(typeof y.prependListener=="function")return y.prependListener(g,p);!y._events||!y._events[g]?y.on(g,p):u(y._events[g])?y._events[g].unshift(p):y._events[g]=[p,y._events[g]]}o.exports={Stream:f,prependListener:h}},{"../../ours/primordials":127,events:49}],116:[function(n,o,a){const u=globalThis.AbortController||n("abort-controller").AbortController,{codes:{ERR_INVALID_ARG_VALUE:c,ERR_INVALID_ARG_TYPE:d,ERR_MISSING_ARGS:f,ERR_OUT_OF_RANGE:h},AbortError:y}=n("../../ours/errors"),{validateAbortSignal:g,validateInteger:p,validateObject:v}=n("../validators"),_=n("../../ours/primordials").Symbol("kWeak"),{finished:b}=n("./end-of-stream"),A=n("./compose"),{addAbortSignalNoValidate:w}=n("./add-abort-signal"),{isWritable:S,isNodeStream:T}=n("./utils"),{ArrayPrototypePush:x,MathFloor:M,Number:L,NumberIsNaN:k,Promise:ie,PromiseReject:$,PromisePrototypeThen:z,Symbol:V}=n("../../ours/primordials"),re=V("kEmpty"),D=V("kEof");function Ce(Et,pe){if(pe!=null&&v(pe,"options"),(pe==null?void 0:pe.signal)!=null&&g(pe.signal,"options.signal"),T(Et)&&!S(Et))throw new c("stream",Et,"must be writable");const ue=A(this,Et);return pe!=null&&pe.signal&&w(pe.signal,ue),ue}function le(Et,pe){if(typeof Et!="function")throw new d("fn",["Function","AsyncFunction"],Et);pe!=null&&v(pe,"options"),(pe==null?void 0:pe.signal)!=null&&g(pe.signal,"options.signal");let ue=1;return(pe==null?void 0:pe.concurrency)!=null&&(ue=M(pe.concurrency)),p(ue,"concurrency",1),(async function*(){var Ne,Oe;const Lt=new u,kt=this,Cn=[],oe=Lt.signal,ae={signal:oe},Y=()=>Lt.abort();pe!=null&&(Ne=pe.signal)!==null&&Ne!==void 0&&Ne.aborted&&Y(),pe==null||(Oe=pe.signal)===null||Oe===void 0||Oe.addEventListener("abort",Y);let O,F,j=!1;function xe(){j=!0}async function hn(){try{for await(let xn of kt){var _n;if(j)return;if(oe.aborted)throw new y;try{xn=Et(xn,ae)}catch(Ln){xn=$(Ln)}xn!==re&&(typeof((_n=xn)===null||_n===void 0?void 0:_n.catch)=="function"&&xn.catch(xe),Cn.push(xn),O&&(O(),O=null),!j&&Cn.length&&Cn.length>=ue&&await new ie(Ln=>{F=Ln}))}Cn.push(D)}catch(xn){const Ln=$(xn);z(Ln,void 0,xe),Cn.push(Ln)}finally{var Sn;j=!0,O&&(O(),O=null),pe==null||(Sn=pe.signal)===null||Sn===void 0||Sn.removeEventListener("abort",Y)}}hn();try{for(;;){for(;Cn.length>0;){const _n=await Cn[0];if(_n===D)return;if(oe.aborted)throw new y;_n!==re&&(yield _n),Cn.shift(),F&&(F(),F=null)}await new ie(_n=>{O=_n})}}finally{Lt.abort(),j=!0,F&&(F(),F=null)}}).call(this)}function de(Et=void 0){return Et!=null&&v(Et,"options"),(Et==null?void 0:Et.signal)!=null&&g(Et.signal,"options.signal"),(async function*(){let ue=0;for await(const Ne of this){var $e;if(Et!=null&&($e=Et.signal)!==null&&$e!==void 0&&$e.aborted)throw new y({cause:Et.signal.reason});yield[ue++,Ne]}}).call(this)}async function Fe(Et,pe=void 0){for await(const ue of qe.call(this,Et,pe))return!0;return!1}async function Ie(Et,pe=void 0){if(typeof Et!="function")throw new d("fn",["Function","AsyncFunction"],Et);return!await Fe.call(this,async(...ue)=>!await Et(...ue),pe)}async function At(Et,pe){for await(const ue of qe.call(this,Et,pe))return ue}async function _e(Et,pe){if(typeof Et!="function")throw new d("fn",["Function","AsyncFunction"],Et);async function ue($e,Ne){return await Et($e,Ne),re}for await(const $e of le.call(this,ue,pe));}function qe(Et,pe){if(typeof Et!="function")throw new d("fn",["Function","AsyncFunction"],Et);async function ue($e,Ne){return await Et($e,Ne)?$e:re}return le.call(this,ue,pe)}class In extends f{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function vn(Et,pe,ue){var $e;if(typeof Et!="function")throw new d("reducer",["Function","AsyncFunction"],Et);ue!=null&&v(ue,"options"),(ue==null?void 0:ue.signal)!=null&&g(ue.signal,"options.signal");let Ne=arguments.length>1;if(ue!=null&&($e=ue.signal)!==null&&$e!==void 0&&$e.aborted){const oe=new y(void 0,{cause:ue.signal.reason});throw this.once("error",()=>{}),await b(this.destroy(oe)),oe}const Oe=new u,Lt=Oe.signal;if(ue!=null&&ue.signal){const oe={once:!0,[_]:this};ue.signal.addEventListener("abort",()=>Oe.abort(),oe)}let kt=!1;try{for await(const oe of this){var Cn;if(kt=!0,ue!=null&&(Cn=ue.signal)!==null&&Cn!==void 0&&Cn.aborted)throw new y;Ne?pe=await Et(pe,oe,{signal:Lt}):(pe=oe,Ne=!0)}if(!kt&&!Ne)throw new In}finally{Oe.abort()}return pe}async function Pt(Et){Et!=null&&v(Et,"options"),(Et==null?void 0:Et.signal)!=null&&g(Et.signal,"options.signal");const pe=[];for await(const $e of this){var ue;if(Et!=null&&(ue=Et.signal)!==null&&ue!==void 0&&ue.aborted)throw new y(void 0,{cause:Et.signal.reason});x(pe,$e)}return pe}function he(Et,pe){const ue=le.call(this,Et,pe);return(async function*(){for await(const Ne of ue)yield*Ne}).call(this)}function Ue(Et){if(Et=L(Et),k(Et))return 0;if(Et<0)throw new h("number",">= 0",Et);return Et}function Dt(Et,pe=void 0){return pe!=null&&v(pe,"options"),(pe==null?void 0:pe.signal)!=null&&g(pe.signal,"options.signal"),Et=Ue(Et),(async function*(){var $e;if(pe!=null&&($e=pe.signal)!==null&&$e!==void 0&&$e.aborted)throw new y;for await(const Oe of this){var Ne;if(pe!=null&&(Ne=pe.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new y;Et--<=0&&(yield Oe)}}).call(this)}function jt(Et,pe=void 0){return pe!=null&&v(pe,"options"),(pe==null?void 0:pe.signal)!=null&&g(pe.signal,"options.signal"),Et=Ue(Et),(async function*(){var $e;if(pe!=null&&($e=pe.signal)!==null&&$e!==void 0&&$e.aborted)throw new y;for await(const Oe of this){var Ne;if(pe!=null&&(Ne=pe.signal)!==null&&Ne!==void 0&&Ne.aborted)throw new y;if(Et-- >0)yield Oe;else return}}).call(this)}o.exports.streamReturningOperators={asIndexedPairs:de,drop:Dt,filter:qe,flatMap:he,map:le,take:jt,compose:Ce},o.exports.promiseReturningOperators={every:Ie,forEach:_e,reduce:vn,toArray:Pt,some:Fe,find:At}},{"../../ours/errors":126,"../../ours/primordials":127,"../validators":124,"./add-abort-signal":107,"./compose":109,"./end-of-stream":113,"./utils":122,"abort-controller":24}],117:[function(n,o,a){const{ObjectSetPrototypeOf:u}=n("../../ours/primordials");o.exports=d;const c=n("./transform");u(d.prototype,c.prototype),u(d,c);function d(f){if(!(this instanceof d))return new d(f);c.call(this,f)}d.prototype._transform=function(f,h,y){y(null,f)}},{"../../ours/primordials":127,"./transform":121}],118:[function(n,o,a){const u=n("process/"),{ArrayIsArray:c,Promise:d,SymbolAsyncIterator:f}=n("../../ours/primordials"),h=n("./end-of-stream"),{once:y}=n("../../ours/util"),g=n("./destroy"),p=n("./duplex"),{aggregateTwoErrors:v,codes:{ERR_INVALID_ARG_TYPE:_,ERR_INVALID_RETURN_VALUE:b,ERR_MISSING_ARGS:A,ERR_STREAM_DESTROYED:w,ERR_STREAM_PREMATURE_CLOSE:S},AbortError:T}=n("../../ours/errors"),{validateFunction:x,validateAbortSignal:M}=n("../validators"),{isIterable:L,isReadable:k,isReadableNodeStream:ie,isNodeStream:$,isTransformStream:z,isWebStream:V,isReadableStream:re,isReadableEnded:D}=n("./utils"),Ce=globalThis.AbortController||n("abort-controller").AbortController;let le,de;function Fe(Ue,Dt,jt){let Et=!1;Ue.on("close",()=>{Et=!0});const pe=h(Ue,{readable:Dt,writable:jt},ue=>{Et=!ue});return{destroy:ue=>{Et||(Et=!0,g.destroyer(Ue,ue||new w("pipe")))},cleanup:pe}}function Ie(Ue){return x(Ue[Ue.length-1],"streams[stream.length - 1]"),Ue.pop()}function At(Ue){if(L(Ue))return Ue;if(ie(Ue))return _e(Ue);throw new _("val",["Readable","Iterable","AsyncIterable"],Ue)}async function*_e(Ue){de||(de=n("./readable")),yield*de.prototype[f].call(Ue)}async function qe(Ue,Dt,jt,{end:Et}){let pe,ue=null;const $e=Lt=>{if(Lt&&(pe=Lt),ue){const kt=ue;ue=null,kt()}},Ne=()=>new d((Lt,kt)=>{pe?kt(pe):ue=()=>{pe?kt(pe):Lt()}});Dt.on("drain",$e);const Oe=h(Dt,{readable:!1},$e);try{Dt.writableNeedDrain&&await Ne();for await(const Lt of Ue)Dt.write(Lt)||await Ne();Et&&Dt.end(),await Ne(),jt()}catch(Lt){jt(pe!==Lt?v(pe,Lt):Lt)}finally{Oe(),Dt.off("drain",$e)}}async function In(Ue,Dt,jt,{end:Et}){z(Dt)&&(Dt=Dt.writable);const pe=Dt.getWriter();try{for await(const ue of Ue)await pe.ready,pe.write(ue).catch(()=>{});await pe.ready,Et&&await pe.close(),jt()}catch(ue){try{await pe.abort(ue),jt(ue)}catch($e){jt($e)}}}function vn(...Ue){return Pt(Ue,y(Ie(Ue)))}function Pt(Ue,Dt,jt){if(Ue.length===1&&c(Ue[0])&&(Ue=Ue[0]),Ue.length<2)throw new A("streams");const Et=new Ce,pe=Et.signal,ue=jt==null?void 0:jt.signal,$e=[];M(ue,"options.signal");function Ne(){ae(new T)}ue==null||ue.addEventListener("abort",Ne);let Oe,Lt;const kt=[];let Cn=0;function oe(j){ae(j,--Cn===0)}function ae(j,xe){if(j&&(!Oe||Oe.code==="ERR_STREAM_PREMATURE_CLOSE")&&(Oe=j),!(!Oe&&!xe)){for(;kt.length;)kt.shift()(Oe);ue==null||ue.removeEventListener("abort",Ne),Et.abort(),xe&&(Oe||$e.forEach(hn=>hn()),u.nextTick(Dt,Oe,Lt))}}let Y;for(let j=0;j<Ue.length;j++){const xe=Ue[j],hn=j<Ue.length-1,_n=j>0,Sn=hn||(jt==null?void 0:jt.end)!==!1,xn=j===Ue.length-1;if($(xe)){let Ln=function(Ve){Ve&&Ve.name!=="AbortError"&&Ve.code!=="ERR_STREAM_PREMATURE_CLOSE"&&oe(Ve)};if(Sn){const{destroy:Ve,cleanup:ze}=Fe(xe,hn,_n);kt.push(Ve),k(xe)&&xn&&$e.push(ze)}xe.on("error",Ln),k(xe)&&xn&&$e.push(()=>{xe.removeListener("error",Ln)})}if(j===0)if(typeof xe=="function"){if(Y=xe({signal:pe}),!L(Y))throw new b("Iterable, AsyncIterable or Stream","source",Y)}else L(xe)||ie(xe)||z(xe)?Y=xe:Y=p.from(xe);else if(typeof xe=="function"){if(z(Y)){var O;Y=At((O=Y)===null||O===void 0?void 0:O.readable)}else Y=At(Y);if(Y=xe(Y,{signal:pe}),hn){if(!L(Y,!0))throw new b("AsyncIterable",`transform[${j-1}]`,Y)}else{var F;le||(le=n("./passthrough"));const Ln=new le({objectMode:!0}),Ve=(F=Y)===null||F===void 0?void 0:F.then;if(typeof Ve=="function")Cn++,Ve.call(Y,An=>{Lt=An,An!=null&&Ln.write(An),Sn&&Ln.end(),u.nextTick(oe)},An=>{Ln.destroy(An),u.nextTick(oe,An)});else if(L(Y,!0))Cn++,qe(Y,Ln,oe,{end:Sn});else if(re(Y)||z(Y)){const An=Y.readable||Y;Cn++,qe(An,Ln,oe,{end:Sn})}else throw new b("AsyncIterable or Promise","destination",Y);Y=Ln;const{destroy:ze,cleanup:wn}=Fe(Y,!1,!0);kt.push(ze),xn&&$e.push(wn)}}else if($(xe)){if(ie(Y)){Cn+=2;const Ln=he(Y,xe,oe,{end:Sn});k(xe)&&xn&&$e.push(Ln)}else if(z(Y)||re(Y)){const Ln=Y.readable||Y;Cn++,qe(Ln,xe,oe,{end:Sn})}else if(L(Y))Cn++,qe(Y,xe,oe,{end:Sn});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Y);Y=xe}else if(V(xe)){if(ie(Y))Cn++,In(At(Y),xe,oe,{end:Sn});else if(re(Y)||L(Y))Cn++,In(Y,xe,oe,{end:Sn});else if(z(Y))Cn++,In(Y.readable,xe,oe,{end:Sn});else throw new _("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Y);Y=xe}else Y=p.from(xe)}return(pe!=null&&pe.aborted||ue!=null&&ue.aborted)&&u.nextTick(Ne),Y}function he(Ue,Dt,jt,{end:Et}){let pe=!1;if(Dt.on("close",()=>{pe||jt(new S)}),Ue.pipe(Dt,{end:!1}),Et){let ue=function(){pe=!0,Dt.end()};D(Ue)?u.nextTick(ue):Ue.once("end",ue)}else jt();return h(Ue,{readable:!0,writable:!1},ue=>{const $e=Ue._readableState;ue&&ue.code==="ERR_STREAM_PREMATURE_CLOSE"&&$e&&$e.ended&&!$e.errored&&!$e.errorEmitted?Ue.once("end",jt).once("error",jt):jt(ue)}),h(Dt,{readable:!1,writable:!0},jt)}o.exports={pipelineImpl:Pt,pipeline:vn}},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"../validators":124,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./passthrough":117,"./readable":119,"./utils":122,"abort-controller":24,"process/":102}],119:[function(n,o,a){const u=n("process/"),{ArrayPrototypeIndexOf:c,NumberIsInteger:d,NumberIsNaN:f,NumberParseInt:h,ObjectDefineProperties:y,ObjectKeys:g,ObjectSetPrototypeOf:p,Promise:v,SafeSet:_,SymbolAsyncIterator:b,Symbol:A}=n("../../ours/primordials");o.exports=he,he.ReadableState=Pt;const{EventEmitter:w}=n("events"),{Stream:S,prependListener:T}=n("./legacy"),{Buffer:x}=n("buffer"),{addAbortSignal:M}=n("./add-abort-signal"),L=n("./end-of-stream");let k=n("../../ours/util").debuglog("stream",Ve=>{k=Ve});const ie=n("./buffer_list"),$=n("./destroy"),{getHighWaterMark:z,getDefaultHighWaterMark:V}=n("./state"),{aggregateTwoErrors:re,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:Ce,ERR_OUT_OF_RANGE:le,ERR_STREAM_PUSH_AFTER_EOF:de,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:Fe}}=n("../../ours/errors"),{validateObject:Ie}=n("../validators"),At=A("kPaused"),{StringDecoder:_e}=n("string_decoder"),qe=n("./from");p(he.prototype,S.prototype),p(he,S);const In=()=>{},{errorOrDestroy:vn}=$;function Pt(Ve,ze,wn){typeof wn!="boolean"&&(wn=ze instanceof n("./duplex")),this.objectMode=!!(Ve&&Ve.objectMode),wn&&(this.objectMode=this.objectMode||!!(Ve&&Ve.readableObjectMode)),this.highWaterMark=Ve?z(this,Ve,"readableHighWaterMark",wn):V(!1),this.buffer=new ie,this.length=0,this.pipes=[],this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.constructed=!0,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this[At]=null,this.errorEmitted=!1,this.emitClose=!Ve||Ve.emitClose!==!1,this.autoDestroy=!Ve||Ve.autoDestroy!==!1,this.destroyed=!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this.defaultEncoding=Ve&&Ve.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.multiAwaitDrain=!1,this.readingMore=!1,this.dataEmitted=!1,this.decoder=null,this.encoding=null,Ve&&Ve.encoding&&(this.decoder=new _e(Ve.encoding),this.encoding=Ve.encoding)}function he(Ve){if(!(this instanceof he))return new he(Ve);const ze=this instanceof n("./duplex");this._readableState=new Pt(Ve,this,ze),Ve&&(typeof Ve.read=="function"&&(this._read=Ve.read),typeof Ve.destroy=="function"&&(this._destroy=Ve.destroy),typeof Ve.construct=="function"&&(this._construct=Ve.construct),Ve.signal&&!ze&&M(Ve.signal,this)),S.call(this,Ve),$.construct(this,()=>{this._readableState.needReadable&&Oe(this,this._readableState)})}he.prototype.destroy=$.destroy,he.prototype._undestroy=$.undestroy,he.prototype._destroy=function(Ve,ze){ze(Ve)},he.prototype[w.captureRejectionSymbol]=function(Ve){this.destroy(Ve)},he.prototype.push=function(Ve,ze){return Ue(this,Ve,ze,!1)},he.prototype.unshift=function(Ve,ze){return Ue(this,Ve,ze,!0)};function Ue(Ve,ze,wn,An){k("readableAddChunk",ze);const Tn=Ve._readableState;let Pn;if(Tn.objectMode||(typeof ze=="string"?(wn=wn||Tn.defaultEncoding,Tn.encoding!==wn&&(An&&Tn.encoding?ze=x.from(ze,wn).toString(Tn.encoding):(ze=x.from(ze,wn),wn=""))):ze instanceof x?wn="":S._isUint8Array(ze)?(ze=S._uint8ArrayToBuffer(ze),wn=""):ze!=null&&(Pn=new D("chunk",["string","Buffer","Uint8Array"],ze))),Pn)vn(Ve,Pn);else if(ze===null)Tn.reading=!1,ue(Ve,Tn);else if(Tn.objectMode||ze&&ze.length>0)if(An)if(Tn.endEmitted)vn(Ve,new Fe);else{if(Tn.destroyed||Tn.errored)return!1;Dt(Ve,Tn,ze,!0)}else if(Tn.ended)vn(Ve,new de);else{if(Tn.destroyed||Tn.errored)return!1;Tn.reading=!1,Tn.decoder&&!wn?(ze=Tn.decoder.write(ze),Tn.objectMode||ze.length!==0?Dt(Ve,Tn,ze,!1):Oe(Ve,Tn)):Dt(Ve,Tn,ze,!1)}else An||(Tn.reading=!1,Oe(Ve,Tn));return!Tn.ended&&(Tn.length<Tn.highWaterMark||Tn.length===0)}function Dt(Ve,ze,wn,An){ze.flowing&&ze.length===0&&!ze.sync&&Ve.listenerCount("data")>0?(ze.multiAwaitDrain?ze.awaitDrainWriters.clear():ze.awaitDrainWriters=null,ze.dataEmitted=!0,Ve.emit("data",wn)):(ze.length+=ze.objectMode?1:wn.length,An?ze.buffer.unshift(wn):ze.buffer.push(wn),ze.needReadable&&$e(Ve)),Oe(Ve,ze)}he.prototype.isPaused=function(){const Ve=this._readableState;return Ve[At]===!0||Ve.flowing===!1},he.prototype.setEncoding=function(Ve){const ze=new _e(Ve);this._readableState.decoder=ze,this._readableState.encoding=this._readableState.decoder.encoding;const wn=this._readableState.buffer;let An="";for(const Tn of wn)An+=ze.write(Tn);return wn.clear(),An!==""&&wn.push(An),this._readableState.length=An.length,this};const jt=1073741824;function Et(Ve){if(Ve>jt)throw new le("size","<= 1GiB",Ve);return Ve--,Ve|=Ve>>>1,Ve|=Ve>>>2,Ve|=Ve>>>4,Ve|=Ve>>>8,Ve|=Ve>>>16,Ve++,Ve}function pe(Ve,ze){return Ve<=0||ze.length===0&&ze.ended?0:ze.objectMode?1:f(Ve)?ze.flowing&&ze.length?ze.buffer.first().length:ze.length:Ve<=ze.length?Ve:ze.ended?ze.length:0}he.prototype.read=function(Ve){k("read",Ve),Ve===void 0?Ve=NaN:d(Ve)||(Ve=h(Ve,10));const ze=this._readableState,wn=Ve;if(Ve>ze.highWaterMark&&(ze.highWaterMark=Et(Ve)),Ve!==0&&(ze.emittedReadable=!1),Ve===0&&ze.needReadable&&((ze.highWaterMark!==0?ze.length>=ze.highWaterMark:ze.length>0)||ze.ended))return k("read: emitReadable",ze.length,ze.ended),ze.length===0&&ze.ended?hn(this):$e(this),null;if(Ve=pe(Ve,ze),Ve===0&&ze.ended)return ze.length===0&&hn(this),null;let An=ze.needReadable;if(k("need readable",An),(ze.length===0||ze.length-Ve<ze.highWaterMark)&&(An=!0,k("length less than watermark",An)),ze.ended||ze.reading||ze.destroyed||ze.errored||!ze.constructed)An=!1,k("reading, ended or constructing",An);else if(An){k("do read"),ze.reading=!0,ze.sync=!0,ze.length===0&&(ze.needReadable=!0);try{this._read(ze.highWaterMark)}catch(Pn){vn(this,Pn)}ze.sync=!1,ze.reading||(Ve=pe(wn,ze))}let Tn;return Ve>0?Tn=xe(Ve,ze):Tn=null,Tn===null?(ze.needReadable=ze.length<=ze.highWaterMark,Ve=0):(ze.length-=Ve,ze.multiAwaitDrain?ze.awaitDrainWriters.clear():ze.awaitDrainWriters=null),ze.length===0&&(ze.ended||(ze.needReadable=!0),wn!==Ve&&ze.ended&&hn(this)),Tn!==null&&!ze.errorEmitted&&!ze.closeEmitted&&(ze.dataEmitted=!0,this.emit("data",Tn)),Tn};function ue(Ve,ze){if(k("onEofChunk"),!ze.ended){if(ze.decoder){const wn=ze.decoder.end();wn&&wn.length&&(ze.buffer.push(wn),ze.length+=ze.objectMode?1:wn.length)}ze.ended=!0,ze.sync?$e(Ve):(ze.needReadable=!1,ze.emittedReadable=!0,Ne(Ve))}}function $e(Ve){const ze=Ve._readableState;k("emitReadable",ze.needReadable,ze.emittedReadable),ze.needReadable=!1,ze.emittedReadable||(k("emitReadable",ze.flowing),ze.emittedReadable=!0,u.nextTick(Ne,Ve))}function Ne(Ve){const ze=Ve._readableState;k("emitReadable_",ze.destroyed,ze.length,ze.ended),!ze.destroyed&&!ze.errored&&(ze.length||ze.ended)&&(Ve.emit("readable"),ze.emittedReadable=!1),ze.needReadable=!ze.flowing&&!ze.ended&&ze.length<=ze.highWaterMark,O(Ve)}function Oe(Ve,ze){!ze.readingMore&&ze.constructed&&(ze.readingMore=!0,u.nextTick(Lt,Ve,ze))}function Lt(Ve,ze){for(;!ze.reading&&!ze.ended&&(ze.length<ze.highWaterMark||ze.flowing&&ze.length===0);){const wn=ze.length;if(k("maybeReadMore read 0"),Ve.read(0),wn===ze.length)break}ze.readingMore=!1}he.prototype._read=function(Ve){throw new Ce("_read()")},he.prototype.pipe=function(Ve,ze){const wn=this,An=this._readableState;An.pipes.length===1&&(An.multiAwaitDrain||(An.multiAwaitDrain=!0,An.awaitDrainWriters=new _(An.awaitDrainWriters?[An.awaitDrainWriters]:[]))),An.pipes.push(Ve),k("pipe count=%d opts=%j",An.pipes.length,ze);const Pn=(!ze||ze.end!==!1)&&Ve!==u.stdout&&Ve!==u.stderr?Gn:Wn;An.endEmitted?u.nextTick(Pn):wn.once("end",Pn),Ve.on("unpipe",Nn);function Nn(On,Mn){k("onunpipe"),On===wn&&Mn&&Mn.hasUnpiped===!1&&(Mn.hasUnpiped=!0,Jn())}function Gn(){k("onend"),Ve.end()}let Vn,Kn=!1;function Jn(){k("cleanup"),Ve.removeListener("close",Yn),Ve.removeListener("finish",$n),Vn&&Ve.removeListener("drain",Vn),Ve.removeListener("error",zn),Ve.removeListener("unpipe",Nn),wn.removeListener("end",Gn),wn.removeListener("end",Wn),wn.removeListener("data",Fn),Kn=!0,Vn&&An.awaitDrainWriters&&(!Ve._writableState||Ve._writableState.needDrain)&&Vn()}function Xn(){Kn||(An.pipes.length===1&&An.pipes[0]===Ve?(k("false write response, pause",0),An.awaitDrainWriters=Ve,An.multiAwaitDrain=!1):An.pipes.length>1&&An.pipes.includes(Ve)&&(k("false write response, pause",An.awaitDrainWriters.size),An.awaitDrainWriters.add(Ve)),wn.pause()),Vn||(Vn=kt(wn,Ve),Ve.on("drain",Vn))}wn.on("data",Fn);function Fn(On){k("ondata");const Mn=Ve.write(On);k("dest.write",Mn),Mn===!1&&Xn()}function zn(On){if(k("onerror",On),Wn(),Ve.removeListener("error",zn),Ve.listenerCount("error")===0){const Mn=Ve._writableState||Ve._readableState;Mn&&!Mn.errorEmitted?vn(Ve,On):Ve.emit("error",On)}}T(Ve,"error",zn);function Yn(){Ve.removeListener("finish",$n),Wn()}Ve.once("close",Yn);function $n(){k("onfinish"),Ve.removeListener("close",Yn),Wn()}Ve.once("finish",$n);function Wn(){k("unpipe"),wn.unpipe(Ve)}return Ve.emit("pipe",wn),Ve.writableNeedDrain===!0?An.flowing&&Xn():An.flowing||(k("pipe resume"),wn.resume()),Ve};function kt(Ve,ze){return function(){const An=Ve._readableState;An.awaitDrainWriters===ze?(k("pipeOnDrain",1),An.awaitDrainWriters=null):An.multiAwaitDrain&&(k("pipeOnDrain",An.awaitDrainWriters.size),An.awaitDrainWriters.delete(ze)),(!An.awaitDrainWriters||An.awaitDrainWriters.size===0)&&Ve.listenerCount("data")&&Ve.resume()}}he.prototype.unpipe=function(Ve){const ze=this._readableState,wn={hasUnpiped:!1};if(ze.pipes.length===0)return this;if(!Ve){const Tn=ze.pipes;ze.pipes=[],this.pause();for(let Pn=0;Pn<Tn.length;Pn++)Tn[Pn].emit("unpipe",this,{hasUnpiped:!1});return this}const An=c(ze.pipes,Ve);return An===-1?this:(ze.pipes.splice(An,1),ze.pipes.length===0&&this.pause(),Ve.emit("unpipe",this,wn),this)},he.prototype.on=function(Ve,ze){const wn=S.prototype.on.call(this,Ve,ze),An=this._readableState;return Ve==="data"?(An.readableListening=this.listenerCount("readable")>0,An.flowing!==!1&&this.resume()):Ve==="readable"&&!An.endEmitted&&!An.readableListening&&(An.readableListening=An.needReadable=!0,An.flowing=!1,An.emittedReadable=!1,k("on readable",An.length,An.reading),An.length?$e(this):An.reading||u.nextTick(oe,this)),wn},he.prototype.addListener=he.prototype.on,he.prototype.removeListener=function(Ve,ze){const wn=S.prototype.removeListener.call(this,Ve,ze);return Ve==="readable"&&u.nextTick(Cn,this),wn},he.prototype.off=he.prototype.removeListener,he.prototype.removeAllListeners=function(Ve){const ze=S.prototype.removeAllListeners.apply(this,arguments);return(Ve==="readable"||Ve===void 0)&&u.nextTick(Cn,this),ze};function Cn(Ve){const ze=Ve._readableState;ze.readableListening=Ve.listenerCount("readable")>0,ze.resumeScheduled&&ze[At]===!1?ze.flowing=!0:Ve.listenerCount("data")>0?Ve.resume():ze.readableListening||(ze.flowing=null)}function oe(Ve){k("readable nexttick read 0"),Ve.read(0)}he.prototype.resume=function(){const Ve=this._readableState;return Ve.flowing||(k("resume"),Ve.flowing=!Ve.readableListening,ae(this,Ve)),Ve[At]=!1,this};function ae(Ve,ze){ze.resumeScheduled||(ze.resumeScheduled=!0,u.nextTick(Y,Ve,ze))}function Y(Ve,ze){k("resume",ze.reading),ze.reading||Ve.read(0),ze.resumeScheduled=!1,Ve.emit("resume"),O(Ve),ze.flowing&&!ze.reading&&Ve.read(0)}he.prototype.pause=function(){return k("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(k("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[At]=!0,this};function O(Ve){const ze=Ve._readableState;for(k("flow",ze.flowing);ze.flowing&&Ve.read()!==null;);}he.prototype.wrap=function(Ve){let ze=!1;Ve.on("data",An=>{!this.push(An)&&Ve.pause&&(ze=!0,Ve.pause())}),Ve.on("end",()=>{this.push(null)}),Ve.on("error",An=>{vn(this,An)}),Ve.on("close",()=>{this.destroy()}),Ve.on("destroy",()=>{this.destroy()}),this._read=()=>{ze&&Ve.resume&&(ze=!1,Ve.resume())};const wn=g(Ve);for(let An=1;An<wn.length;An++){const Tn=wn[An];this[Tn]===void 0&&typeof Ve[Tn]=="function"&&(this[Tn]=Ve[Tn].bind(Ve))}return this},he.prototype[b]=function(){return F(this)},he.prototype.iterator=function(Ve){return Ve!==void 0&&Ie(Ve,"options"),F(this,Ve)};function F(Ve,ze){typeof Ve.read!="function"&&(Ve=he.wrap(Ve,{objectMode:!0}));const wn=j(Ve,ze);return wn.stream=Ve,wn}async function*j(Ve,ze){let wn=In;function An(Nn){this===Ve?(wn(),wn=In):wn=Nn}Ve.on("readable",An);let Tn;const Pn=L(Ve,{writable:!1},Nn=>{Tn=Nn?re(Tn,Nn):null,wn(),wn=In});try{for(;;){const Nn=Ve.destroyed?null:Ve.read();if(Nn!==null)yield Nn;else{if(Tn)throw Tn;if(Tn===null)return;await new v(An)}}}catch(Nn){throw Tn=re(Tn,Nn),Tn}finally{(Tn||(ze==null?void 0:ze.destroyOnReturn)!==!1)&&(Tn===void 0||Ve._readableState.autoDestroy)?$.destroyer(Ve,null):(Ve.off("readable",An),Pn())}}y(he.prototype,{readable:{__proto__:null,get(){const Ve=this._readableState;return!!Ve&&Ve.readable!==!1&&!Ve.destroyed&&!Ve.errorEmitted&&!Ve.endEmitted},set(Ve){this._readableState&&(this._readableState.readable=!!Ve)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Ve){this._readableState&&(this._readableState.flowing=Ve)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Ve){this._readableState&&(this._readableState.destroyed=Ve)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),y(Pt.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[At]!==!1},set(Ve){this[At]=!!Ve}}}),he._fromList=xe;function xe(Ve,ze){if(ze.length===0)return null;let wn;return ze.objectMode?wn=ze.buffer.shift():!Ve||Ve>=ze.length?(ze.decoder?wn=ze.buffer.join(""):ze.buffer.length===1?wn=ze.buffer.first():wn=ze.buffer.concat(ze.length),ze.buffer.clear()):wn=ze.buffer.consume(Ve,ze.decoder),wn}function hn(Ve){const ze=Ve._readableState;k("endReadable",ze.endEmitted),ze.endEmitted||(ze.ended=!0,u.nextTick(_n,ze,Ve))}function _n(Ve,ze){if(k("endReadableNT",Ve.endEmitted,Ve.length),!Ve.errored&&!Ve.closeEmitted&&!Ve.endEmitted&&Ve.length===0){if(Ve.endEmitted=!0,ze.emit("end"),ze.writable&&ze.allowHalfOpen===!1)u.nextTick(Sn,ze);else if(Ve.autoDestroy){const wn=ze._writableState;(!wn||wn.autoDestroy&&(wn.finished||wn.writable===!1))&&ze.destroy()}}}function Sn(Ve){Ve.writable&&!Ve.writableEnded&&!Ve.destroyed&&Ve.end()}he.from=function(Ve,ze){return qe(he,Ve,ze)};let xn;function Ln(){return xn===void 0&&(xn={}),xn}he.fromWeb=function(Ve,ze){return Ln().newStreamReadableFromReadableStream(Ve,ze)},he.toWeb=function(Ve,ze){return Ln().newReadableStreamFromStreamReadable(Ve,ze)},he.wrap=function(Ve,ze){var wn,An;return new he({objectMode:(wn=(An=Ve.readableObjectMode)!==null&&An!==void 0?An:Ve.objectMode)!==null&&wn!==void 0?wn:!0,...ze,destroy(Tn,Pn){$.destroyer(Ve,Tn),Pn(Tn)}}).wrap(Ve)}},{"../../ours/errors":126,"../../ours/primordials":127,"../../ours/util":128,"../validators":124,"./add-abort-signal":107,"./buffer_list":108,"./destroy":110,"./duplex":111,"./end-of-stream":113,"./from":114,"./legacy":115,"./state":120,buffer:29,events:49,"process/":102,string_decoder:28}],120:[function(n,o,a){const{MathFloor:u,NumberIsInteger:c}=n("../../ours/primordials"),{ERR_INVALID_ARG_VALUE:d}=n("../../ours/errors").codes;function f(g,p,v){return g.highWaterMark!=null?g.highWaterMark:p?g[v]:null}function h(g){return g?16:16*1024}function y(g,p,v,_){const b=f(p,_,v);if(b!=null){if(!c(b)||b<0){const A=_?`options.${v}`:"options.highWaterMark";throw new d(A,b)}return u(b)}return h(g.objectMode)}o.exports={getHighWaterMark:y,getDefaultHighWaterMark:h}},{"../../ours/errors":126,"../../ours/primordials":127}],121:[function(n,o,a){const{ObjectSetPrototypeOf:u,Symbol:c}=n("../../ours/primordials");o.exports=g;const{ERR_METHOD_NOT_IMPLEMENTED:d}=n("../../ours/errors").codes,f=n("./duplex"),{getHighWaterMark:h}=n("./state");u(g.prototype,f.prototype),u(g,f);const y=c("kCallback");function g(_){if(!(this instanceof g))return new g(_);const b=_?h(this,_,"readableHighWaterMark",!0):null;b===0&&(_={..._,highWaterMark:null,readableHighWaterMark:b,writableHighWaterMark:_.writableHighWaterMark||0}),f.call(this,_),this._readableState.sync=!1,this[y]=null,_&&(typeof _.transform=="function"&&(this._transform=_.transform),typeof _.flush=="function"&&(this._flush=_.flush)),this.on("prefinish",v)}function p(_){typeof this._flush=="function"&&!this.destroyed?this._flush((b,A)=>{if(b){_?_(b):this.destroy(b);return}A!=null&&this.push(A),this.push(null),_&&_()}):(this.push(null),_&&_())}function v(){this._final!==p&&p.call(this)}g.prototype._final=p,g.prototype._transform=function(_,b,A){throw new d("_transform()")},g.prototype._write=function(_,b,A){const w=this._readableState,S=this._writableState,T=w.length;this._transform(_,b,(x,M)=>{if(x){A(x);return}M!=null&&this.push(M),S.ended||T===w.length||w.length<w.highWaterMark?A():this[y]=A})},g.prototype._read=function(){if(this[y]){const _=this[y];this[y]=null,_()}}},{"../../ours/errors":126,"../../ours/primordials":127,"./duplex":111,"./state":120}],122:[function(n,o,a){const{Symbol:u,SymbolAsyncIterator:c,SymbolIterator:d,SymbolFor:f}=n("../../ours/primordials"),h=u("kDestroyed"),y=u("kIsErrored"),g=u("kIsReadable"),p=u("kIsDisturbed"),v=f("nodejs.webstream.isClosedPromise"),_=f("nodejs.webstream.controllerErrorFunction");function b(he,Ue=!1){var Dt;return!!(he&&typeof he.pipe=="function"&&typeof he.on=="function"&&(!Ue||typeof he.pause=="function"&&typeof he.resume=="function")&&(!he._writableState||((Dt=he._readableState)===null||Dt===void 0?void 0:Dt.readable)!==!1)&&(!he._writableState||he._readableState))}function A(he){var Ue;return!!(he&&typeof he.write=="function"&&typeof he.on=="function"&&(!he._readableState||((Ue=he._writableState)===null||Ue===void 0?void 0:Ue.writable)!==!1))}function w(he){return!!(he&&typeof he.pipe=="function"&&he._readableState&&typeof he.on=="function"&&typeof he.write=="function")}function S(he){return he&&(he._readableState||he._writableState||typeof he.write=="function"&&typeof he.on=="function"||typeof he.pipe=="function"&&typeof he.on=="function")}function T(he){return!!(he&&!S(he)&&typeof he.pipeThrough=="function"&&typeof he.getReader=="function"&&typeof he.cancel=="function")}function x(he){return!!(he&&!S(he)&&typeof he.getWriter=="function"&&typeof he.abort=="function")}function M(he){return!!(he&&!S(he)&&typeof he.readable=="object"&&typeof he.writable=="object")}function L(he){return T(he)||x(he)||M(he)}function k(he,Ue){return he==null?!1:Ue===!0?typeof he[c]=="function":Ue===!1?typeof he[d]=="function":typeof he[c]=="function"||typeof he[d]=="function"}function ie(he){if(!S(he))return null;const Ue=he._writableState,Dt=he._readableState,jt=Ue||Dt;return!!(he.destroyed||he[h]||jt!=null&&jt.destroyed)}function $(he){if(!A(he))return null;if(he.writableEnded===!0)return!0;const Ue=he._writableState;return Ue!=null&&Ue.errored?!1:typeof(Ue==null?void 0:Ue.ended)!="boolean"?null:Ue.ended}function z(he,Ue){if(!A(he))return null;if(he.writableFinished===!0)return!0;const Dt=he._writableState;return Dt!=null&&Dt.errored?!1:typeof(Dt==null?void 0:Dt.finished)!="boolean"?null:!!(Dt.finished||Ue===!1&&Dt.ended===!0&&Dt.length===0)}function V(he){if(!b(he))return null;if(he.readableEnded===!0)return!0;const Ue=he._readableState;return!Ue||Ue.errored?!1:typeof(Ue==null?void 0:Ue.ended)!="boolean"?null:Ue.ended}function re(he,Ue){if(!b(he))return null;const Dt=he._readableState;return Dt!=null&&Dt.errored?!1:typeof(Dt==null?void 0:Dt.endEmitted)!="boolean"?null:!!(Dt.endEmitted||Ue===!1&&Dt.ended===!0&&Dt.length===0)}function D(he){return he&&he[g]!=null?he[g]:typeof(he==null?void 0:he.readable)!="boolean"?null:ie(he)?!1:b(he)&&he.readable&&!re(he)}function Ce(he){return typeof(he==null?void 0:he.writable)!="boolean"?null:ie(he)?!1:A(he)&&he.writable&&!$(he)}function le(he,Ue){return S(he)?ie(he)?!0:!((Ue==null?void 0:Ue.readable)!==!1&&D(he)||(Ue==null?void 0:Ue.writable)!==!1&&Ce(he)):null}function de(he){var Ue,Dt;return S(he)?he.writableErrored?he.writableErrored:(Ue=(Dt=he._writableState)===null||Dt===void 0?void 0:Dt.errored)!==null&&Ue!==void 0?Ue:null:null}function Fe(he){var Ue,Dt;return S(he)?he.readableErrored?he.readableErrored:(Ue=(Dt=he._readableState)===null||Dt===void 0?void 0:Dt.errored)!==null&&Ue!==void 0?Ue:null:null}function Ie(he){if(!S(he))return null;if(typeof he.closed=="boolean")return he.closed;const Ue=he._writableState,Dt=he._readableState;return typeof(Ue==null?void 0:Ue.closed)=="boolean"||typeof(Dt==null?void 0:Dt.closed)=="boolean"?(Ue==null?void 0:Ue.closed)||(Dt==null?void 0:Dt.closed):typeof he._closed=="boolean"&&At(he)?he._closed:null}function At(he){return typeof he._closed=="boolean"&&typeof he._defaultKeepAlive=="boolean"&&typeof he._removedConnection=="boolean"&&typeof he._removedContLen=="boolean"}function _e(he){return typeof he._sent100=="boolean"&&At(he)}function qe(he){var Ue;return typeof he._consuming=="boolean"&&typeof he._dumped=="boolean"&&((Ue=he.req)===null||Ue===void 0?void 0:Ue.upgradeOrConnect)===void 0}function In(he){if(!S(he))return null;const Ue=he._writableState,Dt=he._readableState,jt=Ue||Dt;return!jt&&_e(he)||!!(jt&&jt.autoDestroy&&jt.emitClose&&jt.closed===!1)}function vn(he){var Ue;return!!(he&&((Ue=he[p])!==null&&Ue!==void 0?Ue:he.readableDidRead||he.readableAborted))}function Pt(he){var Ue,Dt,jt,Et,pe,ue,$e,Ne,Oe,Lt;return!!(he&&((Ue=(Dt=(jt=(Et=(pe=(ue=he[y])!==null&&ue!==void 0?ue:he.readableErrored)!==null&&pe!==void 0?pe:he.writableErrored)!==null&&Et!==void 0?Et:($e=he._readableState)===null||$e===void 0?void 0:$e.errorEmitted)!==null&&jt!==void 0?jt:(Ne=he._writableState)===null||Ne===void 0?void 0:Ne.errorEmitted)!==null&&Dt!==void 0?Dt:(Oe=he._readableState)===null||Oe===void 0?void 0:Oe.errored)!==null&&Ue!==void 0?Ue:!((Lt=he._writableState)===null||Lt===void 0)&&Lt.errored))}o.exports={kDestroyed:h,isDisturbed:vn,kIsDisturbed:p,isErrored:Pt,kIsErrored:y,isReadable:D,kIsReadable:g,kIsClosedPromise:v,kControllerErrorFunction:_,isClosed:Ie,isDestroyed:ie,isDuplexNodeStream:w,isFinished:le,isIterable:k,isReadableNodeStream:b,isReadableStream:T,isReadableEnded:V,isReadableFinished:re,isReadableErrored:Fe,isNodeStream:S,isWebStream:L,isWritable:Ce,isWritableNodeStream:A,isWritableStream:x,isWritableEnded:$,isWritableFinished:z,isWritableErrored:de,isServerRequest:qe,isServerResponse:_e,willEmitClose:In,isTransformStream:M}},{"../../ours/primordials":127}],123:[function(n,o,a){const u=n("process/"),{ArrayPrototypeSlice:c,Error:d,FunctionPrototypeSymbolHasInstance:f,ObjectDefineProperty:h,ObjectDefineProperties:y,ObjectSetPrototypeOf:g,StringPrototypeToLowerCase:p,Symbol:v,SymbolHasInstance:_}=n("../../ours/primordials");o.exports=_e,_e.WritableState=Ie;const{EventEmitter:b}=n("events"),A=n("./legacy").Stream,{Buffer:w}=n("buffer"),S=n("./destroy"),{addAbortSignal:T}=n("./add-abort-signal"),{getHighWaterMark:x,getDefaultHighWaterMark:M}=n("./state"),{ERR_INVALID_ARG_TYPE:L,ERR_METHOD_NOT_IMPLEMENTED:k,ERR_MULTIPLE_CALLBACK:ie,ERR_STREAM_CANNOT_PIPE:$,ERR_STREAM_DESTROYED:z,ERR_STREAM_ALREADY_FINISHED:V,ERR_STREAM_NULL_VALUES:re,ERR_STREAM_WRITE_AFTER_END:D,ERR_UNKNOWN_ENCODING:Ce}=n("../../ours/errors").codes,{errorOrDestroy:le}=S;g(_e.prototype,A.prototype),g(_e,A);function de(){}const Fe=v("kOnFinished");function Ie(oe,ae,Y){typeof Y!="boolean"&&(Y=ae instanceof n("./duplex")),this.objectMode=!!(oe&&oe.objectMode),Y&&(this.objectMode=this.objectMode||!!(oe&&oe.writableObjectMode)),this.highWaterMark=oe?x(this,oe,"writableHighWaterMark",Y):M(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const O=!!(oe&&oe.decodeStrings===!1);this.decodeStrings=!O,this.defaultEncoding=oe&&oe.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=he.bind(void 0,ae),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,At(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!oe||oe.emitClose!==!1,this.autoDestroy=!oe||oe.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[Fe]=[]}function At(oe){oe.buffered=[],oe.bufferedIndex=0,oe.allBuffers=!0,oe.allNoop=!0}Ie.prototype.getBuffer=function(){return c(this.buffered,this.bufferedIndex)},h(Ie.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function _e(oe){const ae=this instanceof n("./duplex");if(!ae&&!f(_e,this))return new _e(oe);this._writableState=new Ie(oe,this,ae),oe&&(typeof oe.write=="function"&&(this._write=oe.write),typeof oe.writev=="function"&&(this._writev=oe.writev),typeof oe.destroy=="function"&&(this._destroy=oe.destroy),typeof oe.final=="function"&&(this._final=oe.final),typeof oe.construct=="function"&&(this._construct=oe.construct),oe.signal&&T(oe.signal,this)),A.call(this,oe),S.construct(this,()=>{const Y=this._writableState;Y.writing||Et(this,Y),Ne(this,Y)})}h(_e,_,{__proto__:null,value:function(oe){return f(this,oe)?!0:this!==_e?!1:oe&&oe._writableState instanceof Ie}}),_e.prototype.pipe=function(){le(this,new $)};function qe(oe,ae,Y,O){const F=oe._writableState;if(typeof Y=="function")O=Y,Y=F.defaultEncoding;else{if(!Y)Y=F.defaultEncoding;else if(Y!=="buffer"&&!w.isEncoding(Y))throw new Ce(Y);typeof O!="function"&&(O=de)}if(ae===null)throw new re;if(!F.objectMode)if(typeof ae=="string")F.decodeStrings!==!1&&(ae=w.from(ae,Y),Y="buffer");else if(ae instanceof w)Y="buffer";else if(A._isUint8Array(ae))ae=A._uint8ArrayToBuffer(ae),Y="buffer";else throw new L("chunk",["string","Buffer","Uint8Array"],ae);let j;return F.ending?j=new D:F.destroyed&&(j=new z("write")),j?(u.nextTick(O,j),le(oe,j,!0),j):(F.pendingcb++,In(oe,F,ae,Y,O))}_e.prototype.write=function(oe,ae,Y){return qe(this,oe,ae,Y)===!0},_e.prototype.cork=function(){this._writableState.corked++},_e.prototype.uncork=function(){const oe=this._writableState;oe.corked&&(oe.corked--,oe.writing||Et(this,oe))},_e.prototype.setDefaultEncoding=function(ae){if(typeof ae=="string"&&(ae=p(ae)),!w.isEncoding(ae))throw new Ce(ae);return this._writableState.defaultEncoding=ae,this};function In(oe,ae,Y,O,F){const j=ae.objectMode?1:Y.length;ae.length+=j;const xe=ae.length<ae.highWaterMark;return xe||(ae.needDrain=!0),ae.writing||ae.corked||ae.errored||!ae.constructed?(ae.buffered.push({chunk:Y,encoding:O,callback:F}),ae.allBuffers&&O!=="buffer"&&(ae.allBuffers=!1),ae.allNoop&&F!==de&&(ae.allNoop=!1)):(ae.writelen=j,ae.writecb=F,ae.writing=!0,ae.sync=!0,oe._write(Y,O,ae.onwrite),ae.sync=!1),xe&&!ae.errored&&!ae.destroyed}function vn(oe,ae,Y,O,F,j,xe){ae.writelen=O,ae.writecb=xe,ae.writing=!0,ae.sync=!0,ae.destroyed?ae.onwrite(new z("write")):Y?oe._writev(F,ae.onwrite):oe._write(F,j,ae.onwrite),ae.sync=!1}function Pt(oe,ae,Y,O){--ae.pendingcb,O(Y),jt(ae),le(oe,Y)}function he(oe,ae){const Y=oe._writableState,O=Y.sync,F=Y.writecb;if(typeof F!="function"){le(oe,new ie);return}Y.writing=!1,Y.writecb=null,Y.length-=Y.writelen,Y.writelen=0,ae?(ae.stack,Y.errored||(Y.errored=ae),oe._readableState&&!oe._readableState.errored&&(oe._readableState.errored=ae),O?u.nextTick(Pt,oe,Y,ae,F):Pt(oe,Y,ae,F)):(Y.buffered.length>Y.bufferedIndex&&Et(oe,Y),O?Y.afterWriteTickInfo!==null&&Y.afterWriteTickInfo.cb===F?Y.afterWriteTickInfo.count++:(Y.afterWriteTickInfo={count:1,cb:F,stream:oe,state:Y},u.nextTick(Ue,Y.afterWriteTickInfo)):Dt(oe,Y,1,F))}function Ue({stream:oe,state:ae,count:Y,cb:O}){return ae.afterWriteTickInfo=null,Dt(oe,ae,Y,O)}function Dt(oe,ae,Y,O){for(!ae.ending&&!oe.destroyed&&ae.length===0&&ae.needDrain&&(ae.needDrain=!1,oe.emit("drain"));Y-- >0;)ae.pendingcb--,O();ae.destroyed&&jt(ae),Ne(oe,ae)}function jt(oe){if(oe.writing)return;for(let F=oe.bufferedIndex;F<oe.buffered.length;++F){var ae;const{chunk:j,callback:xe}=oe.buffered[F],hn=oe.objectMode?1:j.length;oe.length-=hn,xe((ae=oe.errored)!==null&&ae!==void 0?ae:new z("write"))}const Y=oe[Fe].splice(0);for(let F=0;F<Y.length;F++){var O;Y[F]((O=oe.errored)!==null&&O!==void 0?O:new z("end"))}At(oe)}function Et(oe,ae){if(ae.corked||ae.bufferProcessing||ae.destroyed||!ae.constructed)return;const{buffered:Y,bufferedIndex:O,objectMode:F}=ae,j=Y.length-O;if(!j)return;let xe=O;if(ae.bufferProcessing=!0,j>1&&oe._writev){ae.pendingcb-=j-1;const hn=ae.allNoop?de:Sn=>{for(let xn=xe;xn<Y.length;++xn)Y[xn].callback(Sn)},_n=ae.allNoop&&xe===0?Y:c(Y,xe);_n.allBuffers=ae.allBuffers,vn(oe,ae,!0,ae.length,_n,"",hn),At(ae)}else{do{const{chunk:hn,encoding:_n,callback:Sn}=Y[xe];Y[xe++]=null;const xn=F?1:hn.length;vn(oe,ae,!1,xn,hn,_n,Sn)}while(xe<Y.length&&!ae.writing);xe===Y.length?At(ae):xe>256?(Y.splice(0,xe),ae.bufferedIndex=0):ae.bufferedIndex=xe}ae.bufferProcessing=!1}_e.prototype._write=function(oe,ae,Y){if(this._writev)this._writev([{chunk:oe,encoding:ae}],Y);else throw new k("_write()")},_e.prototype._writev=null,_e.prototype.end=function(oe,ae,Y){const O=this._writableState;typeof oe=="function"?(Y=oe,oe=null,ae=null):typeof ae=="function"&&(Y=ae,ae=null);let F;if(oe!=null){const j=qe(this,oe,ae);j instanceof d&&(F=j)}return O.corked&&(O.corked=1,this.uncork()),F||(!O.errored&&!O.ending?(O.ending=!0,Ne(this,O,!0),O.ended=!0):O.finished?F=new V("end"):O.destroyed&&(F=new z("end"))),typeof Y=="function"&&(F||O.finished?u.nextTick(Y,F):O[Fe].push(Y)),this};function pe(oe){return oe.ending&&!oe.destroyed&&oe.constructed&&oe.length===0&&!oe.errored&&oe.buffered.length===0&&!oe.finished&&!oe.writing&&!oe.errorEmitted&&!oe.closeEmitted}function ue(oe,ae){let Y=!1;function O(F){if(Y){le(oe,F??ie());return}if(Y=!0,ae.pendingcb--,F){const j=ae[Fe].splice(0);for(let xe=0;xe<j.length;xe++)j[xe](F);le(oe,F,ae.sync)}else pe(ae)&&(ae.prefinished=!0,oe.emit("prefinish"),ae.pendingcb++,u.nextTick(Oe,oe,ae))}ae.sync=!0,ae.pendingcb++;try{oe._final(O)}catch(F){O(F)}ae.sync=!1}function $e(oe,ae){!ae.prefinished&&!ae.finalCalled&&(typeof oe._final=="function"&&!ae.destroyed?(ae.finalCalled=!0,ue(oe,ae)):(ae.prefinished=!0,oe.emit("prefinish")))}function Ne(oe,ae,Y){pe(ae)&&($e(oe,ae),ae.pendingcb===0&&(Y?(ae.pendingcb++,u.nextTick((O,F)=>{pe(F)?Oe(O,F):F.pendingcb--},oe,ae)):pe(ae)&&(ae.pendingcb++,Oe(oe,ae))))}function Oe(oe,ae){ae.pendingcb--,ae.finished=!0;const Y=ae[Fe].splice(0);for(let O=0;O<Y.length;O++)Y[O]();if(oe.emit("finish"),ae.autoDestroy){const O=oe._readableState;(!O||O.autoDestroy&&(O.endEmitted||O.readable===!1))&&oe.destroy()}}y(_e.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(oe){this._writableState&&(this._writableState.destroyed=oe)}},writable:{__proto__:null,get(){const oe=this._writableState;return!!oe&&oe.writable!==!1&&!oe.destroyed&&!oe.errored&&!oe.ending&&!oe.ended},set(oe){this._writableState&&(this._writableState.writable=!!oe)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const oe=this._writableState;return oe?!oe.destroyed&&!oe.ending&&oe.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Lt=S.destroy;_e.prototype.destroy=function(oe,ae){const Y=this._writableState;return!Y.destroyed&&(Y.bufferedIndex<Y.buffered.length||Y[Fe].length)&&u.nextTick(jt,Y),Lt.call(this,oe,ae),this},_e.prototype._undestroy=S.undestroy,_e.prototype._destroy=function(oe,ae){ae(oe)},_e.prototype[b.captureRejectionSymbol]=function(oe){this.destroy(oe)};let kt;function Cn(){return kt===void 0&&(kt={}),kt}_e.fromWeb=function(oe,ae){return Cn().newStreamWritableFromWritableStream(oe,ae)},_e.toWeb=function(oe){return Cn().newWritableStreamFromStreamWritable(oe)}},{"../../ours/errors":126,"../../ours/primordials":127,"./add-abort-signal":107,"./destroy":110,"./duplex":111,"./legacy":115,"./state":120,buffer:29,events:49,"process/":102}],124:[function(n,o,a){const{ArrayIsArray:u,ArrayPrototypeIncludes:c,ArrayPrototypeJoin:d,ArrayPrototypeMap:f,NumberIsInteger:h,NumberIsNaN:y,NumberMAX_SAFE_INTEGER:g,NumberMIN_SAFE_INTEGER:p,NumberParseInt:v,ObjectPrototypeHasOwnProperty:_,RegExpPrototypeExec:b,String:A,StringPrototypeToUpperCase:w,StringPrototypeTrim:S}=n("../ours/primordials"),{hideStackFrames:T,codes:{ERR_SOCKET_BAD_PORT:x,ERR_INVALID_ARG_TYPE:M,ERR_INVALID_ARG_VALUE:L,ERR_OUT_OF_RANGE:k,ERR_UNKNOWN_SIGNAL:ie}}=n("../ours/errors"),{normalizeEncoding:$}=n("../ours/util"),{isAsyncFunction:z,isArrayBufferView:V}=n("../ours/util").types,re={};function D(j){return j===(j|0)}function Ce(j){return j===j>>>0}const le=/^[0-7]+$/,de="must be a 32-bit unsigned integer or an octal string";function Fe(j,xe,hn){if(typeof j>"u"&&(j=hn),typeof j=="string"){if(b(le,j)===null)throw new L(xe,j,de);j=v(j,8)}return _e(j,xe),j}const Ie=T((j,xe,hn=p,_n=g)=>{if(typeof j!="number")throw new M(xe,"number",j);if(!h(j))throw new k(xe,"an integer",j);if(j<hn||j>_n)throw new k(xe,`>= ${hn} && <= ${_n}`,j)}),At=T((j,xe,hn=-2147483648,_n=2147483647)=>{if(typeof j!="number")throw new M(xe,"number",j);if(!h(j))throw new k(xe,"an integer",j);if(j<hn||j>_n)throw new k(xe,`>= ${hn} && <= ${_n}`,j)}),_e=T((j,xe,hn=!1)=>{if(typeof j!="number")throw new M(xe,"number",j);if(!h(j))throw new k(xe,"an integer",j);const _n=hn?1:0,Sn=4294967295;if(j<_n||j>Sn)throw new k(xe,`>= ${_n} && <= ${Sn}`,j)});function qe(j,xe){if(typeof j!="string")throw new M(xe,"string",j)}function In(j,xe,hn=void 0,_n){if(typeof j!="number")throw new M(xe,"number",j);if(hn!=null&&j<hn||_n!=null&&j>_n||(hn!=null||_n!=null)&&y(j))throw new k(xe,`${hn!=null?`>= ${hn}`:""}${hn!=null&&_n!=null?" && ":""}${_n!=null?`<= ${_n}`:""}`,j)}const vn=T((j,xe,hn)=>{if(!c(hn,j)){const Sn="must be one of: "+d(f(hn,xn=>typeof xn=="string"?`'${xn}'`:A(xn)),", ");throw new L(xe,j,Sn)}});function Pt(j,xe){if(typeof j!="boolean")throw new M(xe,"boolean",j)}function he(j,xe,hn){return j==null||!_(j,xe)?hn:j[xe]}const Ue=T((j,xe,hn=null)=>{const _n=he(hn,"allowArray",!1),Sn=he(hn,"allowFunction",!1);if(!he(hn,"nullable",!1)&&j===null||!_n&&u(j)||typeof j!="object"&&(!Sn||typeof j!="function"))throw new M(xe,"Object",j)}),Dt=T((j,xe)=>{if(j!=null&&typeof j!="object"&&typeof j!="function")throw new M(xe,"a dictionary",j)}),jt=T((j,xe,hn=0)=>{if(!u(j))throw new M(xe,"Array",j);if(j.length<hn){const _n=`must be longer than ${hn}`;throw new L(xe,j,_n)}});function Et(j,xe){jt(j,xe);for(let hn=0;hn<j.length;hn++)qe(j[hn],`${xe}[${hn}]`)}function pe(j,xe){jt(j,xe);for(let hn=0;hn<j.length;hn++)Pt(j[hn],`${xe}[${hn}]`)}function ue(j,xe="signal"){if(qe(j,xe),re[j]===void 0)throw re[w(j)]!==void 0?new ie(j+" (signals must use all capital letters)"):new ie(j)}const $e=T((j,xe="buffer")=>{if(!V(j))throw new M(xe,["Buffer","TypedArray","DataView"],j)});function Ne(j,xe){const hn=$(xe),_n=j.length;if(hn==="hex"&&_n%2!==0)throw new L("encoding",xe,`is invalid for data of length ${_n}`)}function Oe(j,xe="Port",hn=!0){if(typeof j!="number"&&typeof j!="string"||typeof j=="string"&&S(j).length===0||+j!==+j>>>0||j>65535||j===0&&!hn)throw new x(xe,j,hn);return j|0}const Lt=T((j,xe)=>{if(j!==void 0&&(j===null||typeof j!="object"||!("aborted"in j)))throw new M(xe,"AbortSignal",j)}),kt=T((j,xe)=>{if(typeof j!="function")throw new M(xe,"Function",j)}),Cn=T((j,xe)=>{if(typeof j!="function"||z(j))throw new M(xe,"Function",j)}),oe=T((j,xe)=>{if(j!==void 0)throw new M(xe,"undefined",j)});function ae(j,xe,hn){if(!c(hn,j))throw new M(xe,`('${d(hn,"|")}')`,j)}const Y=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function O(j,xe){if(typeof j>"u"||!b(Y,j))throw new L(xe,j,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function F(j){if(typeof j=="string")return O(j,"hints"),j;if(u(j)){const xe=j.length;let hn="";if(xe===0)return hn;for(let _n=0;_n<xe;_n++){const Sn=j[_n];O(Sn,"hints"),hn+=Sn,_n!==xe-1&&(hn+=", ")}return hn}throw new L("hints",j,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}o.exports={isInt32:D,isUint32:Ce,parseFileMode:Fe,validateArray:jt,validateStringArray:Et,validateBooleanArray:pe,validateBoolean:Pt,validateBuffer:$e,validateDictionary:Dt,validateEncoding:Ne,validateFunction:kt,validateInt32:At,validateInteger:Ie,validateNumber:In,validateObject:Ue,validateOneOf:vn,validatePlainFunction:Cn,validatePort:Oe,validateSignalName:ue,validateString:qe,validateUint32:_e,validateUndefined:oe,validateUnion:ae,validateAbortSignal:Lt,validateLinkHeaderValue:F}},{"../ours/errors":126,"../ours/primordials":127,"../ours/util":128}],125:[function(n,o,a){const u=n("../stream"),c=n("../stream/promises"),d=u.Readable.destroy;o.exports=u.Readable,o.exports._uint8ArrayToBuffer=u._uint8ArrayToBuffer,o.exports._isUint8Array=u._isUint8Array,o.exports.isDisturbed=u.isDisturbed,o.exports.isErrored=u.isErrored,o.exports.isReadable=u.isReadable,o.exports.Readable=u.Readable,o.exports.Writable=u.Writable,o.exports.Duplex=u.Duplex,o.exports.Transform=u.Transform,o.exports.PassThrough=u.PassThrough,o.exports.addAbortSignal=u.addAbortSignal,o.exports.finished=u.finished,o.exports.destroy=u.destroy,o.exports.destroy=d,o.exports.pipeline=u.pipeline,o.exports.compose=u.compose,Object.defineProperty(u,"promises",{configurable:!0,enumerable:!0,get(){return c}}),o.exports.Stream=u.Stream,o.exports.default=o.exports},{"../stream":129,"../stream/promises":130}],126:[function(n,o,a){const{format:u,inspect:c,AggregateError:d}=n("./util"),f=globalThis.AggregateError||d,h=Symbol("kIsNodeError"),y=["string","function","number","object","Function","Object","boolean","bigint","symbol"],g=/^([A-Z][a-z0-9]*)+$/,p="__node_internal_",v={};function _(M,L){if(!M)throw new v.ERR_INTERNAL_ASSERTION(L)}function b(M){let L="",k=M.length;const ie=M[0]==="-"?1:0;for(;k>=ie+4;k-=3)L=`_${M.slice(k-3,k)}${L}`;return`${M.slice(0,k)}${L}`}function A(M,L,k){if(typeof L=="function")return _(L.length<=k.length,`Code: ${M}; The provided arguments length (${k.length}) does not match the required ones (${L.length}).`),L(...k);const ie=(L.match(/%[dfijoOs]/g)||[]).length;return _(ie===k.length,`Code: ${M}; The provided arguments length (${k.length}) does not match the required ones (${ie}).`),k.length===0?L:u(L,...k)}function w(M,L,k){k||(k=Error);class ie extends k{constructor(...z){super(A(M,L,z))}toString(){return`${this.name} [${M}]: ${this.message}`}}Object.defineProperties(ie.prototype,{name:{value:k.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return`${this.name} [${M}]: ${this.message}`},writable:!0,enumerable:!1,configurable:!0}}),ie.prototype.code=M,ie.prototype[h]=!0,v[M]=ie}function S(M){const L=p+M.name;return Object.defineProperty(M,"name",{value:L}),M}function T(M,L){if(M&&L&&M!==L){if(Array.isArray(L.errors))return L.errors.push(M),L;const k=new f([L,M],L.message);return k.code=L.code,k}return M||L}class x extends Error{constructor(L="The operation was aborted",k=void 0){if(k!==void 0&&typeof k!="object")throw new v.ERR_INVALID_ARG_TYPE("options","Object",k);super(L,k),this.code="ABORT_ERR",this.name="AbortError"}}w("ERR_ASSERTION","%s",Error),w("ERR_INVALID_ARG_TYPE",(M,L,k)=>{_(typeof M=="string","'name' must be a string"),Array.isArray(L)||(L=[L]);let ie="The ";M.endsWith(" argument")?ie+=`${M} `:ie+=`"${M}" ${M.includes(".")?"property":"argument"} `,ie+="must be ";const $=[],z=[],V=[];for(const D of L)_(typeof D=="string","All expected entries have to be of type string"),y.includes(D)?$.push(D.toLowerCase()):g.test(D)?z.push(D):(_(D!=="object",'The value "object" should be written as "Object"'),V.push(D));if(z.length>0){const D=$.indexOf("object");D!==-1&&($.splice($,D,1),z.push("Object"))}if($.length>0){switch($.length){case 1:ie+=`of type ${$[0]}`;break;case 2:ie+=`one of type ${$[0]} or ${$[1]}`;break;default:{const D=$.pop();ie+=`one of type ${$.join(", ")}, or ${D}`}}(z.length>0||V.length>0)&&(ie+=" or ")}if(z.length>0){switch(z.length){case 1:ie+=`an instance of ${z[0]}`;break;case 2:ie+=`an instance of ${z[0]} or ${z[1]}`;break;default:{const D=z.pop();ie+=`an instance of ${z.join(", ")}, or ${D}`}}V.length>0&&(ie+=" or ")}switch(V.length){case 0:break;case 1:V[0].toLowerCase()!==V[0]&&(ie+="an "),ie+=`${V[0]}`;break;case 2:ie+=`one of ${V[0]} or ${V[1]}`;break;default:{const D=V.pop();ie+=`one of ${V.join(", ")}, or ${D}`}}if(k==null)ie+=`. Received ${k}`;else if(typeof k=="function"&&k.name)ie+=`. Received function ${k.name}`;else if(typeof k=="object"){var re;if((re=k.constructor)!==null&&re!==void 0&&re.name)ie+=`. Received an instance of ${k.constructor.name}`;else{const D=c(k,{depth:-1});ie+=`. Received ${D}`}}else{let D=c(k,{colors:!1});D.length>25&&(D=`${D.slice(0,25)}...`),ie+=`. Received type ${typeof k} (${D})`}return ie},TypeError),w("ERR_INVALID_ARG_VALUE",(M,L,k="is invalid")=>{let ie=c(L);return ie.length>128&&(ie=ie.slice(0,128)+"..."),`The ${M.includes(".")?"property":"argument"} '${M}' ${k}. Received ${ie}`},TypeError),w("ERR_INVALID_RETURN_VALUE",(M,L,k)=>{var ie;const $=k!=null&&(ie=k.constructor)!==null&&ie!==void 0&&ie.name?`instance of ${k.constructor.name}`:`type ${typeof k}`;return`Expected ${M} to be returned from the "${L}" function but got ${$}.`},TypeError),w("ERR_MISSING_ARGS",(...M)=>{_(M.length>0,"At least one arg needs to be specified");let L;const k=M.length;switch(M=(Array.isArray(M)?M:[M]).map(ie=>`"${ie}"`).join(" or "),k){case 1:L+=`The ${M[0]} argument`;break;case 2:L+=`The ${M[0]} and ${M[1]} arguments`;break;default:{const ie=M.pop();L+=`The ${M.join(", ")}, and ${ie} arguments`}break}return`${L} must be specified`},TypeError),w("ERR_OUT_OF_RANGE",(M,L,k)=>{_(L,'Missing "range" argument');let ie;return Number.isInteger(k)&&Math.abs(k)>2**32?ie=b(String(k)):typeof k=="bigint"?(ie=String(k),(k>2n**32n||k<-(2n**32n))&&(ie=b(ie)),ie+="n"):ie=c(k),`The value of "${M}" is out of range. It must be ${L}. Received ${ie}`},RangeError),w("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),w("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),w("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),w("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),w("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),w("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),w("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),w("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),w("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),w("ERR_STREAM_WRITE_AFTER_END","write after end",Error),w("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),o.exports={AbortError:x,aggregateTwoErrors:S(T),hideStackFrames:S,codes:v}},{"./util":128}],127:[function(n,o,a){o.exports={ArrayIsArray(u){return Array.isArray(u)},ArrayPrototypeIncludes(u,c){return u.includes(c)},ArrayPrototypeIndexOf(u,c){return u.indexOf(c)},ArrayPrototypeJoin(u,c){return u.join(c)},ArrayPrototypeMap(u,c){return u.map(c)},ArrayPrototypePop(u,c){return u.pop(c)},ArrayPrototypePush(u,c){return u.push(c)},ArrayPrototypeSlice(u,c,d){return u.slice(c,d)},Error,FunctionPrototypeCall(u,c,...d){return u.call(c,...d)},FunctionPrototypeSymbolHasInstance(u,c){return Function.prototype[Symbol.hasInstance].call(u,c)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(u,c){return Object.defineProperties(u,c)},ObjectDefineProperty(u,c,d){return Object.defineProperty(u,c,d)},ObjectGetOwnPropertyDescriptor(u,c){return Object.getOwnPropertyDescriptor(u,c)},ObjectKeys(u){return Object.keys(u)},ObjectSetPrototypeOf(u,c){return Object.setPrototypeOf(u,c)},Promise,PromisePrototypeCatch(u,c){return u.catch(c)},PromisePrototypeThen(u,c,d){return u.then(c,d)},PromiseReject(u){return Promise.reject(u)},ReflectApply:Reflect.apply,RegExpPrototypeTest(u,c){return u.test(c)},SafeSet:Set,String,StringPrototypeSlice(u,c,d){return u.slice(c,d)},StringPrototypeToLowerCase(u){return u.toLowerCase()},StringPrototypeToUpperCase(u){return u.toUpperCase()},StringPrototypeTrim(u){return u.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,TypedArrayPrototypeSet(u,c,d){return u.set(c,d)},Uint8Array}},{}],128:[function(n,o,a){const u=n("buffer"),c=Object.getPrototypeOf(async function(){}).constructor,d=globalThis.Blob||u.Blob,f=typeof d<"u"?function(g){return g instanceof d}:function(g){return!1};class h extends Error{constructor(g){if(!Array.isArray(g))throw new TypeError(`Expected input to be an Array, got ${typeof g}`);let p="";for(let v=0;v<g.length;v++)p+=`    ${g[v].stack}
`;super(p),this.name="AggregateError",this.errors=g}}o.exports={AggregateError:h,kEmptyObject:Object.freeze({}),once(y){let g=!1;return function(...p){g||(g=!0,y.apply(this,p))}},createDeferredPromise:function(){let y,g;return{promise:new Promise((v,_)=>{y=v,g=_}),resolve:y,reject:g}},promisify(y){return new Promise((g,p)=>{y((v,..._)=>v?p(v):g(..._))})},debuglog(){return function(){}},format(y,...g){return y.replace(/%([sdifj])/g,function(...[p,v]){const _=g.shift();return v==="f"?_.toFixed(6):v==="j"?JSON.stringify(_):v==="s"&&typeof _=="object"?`${_.constructor!==Object?_.constructor.name:""} {}`.trim():_.toString()})},inspect(y){switch(typeof y){case"string":if(y.includes("'"))if(y.includes('"')){if(!y.includes("`")&&!y.includes("${"))return`\`${y}\``}else return`"${y}"`;return`'${y}'`;case"number":return isNaN(y)?"NaN":Object.is(y,-0)?String(y):y;case"bigint":return`${String(y)}n`;case"boolean":case"undefined":return String(y);case"object":return"{}"}},types:{isAsyncFunction(y){return y instanceof c},isArrayBufferView(y){return ArrayBuffer.isView(y)}},isBlob:f},o.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},{buffer:29}],129:[function(n,o,a){const{Buffer:u}=n("buffer"),{ObjectDefineProperty:c,ObjectKeys:d,ReflectApply:f}=n("./ours/primordials"),{promisify:{custom:h}}=n("./ours/util"),{streamReturningOperators:y,promiseReturningOperators:g}=n("./internal/streams/operators"),{codes:{ERR_ILLEGAL_CONSTRUCTOR:p}}=n("./ours/errors"),v=n("./internal/streams/compose"),{pipeline:_}=n("./internal/streams/pipeline"),{destroyer:b}=n("./internal/streams/destroy"),A=n("./internal/streams/end-of-stream"),w=n("./stream/promises"),S=n("./internal/streams/utils"),T=o.exports=n("./internal/streams/legacy").Stream;T.isDisturbed=S.isDisturbed,T.isErrored=S.isErrored,T.isReadable=S.isReadable,T.Readable=n("./internal/streams/readable");for(const M of d(y)){let k=function(...ie){if(new.target)throw p();return T.Readable.from(f(L,this,ie))};const L=y[M];c(k,"name",{__proto__:null,value:L.name}),c(k,"length",{__proto__:null,value:L.length}),c(T.Readable.prototype,M,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}for(const M of d(g)){let k=function(...ie){if(new.target)throw p();return f(L,this,ie)};const L=g[M];c(k,"name",{__proto__:null,value:L.name}),c(k,"length",{__proto__:null,value:L.length}),c(T.Readable.prototype,M,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}T.Writable=n("./internal/streams/writable"),T.Duplex=n("./internal/streams/duplex"),T.Transform=n("./internal/streams/transform"),T.PassThrough=n("./internal/streams/passthrough"),T.pipeline=_;const{addAbortSignal:x}=n("./internal/streams/add-abort-signal");T.addAbortSignal=x,T.finished=A,T.destroy=b,T.compose=v,c(T,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return w}}),c(_,h,{__proto__:null,enumerable:!0,get(){return w.pipeline}}),c(A,h,{__proto__:null,enumerable:!0,get(){return w.finished}}),T.Stream=T,T._isUint8Array=function(L){return L instanceof Uint8Array},T._uint8ArrayToBuffer=function(L){return u.from(L.buffer,L.byteOffset,L.byteLength)}},{"./internal/streams/add-abort-signal":107,"./internal/streams/compose":109,"./internal/streams/destroy":110,"./internal/streams/duplex":111,"./internal/streams/end-of-stream":113,"./internal/streams/legacy":115,"./internal/streams/operators":116,"./internal/streams/passthrough":117,"./internal/streams/pipeline":118,"./internal/streams/readable":119,"./internal/streams/transform":121,"./internal/streams/utils":122,"./internal/streams/writable":123,"./ours/errors":126,"./ours/primordials":127,"./ours/util":128,"./stream/promises":130,buffer:29}],130:[function(n,o,a){const{ArrayPrototypePop:u,Promise:c}=n("../ours/primordials"),{isIterable:d,isNodeStream:f,isWebStream:h}=n("../internal/streams/utils"),{pipelineImpl:y}=n("../internal/streams/pipeline"),{finished:g}=n("../internal/streams/end-of-stream");n("../../lib/stream.js");function p(...v){return new c((_,b)=>{let A,w;const S=v[v.length-1];if(S&&typeof S=="object"&&!f(S)&&!d(S)&&!h(S)){const T=u(v);A=T.signal,w=T.end}y(v,(T,x)=>{T?b(T):_(x)},{signal:A,end:w})})}o.exports={finished:g,pipeline:p}},{"../../lib/stream.js":129,"../internal/streams/end-of-stream":113,"../internal/streams/pipeline":118,"../internal/streams/utils":122,"../ours/primordials":127}],131:[function(n,o,a){function u(d,f,h){var y=this;this._callback=d,this._args=h,this._interval=setInterval(d,f,this._args),this.reschedule=function(g){g||(g=y._interval),y._interval&&clearInterval(y._interval),y._interval=setInterval(y._callback,g,y._args)},this.clear=function(){y._interval&&(clearInterval(y._interval),y._interval=void 0)},this.destroy=function(){y._interval&&clearInterval(y._interval),y._callback=void 0,y._interval=void 0,y._args=void 0}}function c(){if(typeof arguments[0]!="function")throw new Error("callback needed");if(typeof arguments[1]!="number")throw new Error("interval needed");var d;if(arguments.length>0){d=new Array(arguments.length-2);for(var f=0;f<d.length;f++)d[f]=arguments[f+2]}return new u(arguments[0],arguments[1],d)}o.exports=c},{}],132:[function(n,o,a){o.exports=n("./index.js")()},{"./index.js":133}],133:[function(n,o,a){(function(u){(function(){o.exports=d;function c(h){return h instanceof u?u.from(h):new h.constructor(h.buffer.slice(),h.byteOffset,h.length)}function d(h){if(h=h||{},h.circles)return f(h);return h.proto?p:g;function y(v,_){for(var b=Object.keys(v),A=new Array(b.length),w=0;w<b.length;w++){var S=b[w],T=v[S];typeof T!="object"||T===null?A[S]=T:T instanceof Date?A[S]=new Date(T):ArrayBuffer.isView(T)?A[S]=c(T):A[S]=_(T)}return A}function g(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return y(v,g);if(v instanceof Map)return new Map(y(Array.from(v),g));if(v instanceof Set)return new Set(y(Array.from(v),g));var _={};for(var b in v)if(Object.hasOwnProperty.call(v,b)!==!1){var A=v[b];typeof A!="object"||A===null?_[b]=A:A instanceof Date?_[b]=new Date(A):A instanceof Map?_[b]=new Map(y(Array.from(A),g)):A instanceof Set?_[b]=new Set(y(Array.from(A),g)):ArrayBuffer.isView(A)?_[b]=c(A):_[b]=g(A)}return _}function p(v){if(typeof v!="object"||v===null)return v;if(v instanceof Date)return new Date(v);if(Array.isArray(v))return y(v,p);if(v instanceof Map)return new Map(y(Array.from(v),p));if(v instanceof Set)return new Set(y(Array.from(v),p));var _={};for(var b in v){var A=v[b];typeof A!="object"||A===null?_[b]=A:A instanceof Date?_[b]=new Date(A):A instanceof Map?_[b]=new Map(y(Array.from(A),p)):A instanceof Set?_[b]=new Set(y(Array.from(A),p)):ArrayBuffer.isView(A)?_[b]=c(A):_[b]=p(A)}return _}}function f(h){var y=[],g=[];return h.proto?_:v;function p(b,A){for(var w=Object.keys(b),S=new Array(w.length),T=0;T<w.length;T++){var x=w[T],M=b[x];if(typeof M!="object"||M===null)S[x]=M;else if(M instanceof Date)S[x]=new Date(M);else if(ArrayBuffer.isView(M))S[x]=c(M);else{var L=y.indexOf(M);L!==-1?S[x]=g[L]:S[x]=A(M)}}return S}function v(b){if(typeof b!="object"||b===null)return b;if(b instanceof Date)return new Date(b);if(Array.isArray(b))return p(b,v);if(b instanceof Map)return new Map(p(Array.from(b),v));if(b instanceof Set)return new Set(p(Array.from(b),v));var A={};y.push(b),g.push(A);for(var w in b)if(Object.hasOwnProperty.call(b,w)!==!1){var S=b[w];if(typeof S!="object"||S===null)A[w]=S;else if(S instanceof Date)A[w]=new Date(S);else if(S instanceof Map)A[w]=new Map(p(Array.from(S),v));else if(S instanceof Set)A[w]=new Set(p(Array.from(S),v));else if(ArrayBuffer.isView(S))A[w]=c(S);else{var T=y.indexOf(S);T!==-1?A[w]=g[T]:A[w]=v(S)}}return y.pop(),g.pop(),A}function _(b){if(typeof b!="object"||b===null)return b;if(b instanceof Date)return new Date(b);if(Array.isArray(b))return p(b,_);if(b instanceof Map)return new Map(p(Array.from(b),_));if(b instanceof Set)return new Set(p(Array.from(b),_));var A={};y.push(b),g.push(A);for(var w in b){var S=b[w];if(typeof S!="object"||S===null)A[w]=S;else if(S instanceof Date)A[w]=new Date(S);else if(S instanceof Map)A[w]=new Map(p(Array.from(S),_));else if(S instanceof Set)A[w]=new Set(p(Array.from(S),_));else if(ArrayBuffer.isView(S))A[w]=c(S);else{var T=y.indexOf(S);T!==-1?A[w]=g[T]:A[w]=_(S)}}return y.pop(),g.pop(),A}}}).call(this)}).call(this,n("buffer").Buffer)},{buffer:29}],134:[function(n,o,a){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var u=n("buffer"),c=u.Buffer;function d(h,y){for(var g in h)y[g]=h[g]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?o.exports=u:(d(u,a),a.Buffer=f);function f(h,y,g){return c(h,y,g)}f.prototype=Object.create(c.prototype),d(c,f),f.from=function(h,y,g){if(typeof h=="number")throw new TypeError("Argument must not be a number");return c(h,y,g)},f.alloc=function(h,y,g){if(typeof h!="number")throw new TypeError("Argument must be a number");var p=c(h);return y!==void 0?typeof g=="string"?p.fill(y,g):p.fill(y):p.fill(0),p},f.allocUnsafe=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return c(h)},f.allocUnsafeSlow=function(h){if(typeof h!="number")throw new TypeError("Argument must be a number");return u.SlowBuffer(h)}},{buffer:29}],135:[function(n,o,a){o.exports=u;function u(d){var f=d._readableState;return f?f.objectMode||typeof d._duplexState=="number"?d.read():d.read(c(f)):null}function c(d){return d.buffer.length?d.buffer.head?d.buffer.head.data.length:d.buffer[0].length:d.length}},{}],136:[function(n,o,a){arguments[4][28][0].apply(a,arguments)},{dup:28,"safe-buffer":134}],137:[function(n,o,a){var u=n("punycode"),c=n("./util");a.parse=k,a.resolve=$,a.resolveObject=z,a.format=ie,a.Url=d;function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var f=/^([a-z0-9.+-]+:)/i,h=/:[0-9]*$/,y=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,g=["<",">",'"',"`"," ","\r",`
`,"	"],p=["{","}","|","\\","^","`"].concat(g),v=["'"].concat(p),_=["%","/","?",";","#"].concat(v),b=["/","?","#"],A=255,w=/^[+a-z0-9A-Z_-]{0,63}$/,S=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,T={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},M={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},L=n("querystring");function k(V,re,D){if(V&&c.isObject(V)&&V instanceof d)return V;var Ce=new d;return Ce.parse(V,re,D),Ce}d.prototype.parse=function(V,re,D){if(!c.isString(V))throw new TypeError("Parameter 'url' must be a string, not "+typeof V);var Ce=V.indexOf("?"),le=Ce!==-1&&Ce<V.indexOf("#")?"?":"#",de=V.split(le),Fe=/\\/g;de[0]=de[0].replace(Fe,"/"),V=de.join(le);var Ie=V;if(Ie=Ie.trim(),!D&&V.split("#").length===1){var At=y.exec(Ie);if(At)return this.path=Ie,this.href=Ie,this.pathname=At[1],At[2]?(this.search=At[2],re?this.query=L.parse(this.search.substr(1)):this.query=this.search.substr(1)):re&&(this.search="",this.query={}),this}var _e=f.exec(Ie);if(_e){_e=_e[0];var qe=_e.toLowerCase();this.protocol=qe,Ie=Ie.substr(_e.length)}if(D||_e||Ie.match(/^\/\/[^@\/]+@[^@\/]+/)){var In=Ie.substr(0,2)==="//";In&&!(_e&&x[_e])&&(Ie=Ie.substr(2),this.slashes=!0)}if(!x[_e]&&(In||_e&&!M[_e])){for(var vn=-1,Pt=0;Pt<b.length;Pt++){var he=Ie.indexOf(b[Pt]);he!==-1&&(vn===-1||he<vn)&&(vn=he)}var Ue,Dt;vn===-1?Dt=Ie.lastIndexOf("@"):Dt=Ie.lastIndexOf("@",vn),Dt!==-1&&(Ue=Ie.slice(0,Dt),Ie=Ie.slice(Dt+1),this.auth=decodeURIComponent(Ue)),vn=-1;for(var Pt=0;Pt<_.length;Pt++){var he=Ie.indexOf(_[Pt]);he!==-1&&(vn===-1||he<vn)&&(vn=he)}vn===-1&&(vn=Ie.length),this.host=Ie.slice(0,vn),Ie=Ie.slice(vn),this.parseHost(),this.hostname=this.hostname||"";var jt=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!jt)for(var Et=this.hostname.split(/\./),Pt=0,pe=Et.length;Pt<pe;Pt++){var ue=Et[Pt];if(ue&&!ue.match(w)){for(var $e="",Ne=0,Oe=ue.length;Ne<Oe;Ne++)ue.charCodeAt(Ne)>127?$e+="x":$e+=ue[Ne];if(!$e.match(w)){var Lt=Et.slice(0,Pt),kt=Et.slice(Pt+1),Cn=ue.match(S);Cn&&(Lt.push(Cn[1]),kt.unshift(Cn[2])),kt.length&&(Ie="/"+kt.join(".")+Ie),this.hostname=Lt.join(".");break}}}this.hostname.length>A?this.hostname="":this.hostname=this.hostname.toLowerCase(),jt||(this.hostname=u.toASCII(this.hostname));var oe=this.port?":"+this.port:"",ae=this.hostname||"";this.host=ae+oe,this.href+=this.host,jt&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Ie[0]!=="/"&&(Ie="/"+Ie))}if(!T[qe])for(var Pt=0,pe=v.length;Pt<pe;Pt++){var Y=v[Pt];if(Ie.indexOf(Y)!==-1){var O=encodeURIComponent(Y);O===Y&&(O=escape(Y)),Ie=Ie.split(Y).join(O)}}var F=Ie.indexOf("#");F!==-1&&(this.hash=Ie.substr(F),Ie=Ie.slice(0,F));var j=Ie.indexOf("?");if(j!==-1?(this.search=Ie.substr(j),this.query=Ie.substr(j+1),re&&(this.query=L.parse(this.query)),Ie=Ie.slice(0,j)):re&&(this.search="",this.query={}),Ie&&(this.pathname=Ie),M[qe]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var oe=this.pathname||"",xe=this.search||"";this.path=oe+xe}return this.href=this.format(),this};function ie(V){return c.isString(V)&&(V=k(V)),V instanceof d?V.format():d.prototype.format.call(V)}d.prototype.format=function(){var V=this.auth||"";V&&(V=encodeURIComponent(V),V=V.replace(/%3A/i,":"),V+="@");var re=this.protocol||"",D=this.pathname||"",Ce=this.hash||"",le=!1,de="";this.host?le=V+this.host:this.hostname&&(le=V+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(le+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(de=L.stringify(this.query));var Fe=this.search||de&&"?"+de||"";return re&&re.substr(-1)!==":"&&(re+=":"),this.slashes||(!re||M[re])&&le!==!1?(le="//"+(le||""),D&&D.charAt(0)!=="/"&&(D="/"+D)):le||(le=""),Ce&&Ce.charAt(0)!=="#"&&(Ce="#"+Ce),Fe&&Fe.charAt(0)!=="?"&&(Fe="?"+Fe),D=D.replace(/[?#]/g,function(Ie){return encodeURIComponent(Ie)}),Fe=Fe.replace("#","%23"),re+le+D+Fe+Ce};function $(V,re){return k(V,!1,!0).resolve(re)}d.prototype.resolve=function(V){return this.resolveObject(k(V,!1,!0)).format()};function z(V,re){return V?k(V,!1,!0).resolveObject(re):re}d.prototype.resolveObject=function(V){if(c.isString(V)){var re=new d;re.parse(V,!1,!0),V=re}for(var D=new d,Ce=Object.keys(this),le=0;le<Ce.length;le++){var de=Ce[le];D[de]=this[de]}if(D.hash=V.hash,V.href==="")return D.href=D.format(),D;if(V.slashes&&!V.protocol){for(var Fe=Object.keys(V),Ie=0;Ie<Fe.length;Ie++){var At=Fe[Ie];At!=="protocol"&&(D[At]=V[At])}return M[D.protocol]&&D.hostname&&!D.pathname&&(D.path=D.pathname="/"),D.href=D.format(),D}if(V.protocol&&V.protocol!==D.protocol){if(!M[V.protocol]){for(var _e=Object.keys(V),qe=0;qe<_e.length;qe++){var In=_e[qe];D[In]=V[In]}return D.href=D.format(),D}if(D.protocol=V.protocol,!V.host&&!x[V.protocol]){for(var pe=(V.pathname||"").split("/");pe.length&&!(V.host=pe.shift()););V.host||(V.host=""),V.hostname||(V.hostname=""),pe[0]!==""&&pe.unshift(""),pe.length<2&&pe.unshift(""),D.pathname=pe.join("/")}else D.pathname=V.pathname;if(D.search=V.search,D.query=V.query,D.host=V.host||"",D.auth=V.auth,D.hostname=V.hostname||V.host,D.port=V.port,D.pathname||D.search){var vn=D.pathname||"",Pt=D.search||"";D.path=vn+Pt}return D.slashes=D.slashes||V.slashes,D.href=D.format(),D}var he=D.pathname&&D.pathname.charAt(0)==="/",Ue=V.host||V.pathname&&V.pathname.charAt(0)==="/",Dt=Ue||he||D.host&&V.pathname,jt=Dt,Et=D.pathname&&D.pathname.split("/")||[],pe=V.pathname&&V.pathname.split("/")||[],ue=D.protocol&&!M[D.protocol];if(ue&&(D.hostname="",D.port=null,D.host&&(Et[0]===""?Et[0]=D.host:Et.unshift(D.host)),D.host="",V.protocol&&(V.hostname=null,V.port=null,V.host&&(pe[0]===""?pe[0]=V.host:pe.unshift(V.host)),V.host=null),Dt=Dt&&(pe[0]===""||Et[0]==="")),Ue)D.host=V.host||V.host===""?V.host:D.host,D.hostname=V.hostname||V.hostname===""?V.hostname:D.hostname,D.search=V.search,D.query=V.query,Et=pe;else if(pe.length)Et||(Et=[]),Et.pop(),Et=Et.concat(pe),D.search=V.search,D.query=V.query;else if(!c.isNullOrUndefined(V.search)){if(ue){D.hostname=D.host=Et.shift();var $e=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;$e&&(D.auth=$e.shift(),D.host=D.hostname=$e.shift())}return D.search=V.search,D.query=V.query,(!c.isNull(D.pathname)||!c.isNull(D.search))&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.href=D.format(),D}if(!Et.length)return D.pathname=null,D.search?D.path="/"+D.search:D.path=null,D.href=D.format(),D;for(var Ne=Et.slice(-1)[0],Oe=(D.host||V.host||Et.length>1)&&(Ne==="."||Ne==="..")||Ne==="",Lt=0,kt=Et.length;kt>=0;kt--)Ne=Et[kt],Ne==="."?Et.splice(kt,1):Ne===".."?(Et.splice(kt,1),Lt++):Lt&&(Et.splice(kt,1),Lt--);if(!Dt&&!jt)for(;Lt--;Lt)Et.unshift("..");Dt&&Et[0]!==""&&(!Et[0]||Et[0].charAt(0)!=="/")&&Et.unshift(""),Oe&&Et.join("/").substr(-1)!=="/"&&Et.push("");var Cn=Et[0]===""||Et[0]&&Et[0].charAt(0)==="/";if(ue){D.hostname=D.host=Cn?"":Et.length?Et.shift():"";var $e=D.host&&D.host.indexOf("@")>0?D.host.split("@"):!1;$e&&(D.auth=$e.shift(),D.host=D.hostname=$e.shift())}return Dt=Dt||D.host&&Et.length,Dt&&!Cn&&Et.unshift(""),Et.length?D.pathname=Et.join("/"):(D.pathname=null,D.path=null),(!c.isNull(D.pathname)||!c.isNull(D.search))&&(D.path=(D.pathname?D.pathname:"")+(D.search?D.search:"")),D.auth=V.auth||D.auth,D.slashes=D.slashes||V.slashes,D.href=D.format(),D},d.prototype.parseHost=function(){var V=this.host,re=h.exec(V);re&&(re=re[0],re!==":"&&(this.port=re.substr(1)),V=V.substr(0,V.length-re.length)),V&&(this.hostname=V)}},{"./util":138,punycode:103,querystring:106}],138:[function(n,o,a){o.exports={isString:function(u){return typeof u=="string"},isObject:function(u){return typeof u=="object"&&u!==null},isNull:function(u){return u===null},isNullOrUndefined:function(u){return u==null}}},{}],139:[function(n,o,a){(function(u){(function(){o.exports=c;function c(f,h){if(d("noDeprecation"))return f;var y=!1;function g(){if(!y){if(d("throwDeprecation"))throw new Error(h);d("traceDeprecation")?console.trace(h):console.warn(h),y=!0}return f.apply(this,arguments)}return g}function d(f){try{if(!u.localStorage)return!1}catch{return!1}var h=u.localStorage[f];return h==null?!1:String(h).toLowerCase()==="true"}}).call(this)}).call(this,typeof commonjsGlobal<"u"?commonjsGlobal:typeof self<"u"?self:typeof window<"u"?window:{})},{}],140:[function(n,o,a){o.exports=u;function u(c,d){if(c&&d)return u(c)(d);if(typeof c!="function")throw new TypeError("need wrapper function");return Object.keys(c).forEach(function(h){f[h]=c[h]}),f;function f(){for(var h=new Array(arguments.length),y=0;y<h.length;y++)h[y]=arguments[y];var g=c.apply(this,h),p=h[h.length-1];return typeof g=="function"&&g!==p&&Object.keys(p).forEach(function(v){g[v]=p[v]}),g}}},{}],141:[function(n,o,a){o.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}},{}]},{},[23])(23)})})(mqtt);var mqttExports=mqtt.exports;let client;const sub=(i,r,n,o,a)=>{const u=i.trim();if(!/^wss?:\/\/.*$/.test(u)){console.error('编辑器MQTT通信只支持ws协议 (url必须以"ws://"开头)');return}client=mqttExports.connect(u,{username:r.trim(),password:n.trim(),reconnectPeriod:6e5}),client.on("connect",()=>{console.log("MQTT服务器连接成功"),console.log(client.options.clientId),client.subscribe(o,{qos:1})}),client.on("message",a)},close=()=>{client&&client.end&&client.end(!0,{},()=>{console.log("MQTT服务连接关闭")})},_hoisted_1={style:{position:"absolute",left:"0",top:"0",bottom:"0",right:"0"}},_hoisted_2={xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%"},_hoisted_3=["transform"],_hoisted_4=["transform","onClick"],_hoisted_5=["transform"],_hoisted_6=["xlink:href","width","height","id","transform"],_hoisted_7=["id"],_sfc_main=vue.defineComponent({__name:"svg-viewer",props:{vueComp:{},data:{},canvasDrag:{type:Boolean,default:!0}},emits:["onMessage"],setup(i,{expose:r,emit:n}){vue.useCssVars(S=>({"01996f39":vue.unref(d)})),setEditorLoadTime();const o=n,a=i,u=useGlobalStore(pinia);componentsRegister(a.vueComp);const c=vue.reactive(a.data??{layout_center:{x:0,y:0},config:{svg:{background_color:"#fff",scale:1,grid_color:"#ebebeb"},net:{mqtt:{url:"",user:"",pwd:"",topics:""}}},done_json:[]}),d=vue.computed(()=>u.intention==EGlobalStoreIntention.MoveCanvas?"grab":"default"),f=S=>{if(u.mouse_info.state!=EMouseInfoState.Down&&u.intention!==EGlobalStoreIntention.Connection||!a.canvasDrag)return;const{clientX:T,clientY:x}=S;u.mouse_info.new_position_x=u.mouse_info.now_position_x+T-u.mouse_info.position_x,u.mouse_info.new_position_y=u.mouse_info.now_position_y+x-u.mouse_info.position_y,u.intention==EGlobalStoreIntention.MoveCanvas&&(c.layout_center.x=u.mouse_info.new_position_x,c.layout_center.y=u.mouse_info.new_position_y)},h=()=>{u.mouse_info.state==EMouseInfoState.Down&&(u.intention!=EGlobalStoreIntention.Select&&(u.intention=EGlobalStoreIntention.None),u.mouse_info={state:EMouseInfoState.Up,position_x:0,position_y:0,now_position_x:0,now_position_y:0,new_position_x:0,new_position_y:0})},y=S=>{const{clientX:T,clientY:x}=S;u.intention=EGlobalStoreIntention.MoveCanvas,u.mouse_info={state:EMouseInfoState.Down,position_x:T,position_y:x,now_position_x:c.layout_center.x,now_position_y:c.layout_center.y,new_position_x:c.layout_center.x,new_position_y:c.layout_center.y}};function g(S){S!=null&&S.wheelDelta&&(S.wheelDelta>0?c.config.svg.scale=parseFloat((c.config.svg.scale+.1).toFixed(1)):c.config.svg.scale=parseFloat((c.config.svg.scale-.1).toFixed(1)))}const p=(S,T,x)=>({x:S.x-S.width/2*T+S.width/2,y:S.y-S.height/2*x+S.height/2,width:S.width*T,height:S.height*x}),v=S=>{var x;let T=!1;if(((x=S.events)==null?void 0:x.length)>0){for(let M of S.events)if(M.type===EEventType.Click){T=!0;break}}return{cursor:T?"pointer":"default"}},_=(S,T)=>{var x;if(console.log(S.events,T),((x=S.events)==null?void 0:x.length)>0){for(let M of S.events)if(M.type===T){if(M.condition&&M.condition.type!=="None"&&M.condition.type==="Relation"&&M.condition.Relation&&M.condition.Relation.relation){const L=M.condition.Relation.key,k=M.condition.Relation.relation,ie=valFormat(M.condition.Relation.val),$=valFormat(M.condition.Relation.val2);if(S.props.hasOwnProperty(L)){const z=S.props[L].val;if(!b(z,k,ie,$))continue}}if(M.action===EEventAction.ChangeAttr){if(M.attrs&&M.attrs.length>0){let L;if(M.target){for(let k of c.done_json)if(k.id===M.target){L=k;break}}else L=S;if(!L)continue;for(let k of M.attrs)k.key==="state"?L.defaultState=valFormat(k.val):L.props.hasOwnProperty(k.key)&&(L.props[k.key].val=valFormat(k.val))}}else M.action===EEventAction.JavaScript&&new Function(M.scripts)()}}},b=(S,T,x,M)=>{switch(T){case">":return S>x;case">=":return S>=x;case"<":return S<x;case"<=":return S<=x;case"==":return S==x;case"!=":return S!=x;case">=,=<":return S>=x&&S<=M;case"<,>":return S<x||S>M}},A=()=>{const S=c.config.net.mqtt;S&&S.url&&S.user&&S.pwd&&S.topics&&sub(S.url,S.user,S.pwd,S.topics,(T,x)=>{console.log(T),console.log(x.toString()),o("onMessage",{topics:T,message:x})})},w=(S,T,x)=>setArrItemByID(S,T,x,c.done_json);return vue.onMounted(()=>{A()}),vue.onBeforeUnmount(close),r({setNodeAttrByID:w}),(S,T)=>(vue.openBlock(),vue.createElementBlock("div",{class:"canvas",style:vue.normalizeStyle({backgroundColor:vue.unref(c).config.svg.background_color,position:"relative"}),onMousedown:y,onMousemove:f,onMouseup:h,onMousewheel:g,onContextmenu:T[4]||(T[4]=(...x)=>vue.unref(preventDefault)&&vue.unref(preventDefault)(...x))},[vue.renderSlot(S.$slots,"background",{},void 0,!0),vue.createElementVNode("div",_hoisted_1,[(vue.openBlock(),vue.createElementBlock("svg",_hoisted_2,[vue.createElementVNode("g",{transform:`translate(${vue.unref(c).layout_center.x},${vue.unref(c).layout_center.y})rotate(0)scale(${vue.unref(c).config.svg.scale})`},[(vue.openBlock(!0),vue.createElementBlock(vue.Fragment,null,vue.renderList(vue.unref(c).done_json,x=>{var M,L,k,ie,$,z,V,re;return vue.withDirectives((vue.openBlock(),vue.createElementBlock("g",{key:x.id,transform:`translate(${x.x},${x.y})rotate(0)scale(1)`,style:vue.normalizeStyle(v(x)),onClick:D=>_(x,vue.unref(EEventType).Click),onMousedown:T[0]||(T[0]=(...D)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...D)),onMousemove:T[1]||(T[1]=(...D)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...D)),onMouseup:T[2]||(T[2]=(...D)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...D)),onMousewheel:T[3]||(T[3]=(...D)=>vue.unref(stopEvent)&&vue.unref(stopEvent)(...D))},[vue.createElementVNode("g",{class:vue.normalizeClass(`${vue.unref(getCommonClass)(x)}`)},[vue.createElementVNode("g",{transform:`translate(${x.actual_bound.x+x.actual_bound.width/2},${x.actual_bound.y+x.actual_bound.height/2})rotate(${x.rotate}) scale(1) translate(${-(x.actual_bound.x+x.actual_bound.width/2)},${-(x.actual_bound.y+x.actual_bound.height/2)})`},[x.type===vue.unref(EDoneJsonType).ConnectionLine?(vue.openBlock(),vue.createBlock(_sfc_main$z,{key:0,"item-info":x},null,8,["item-info"])):x.type===vue.unref(EDoneJsonType).File?(vue.openBlock(),vue.createElementBlock("use",vue.mergeProps({key:1,"xlink:href":`#svg-${x.name}`,ref_for:!0},vue.unref(prosToVBind)(x,["height","width"]),{width:((L=(M=x.props)==null?void 0:M.width)==null?void 0:L.val)??100,height:((ie=(k=x.props)==null?void 0:k.height)==null?void 0:ie.val)??100,id:x.id,transform:`translate(${x.actual_bound.x+x.actual_bound.width/2},${x.actual_bound.y+x.actual_bound.height/2}) scale(${x.scale_x},${x.scale_y}) translate(${-(x.actual_bound.x+x.actual_bound.width/2)},${-(x.actual_bound.y+x.actual_bound.height/2)})`}),null,16,_hoisted_6)):x.type===vue.unref(EDoneJsonType).CustomSvg?(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(x.tag),vue.mergeProps({key:2,ref_for:!0},vue.unref(prosToVBind)(x,["height","width"]),{width:((z=($=x.props)==null?void 0:$.width)==null?void 0:z.val)??100,height:((re=(V=x.props)==null?void 0:V.height)==null?void 0:re.val)??100,id:x.id,onOnChange:D=>_(x,vue.unref(EEventType).Change),transform:`translate(${x.actual_bound.x+x.actual_bound.width/2},${x.actual_bound.y+x.actual_bound.height/2}) scale(${x.scale_x},${x.scale_y}) translate(${-(x.actual_bound.x+x.actual_bound.width/2)},${-(x.actual_bound.y+x.actual_bound.height/2)})`}),null,16,["width","height","id","onOnChange","transform"])):x.type===vue.unref(EDoneJsonType).Vue?(vue.openBlock(),vue.createElementBlock("foreignObject",vue.mergeProps({key:3,ref_for:!0},p(x.actual_bound,x.scale_x,x.scale_y),{id:`foreign-object${x.id}`,class:"foreignObject"}),[(vue.openBlock(),vue.createBlock(vue.resolveDynamicComponent(x.tag),vue.mergeProps({ref_for:!0},vue.unref(prosToVBind)(x),{id:x.id,onOnChange:D=>_(x,vue.unref(EEventType).Change),transform:`translate(${x.actual_bound.x+x.actual_bound.width/2},${x.actual_bound.y+x.actual_bound.height/2}) scale(${x.scale_x},${x.scale_y}) translate(${-(x.actual_bound.x+x.actual_bound.width/2)},${-(x.actual_bound.y+x.actual_bound.height/2)})`}),{default:vue.withCtx(()=>[vue.createTextVNode(vue.toDisplayString(x.tag_slot),1)]),_:2},1040,["id","onOnChange","transform"]))],16,_hoisted_7)):vue.createCommentVNode("",!0)],8,_hoisted_5)],2)],44,_hoisted_4)),[[vue.vShow,x.display]])}),128))],8,_hoisted_3)]))])],36))}}),svgViewer_vue_vue_type_style_index_0_scoped_7f6cd20a_lang="",svgViewer=_export_sfc$1(_sfc_main,[["__scopeId","data-v-7f6cd20a"]]);exports.SvgEditor=index,exports.SvgViewer=svgViewer,Object.defineProperty(exports,Symbol.toStringTag,{value:"Module"})});
